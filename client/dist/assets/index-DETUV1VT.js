var b4=Object.defineProperty;var ty=r=>{throw TypeError(r)};var j4=(r,t,s)=>t in r?b4(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var df=(r,t,s)=>j4(r,typeof t!="symbol"?t+"":t,s),uf=(r,t,s)=>t.has(r)||ty("Cannot "+s);var ve=(r,t,s)=>(uf(r,t,"read from private field"),s?s.call(r):t.get(r)),yt=(r,t,s)=>t.has(r)?ty("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),ct=(r,t,s,n)=>(uf(r,t,"write to private field"),n?n.call(r,s):t.set(r,s),s),Lr=(r,t,s)=>(uf(r,t,"access private method"),s);var Bd=(r,t,s,n)=>({set _(i){ct(r,t,i,s)},get _(){return ve(r,t,n)}});function w4(r,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function Xb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mf={exports:{}},Dl={},hf={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function N4(){if(ry)return pt;ry=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function N(U,z,J){this.props=U,this.context=z,this.refs=w,this.updater=J||v}N.prototype.isReactComponent={},N.prototype.setState=function(U,z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,z,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=N.prototype;function E(U,z,J){this.props=U,this.context=z,this.refs=w,this.updater=J||v}var P=E.prototype=new C;P.constructor=E,b(P,N.prototype),P.isPureReactComponent=!0;var O=Array.isArray,q=Object.prototype.hasOwnProperty,A={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function V(U,z,J){var se,ue={},xe=null,oe=null;if(z!=null)for(se in z.ref!==void 0&&(oe=z.ref),z.key!==void 0&&(xe=""+z.key),z)q.call(z,se)&&!M.hasOwnProperty(se)&&(ue[se]=z[se]);var de=arguments.length-2;if(de===1)ue.children=J;else if(1<de){for(var le=Array(de),he=0;he<de;he++)le[he]=arguments[he+2];ue.children=le}if(U&&U.defaultProps)for(se in de=U.defaultProps,de)ue[se]===void 0&&(ue[se]=de[se]);return{$$typeof:r,type:U,key:xe,ref:oe,props:ue,_owner:A.current}}function k(U,z){return{$$typeof:r,type:U.type,key:z,ref:U.ref,props:U.props,_owner:U._owner}}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function B(U){var z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(J){return z[J]})}var _=/\/+/g;function $(U,z){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):z.toString(36)}function T(U,z,J,se,ue){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var oe=!1;if(U===null)oe=!0;else switch(xe){case"string":case"number":oe=!0;break;case"object":switch(U.$$typeof){case r:case t:oe=!0}}if(oe)return oe=U,ue=ue(oe),U=se===""?"."+$(oe,0):se,O(ue)?(J="",U!=null&&(J=U.replace(_,"$&/")+"/"),T(ue,z,J,"",function(he){return he})):ue!=null&&(R(ue)&&(ue=k(ue,J+(!ue.key||oe&&oe.key===ue.key?"":(""+ue.key).replace(_,"$&/")+"/")+U)),z.push(ue)),1;if(oe=0,se=se===""?".":se+":",O(U))for(var de=0;de<U.length;de++){xe=U[de];var le=se+$(xe,de);oe+=T(xe,z,J,le,ue)}else if(le=x(U),typeof le=="function")for(U=le.call(U),de=0;!(xe=U.next()).done;)xe=xe.value,le=se+$(xe,de++),oe+=T(xe,z,J,le,ue);else if(xe==="object")throw z=String(U),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return oe}function Q(U,z,J){if(U==null)return U;var se=[],ue=0;return T(U,se,"","",function(xe){return z.call(J,xe,ue++)}),se}function Y(U){if(U._status===-1){var z=U._result;z=z(),z.then(function(J){(U._status===0||U._status===-1)&&(U._status=1,U._result=J)},function(J){(U._status===0||U._status===-1)&&(U._status=2,U._result=J)}),U._status===-1&&(U._status=0,U._result=z)}if(U._status===1)return U._result.default;throw U._result}var F={current:null},I={transition:null},D={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:I,ReactCurrentOwner:A};function W(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:Q,forEach:function(U,z,J){Q(U,function(){z.apply(this,arguments)},J)},count:function(U){var z=0;return Q(U,function(){z++}),z},toArray:function(U){return Q(U,function(z){return z})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},pt.Component=N,pt.Fragment=s,pt.Profiler=i,pt.PureComponent=E,pt.StrictMode=n,pt.Suspense=m,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,pt.act=W,pt.cloneElement=function(U,z,J){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var se=b({},U.props),ue=U.key,xe=U.ref,oe=U._owner;if(z!=null){if(z.ref!==void 0&&(xe=z.ref,oe=A.current),z.key!==void 0&&(ue=""+z.key),U.type&&U.type.defaultProps)var de=U.type.defaultProps;for(le in z)q.call(z,le)&&!M.hasOwnProperty(le)&&(se[le]=z[le]===void 0&&de!==void 0?de[le]:z[le])}var le=arguments.length-2;if(le===1)se.children=J;else if(1<le){de=Array(le);for(var he=0;he<le;he++)de[he]=arguments[he+2];se.children=de}return{$$typeof:r,type:U.type,key:ue,ref:xe,props:se,_owner:oe}},pt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},pt.createElement=V,pt.createFactory=function(U){var z=V.bind(null,U);return z.type=U,z},pt.createRef=function(){return{current:null}},pt.forwardRef=function(U){return{$$typeof:d,render:U}},pt.isValidElement=R,pt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:Y}},pt.memo=function(U,z){return{$$typeof:f,type:U,compare:z===void 0?null:z}},pt.startTransition=function(U){var z=I.transition;I.transition={};try{U()}finally{I.transition=z}},pt.unstable_act=W,pt.useCallback=function(U,z){return F.current.useCallback(U,z)},pt.useContext=function(U){return F.current.useContext(U)},pt.useDebugValue=function(){},pt.useDeferredValue=function(U){return F.current.useDeferredValue(U)},pt.useEffect=function(U,z){return F.current.useEffect(U,z)},pt.useId=function(){return F.current.useId()},pt.useImperativeHandle=function(U,z,J){return F.current.useImperativeHandle(U,z,J)},pt.useInsertionEffect=function(U,z){return F.current.useInsertionEffect(U,z)},pt.useLayoutEffect=function(U,z){return F.current.useLayoutEffect(U,z)},pt.useMemo=function(U,z){return F.current.useMemo(U,z)},pt.useReducer=function(U,z,J){return F.current.useReducer(U,z,J)},pt.useRef=function(U){return F.current.useRef(U)},pt.useState=function(U){return F.current.useState(U)},pt.useSyncExternalStore=function(U,z,J){return F.current.useSyncExternalStore(U,z,J)},pt.useTransition=function(){return F.current.useTransition()},pt.version="18.3.1",pt}var sy;function $u(){return sy||(sy=1,hf.exports=N4()),hf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function S4(){if(ny)return Dl;ny=1;var r=$u(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,m,f){var y,g={},x=null,v=null;f!==void 0&&(x=""+f),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(v=m.ref);for(y in m)n.call(m,y)&&!l.hasOwnProperty(y)&&(g[y]=m[y]);if(d&&d.defaultProps)for(y in m=d.defaultProps,m)g[y]===void 0&&(g[y]=m[y]);return{$$typeof:t,type:d,key:x,ref:v,props:g,_owner:i.current}}return Dl.Fragment=s,Dl.jsx=c,Dl.jsxs=c,Dl}var ay;function k4(){return ay||(ay=1,mf.exports=S4()),mf.exports}var e=k4(),zd={},ff={exports:{}},ts={},pf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function C4(){return oy||(oy=1,(function(r){function t(I,D){var W=I.length;I.push(D);e:for(;0<W;){var U=W-1>>>1,z=I[U];if(0<i(z,D))I[U]=D,I[W]=z,W=U;else break e}}function s(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],W=I.pop();if(W!==D){I[0]=W;e:for(var U=0,z=I.length,J=z>>>1;U<J;){var se=2*(U+1)-1,ue=I[se],xe=se+1,oe=I[xe];if(0>i(ue,W))xe<z&&0>i(oe,ue)?(I[U]=oe,I[xe]=W,U=xe):(I[U]=ue,I[se]=W,U=se);else if(xe<z&&0>i(oe,W))I[U]=oe,I[xe]=W,U=xe;else break e}}return D}function i(I,D){var W=I.sortIndex-D.sortIndex;return W!==0?W:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],f=[],y=1,g=null,x=3,v=!1,b=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(I){for(var D=s(f);D!==null;){if(D.callback===null)n(f);else if(D.startTime<=I)n(f),D.sortIndex=D.expirationTime,t(m,D);else break;D=s(f)}}function O(I){if(w=!1,P(I),!b)if(s(m)!==null)b=!0,Y(q);else{var D=s(f);D!==null&&F(O,D.startTime-I)}}function q(I,D){b=!1,w&&(w=!1,C(V),V=-1),v=!0;var W=x;try{for(P(D),g=s(m);g!==null&&(!(g.expirationTime>D)||I&&!B());){var U=g.callback;if(typeof U=="function"){g.callback=null,x=g.priorityLevel;var z=U(g.expirationTime<=D);D=r.unstable_now(),typeof z=="function"?g.callback=z:g===s(m)&&n(m),P(D)}else n(m);g=s(m)}if(g!==null)var J=!0;else{var se=s(f);se!==null&&F(O,se.startTime-D),J=!1}return J}finally{g=null,x=W,v=!1}}var A=!1,M=null,V=-1,k=5,R=-1;function B(){return!(r.unstable_now()-R<k)}function _(){if(M!==null){var I=r.unstable_now();R=I;var D=!0;try{D=M(!0,I)}finally{D?$():(A=!1,M=null)}}else A=!1}var $;if(typeof E=="function")$=function(){E(_)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,Q=T.port2;T.port1.onmessage=_,$=function(){Q.postMessage(null)}}else $=function(){N(_,0)};function Y(I){M=I,A||(A=!0,$())}function F(I,D){V=N(function(){I(r.unstable_now())},D)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_continueExecution=function(){b||v||(b=!0,Y(q))},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return s(m)},r.unstable_next=function(I){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var W=x;x=D;try{return I()}finally{x=W}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=x;x=I;try{return D()}finally{x=W}},r.unstable_scheduleCallback=function(I,D,W){var U=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,I){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,I={id:y++,callback:D,priorityLevel:I,startTime:W,expirationTime:z,sortIndex:-1},W>U?(I.sortIndex=W,t(f,I),s(m)===null&&I===s(f)&&(w?(C(V),V=-1):w=!0,F(O,W-U))):(I.sortIndex=z,t(m,I),b||v||(b=!0,Y(q))),I},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(I){var D=x;return function(){var W=x;x=D;try{return I.apply(this,arguments)}finally{x=W}}}})(gf)),gf}var iy;function P4(){return iy||(iy=1,pf.exports=C4()),pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function _4(){if(ly)return ts;ly=1;var r=$u(),t=P4();function s(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function l(a,o){c(a,o),c(a+"Capture",o)}function c(a,o){for(i[a]=o,a=0;a<o.length;a++)n.add(o[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function x(a){return m.call(g,a)?!0:m.call(y,a)?!1:f.test(a)?g[a]=!0:(y[a]=!0,!1)}function v(a,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,o,u,p){if(o===null||typeof o>"u"||v(a,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(a,o,u,p,j,S,L){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=j,this.mustUseProperty=u,this.propertyName=a,this.type=o,this.sanitizeURL=S,this.removeEmptyString=L}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){N[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];N[o]=new w(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){N[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){N[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){N[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){N[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){N[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){N[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){N[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(C,E);N[o]=new w(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(C,E);N[o]=new w(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(C,E);N[o]=new w(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){N[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){N[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,o,u,p){var j=N.hasOwnProperty(o)?N[o]:null;(j!==null?j.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,j,p)&&(u=null),p||j===null?x(o)&&(u===null?a.removeAttribute(o):a.setAttribute(o,""+u)):j.mustUseProperty?a[j.propertyName]=u===null?j.type===3?!1:"":u:(o=j.attributeName,p=j.attributeNamespace,u===null?a.removeAttribute(o):(j=j.type,u=j===3||j===4&&u===!0?"":""+u,p?a.setAttributeNS(p,o,u):a.setAttribute(o,u))))}var O=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),B=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),I=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var W=Object.assign,U;function z(a){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+a}var J=!1;function se(a,o){if(!a||J)return"";J=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(pe){var p=pe}Reflect.construct(a,[],o)}else{try{o.call()}catch(pe){p=pe}a.call(o.prototype)}else{try{throw Error()}catch(pe){p=pe}a()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var j=pe.stack.split(`
`),S=p.stack.split(`
`),L=j.length-1,K=S.length-1;1<=L&&0<=K&&j[L]!==S[K];)K--;for(;1<=L&&0<=K;L--,K--)if(j[L]!==S[K]){if(L!==1||K!==1)do if(L--,K--,0>K||j[L]!==S[K]){var Z=`
`+j[L].replace(" at new "," at ");return a.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",a.displayName)),Z}while(1<=L&&0<=K);break}}}finally{J=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?z(a):""}function ue(a){switch(a.tag){case 5:return z(a.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return a=se(a.type,!1),a;case 11:return a=se(a.type.render,!1),a;case 1:return a=se(a.type,!0),a;default:return""}}function xe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case A:return"Portal";case k:return"Profiler";case V:return"StrictMode";case $:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case B:return(a.displayName||"Context")+".Consumer";case R:return(a._context.displayName||"Context")+".Provider";case _:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Q:return o=a.displayName||null,o!==null?o:xe(a.type)||"Memo";case Y:o=a._payload,a=a._init;try{return xe(a(o))}catch{}}return null}function oe(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function de(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function le(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function he(a){var o=le(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),p=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var j=u.get,S=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return j.call(this)},set:function(L){p=""+L,S.call(this,L)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function fe(a){a._valueTracker||(a._valueTracker=he(a))}function we(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=le(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function Oe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Te(a,o){var u=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??a._wrapperState.initialChecked})}function gt(a,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=de(o.value!=null?o.value:u),a._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Lt(a,o){o=o.checked,o!=null&&P(a,"checked",o,!1)}function Qt(a,o){Lt(a,o);var u=de(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?qt(a,o.type,u):o.hasOwnProperty("defaultValue")&&qt(a,o.type,de(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function cr(a,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,u||o===a.value||(a.value=o),a.defaultValue=o}u=a.name,u!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function qt(a,o,u){(o!=="number"||Oe(a.ownerDocument)!==a)&&(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var sr=Array.isArray;function ae(a,o,u,p){if(a=a.options,o){o={};for(var j=0;j<u.length;j++)o["$"+u[j]]=!0;for(u=0;u<a.length;u++)j=o.hasOwnProperty("$"+a[u].value),a[u].selected!==j&&(a[u].selected=j),j&&p&&(a[u].defaultSelected=!0)}else{for(u=""+de(u),o=null,j=0;j<a.length;j++){if(a[j].value===u){a[j].selected=!0,p&&(a[j].defaultSelected=!0);return}o!==null||a[j].disabled||(o=a[j])}o!==null&&(o.selected=!0)}}function Le(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ie(a,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(s(92));if(sr(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),u=o}a._wrapperState={initialValue:de(u)}}function _e(a,o){var u=de(o.value),p=de(o.defaultValue);u!=null&&(u=""+u,u!==a.value&&(a.value=u),o.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),p!=null&&(a.defaultValue=""+p)}function Ae(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function Ie(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?Ie(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ft,St=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,j){MSApp.execUnsafeLocalFunction(function(){return a(o,u,p,j)})}:a})(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ft.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function qe(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},We=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(a){We.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),vt[o]=vt[a]})});function Nt(a,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||vt.hasOwnProperty(a)&&vt[a]?(""+o).trim():o+"px"}function Mt(a,o){a=a.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,j=Nt(u,o[u],p);u==="float"&&(u="cssFloat"),p?a.setProperty(u,j):a[u]=j}}var Wt=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(a,o){if(o){if(Wt[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(s(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(s(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(s(61))}if(o.style!=null&&typeof o.style!="object")throw Error(s(62))}}function Ts(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function vs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pn=null,ta=null,an=null;function Ds(a){if(a=xl(a)){if(typeof Pn!="function")throw Error(s(280));var o=a.stateNode;o&&(o=sd(o),Pn(a.stateNode,a.type,o))}}function Mc(a){ta?an?an.push(a):an=[a]:ta=a}function lt(){if(ta){var a=ta,o=an;if(an=ta=null,Ds(a),o)for(a=0;a<o.length;a++)Ds(o[a])}}function _t(a,o){return a(o)}function $t(){}var $r=!1;function Kr(a,o,u){if($r)return a(o,u);$r=!0;try{return _t(a,o,u)}finally{$r=!1,(ta!==null||an!==null)&&($t(),lt())}}function Gr(a,o){var u=a.stateNode;if(u===null)return null;var p=sd(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(s(231,o,typeof u));return u}var As=!1;if(d)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){As=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{As=!1}function on(a,o,u,p,j,S,L,K,Z){var pe=Array.prototype.slice.call(arguments,3);try{o.apply(u,pe)}catch(Ne){this.onError(Ne)}}var Ji=!1,Ic=null,Oc=!1,_m=null,PC={onError:function(a){Ji=!0,Ic=a}};function _C(a,o,u,p,j,S,L,K,Z){Ji=!1,Ic=null,on.apply(PC,arguments)}function EC(a,o,u,p,j,S,L,K,Z){if(_C.apply(this,arguments),Ji){if(Ji){var pe=Ic;Ji=!1,Ic=null}else throw Error(s(198));Oc||(Oc=!0,_m=pe)}}function ro(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function Sx(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function kx(a){if(ro(a)!==a)throw Error(s(188))}function RC(a){var o=a.alternate;if(!o){if(o=ro(a),o===null)throw Error(s(188));return o!==a?null:a}for(var u=a,p=o;;){var j=u.return;if(j===null)break;var S=j.alternate;if(S===null){if(p=j.return,p!==null){u=p;continue}break}if(j.child===S.child){for(S=j.child;S;){if(S===u)return kx(j),a;if(S===p)return kx(j),o;S=S.sibling}throw Error(s(188))}if(u.return!==p.return)u=j,p=S;else{for(var L=!1,K=j.child;K;){if(K===u){L=!0,u=j,p=S;break}if(K===p){L=!0,p=j,u=S;break}K=K.sibling}if(!L){for(K=S.child;K;){if(K===u){L=!0,u=S,p=j;break}if(K===p){L=!0,p=S,u=j;break}K=K.sibling}if(!L)throw Error(s(189))}}if(u.alternate!==p)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?a:o}function Cx(a){return a=RC(a),a!==null?Px(a):null}function Px(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=Px(a);if(o!==null)return o;a=a.sibling}return null}var _x=t.unstable_scheduleCallback,Ex=t.unstable_cancelCallback,TC=t.unstable_shouldYield,DC=t.unstable_requestPaint,dr=t.unstable_now,AC=t.unstable_getCurrentPriorityLevel,Em=t.unstable_ImmediatePriority,Rx=t.unstable_UserBlockingPriority,Fc=t.unstable_NormalPriority,MC=t.unstable_LowPriority,Tx=t.unstable_IdlePriority,Lc=null,ln=null;function IC(a){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Lc,a,void 0,(a.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:LC,OC=Math.log,FC=Math.LN2;function LC(a){return a>>>=0,a===0?32:31-(OC(a)/FC|0)|0}var $c=64,Vc=4194304;function Zi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Uc(a,o){var u=a.pendingLanes;if(u===0)return 0;var p=0,j=a.suspendedLanes,S=a.pingedLanes,L=u&268435455;if(L!==0){var K=L&~j;K!==0?p=Zi(K):(S&=L,S!==0&&(p=Zi(S)))}else L=u&~j,L!==0?p=Zi(L):S!==0&&(p=Zi(S));if(p===0)return 0;if(o!==0&&o!==p&&(o&j)===0&&(j=p&-p,S=o&-o,j>=S||j===16&&(S&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=p;0<o;)u=31-Ms(o),j=1<<u,p|=a[u],o&=~j;return p}function $C(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VC(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,j=a.expirationTimes,S=a.pendingLanes;0<S;){var L=31-Ms(S),K=1<<L,Z=j[L];Z===-1?((K&u)===0||(K&p)!==0)&&(j[L]=$C(K,o)):Z<=o&&(a.expiredLanes|=K),S&=~K}}function Rm(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Dx(){var a=$c;return $c<<=1,($c&4194240)===0&&($c=64),a}function Tm(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function el(a,o,u){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Ms(o),a[o]=u}function UC(a,o){var u=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<u;){var j=31-Ms(u),S=1<<j;o[j]=0,p[j]=-1,a[j]=-1,u&=~S}}function Dm(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-Ms(u),j=1<<p;j&o|a[p]&o&&(a[p]|=o),u&=~j}}var Tt=0;function Ax(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Mx,Am,Ix,Ox,Fx,Mm=!1,Bc=[],ra=null,sa=null,na=null,tl=new Map,rl=new Map,aa=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lx(a,o){switch(a){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":tl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(o.pointerId)}}function sl(a,o,u,p,j,S){return a===null||a.nativeEvent!==S?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[j]},o!==null&&(o=xl(o),o!==null&&Am(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,j!==null&&o.indexOf(j)===-1&&o.push(j),a)}function zC(a,o,u,p,j){switch(o){case"focusin":return ra=sl(ra,a,o,u,p,j),!0;case"dragenter":return sa=sl(sa,a,o,u,p,j),!0;case"mouseover":return na=sl(na,a,o,u,p,j),!0;case"pointerover":var S=j.pointerId;return tl.set(S,sl(tl.get(S)||null,a,o,u,p,j)),!0;case"gotpointercapture":return S=j.pointerId,rl.set(S,sl(rl.get(S)||null,a,o,u,p,j)),!0}return!1}function $x(a){var o=so(a.target);if(o!==null){var u=ro(o);if(u!==null){if(o=u.tag,o===13){if(o=Sx(u),o!==null){a.blockedOn=o,Fx(a.priority,function(){Ix(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zc(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Om(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);to=p,u.target.dispatchEvent(p),to=null}else return o=xl(u),o!==null&&Am(o),a.blockedOn=u,!1;o.shift()}return!0}function Vx(a,o,u){zc(a)&&u.delete(o)}function qC(){Mm=!1,ra!==null&&zc(ra)&&(ra=null),sa!==null&&zc(sa)&&(sa=null),na!==null&&zc(na)&&(na=null),tl.forEach(Vx),rl.forEach(Vx)}function nl(a,o){a.blockedOn===o&&(a.blockedOn=null,Mm||(Mm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qC)))}function al(a){function o(j){return nl(j,a)}if(0<Bc.length){nl(Bc[0],a);for(var u=1;u<Bc.length;u++){var p=Bc[u];p.blockedOn===a&&(p.blockedOn=null)}}for(ra!==null&&nl(ra,a),sa!==null&&nl(sa,a),na!==null&&nl(na,a),tl.forEach(o),rl.forEach(o),u=0;u<aa.length;u++)p=aa[u],p.blockedOn===a&&(p.blockedOn=null);for(;0<aa.length&&(u=aa[0],u.blockedOn===null);)$x(u),u.blockedOn===null&&aa.shift()}var Lo=O.ReactCurrentBatchConfig,qc=!0;function WC(a,o,u,p){var j=Tt,S=Lo.transition;Lo.transition=null;try{Tt=1,Im(a,o,u,p)}finally{Tt=j,Lo.transition=S}}function HC(a,o,u,p){var j=Tt,S=Lo.transition;Lo.transition=null;try{Tt=4,Im(a,o,u,p)}finally{Tt=j,Lo.transition=S}}function Im(a,o,u,p){if(qc){var j=Om(a,o,u,p);if(j===null)Zm(a,o,p,Wc,u),Lx(a,p);else if(zC(j,a,o,u,p))p.stopPropagation();else if(Lx(a,p),o&4&&-1<BC.indexOf(a)){for(;j!==null;){var S=xl(j);if(S!==null&&Mx(S),S=Om(a,o,u,p),S===null&&Zm(a,o,p,Wc,u),S===j)break;j=S}j!==null&&p.stopPropagation()}else Zm(a,o,p,null,u)}}var Wc=null;function Om(a,o,u,p){if(Wc=null,a=vs(p),a=so(a),a!==null)if(o=ro(a),o===null)a=null;else if(u=o.tag,u===13){if(a=Sx(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return Wc=a,null}function Ux(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AC()){case Em:return 1;case Rx:return 4;case Fc:case MC:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var oa=null,Fm=null,Hc=null;function Bx(){if(Hc)return Hc;var a,o=Fm,u=o.length,p,j="value"in oa?oa.value:oa.textContent,S=j.length;for(a=0;a<u&&o[a]===j[a];a++);var L=u-a;for(p=1;p<=L&&o[u-p]===j[S-p];p++);return Hc=j.slice(a,1<p?1-p:void 0)}function Yc(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Kc(){return!0}function zx(){return!1}function cs(a){function o(u,p,j,S,L){this._reactName=u,this._targetInst=j,this.type=p,this.nativeEvent=S,this.target=L,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(u=a[K],this[K]=u?u(S):S[K]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Kc:zx,this.isPropagationStopped=zx,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),o}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=cs($o),ol=W({},$o,{view:0,detail:0}),YC=cs(ol),$m,Vm,il,Gc=W({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==il&&(il&&a.type==="mousemove"?($m=a.screenX-il.screenX,Vm=a.screenY-il.screenY):Vm=$m=0,il=a),$m)},movementY:function(a){return"movementY"in a?a.movementY:Vm}}),qx=cs(Gc),KC=W({},Gc,{dataTransfer:0}),GC=cs(KC),QC=W({},ol,{relatedTarget:0}),Um=cs(QC),XC=W({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),JC=cs(XC),ZC=W({},$o,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),eP=cs(ZC),tP=W({},$o,{data:0}),Wx=cs(tP),rP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aP(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=nP[a])?!!o[a]:!1}function Bm(){return aP}var oP=W({},ol,{key:function(a){if(a.key){var o=rP[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Yc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?sP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(a){return a.type==="keypress"?Yc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),iP=cs(oP),lP=W({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hx=cs(lP),cP=W({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),dP=cs(cP),uP=W({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),mP=cs(uP),hP=W({},Gc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fP=cs(hP),pP=[9,13,27,32],zm=d&&"CompositionEvent"in window,ll=null;d&&"documentMode"in document&&(ll=document.documentMode);var gP=d&&"TextEvent"in window&&!ll,Yx=d&&(!zm||ll&&8<ll&&11>=ll),Kx=" ",Gx=!1;function Qx(a,o){switch(a){case"keyup":return pP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vo=!1;function xP(a,o){switch(a){case"compositionend":return Xx(o);case"keypress":return o.which!==32?null:(Gx=!0,Kx);case"textInput":return a=o.data,a===Kx&&Gx?null:a;default:return null}}function vP(a,o){if(Vo)return a==="compositionend"||!zm&&Qx(a,o)?(a=Bx(),Hc=Fm=oa=null,Vo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yx&&o.locale!=="ko"?null:o.data;default:return null}}var yP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!yP[a.type]:o==="textarea"}function Zx(a,o,u,p){Mc(p),o=ed(o,"onChange"),0<o.length&&(u=new Lm("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var cl=null,dl=null;function bP(a){xv(a,0)}function Qc(a){var o=Wo(a);if(we(o))return a}function jP(a,o){if(a==="change")return o}var ev=!1;if(d){var qm;if(d){var Wm="oninput"in document;if(!Wm){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Wm=typeof tv.oninput=="function"}qm=Wm}else qm=!1;ev=qm&&(!document.documentMode||9<document.documentMode)}function rv(){cl&&(cl.detachEvent("onpropertychange",sv),dl=cl=null)}function sv(a){if(a.propertyName==="value"&&Qc(dl)){var o=[];Zx(o,dl,a,vs(a)),Kr(bP,o)}}function wP(a,o,u){a==="focusin"?(rv(),cl=o,dl=u,cl.attachEvent("onpropertychange",sv)):a==="focusout"&&rv()}function NP(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qc(dl)}function SP(a,o){if(a==="click")return Qc(o)}function kP(a,o){if(a==="input"||a==="change")return Qc(o)}function CP(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Is=typeof Object.is=="function"?Object.is:CP;function ul(a,o){if(Is(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var j=u[p];if(!m.call(o,j)||!Is(a[j],o[j]))return!1}return!0}function nv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function av(a,o){var u=nv(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=nv(u)}}function ov(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?ov(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function iv(){for(var a=window,o=Oe();o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Oe(a.document)}return o}function Hm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function PP(a){var o=iv(),u=a.focusedElem,p=a.selectionRange;if(o!==u&&u&&u.ownerDocument&&ov(u.ownerDocument.documentElement,u)){if(p!==null&&Hm(u)){if(o=p.start,a=p.end,a===void 0&&(a=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(a,u.value.length);else if(a=(o=u.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var j=u.textContent.length,S=Math.min(p.start,j);p=p.end===void 0?S:Math.min(p.end,j),!a.extend&&S>p&&(j=p,p=S,S=j),j=av(u,S);var L=av(u,p);j&&L&&(a.rangeCount!==1||a.anchorNode!==j.node||a.anchorOffset!==j.offset||a.focusNode!==L.node||a.focusOffset!==L.offset)&&(o=o.createRange(),o.setStart(j.node,j.offset),a.removeAllRanges(),S>p?(a.addRange(o),a.extend(L.node,L.offset)):(o.setEnd(L.node,L.offset),a.addRange(o)))}}for(o=[],a=u;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)a=o[u],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _P=d&&"documentMode"in document&&11>=document.documentMode,Uo=null,Ym=null,ml=null,Km=!1;function lv(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Km||Uo==null||Uo!==Oe(p)||(p=Uo,"selectionStart"in p&&Hm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ml&&ul(ml,p)||(ml=p,p=ed(Ym,"onSelect"),0<p.length&&(o=new Lm("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=Uo)))}function Xc(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Bo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Gm={},cv={};d&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Jc(a){if(Gm[a])return Gm[a];if(!Bo[a])return a;var o=Bo[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in cv)return Gm[a]=o[u];return a}var dv=Jc("animationend"),uv=Jc("animationiteration"),mv=Jc("animationstart"),hv=Jc("transitionend"),fv=new Map,pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(a,o){fv.set(a,o),l(o,[a])}for(var Qm=0;Qm<pv.length;Qm++){var Xm=pv[Qm],EP=Xm.toLowerCase(),RP=Xm[0].toUpperCase()+Xm.slice(1);ia(EP,"on"+RP)}ia(dv,"onAnimationEnd"),ia(uv,"onAnimationIteration"),ia(mv,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(hv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TP=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function gv(a,o,u){var p=a.type||"unknown-event";a.currentTarget=u,EC(p,o,void 0,a),a.currentTarget=null}function xv(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],j=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var L=p.length-1;0<=L;L--){var K=p[L],Z=K.instance,pe=K.currentTarget;if(K=K.listener,Z!==S&&j.isPropagationStopped())break e;gv(j,K,pe),S=Z}else for(L=0;L<p.length;L++){if(K=p[L],Z=K.instance,pe=K.currentTarget,K=K.listener,Z!==S&&j.isPropagationStopped())break e;gv(j,K,pe),S=Z}}}if(Oc)throw a=_m,Oc=!1,_m=null,a}function Ht(a,o){var u=o[ah];u===void 0&&(u=o[ah]=new Set);var p=a+"__bubble";u.has(p)||(vv(o,a,2,!1),u.add(p))}function Jm(a,o,u){var p=0;o&&(p|=4),vv(u,a,p,o)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function fl(a){if(!a[Zc]){a[Zc]=!0,n.forEach(function(u){u!=="selectionchange"&&(TP.has(u)||Jm(u,!1,a),Jm(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Zc]||(o[Zc]=!0,Jm("selectionchange",!1,o))}}function vv(a,o,u,p){switch(Ux(o)){case 1:var j=WC;break;case 4:j=HC;break;default:j=Im}u=j.bind(null,o,u,a),j=void 0,!As||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(j=!0),p?j!==void 0?a.addEventListener(o,u,{capture:!0,passive:j}):a.addEventListener(o,u,!0):j!==void 0?a.addEventListener(o,u,{passive:j}):a.addEventListener(o,u,!1)}function Zm(a,o,u,p,j){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var L=p.tag;if(L===3||L===4){var K=p.stateNode.containerInfo;if(K===j||K.nodeType===8&&K.parentNode===j)break;if(L===4)for(L=p.return;L!==null;){var Z=L.tag;if((Z===3||Z===4)&&(Z=L.stateNode.containerInfo,Z===j||Z.nodeType===8&&Z.parentNode===j))return;L=L.return}for(;K!==null;){if(L=so(K),L===null)return;if(Z=L.tag,Z===5||Z===6){p=S=L;continue e}K=K.parentNode}}p=p.return}Kr(function(){var pe=S,Ne=vs(u),Pe=[];e:{var je=fv.get(a);if(je!==void 0){var Fe=Lm,Ve=a;switch(a){case"keypress":if(Yc(u)===0)break e;case"keydown":case"keyup":Fe=iP;break;case"focusin":Ve="focus",Fe=Um;break;case"focusout":Ve="blur",Fe=Um;break;case"beforeblur":case"afterblur":Fe=Um;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=dP;break;case dv:case uv:case mv:Fe=JC;break;case hv:Fe=mP;break;case"scroll":Fe=YC;break;case"wheel":Fe=fP;break;case"copy":case"cut":case"paste":Fe=eP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Hx}var Be=(o&4)!==0,ur=!Be&&a==="scroll",ce=Be?je!==null?je+"Capture":null:je;Be=[];for(var ee=pe,me;ee!==null;){me=ee;var Ee=me.stateNode;if(me.tag===5&&Ee!==null&&(me=Ee,ce!==null&&(Ee=Gr(ee,ce),Ee!=null&&Be.push(pl(ee,Ee,me)))),ur)break;ee=ee.return}0<Be.length&&(je=new Fe(je,Ve,null,u,Ne),Pe.push({event:je,listeners:Be}))}}if((o&7)===0){e:{if(je=a==="mouseover"||a==="pointerover",Fe=a==="mouseout"||a==="pointerout",je&&u!==to&&(Ve=u.relatedTarget||u.fromElement)&&(so(Ve)||Ve[_n]))break e;if((Fe||je)&&(je=Ne.window===Ne?Ne:(je=Ne.ownerDocument)?je.defaultView||je.parentWindow:window,Fe?(Ve=u.relatedTarget||u.toElement,Fe=pe,Ve=Ve?so(Ve):null,Ve!==null&&(ur=ro(Ve),Ve!==ur||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Fe=null,Ve=pe),Fe!==Ve)){if(Be=qx,Ee="onMouseLeave",ce="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(Be=Hx,Ee="onPointerLeave",ce="onPointerEnter",ee="pointer"),ur=Fe==null?je:Wo(Fe),me=Ve==null?je:Wo(Ve),je=new Be(Ee,ee+"leave",Fe,u,Ne),je.target=ur,je.relatedTarget=me,Ee=null,so(Ne)===pe&&(Be=new Be(ce,ee+"enter",Ve,u,Ne),Be.target=me,Be.relatedTarget=ur,Ee=Be),ur=Ee,Fe&&Ve)t:{for(Be=Fe,ce=Ve,ee=0,me=Be;me;me=zo(me))ee++;for(me=0,Ee=ce;Ee;Ee=zo(Ee))me++;for(;0<ee-me;)Be=zo(Be),ee--;for(;0<me-ee;)ce=zo(ce),me--;for(;ee--;){if(Be===ce||ce!==null&&Be===ce.alternate)break t;Be=zo(Be),ce=zo(ce)}Be=null}else Be=null;Fe!==null&&yv(Pe,je,Fe,Be,!1),Ve!==null&&ur!==null&&yv(Pe,ur,Ve,Be,!0)}}e:{if(je=pe?Wo(pe):window,Fe=je.nodeName&&je.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&je.type==="file")var ze=jP;else if(Jx(je))if(ev)ze=kP;else{ze=NP;var et=wP}else(Fe=je.nodeName)&&Fe.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(ze=SP);if(ze&&(ze=ze(a,pe))){Zx(Pe,ze,u,Ne);break e}et&&et(a,je,pe),a==="focusout"&&(et=je._wrapperState)&&et.controlled&&je.type==="number"&&qt(je,"number",je.value)}switch(et=pe?Wo(pe):window,a){case"focusin":(Jx(et)||et.contentEditable==="true")&&(Uo=et,Ym=pe,ml=null);break;case"focusout":ml=Ym=Uo=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,lv(Pe,u,Ne);break;case"selectionchange":if(_P)break;case"keydown":case"keyup":lv(Pe,u,Ne)}var tt;if(zm)e:{switch(a){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Vo?Qx(a,u)&&(ot="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(Yx&&u.locale!=="ko"&&(Vo||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Vo&&(tt=Bx()):(oa=Ne,Fm="value"in oa?oa.value:oa.textContent,Vo=!0)),et=ed(pe,ot),0<et.length&&(ot=new Wx(ot,a,null,u,Ne),Pe.push({event:ot,listeners:et}),tt?ot.data=tt:(tt=Xx(u),tt!==null&&(ot.data=tt)))),(tt=gP?xP(a,u):vP(a,u))&&(pe=ed(pe,"onBeforeInput"),0<pe.length&&(Ne=new Wx("onBeforeInput","beforeinput",null,u,Ne),Pe.push({event:Ne,listeners:pe}),Ne.data=tt))}xv(Pe,o)})}function pl(a,o,u){return{instance:a,listener:o,currentTarget:u}}function ed(a,o){for(var u=o+"Capture",p=[];a!==null;){var j=a,S=j.stateNode;j.tag===5&&S!==null&&(j=S,S=Gr(a,u),S!=null&&p.unshift(pl(a,S,j)),S=Gr(a,o),S!=null&&p.push(pl(a,S,j))),a=a.return}return p}function zo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function yv(a,o,u,p,j){for(var S=o._reactName,L=[];u!==null&&u!==p;){var K=u,Z=K.alternate,pe=K.stateNode;if(Z!==null&&Z===p)break;K.tag===5&&pe!==null&&(K=pe,j?(Z=Gr(u,S),Z!=null&&L.unshift(pl(u,Z,K))):j||(Z=Gr(u,S),Z!=null&&L.push(pl(u,Z,K)))),u=u.return}L.length!==0&&a.push({event:o,listeners:L})}var DP=/\r\n?/g,AP=/\u0000|\uFFFD/g;function bv(a){return(typeof a=="string"?a:""+a).replace(DP,`
`).replace(AP,"")}function td(a,o,u){if(o=bv(o),bv(a)!==o&&u)throw Error(s(425))}function rd(){}var eh=null,th=null;function rh(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,MP=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,IP=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(a){return jv.resolve(null).then(a).catch(OP)}:sh;function OP(a){setTimeout(function(){throw a})}function nh(a,o){var u=o,p=0;do{var j=u.nextSibling;if(a.removeChild(u),j&&j.nodeType===8)if(u=j.data,u==="/$"){if(p===0){a.removeChild(j),al(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=j}while(u);al(o)}function la(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function wv(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}var qo=Math.random().toString(36).slice(2),cn="__reactFiber$"+qo,gl="__reactProps$"+qo,_n="__reactContainer$"+qo,ah="__reactEvents$"+qo,FP="__reactListeners$"+qo,LP="__reactHandles$"+qo;function so(a){var o=a[cn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[_n]||u[cn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=wv(a);a!==null;){if(u=a[cn])return u;a=wv(a)}return o}a=u,u=a.parentNode}return null}function xl(a){return a=a[cn]||a[_n],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Wo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(s(33))}function sd(a){return a[gl]||null}var oh=[],Ho=-1;function ca(a){return{current:a}}function Yt(a){0>Ho||(a.current=oh[Ho],oh[Ho]=null,Ho--)}function Ut(a,o){Ho++,oh[Ho]=a.current,a.current=o}var da={},Mr=ca(da),Qr=ca(!1),no=da;function Yo(a,o){var u=a.type.contextTypes;if(!u)return da;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var j={},S;for(S in u)j[S]=o[S];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=j),j}function Xr(a){return a=a.childContextTypes,a!=null}function nd(){Yt(Qr),Yt(Mr)}function Nv(a,o,u){if(Mr.current!==da)throw Error(s(168));Ut(Mr,o),Ut(Qr,u)}function Sv(a,o,u){var p=a.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var j in p)if(!(j in o))throw Error(s(108,oe(a)||"Unknown",j));return W({},u,p)}function ad(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||da,no=Mr.current,Ut(Mr,a),Ut(Qr,Qr.current),!0}function kv(a,o,u){var p=a.stateNode;if(!p)throw Error(s(169));u?(a=Sv(a,o,no),p.__reactInternalMemoizedMergedChildContext=a,Yt(Qr),Yt(Mr),Ut(Mr,a)):Yt(Qr),Ut(Qr,u)}var En=null,od=!1,ih=!1;function Cv(a){En===null?En=[a]:En.push(a)}function $P(a){od=!0,Cv(a)}function ua(){if(!ih&&En!==null){ih=!0;var a=0,o=Tt;try{var u=En;for(Tt=1;a<u.length;a++){var p=u[a];do p=p(!0);while(p!==null)}En=null,od=!1}catch(j){throw En!==null&&(En=En.slice(a+1)),_x(Em,ua),j}finally{Tt=o,ih=!1}}return null}var Ko=[],Go=0,id=null,ld=0,ys=[],bs=0,ao=null,Rn=1,Tn="";function oo(a,o){Ko[Go++]=ld,Ko[Go++]=id,id=a,ld=o}function Pv(a,o,u){ys[bs++]=Rn,ys[bs++]=Tn,ys[bs++]=ao,ao=a;var p=Rn;a=Tn;var j=32-Ms(p)-1;p&=~(1<<j),u+=1;var S=32-Ms(o)+j;if(30<S){var L=j-j%5;S=(p&(1<<L)-1).toString(32),p>>=L,j-=L,Rn=1<<32-Ms(o)+j|u<<j|p,Tn=S+a}else Rn=1<<S|u<<j|p,Tn=a}function lh(a){a.return!==null&&(oo(a,1),Pv(a,1,0))}function ch(a){for(;a===id;)id=Ko[--Go],Ko[Go]=null,ld=Ko[--Go],Ko[Go]=null;for(;a===ao;)ao=ys[--bs],ys[bs]=null,Tn=ys[--bs],ys[bs]=null,Rn=ys[--bs],ys[bs]=null}var ds=null,us=null,Xt=!1,Os=null;function _v(a,o){var u=Ss(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=a,o=a.deletions,o===null?(a.deletions=[u],a.flags|=16):o.push(u)}function Ev(a,o){switch(a.tag){case 5:var u=a.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,ds=a,us=la(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,ds=a,us=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ao!==null?{id:Rn,overflow:Tn}:null,a.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ss(18,null,null,0),u.stateNode=o,u.return=a,a.child=u,ds=a,us=null,!0):!1;default:return!1}}function dh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function uh(a){if(Xt){var o=us;if(o){var u=o;if(!Ev(a,o)){if(dh(a))throw Error(s(418));o=la(u.nextSibling);var p=ds;o&&Ev(a,o)?_v(p,u):(a.flags=a.flags&-4097|2,Xt=!1,ds=a)}}else{if(dh(a))throw Error(s(418));a.flags=a.flags&-4097|2,Xt=!1,ds=a}}}function Rv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ds=a}function cd(a){if(a!==ds)return!1;if(!Xt)return Rv(a),Xt=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!rh(a.type,a.memoizedProps)),o&&(o=us)){if(dh(a))throw Tv(),Error(s(418));for(;o;)_v(a,o),o=la(o.nextSibling)}if(Rv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(o===0){us=la(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}a=a.nextSibling}us=null}}else us=ds?la(a.stateNode.nextSibling):null;return!0}function Tv(){for(var a=us;a;)a=la(a.nextSibling)}function Qo(){us=ds=null,Xt=!1}function mh(a){Os===null?Os=[a]:Os.push(a)}var VP=O.ReactCurrentBatchConfig;function vl(a,o,u){if(a=u.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(s(309));var p=u.stateNode}if(!p)throw Error(s(147,a));var j=p,S=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(L){var K=j.refs;L===null?delete K[S]:K[S]=L},o._stringRef=S,o)}if(typeof a!="string")throw Error(s(284));if(!u._owner)throw Error(s(290,a))}return a}function dd(a,o){throw a=Object.prototype.toString.call(o),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function Dv(a){var o=a._init;return o(a._payload)}function Av(a){function o(ce,ee){if(a){var me=ce.deletions;me===null?(ce.deletions=[ee],ce.flags|=16):me.push(ee)}}function u(ce,ee){if(!a)return null;for(;ee!==null;)o(ce,ee),ee=ee.sibling;return null}function p(ce,ee){for(ce=new Map;ee!==null;)ee.key!==null?ce.set(ee.key,ee):ce.set(ee.index,ee),ee=ee.sibling;return ce}function j(ce,ee){return ce=ya(ce,ee),ce.index=0,ce.sibling=null,ce}function S(ce,ee,me){return ce.index=me,a?(me=ce.alternate,me!==null?(me=me.index,me<ee?(ce.flags|=2,ee):me):(ce.flags|=2,ee)):(ce.flags|=1048576,ee)}function L(ce){return a&&ce.alternate===null&&(ce.flags|=2),ce}function K(ce,ee,me,Ee){return ee===null||ee.tag!==6?(ee=sf(me,ce.mode,Ee),ee.return=ce,ee):(ee=j(ee,me),ee.return=ce,ee)}function Z(ce,ee,me,Ee){var ze=me.type;return ze===M?Ne(ce,ee,me.props.children,Ee,me.key):ee!==null&&(ee.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Y&&Dv(ze)===ee.type)?(Ee=j(ee,me.props),Ee.ref=vl(ce,ee,me),Ee.return=ce,Ee):(Ee=Md(me.type,me.key,me.props,null,ce.mode,Ee),Ee.ref=vl(ce,ee,me),Ee.return=ce,Ee)}function pe(ce,ee,me,Ee){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==me.containerInfo||ee.stateNode.implementation!==me.implementation?(ee=nf(me,ce.mode,Ee),ee.return=ce,ee):(ee=j(ee,me.children||[]),ee.return=ce,ee)}function Ne(ce,ee,me,Ee,ze){return ee===null||ee.tag!==7?(ee=po(me,ce.mode,Ee,ze),ee.return=ce,ee):(ee=j(ee,me),ee.return=ce,ee)}function Pe(ce,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=sf(""+ee,ce.mode,me),ee.return=ce,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case q:return me=Md(ee.type,ee.key,ee.props,null,ce.mode,me),me.ref=vl(ce,null,ee),me.return=ce,me;case A:return ee=nf(ee,ce.mode,me),ee.return=ce,ee;case Y:var Ee=ee._init;return Pe(ce,Ee(ee._payload),me)}if(sr(ee)||D(ee))return ee=po(ee,ce.mode,me,null),ee.return=ce,ee;dd(ce,ee)}return null}function je(ce,ee,me,Ee){var ze=ee!==null?ee.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ze!==null?null:K(ce,ee,""+me,Ee);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case q:return me.key===ze?Z(ce,ee,me,Ee):null;case A:return me.key===ze?pe(ce,ee,me,Ee):null;case Y:return ze=me._init,je(ce,ee,ze(me._payload),Ee)}if(sr(me)||D(me))return ze!==null?null:Ne(ce,ee,me,Ee,null);dd(ce,me)}return null}function Fe(ce,ee,me,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ce=ce.get(me)||null,K(ee,ce,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case q:return ce=ce.get(Ee.key===null?me:Ee.key)||null,Z(ee,ce,Ee,ze);case A:return ce=ce.get(Ee.key===null?me:Ee.key)||null,pe(ee,ce,Ee,ze);case Y:var et=Ee._init;return Fe(ce,ee,me,et(Ee._payload),ze)}if(sr(Ee)||D(Ee))return ce=ce.get(me)||null,Ne(ee,ce,Ee,ze,null);dd(ee,Ee)}return null}function Ve(ce,ee,me,Ee){for(var ze=null,et=null,tt=ee,ot=ee=0,kr=null;tt!==null&&ot<me.length;ot++){tt.index>ot?(kr=tt,tt=null):kr=tt.sibling;var Ct=je(ce,tt,me[ot],Ee);if(Ct===null){tt===null&&(tt=kr);break}a&&tt&&Ct.alternate===null&&o(ce,tt),ee=S(Ct,ee,ot),et===null?ze=Ct:et.sibling=Ct,et=Ct,tt=kr}if(ot===me.length)return u(ce,tt),Xt&&oo(ce,ot),ze;if(tt===null){for(;ot<me.length;ot++)tt=Pe(ce,me[ot],Ee),tt!==null&&(ee=S(tt,ee,ot),et===null?ze=tt:et.sibling=tt,et=tt);return Xt&&oo(ce,ot),ze}for(tt=p(ce,tt);ot<me.length;ot++)kr=Fe(tt,ce,ot,me[ot],Ee),kr!==null&&(a&&kr.alternate!==null&&tt.delete(kr.key===null?ot:kr.key),ee=S(kr,ee,ot),et===null?ze=kr:et.sibling=kr,et=kr);return a&&tt.forEach(function(ba){return o(ce,ba)}),Xt&&oo(ce,ot),ze}function Be(ce,ee,me,Ee){var ze=D(me);if(typeof ze!="function")throw Error(s(150));if(me=ze.call(me),me==null)throw Error(s(151));for(var et=ze=null,tt=ee,ot=ee=0,kr=null,Ct=me.next();tt!==null&&!Ct.done;ot++,Ct=me.next()){tt.index>ot?(kr=tt,tt=null):kr=tt.sibling;var ba=je(ce,tt,Ct.value,Ee);if(ba===null){tt===null&&(tt=kr);break}a&&tt&&ba.alternate===null&&o(ce,tt),ee=S(ba,ee,ot),et===null?ze=ba:et.sibling=ba,et=ba,tt=kr}if(Ct.done)return u(ce,tt),Xt&&oo(ce,ot),ze;if(tt===null){for(;!Ct.done;ot++,Ct=me.next())Ct=Pe(ce,Ct.value,Ee),Ct!==null&&(ee=S(Ct,ee,ot),et===null?ze=Ct:et.sibling=Ct,et=Ct);return Xt&&oo(ce,ot),ze}for(tt=p(ce,tt);!Ct.done;ot++,Ct=me.next())Ct=Fe(tt,ce,ot,Ct.value,Ee),Ct!==null&&(a&&Ct.alternate!==null&&tt.delete(Ct.key===null?ot:Ct.key),ee=S(Ct,ee,ot),et===null?ze=Ct:et.sibling=Ct,et=Ct);return a&&tt.forEach(function(y4){return o(ce,y4)}),Xt&&oo(ce,ot),ze}function ur(ce,ee,me,Ee){if(typeof me=="object"&&me!==null&&me.type===M&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case q:e:{for(var ze=me.key,et=ee;et!==null;){if(et.key===ze){if(ze=me.type,ze===M){if(et.tag===7){u(ce,et.sibling),ee=j(et,me.props.children),ee.return=ce,ce=ee;break e}}else if(et.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Y&&Dv(ze)===et.type){u(ce,et.sibling),ee=j(et,me.props),ee.ref=vl(ce,et,me),ee.return=ce,ce=ee;break e}u(ce,et);break}else o(ce,et);et=et.sibling}me.type===M?(ee=po(me.props.children,ce.mode,Ee,me.key),ee.return=ce,ce=ee):(Ee=Md(me.type,me.key,me.props,null,ce.mode,Ee),Ee.ref=vl(ce,ee,me),Ee.return=ce,ce=Ee)}return L(ce);case A:e:{for(et=me.key;ee!==null;){if(ee.key===et)if(ee.tag===4&&ee.stateNode.containerInfo===me.containerInfo&&ee.stateNode.implementation===me.implementation){u(ce,ee.sibling),ee=j(ee,me.children||[]),ee.return=ce,ce=ee;break e}else{u(ce,ee);break}else o(ce,ee);ee=ee.sibling}ee=nf(me,ce.mode,Ee),ee.return=ce,ce=ee}return L(ce);case Y:return et=me._init,ur(ce,ee,et(me._payload),Ee)}if(sr(me))return Ve(ce,ee,me,Ee);if(D(me))return Be(ce,ee,me,Ee);dd(ce,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ee!==null&&ee.tag===6?(u(ce,ee.sibling),ee=j(ee,me),ee.return=ce,ce=ee):(u(ce,ee),ee=sf(me,ce.mode,Ee),ee.return=ce,ce=ee),L(ce)):u(ce,ee)}return ur}var Xo=Av(!0),Mv=Av(!1),ud=ca(null),md=null,Jo=null,hh=null;function fh(){hh=Jo=md=null}function ph(a){var o=ud.current;Yt(ud),a._currentValue=o}function gh(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function Zo(a,o){md=a,hh=Jo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&o)!==0&&(Jr=!0),a.firstContext=null)}function js(a){var o=a._currentValue;if(hh!==a)if(a={context:a,memoizedValue:o,next:null},Jo===null){if(md===null)throw Error(s(308));Jo=a,md.dependencies={lanes:0,firstContext:a}}else Jo=Jo.next=a;return o}var io=null;function xh(a){io===null?io=[a]:io.push(a)}function Iv(a,o,u,p){var j=o.interleaved;return j===null?(u.next=u,xh(o)):(u.next=j.next,j.next=u),o.interleaved=u,Dn(a,p)}function Dn(a,o){a.lanes|=o;var u=a.alternate;for(u!==null&&(u.lanes|=o),u=a,a=a.return;a!==null;)a.childLanes|=o,u=a.alternate,u!==null&&(u.childLanes|=o),u=a,a=a.return;return u.tag===3?u.stateNode:null}var ma=!1;function vh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ov(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function An(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function ha(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var j=p.pending;return j===null?o.next=o:(o.next=j.next,j.next=o),p.pending=o,Dn(a,u)}return j=p.interleaved,j===null?(o.next=o,xh(p)):(o.next=j.next,j.next=o),p.interleaved=o,Dn(a,u)}function hd(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Dm(a,u)}}function Fv(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var j=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var L={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?j=S=L:S=S.next=L,u=u.next}while(u!==null);S===null?j=S=o:S=S.next=o}else j=S=o;u={baseState:p.baseState,firstBaseUpdate:j,lastBaseUpdate:S,shared:p.shared,effects:p.effects},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}function fd(a,o,u,p){var j=a.updateQueue;ma=!1;var S=j.firstBaseUpdate,L=j.lastBaseUpdate,K=j.shared.pending;if(K!==null){j.shared.pending=null;var Z=K,pe=Z.next;Z.next=null,L===null?S=pe:L.next=pe,L=Z;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,K=Ne.lastBaseUpdate,K!==L&&(K===null?Ne.firstBaseUpdate=pe:K.next=pe,Ne.lastBaseUpdate=Z))}if(S!==null){var Pe=j.baseState;L=0,Ne=pe=Z=null,K=S;do{var je=K.lane,Fe=K.eventTime;if((p&je)===je){Ne!==null&&(Ne=Ne.next={eventTime:Fe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ve=a,Be=K;switch(je=o,Fe=u,Be.tag){case 1:if(Ve=Be.payload,typeof Ve=="function"){Pe=Ve.call(Fe,Pe,je);break e}Pe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Be.payload,je=typeof Ve=="function"?Ve.call(Fe,Pe,je):Ve,je==null)break e;Pe=W({},Pe,je);break e;case 2:ma=!0}}K.callback!==null&&K.lane!==0&&(a.flags|=64,je=j.effects,je===null?j.effects=[K]:je.push(K))}else Fe={eventTime:Fe,lane:je,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ne===null?(pe=Ne=Fe,Z=Pe):Ne=Ne.next=Fe,L|=je;if(K=K.next,K===null){if(K=j.shared.pending,K===null)break;je=K,K=je.next,je.next=null,j.lastBaseUpdate=je,j.shared.pending=null}}while(!0);if(Ne===null&&(Z=Pe),j.baseState=Z,j.firstBaseUpdate=pe,j.lastBaseUpdate=Ne,o=j.shared.interleaved,o!==null){j=o;do L|=j.lane,j=j.next;while(j!==o)}else S===null&&(j.shared.lanes=0);uo|=L,a.lanes=L,a.memoizedState=Pe}}function Lv(a,o,u){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var p=a[o],j=p.callback;if(j!==null){if(p.callback=null,p=u,typeof j!="function")throw Error(s(191,j));j.call(p)}}}var yl={},dn=ca(yl),bl=ca(yl),jl=ca(yl);function lo(a){if(a===yl)throw Error(s(174));return a}function yh(a,o){switch(Ut(jl,o),Ut(bl,a),Ut(dn,yl),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ze(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=Ze(o,a)}Yt(dn),Ut(dn,o)}function ei(){Yt(dn),Yt(bl),Yt(jl)}function $v(a){lo(jl.current);var o=lo(dn.current),u=Ze(o,a.type);o!==u&&(Ut(bl,a),Ut(dn,u))}function bh(a){bl.current===a&&(Yt(dn),Yt(bl))}var Zt=ca(0);function pd(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jh=[];function wh(){for(var a=0;a<jh.length;a++)jh[a]._workInProgressVersionPrimary=null;jh.length=0}var gd=O.ReactCurrentDispatcher,Nh=O.ReactCurrentBatchConfig,co=0,er=null,xr=null,Nr=null,xd=!1,wl=!1,Nl=0,UP=0;function Ir(){throw Error(s(321))}function Sh(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Is(a[u],o[u]))return!1;return!0}function kh(a,o,u,p,j,S){if(co=S,er=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,gd.current=a===null||a.memoizedState===null?WP:HP,a=u(p,j),wl){S=0;do{if(wl=!1,Nl=0,25<=S)throw Error(s(301));S+=1,Nr=xr=null,o.updateQueue=null,gd.current=YP,a=u(p,j)}while(wl)}if(gd.current=bd,o=xr!==null&&xr.next!==null,co=0,Nr=xr=er=null,xd=!1,o)throw Error(s(300));return a}function Ch(){var a=Nl!==0;return Nl=0,a}function un(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?er.memoizedState=Nr=a:Nr=Nr.next=a,Nr}function ws(){if(xr===null){var a=er.alternate;a=a!==null?a.memoizedState:null}else a=xr.next;var o=Nr===null?er.memoizedState:Nr.next;if(o!==null)Nr=o,xr=a;else{if(a===null)throw Error(s(310));xr=a,a={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Nr===null?er.memoizedState=Nr=a:Nr=Nr.next=a}return Nr}function Sl(a,o){return typeof o=="function"?o(a):o}function Ph(a){var o=ws(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var p=xr,j=p.baseQueue,S=u.pending;if(S!==null){if(j!==null){var L=j.next;j.next=S.next,S.next=L}p.baseQueue=j=S,u.pending=null}if(j!==null){S=j.next,p=p.baseState;var K=L=null,Z=null,pe=S;do{var Ne=pe.lane;if((co&Ne)===Ne)Z!==null&&(Z=Z.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:a(p,pe.action);else{var Pe={lane:Ne,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Z===null?(K=Z=Pe,L=p):Z=Z.next=Pe,er.lanes|=Ne,uo|=Ne}pe=pe.next}while(pe!==null&&pe!==S);Z===null?L=p:Z.next=K,Is(p,o.memoizedState)||(Jr=!0),o.memoizedState=p,o.baseState=L,o.baseQueue=Z,u.lastRenderedState=p}if(a=u.interleaved,a!==null){j=a;do S=j.lane,er.lanes|=S,uo|=S,j=j.next;while(j!==a)}else j===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function _h(a){var o=ws(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var p=u.dispatch,j=u.pending,S=o.memoizedState;if(j!==null){u.pending=null;var L=j=j.next;do S=a(S,L.action),L=L.next;while(L!==j);Is(S,o.memoizedState)||(Jr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,p]}function Vv(){}function Uv(a,o){var u=er,p=ws(),j=o(),S=!Is(p.memoizedState,j);if(S&&(p.memoizedState=j,Jr=!0),p=p.queue,Eh(qv.bind(null,u,p,a),[a]),p.getSnapshot!==o||S||Nr!==null&&Nr.memoizedState.tag&1){if(u.flags|=2048,kl(9,zv.bind(null,u,p,j,o),void 0,null),Sr===null)throw Error(s(349));(co&30)!==0||Bv(u,o,j)}return j}function Bv(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=er.updateQueue,o===null?(o={lastEffect:null,stores:null},er.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function zv(a,o,u,p){o.value=u,o.getSnapshot=p,Wv(o)&&Hv(a)}function qv(a,o,u){return u(function(){Wv(o)&&Hv(a)})}function Wv(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Is(a,u)}catch{return!0}}function Hv(a){var o=Dn(a,1);o!==null&&Vs(o,a,1,-1)}function Yv(a){var o=un();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:a},o.queue=a,a=a.dispatch=qP.bind(null,er,a),[o.memoizedState,a]}function kl(a,o,u,p){return a={tag:a,create:o,destroy:u,deps:p,next:null},o=er.updateQueue,o===null?(o={lastEffect:null,stores:null},er.updateQueue=o,o.lastEffect=a.next=a):(u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a)),a}function Kv(){return ws().memoizedState}function vd(a,o,u,p){var j=un();er.flags|=a,j.memoizedState=kl(1|o,u,void 0,p===void 0?null:p)}function yd(a,o,u,p){var j=ws();p=p===void 0?null:p;var S=void 0;if(xr!==null){var L=xr.memoizedState;if(S=L.destroy,p!==null&&Sh(p,L.deps)){j.memoizedState=kl(o,u,S,p);return}}er.flags|=a,j.memoizedState=kl(1|o,u,S,p)}function Gv(a,o){return vd(8390656,8,a,o)}function Eh(a,o){return yd(2048,8,a,o)}function Qv(a,o){return yd(4,2,a,o)}function Xv(a,o){return yd(4,4,a,o)}function Jv(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Zv(a,o,u){return u=u!=null?u.concat([a]):null,yd(4,4,Jv.bind(null,o,a),u)}function Rh(){}function e0(a,o){var u=ws();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Sh(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function t0(a,o){var u=ws();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Sh(o,p[1])?p[0]:(a=a(),u.memoizedState=[a,o],a)}function r0(a,o,u){return(co&21)===0?(a.baseState&&(a.baseState=!1,Jr=!0),a.memoizedState=u):(Is(u,o)||(u=Dx(),er.lanes|=u,uo|=u,a.baseState=!0),o)}function BP(a,o){var u=Tt;Tt=u!==0&&4>u?u:4,a(!0);var p=Nh.transition;Nh.transition={};try{a(!1),o()}finally{Tt=u,Nh.transition=p}}function s0(){return ws().memoizedState}function zP(a,o,u){var p=xa(a);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},n0(a))a0(o,u);else if(u=Iv(a,o,u,p),u!==null){var j=Ur();Vs(u,a,p,j),o0(u,o,p)}}function qP(a,o,u){var p=xa(a),j={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(n0(a))a0(o,j);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var L=o.lastRenderedState,K=S(L,u);if(j.hasEagerState=!0,j.eagerState=K,Is(K,L)){var Z=o.interleaved;Z===null?(j.next=j,xh(o)):(j.next=Z.next,Z.next=j),o.interleaved=j;return}}catch{}finally{}u=Iv(a,o,j,p),u!==null&&(j=Ur(),Vs(u,a,p,j),o0(u,o,p))}}function n0(a){var o=a.alternate;return a===er||o!==null&&o===er}function a0(a,o){wl=xd=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function o0(a,o,u){if((u&4194240)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Dm(a,u)}}var bd={readContext:js,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},WP={readContext:js,useCallback:function(a,o){return un().memoizedState=[a,o===void 0?null:o],a},useContext:js,useEffect:Gv,useImperativeHandle:function(a,o,u){return u=u!=null?u.concat([a]):null,vd(4194308,4,Jv.bind(null,o,a),u)},useLayoutEffect:function(a,o){return vd(4194308,4,a,o)},useInsertionEffect:function(a,o){return vd(4,2,a,o)},useMemo:function(a,o){var u=un();return o=o===void 0?null:o,a=a(),u.memoizedState=[a,o],a},useReducer:function(a,o,u){var p=un();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},p.queue=a,a=a.dispatch=zP.bind(null,er,a),[p.memoizedState,a]},useRef:function(a){var o=un();return a={current:a},o.memoizedState=a},useState:Yv,useDebugValue:Rh,useDeferredValue:function(a){return un().memoizedState=a},useTransition:function(){var a=Yv(!1),o=a[0];return a=BP.bind(null,a[1]),un().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,u){var p=er,j=un();if(Xt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=o(),Sr===null)throw Error(s(349));(co&30)!==0||Bv(p,o,u)}j.memoizedState=u;var S={value:u,getSnapshot:o};return j.queue=S,Gv(qv.bind(null,p,S,a),[a]),p.flags|=2048,kl(9,zv.bind(null,p,S,u,o),void 0,null),u},useId:function(){var a=un(),o=Sr.identifierPrefix;if(Xt){var u=Tn,p=Rn;u=(p&~(1<<32-Ms(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Nl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=UP++,o=":"+o+"r"+u.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},HP={readContext:js,useCallback:e0,useContext:js,useEffect:Eh,useImperativeHandle:Zv,useInsertionEffect:Qv,useLayoutEffect:Xv,useMemo:t0,useReducer:Ph,useRef:Kv,useState:function(){return Ph(Sl)},useDebugValue:Rh,useDeferredValue:function(a){var o=ws();return r0(o,xr.memoizedState,a)},useTransition:function(){var a=Ph(Sl)[0],o=ws().memoizedState;return[a,o]},useMutableSource:Vv,useSyncExternalStore:Uv,useId:s0,unstable_isNewReconciler:!1},YP={readContext:js,useCallback:e0,useContext:js,useEffect:Eh,useImperativeHandle:Zv,useInsertionEffect:Qv,useLayoutEffect:Xv,useMemo:t0,useReducer:_h,useRef:Kv,useState:function(){return _h(Sl)},useDebugValue:Rh,useDeferredValue:function(a){var o=ws();return xr===null?o.memoizedState=a:r0(o,xr.memoizedState,a)},useTransition:function(){var a=_h(Sl)[0],o=ws().memoizedState;return[a,o]},useMutableSource:Vv,useSyncExternalStore:Uv,useId:s0,unstable_isNewReconciler:!1};function Fs(a,o){if(a&&a.defaultProps){o=W({},o),a=a.defaultProps;for(var u in a)o[u]===void 0&&(o[u]=a[u]);return o}return o}function Th(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:W({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var jd={isMounted:function(a){return(a=a._reactInternals)?ro(a)===a:!1},enqueueSetState:function(a,o,u){a=a._reactInternals;var p=Ur(),j=xa(a),S=An(p,j);S.payload=o,u!=null&&(S.callback=u),o=ha(a,S,j),o!==null&&(Vs(o,a,j,p),hd(o,a,j))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=Ur(),j=xa(a),S=An(p,j);S.tag=1,S.payload=o,u!=null&&(S.callback=u),o=ha(a,S,j),o!==null&&(Vs(o,a,j,p),hd(o,a,j))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Ur(),p=xa(a),j=An(u,p);j.tag=2,o!=null&&(j.callback=o),o=ha(a,j,p),o!==null&&(Vs(o,a,p,u),hd(o,a,p))}};function i0(a,o,u,p,j,S,L){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,L):o.prototype&&o.prototype.isPureReactComponent?!ul(u,p)||!ul(j,S):!0}function l0(a,o,u){var p=!1,j=da,S=o.contextType;return typeof S=="object"&&S!==null?S=js(S):(j=Xr(o)?no:Mr.current,p=o.contextTypes,S=(p=p!=null)?Yo(a,j):da),o=new o(u,S),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jd,a.stateNode=o,o._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=j,a.__reactInternalMemoizedMaskedChildContext=S),o}function c0(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&jd.enqueueReplaceState(o,o.state,null)}function Dh(a,o,u,p){var j=a.stateNode;j.props=u,j.state=a.memoizedState,j.refs={},vh(a);var S=o.contextType;typeof S=="object"&&S!==null?j.context=js(S):(S=Xr(o)?no:Mr.current,j.context=Yo(a,S)),j.state=a.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Th(a,o,S,u),j.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(o=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),o!==j.state&&jd.enqueueReplaceState(j,j.state,null),fd(a,u,j,p),j.state=a.memoizedState),typeof j.componentDidMount=="function"&&(a.flags|=4194308)}function ti(a,o){try{var u="",p=o;do u+=ue(p),p=p.return;while(p);var j=u}catch(S){j=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:o,stack:j,digest:null}}function Ah(a,o,u){return{value:a,source:null,stack:u??null,digest:o??null}}function Mh(a,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var KP=typeof WeakMap=="function"?WeakMap:Map;function d0(a,o,u){u=An(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){_d||(_d=!0,Gh=p),Mh(a,o)},u}function u0(a,o,u){u=An(-1,u),u.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var j=o.value;u.payload=function(){return p(j)},u.callback=function(){Mh(a,o)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){Mh(a,o),typeof p!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var L=o.stack;this.componentDidCatch(o.value,{componentStack:L!==null?L:""})}),u}function m0(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new KP;var j=new Set;p.set(o,j)}else j=p.get(o),j===void 0&&(j=new Set,p.set(o,j));j.has(u)||(j.add(u),a=l4.bind(null,a,o,u),o.then(a,a))}function h0(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function f0(a,o,u,p,j){return(a.mode&1)===0?(a===o?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=An(-1,1),o.tag=2,ha(u,o,1))),u.lanes|=1),a):(a.flags|=65536,a.lanes=j,a)}var GP=O.ReactCurrentOwner,Jr=!1;function Vr(a,o,u,p){o.child=a===null?Mv(o,null,u,p):Xo(o,a.child,u,p)}function p0(a,o,u,p,j){u=u.render;var S=o.ref;return Zo(o,j),p=kh(a,o,u,p,S,j),u=Ch(),a!==null&&!Jr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~j,Mn(a,o,j)):(Xt&&u&&lh(o),o.flags|=1,Vr(a,o,p,j),o.child)}function g0(a,o,u,p,j){if(a===null){var S=u.type;return typeof S=="function"&&!rf(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=S,x0(a,o,S,p,j)):(a=Md(u.type,null,p,o,o.mode,j),a.ref=o.ref,a.return=o,o.child=a)}if(S=a.child,(a.lanes&j)===0){var L=S.memoizedProps;if(u=u.compare,u=u!==null?u:ul,u(L,p)&&a.ref===o.ref)return Mn(a,o,j)}return o.flags|=1,a=ya(S,p),a.ref=o.ref,a.return=o,o.child=a}function x0(a,o,u,p,j){if(a!==null){var S=a.memoizedProps;if(ul(S,p)&&a.ref===o.ref)if(Jr=!1,o.pendingProps=p=S,(a.lanes&j)!==0)(a.flags&131072)!==0&&(Jr=!0);else return o.lanes=a.lanes,Mn(a,o,j)}return Ih(a,o,u,p,j)}function v0(a,o,u){var p=o.pendingProps,j=p.children,S=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(si,ms),ms|=u;else{if((u&1073741824)===0)return a=S!==null?S.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,Ut(si,ms),ms|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:u,Ut(si,ms),ms|=p}else S!==null?(p=S.baseLanes|u,o.memoizedState=null):p=u,Ut(si,ms),ms|=p;return Vr(a,o,j,u),o.child}function y0(a,o){var u=o.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ih(a,o,u,p,j){var S=Xr(u)?no:Mr.current;return S=Yo(o,S),Zo(o,j),u=kh(a,o,u,p,S,j),p=Ch(),a!==null&&!Jr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~j,Mn(a,o,j)):(Xt&&p&&lh(o),o.flags|=1,Vr(a,o,u,j),o.child)}function b0(a,o,u,p,j){if(Xr(u)){var S=!0;ad(o)}else S=!1;if(Zo(o,j),o.stateNode===null)Nd(a,o),l0(o,u,p),Dh(o,u,p,j),p=!0;else if(a===null){var L=o.stateNode,K=o.memoizedProps;L.props=K;var Z=L.context,pe=u.contextType;typeof pe=="object"&&pe!==null?pe=js(pe):(pe=Xr(u)?no:Mr.current,pe=Yo(o,pe));var Ne=u.getDerivedStateFromProps,Pe=typeof Ne=="function"||typeof L.getSnapshotBeforeUpdate=="function";Pe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==p||Z!==pe)&&c0(o,L,p,pe),ma=!1;var je=o.memoizedState;L.state=je,fd(o,p,L,j),Z=o.memoizedState,K!==p||je!==Z||Qr.current||ma?(typeof Ne=="function"&&(Th(o,u,Ne,p),Z=o.memoizedState),(K=ma||i0(o,u,K,p,je,Z,pe))?(Pe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(o.flags|=4194308)):(typeof L.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Z),L.props=p,L.state=Z,L.context=pe,p=K):(typeof L.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{L=o.stateNode,Ov(a,o),K=o.memoizedProps,pe=o.type===o.elementType?K:Fs(o.type,K),L.props=pe,Pe=o.pendingProps,je=L.context,Z=u.contextType,typeof Z=="object"&&Z!==null?Z=js(Z):(Z=Xr(u)?no:Mr.current,Z=Yo(o,Z));var Fe=u.getDerivedStateFromProps;(Ne=typeof Fe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==Pe||je!==Z)&&c0(o,L,p,Z),ma=!1,je=o.memoizedState,L.state=je,fd(o,p,L,j);var Ve=o.memoizedState;K!==Pe||je!==Ve||Qr.current||ma?(typeof Fe=="function"&&(Th(o,u,Fe,p),Ve=o.memoizedState),(pe=ma||i0(o,u,pe,p,je,Ve,Z)||!1)?(Ne||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(p,Ve,Z),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(p,Ve,Z)),typeof L.componentDidUpdate=="function"&&(o.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof L.componentDidUpdate!="function"||K===a.memoizedProps&&je===a.memoizedState||(o.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&je===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ve),L.props=p,L.state=Ve,L.context=Z,p=pe):(typeof L.componentDidUpdate!="function"||K===a.memoizedProps&&je===a.memoizedState||(o.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&je===a.memoizedState||(o.flags|=1024),p=!1)}return Oh(a,o,u,p,S,j)}function Oh(a,o,u,p,j,S){y0(a,o);var L=(o.flags&128)!==0;if(!p&&!L)return j&&kv(o,u,!1),Mn(a,o,S);p=o.stateNode,GP.current=o;var K=L&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,a!==null&&L?(o.child=Xo(o,a.child,null,S),o.child=Xo(o,null,K,S)):Vr(a,o,K,S),o.memoizedState=p.state,j&&kv(o,u,!0),o.child}function j0(a){var o=a.stateNode;o.pendingContext?Nv(a,o.pendingContext,o.pendingContext!==o.context):o.context&&Nv(a,o.context,!1),yh(a,o.containerInfo)}function w0(a,o,u,p,j){return Qo(),mh(j),o.flags|=256,Vr(a,o,u,p),o.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Lh(a){return{baseLanes:a,cachePool:null,transitions:null}}function N0(a,o,u){var p=o.pendingProps,j=Zt.current,S=!1,L=(o.flags&128)!==0,K;if((K=L)||(K=a!==null&&a.memoizedState===null?!1:(j&2)!==0),K?(S=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(j|=1),Ut(Zt,j&1),a===null)return uh(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((o.mode&1)===0?o.lanes=1:a.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(L=p.children,a=p.fallback,S?(p=o.mode,S=o.child,L={mode:"hidden",children:L},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=L):S=Id(L,p,0,null),a=po(a,p,u,null),S.return=o,a.return=o,S.sibling=a,o.child=S,o.child.memoizedState=Lh(u),o.memoizedState=Fh,a):$h(o,L));if(j=a.memoizedState,j!==null&&(K=j.dehydrated,K!==null))return QP(a,o,L,p,K,j,u);if(S){S=p.fallback,L=o.mode,j=a.child,K=j.sibling;var Z={mode:"hidden",children:p.children};return(L&1)===0&&o.child!==j?(p=o.child,p.childLanes=0,p.pendingProps=Z,o.deletions=null):(p=ya(j,Z),p.subtreeFlags=j.subtreeFlags&14680064),K!==null?S=ya(K,S):(S=po(S,L,u,null),S.flags|=2),S.return=o,p.return=o,p.sibling=S,o.child=p,p=S,S=o.child,L=a.child.memoizedState,L=L===null?Lh(u):{baseLanes:L.baseLanes|u,cachePool:null,transitions:L.transitions},S.memoizedState=L,S.childLanes=a.childLanes&~u,o.memoizedState=Fh,p}return S=a.child,a=S.sibling,p=ya(S,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,a!==null&&(u=o.deletions,u===null?(o.deletions=[a],o.flags|=16):u.push(a)),o.child=p,o.memoizedState=null,p}function $h(a,o){return o=Id({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function wd(a,o,u,p){return p!==null&&mh(p),Xo(o,a.child,null,u),a=$h(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function QP(a,o,u,p,j,S,L){if(u)return o.flags&256?(o.flags&=-257,p=Ah(Error(s(422))),wd(a,o,L,p)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(S=p.fallback,j=o.mode,p=Id({mode:"visible",children:p.children},j,0,null),S=po(S,j,L,null),S.flags|=2,p.return=o,S.return=o,p.sibling=S,o.child=p,(o.mode&1)!==0&&Xo(o,a.child,null,L),o.child.memoizedState=Lh(L),o.memoizedState=Fh,S);if((o.mode&1)===0)return wd(a,o,L,null);if(j.data==="$!"){if(p=j.nextSibling&&j.nextSibling.dataset,p)var K=p.dgst;return p=K,S=Error(s(419)),p=Ah(S,p,void 0),wd(a,o,L,p)}if(K=(L&a.childLanes)!==0,Jr||K){if(p=Sr,p!==null){switch(L&-L){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(p.suspendedLanes|L))!==0?0:j,j!==0&&j!==S.retryLane&&(S.retryLane=j,Dn(a,j),Vs(p,a,j,-1))}return tf(),p=Ah(Error(s(421))),wd(a,o,L,p)}return j.data==="$?"?(o.flags|=128,o.child=a.child,o=c4.bind(null,a),j._reactRetry=o,null):(a=S.treeContext,us=la(j.nextSibling),ds=o,Xt=!0,Os=null,a!==null&&(ys[bs++]=Rn,ys[bs++]=Tn,ys[bs++]=ao,Rn=a.id,Tn=a.overflow,ao=o),o=$h(o,p.children),o.flags|=4096,o)}function S0(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),gh(a.return,o,u)}function Vh(a,o,u,p,j){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:j}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=u,S.tailMode=j)}function k0(a,o,u){var p=o.pendingProps,j=p.revealOrder,S=p.tail;if(Vr(a,o,p.children,u),p=Zt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&S0(a,u,o);else if(a.tag===19)S0(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(Ut(Zt,p),(o.mode&1)===0)o.memoizedState=null;else switch(j){case"forwards":for(u=o.child,j=null;u!==null;)a=u.alternate,a!==null&&pd(a)===null&&(j=u),u=u.sibling;u=j,u===null?(j=o.child,o.child=null):(j=u.sibling,u.sibling=null),Vh(o,!1,j,u,S);break;case"backwards":for(u=null,j=o.child,o.child=null;j!==null;){if(a=j.alternate,a!==null&&pd(a)===null){o.child=j;break}a=j.sibling,j.sibling=u,u=j,j=a}Vh(o,!0,u,null,S);break;case"together":Vh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Nd(a,o){(o.mode&1)===0&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Mn(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),uo|=o.lanes,(u&o.childLanes)===0)return null;if(a!==null&&o.child!==a.child)throw Error(s(153));if(o.child!==null){for(a=o.child,u=ya(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ya(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function XP(a,o,u){switch(o.tag){case 3:j0(o),Qo();break;case 5:$v(o);break;case 1:Xr(o.type)&&ad(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,j=o.memoizedProps.value;Ut(ud,p._currentValue),p._currentValue=j;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ut(Zt,Zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?N0(a,o,u):(Ut(Zt,Zt.current&1),a=Mn(a,o,u),a!==null?a.sibling:null);Ut(Zt,Zt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(a.flags&128)!==0){if(p)return k0(a,o,u);o.flags|=128}if(j=o.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Ut(Zt,Zt.current),p)break;return null;case 22:case 23:return o.lanes=0,v0(a,o,u)}return Mn(a,o,u)}var C0,Uh,P0,_0;C0=function(a,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Uh=function(){},P0=function(a,o,u,p){var j=a.memoizedProps;if(j!==p){a=o.stateNode,lo(dn.current);var S=null;switch(u){case"input":j=Te(a,j),p=Te(a,p),S=[];break;case"select":j=W({},j,{value:void 0}),p=W({},p,{value:void 0}),S=[];break;case"textarea":j=Le(a,j),p=Le(a,p),S=[];break;default:typeof j.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=rd)}Ar(u,p);var L;u=null;for(pe in j)if(!p.hasOwnProperty(pe)&&j.hasOwnProperty(pe)&&j[pe]!=null)if(pe==="style"){var K=j[pe];for(L in K)K.hasOwnProperty(L)&&(u||(u={}),u[L]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?S||(S=[]):(S=S||[]).push(pe,null));for(pe in p){var Z=p[pe];if(K=j!=null?j[pe]:void 0,p.hasOwnProperty(pe)&&Z!==K&&(Z!=null||K!=null))if(pe==="style")if(K){for(L in K)!K.hasOwnProperty(L)||Z&&Z.hasOwnProperty(L)||(u||(u={}),u[L]="");for(L in Z)Z.hasOwnProperty(L)&&K[L]!==Z[L]&&(u||(u={}),u[L]=Z[L])}else u||(S||(S=[]),S.push(pe,u)),u=Z;else pe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(S=S||[]).push(pe,Z)):pe==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(pe,""+Z):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(Z!=null&&pe==="onScroll"&&Ht("scroll",a),S||K===Z||(S=[])):(S=S||[]).push(pe,Z))}u&&(S=S||[]).push("style",u);var pe=S;(o.updateQueue=pe)&&(o.flags|=4)}},_0=function(a,o,u,p){u!==p&&(o.flags|=4)};function Cl(a,o){if(!Xt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Or(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var j=a.child;j!==null;)u|=j.lanes|j.childLanes,p|=j.subtreeFlags&14680064,p|=j.flags&14680064,j.return=a,j=j.sibling;else for(j=a.child;j!==null;)u|=j.lanes|j.childLanes,p|=j.subtreeFlags,p|=j.flags,j.return=a,j=j.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function JP(a,o,u){var p=o.pendingProps;switch(ch(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(o),null;case 1:return Xr(o.type)&&nd(),Or(o),null;case 3:return p=o.stateNode,ei(),Yt(Qr),Yt(Mr),wh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(cd(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Os!==null&&(Jh(Os),Os=null))),Uh(a,o),Or(o),null;case 5:bh(o);var j=lo(jl.current);if(u=o.type,a!==null&&o.stateNode!=null)P0(a,o,u,p,j),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(s(166));return Or(o),null}if(a=lo(dn.current),cd(o)){p=o.stateNode,u=o.type;var S=o.memoizedProps;switch(p[cn]=o,p[gl]=S,a=(o.mode&1)!==0,u){case"dialog":Ht("cancel",p),Ht("close",p);break;case"iframe":case"object":case"embed":Ht("load",p);break;case"video":case"audio":for(j=0;j<hl.length;j++)Ht(hl[j],p);break;case"source":Ht("error",p);break;case"img":case"image":case"link":Ht("error",p),Ht("load",p);break;case"details":Ht("toggle",p);break;case"input":gt(p,S),Ht("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},Ht("invalid",p);break;case"textarea":ie(p,S),Ht("invalid",p)}Ar(u,S),j=null;for(var L in S)if(S.hasOwnProperty(L)){var K=S[L];L==="children"?typeof K=="string"?p.textContent!==K&&(S.suppressHydrationWarning!==!0&&td(p.textContent,K,a),j=["children",K]):typeof K=="number"&&p.textContent!==""+K&&(S.suppressHydrationWarning!==!0&&td(p.textContent,K,a),j=["children",""+K]):i.hasOwnProperty(L)&&K!=null&&L==="onScroll"&&Ht("scroll",p)}switch(u){case"input":fe(p),cr(p,S,!0);break;case"textarea":fe(p),Ae(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=rd)}p=j,o.updateQueue=p,p!==null&&(o.flags|=4)}else{L=j.nodeType===9?j:j.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ie(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?(a=L.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=L.createElement(u,{is:p.is}):(a=L.createElement(u),u==="select"&&(L=a,p.multiple?L.multiple=!0:p.size&&(L.size=p.size))):a=L.createElementNS(a,u),a[cn]=o,a[gl]=p,C0(a,o,!1,!1),o.stateNode=a;e:{switch(L=Ts(u,p),u){case"dialog":Ht("cancel",a),Ht("close",a),j=p;break;case"iframe":case"object":case"embed":Ht("load",a),j=p;break;case"video":case"audio":for(j=0;j<hl.length;j++)Ht(hl[j],a);j=p;break;case"source":Ht("error",a),j=p;break;case"img":case"image":case"link":Ht("error",a),Ht("load",a),j=p;break;case"details":Ht("toggle",a),j=p;break;case"input":gt(a,p),j=Te(a,p),Ht("invalid",a);break;case"option":j=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},j=W({},p,{value:void 0}),Ht("invalid",a);break;case"textarea":ie(a,p),j=Le(a,p),Ht("invalid",a);break;default:j=p}Ar(u,j),K=j;for(S in K)if(K.hasOwnProperty(S)){var Z=K[S];S==="style"?Mt(a,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&St(a,Z)):S==="children"?typeof Z=="string"?(u!=="textarea"||Z!=="")&&qe(a,Z):typeof Z=="number"&&qe(a,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&Ht("scroll",a):Z!=null&&P(a,S,Z,L))}switch(u){case"input":fe(a),cr(a,p,!1);break;case"textarea":fe(a),Ae(a);break;case"option":p.value!=null&&a.setAttribute("value",""+de(p.value));break;case"select":a.multiple=!!p.multiple,S=p.value,S!=null?ae(a,!!p.multiple,S,!1):p.defaultValue!=null&&ae(a,!!p.multiple,p.defaultValue,!0);break;default:typeof j.onClick=="function"&&(a.onclick=rd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Or(o),null;case 6:if(a&&o.stateNode!=null)_0(a,o,a.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(s(166));if(u=lo(jl.current),lo(dn.current),cd(o)){if(p=o.stateNode,u=o.memoizedProps,p[cn]=o,(S=p.nodeValue!==u)&&(a=ds,a!==null))switch(a.tag){case 3:td(p.nodeValue,u,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&td(p.nodeValue,u,(a.mode&1)!==0)}S&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[cn]=o,o.stateNode=p}return Or(o),null;case 13:if(Yt(Zt),p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Xt&&us!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Tv(),Qo(),o.flags|=98560,S=!1;else if(S=cd(o),p!==null&&p.dehydrated!==null){if(a===null){if(!S)throw Error(s(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[cn]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Or(o),S=!1}else Os!==null&&(Jh(Os),Os=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(a===null||(Zt.current&1)!==0?vr===0&&(vr=3):tf())),o.updateQueue!==null&&(o.flags|=4),Or(o),null);case 4:return ei(),Uh(a,o),a===null&&fl(o.stateNode.containerInfo),Or(o),null;case 10:return ph(o.type._context),Or(o),null;case 17:return Xr(o.type)&&nd(),Or(o),null;case 19:if(Yt(Zt),S=o.memoizedState,S===null)return Or(o),null;if(p=(o.flags&128)!==0,L=S.rendering,L===null)if(p)Cl(S,!1);else{if(vr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(L=pd(a),L!==null){for(o.flags|=128,Cl(S,!1),p=L.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)S=u,a=p,S.flags&=14680066,L=S.alternate,L===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=L.childLanes,S.lanes=L.lanes,S.child=L.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=L.memoizedProps,S.memoizedState=L.memoizedState,S.updateQueue=L.updateQueue,S.type=L.type,a=L.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return Ut(Zt,Zt.current&1|2),o.child}a=a.sibling}S.tail!==null&&dr()>ni&&(o.flags|=128,p=!0,Cl(S,!1),o.lanes=4194304)}else{if(!p)if(a=pd(L),a!==null){if(o.flags|=128,p=!0,u=a.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Cl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!L.alternate&&!Xt)return Or(o),null}else 2*dr()-S.renderingStartTime>ni&&u!==1073741824&&(o.flags|=128,p=!0,Cl(S,!1),o.lanes=4194304);S.isBackwards?(L.sibling=o.child,o.child=L):(u=S.last,u!==null?u.sibling=L:o.child=L,S.last=L)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=dr(),o.sibling=null,u=Zt.current,Ut(Zt,p?u&1|2:u&1),o):(Or(o),null);case 22:case 23:return ef(),p=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(ms&1073741824)!==0&&(Or(o),o.subtreeFlags&6&&(o.flags|=8192)):Or(o),null;case 24:return null;case 25:return null}throw Error(s(156,o.tag))}function ZP(a,o){switch(ch(o),o.tag){case 1:return Xr(o.type)&&nd(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ei(),Yt(Qr),Yt(Mr),wh(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 5:return bh(o),null;case 13:if(Yt(Zt),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Qo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Yt(Zt),null;case 4:return ei(),null;case 10:return ph(o.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Sd=!1,Fr=!1,e4=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ri(a,o){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){nr(a,o,p)}else u.current=null}function Bh(a,o,u){try{u()}catch(p){nr(a,o,p)}}var E0=!1;function t4(a,o){if(eh=qc,a=iv(),Hm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var j=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var L=0,K=-1,Z=-1,pe=0,Ne=0,Pe=a,je=null;t:for(;;){for(var Fe;Pe!==u||j!==0&&Pe.nodeType!==3||(K=L+j),Pe!==S||p!==0&&Pe.nodeType!==3||(Z=L+p),Pe.nodeType===3&&(L+=Pe.nodeValue.length),(Fe=Pe.firstChild)!==null;)je=Pe,Pe=Fe;for(;;){if(Pe===a)break t;if(je===u&&++pe===j&&(K=L),je===S&&++Ne===p&&(Z=L),(Fe=Pe.nextSibling)!==null)break;Pe=je,je=Pe.parentNode}Pe=Fe}u=K===-1||Z===-1?null:{start:K,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(th={focusedElem:a,selectionRange:u},qc=!1,$e=o;$e!==null;)if(o=$e,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,$e=a;else for(;$e!==null;){o=$e;try{var Ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Be=Ve.memoizedProps,ur=Ve.memoizedState,ce=o.stateNode,ee=ce.getSnapshotBeforeUpdate(o.elementType===o.type?Be:Fs(o.type,Be),ur);ce.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var me=o.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){nr(o,o.return,Ee)}if(a=o.sibling,a!==null){a.return=o.return,$e=a;break}$e=o.return}return Ve=E0,E0=!1,Ve}function Pl(a,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var j=p=p.next;do{if((j.tag&a)===a){var S=j.destroy;j.destroy=void 0,S!==void 0&&Bh(o,u,S)}j=j.next}while(j!==p)}}function kd(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&a)===a){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function zh(a){var o=a.ref;if(o!==null){var u=a.stateNode;switch(a.tag){case 5:a=u;break;default:a=u}typeof o=="function"?o(a):o.current=a}}function R0(a){var o=a.alternate;o!==null&&(a.alternate=null,R0(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[cn],delete o[gl],delete o[ah],delete o[FP],delete o[LP])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function T0(a){return a.tag===5||a.tag===3||a.tag===4}function D0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||T0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function qh(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(a,o):u.insertBefore(a,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(a,u)):(o=u,o.appendChild(a)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=rd));else if(p!==4&&(a=a.child,a!==null))for(qh(a,o,u),a=a.sibling;a!==null;)qh(a,o,u),a=a.sibling}function Wh(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(Wh(a,o,u),a=a.sibling;a!==null;)Wh(a,o,u),a=a.sibling}var Er=null,Ls=!1;function fa(a,o,u){for(u=u.child;u!==null;)A0(a,o,u),u=u.sibling}function A0(a,o,u){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Lc,u)}catch{}switch(u.tag){case 5:Fr||ri(u,o);case 6:var p=Er,j=Ls;Er=null,fa(a,o,u),Er=p,Ls=j,Er!==null&&(Ls?(a=Er,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):Er.removeChild(u.stateNode));break;case 18:Er!==null&&(Ls?(a=Er,u=u.stateNode,a.nodeType===8?nh(a.parentNode,u):a.nodeType===1&&nh(a,u),al(a)):nh(Er,u.stateNode));break;case 4:p=Er,j=Ls,Er=u.stateNode.containerInfo,Ls=!0,fa(a,o,u),Er=p,Ls=j;break;case 0:case 11:case 14:case 15:if(!Fr&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){j=p=p.next;do{var S=j,L=S.destroy;S=S.tag,L!==void 0&&((S&2)!==0||(S&4)!==0)&&Bh(u,o,L),j=j.next}while(j!==p)}fa(a,o,u);break;case 1:if(!Fr&&(ri(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(K){nr(u,o,K)}fa(a,o,u);break;case 21:fa(a,o,u);break;case 22:u.mode&1?(Fr=(p=Fr)||u.memoizedState!==null,fa(a,o,u),Fr=p):fa(a,o,u);break;default:fa(a,o,u)}}function M0(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new e4),o.forEach(function(p){var j=d4.bind(null,a,p);u.has(p)||(u.add(p),p.then(j,j))})}}function $s(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var j=u[p];try{var S=a,L=o,K=L;e:for(;K!==null;){switch(K.tag){case 5:Er=K.stateNode,Ls=!1;break e;case 3:Er=K.stateNode.containerInfo,Ls=!0;break e;case 4:Er=K.stateNode.containerInfo,Ls=!0;break e}K=K.return}if(Er===null)throw Error(s(160));A0(S,L,j),Er=null,Ls=!1;var Z=j.alternate;Z!==null&&(Z.return=null),j.return=null}catch(pe){nr(j,o,pe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)I0(o,a),o=o.sibling}function I0(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if($s(o,a),mn(a),p&4){try{Pl(3,a,a.return),kd(3,a)}catch(Be){nr(a,a.return,Be)}try{Pl(5,a,a.return)}catch(Be){nr(a,a.return,Be)}}break;case 1:$s(o,a),mn(a),p&512&&u!==null&&ri(u,u.return);break;case 5:if($s(o,a),mn(a),p&512&&u!==null&&ri(u,u.return),a.flags&32){var j=a.stateNode;try{qe(j,"")}catch(Be){nr(a,a.return,Be)}}if(p&4&&(j=a.stateNode,j!=null)){var S=a.memoizedProps,L=u!==null?u.memoizedProps:S,K=a.type,Z=a.updateQueue;if(a.updateQueue=null,Z!==null)try{K==="input"&&S.type==="radio"&&S.name!=null&&Lt(j,S),Ts(K,L);var pe=Ts(K,S);for(L=0;L<Z.length;L+=2){var Ne=Z[L],Pe=Z[L+1];Ne==="style"?Mt(j,Pe):Ne==="dangerouslySetInnerHTML"?St(j,Pe):Ne==="children"?qe(j,Pe):P(j,Ne,Pe,pe)}switch(K){case"input":Qt(j,S);break;case"textarea":_e(j,S);break;case"select":var je=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!S.multiple;var Fe=S.value;Fe!=null?ae(j,!!S.multiple,Fe,!1):je!==!!S.multiple&&(S.defaultValue!=null?ae(j,!!S.multiple,S.defaultValue,!0):ae(j,!!S.multiple,S.multiple?[]:"",!1))}j[gl]=S}catch(Be){nr(a,a.return,Be)}}break;case 6:if($s(o,a),mn(a),p&4){if(a.stateNode===null)throw Error(s(162));j=a.stateNode,S=a.memoizedProps;try{j.nodeValue=S}catch(Be){nr(a,a.return,Be)}}break;case 3:if($s(o,a),mn(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{al(o.containerInfo)}catch(Be){nr(a,a.return,Be)}break;case 4:$s(o,a),mn(a);break;case 13:$s(o,a),mn(a),j=a.child,j.flags&8192&&(S=j.memoizedState!==null,j.stateNode.isHidden=S,!S||j.alternate!==null&&j.alternate.memoizedState!==null||(Kh=dr())),p&4&&M0(a);break;case 22:if(Ne=u!==null&&u.memoizedState!==null,a.mode&1?(Fr=(pe=Fr)||Ne,$s(o,a),Fr=pe):$s(o,a),mn(a),p&8192){if(pe=a.memoizedState!==null,(a.stateNode.isHidden=pe)&&!Ne&&(a.mode&1)!==0)for($e=a,Ne=a.child;Ne!==null;){for(Pe=$e=Ne;$e!==null;){switch(je=$e,Fe=je.child,je.tag){case 0:case 11:case 14:case 15:Pl(4,je,je.return);break;case 1:ri(je,je.return);var Ve=je.stateNode;if(typeof Ve.componentWillUnmount=="function"){p=je,u=je.return;try{o=p,Ve.props=o.memoizedProps,Ve.state=o.memoizedState,Ve.componentWillUnmount()}catch(Be){nr(p,u,Be)}}break;case 5:ri(je,je.return);break;case 22:if(je.memoizedState!==null){L0(Pe);continue}}Fe!==null?(Fe.return=je,$e=Fe):L0(Pe)}Ne=Ne.sibling}e:for(Ne=null,Pe=a;;){if(Pe.tag===5){if(Ne===null){Ne=Pe;try{j=Pe.stateNode,pe?(S=j.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(K=Pe.stateNode,Z=Pe.memoizedProps.style,L=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=Nt("display",L))}catch(Be){nr(a,a.return,Be)}}}else if(Pe.tag===6){if(Ne===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Be){nr(a,a.return,Be)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===a)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===a)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===a)break e;Ne===Pe&&(Ne=null),Pe=Pe.return}Ne===Pe&&(Ne=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:$s(o,a),mn(a),p&4&&M0(a);break;case 21:break;default:$s(o,a),mn(a)}}function mn(a){var o=a.flags;if(o&2){try{e:{for(var u=a.return;u!==null;){if(T0(u)){var p=u;break e}u=u.return}throw Error(s(160))}switch(p.tag){case 5:var j=p.stateNode;p.flags&32&&(qe(j,""),p.flags&=-33);var S=D0(a);Wh(a,S,j);break;case 3:case 4:var L=p.stateNode.containerInfo,K=D0(a);qh(a,K,L);break;default:throw Error(s(161))}}catch(Z){nr(a,a.return,Z)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function r4(a,o,u){$e=a,O0(a)}function O0(a,o,u){for(var p=(a.mode&1)!==0;$e!==null;){var j=$e,S=j.child;if(j.tag===22&&p){var L=j.memoizedState!==null||Sd;if(!L){var K=j.alternate,Z=K!==null&&K.memoizedState!==null||Fr;K=Sd;var pe=Fr;if(Sd=L,(Fr=Z)&&!pe)for($e=j;$e!==null;)L=$e,Z=L.child,L.tag===22&&L.memoizedState!==null?$0(j):Z!==null?(Z.return=L,$e=Z):$0(j);for(;S!==null;)$e=S,O0(S),S=S.sibling;$e=j,Sd=K,Fr=pe}F0(a)}else(j.subtreeFlags&8772)!==0&&S!==null?(S.return=j,$e=S):F0(a)}}function F0(a){for(;$e!==null;){var o=$e;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Fr||kd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Fr)if(u===null)p.componentDidMount();else{var j=o.elementType===o.type?u.memoizedProps:Fs(o.type,u.memoizedProps);p.componentDidUpdate(j,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&Lv(o,S,p);break;case 3:var L=o.updateQueue;if(L!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Lv(o,L,u)}break;case 5:var K=o.stateNode;if(u===null&&o.flags&4){u=K;var Z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&u.focus();break;case"img":Z.src&&(u.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var pe=o.alternate;if(pe!==null){var Ne=pe.memoizedState;if(Ne!==null){var Pe=Ne.dehydrated;Pe!==null&&al(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Fr||o.flags&512&&zh(o)}catch(je){nr(o,o.return,je)}}if(o===a){$e=null;break}if(u=o.sibling,u!==null){u.return=o.return,$e=u;break}$e=o.return}}function L0(a){for(;$e!==null;){var o=$e;if(o===a){$e=null;break}var u=o.sibling;if(u!==null){u.return=o.return,$e=u;break}$e=o.return}}function $0(a){for(;$e!==null;){var o=$e;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{kd(4,o)}catch(Z){nr(o,u,Z)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var j=o.return;try{p.componentDidMount()}catch(Z){nr(o,j,Z)}}var S=o.return;try{zh(o)}catch(Z){nr(o,S,Z)}break;case 5:var L=o.return;try{zh(o)}catch(Z){nr(o,L,Z)}}}catch(Z){nr(o,o.return,Z)}if(o===a){$e=null;break}var K=o.sibling;if(K!==null){K.return=o.return,$e=K;break}$e=o.return}}var s4=Math.ceil,Cd=O.ReactCurrentDispatcher,Hh=O.ReactCurrentOwner,Ns=O.ReactCurrentBatchConfig,kt=0,Sr=null,fr=null,Rr=0,ms=0,si=ca(0),vr=0,_l=null,uo=0,Pd=0,Yh=0,El=null,Zr=null,Kh=0,ni=1/0,In=null,_d=!1,Gh=null,pa=null,Ed=!1,ga=null,Rd=0,Rl=0,Qh=null,Td=-1,Dd=0;function Ur(){return(kt&6)!==0?dr():Td!==-1?Td:Td=dr()}function xa(a){return(a.mode&1)===0?1:(kt&2)!==0&&Rr!==0?Rr&-Rr:VP.transition!==null?(Dd===0&&(Dd=Dx()),Dd):(a=Tt,a!==0||(a=window.event,a=a===void 0?16:Ux(a.type)),a)}function Vs(a,o,u,p){if(50<Rl)throw Rl=0,Qh=null,Error(s(185));el(a,u,p),((kt&2)===0||a!==Sr)&&(a===Sr&&((kt&2)===0&&(Pd|=u),vr===4&&va(a,Rr)),es(a,p),u===1&&kt===0&&(o.mode&1)===0&&(ni=dr()+500,od&&ua()))}function es(a,o){var u=a.callbackNode;VC(a,o);var p=Uc(a,a===Sr?Rr:0);if(p===0)u!==null&&Ex(u),a.callbackNode=null,a.callbackPriority=0;else if(o=p&-p,a.callbackPriority!==o){if(u!=null&&Ex(u),o===1)a.tag===0?$P(U0.bind(null,a)):Cv(U0.bind(null,a)),IP(function(){(kt&6)===0&&ua()}),u=null;else{switch(Ax(p)){case 1:u=Em;break;case 4:u=Rx;break;case 16:u=Fc;break;case 536870912:u=Tx;break;default:u=Fc}u=G0(u,V0.bind(null,a))}a.callbackPriority=o,a.callbackNode=u}}function V0(a,o){if(Td=-1,Dd=0,(kt&6)!==0)throw Error(s(327));var u=a.callbackNode;if(ai()&&a.callbackNode!==u)return null;var p=Uc(a,a===Sr?Rr:0);if(p===0)return null;if((p&30)!==0||(p&a.expiredLanes)!==0||o)o=Ad(a,p);else{o=p;var j=kt;kt|=2;var S=z0();(Sr!==a||Rr!==o)&&(In=null,ni=dr()+500,ho(a,o));do try{o4();break}catch(K){B0(a,K)}while(!0);fh(),Cd.current=S,kt=j,fr!==null?o=0:(Sr=null,Rr=0,o=vr)}if(o!==0){if(o===2&&(j=Rm(a),j!==0&&(p=j,o=Xh(a,j))),o===1)throw u=_l,ho(a,0),va(a,p),es(a,dr()),u;if(o===6)va(a,p);else{if(j=a.current.alternate,(p&30)===0&&!n4(j)&&(o=Ad(a,p),o===2&&(S=Rm(a),S!==0&&(p=S,o=Xh(a,S))),o===1))throw u=_l,ho(a,0),va(a,p),es(a,dr()),u;switch(a.finishedWork=j,a.finishedLanes=p,o){case 0:case 1:throw Error(s(345));case 2:fo(a,Zr,In);break;case 3:if(va(a,p),(p&130023424)===p&&(o=Kh+500-dr(),10<o)){if(Uc(a,0)!==0)break;if(j=a.suspendedLanes,(j&p)!==p){Ur(),a.pingedLanes|=a.suspendedLanes&j;break}a.timeoutHandle=sh(fo.bind(null,a,Zr,In),o);break}fo(a,Zr,In);break;case 4:if(va(a,p),(p&4194240)===p)break;for(o=a.eventTimes,j=-1;0<p;){var L=31-Ms(p);S=1<<L,L=o[L],L>j&&(j=L),p&=~S}if(p=j,p=dr()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*s4(p/1960))-p,10<p){a.timeoutHandle=sh(fo.bind(null,a,Zr,In),p);break}fo(a,Zr,In);break;case 5:fo(a,Zr,In);break;default:throw Error(s(329))}}}return es(a,dr()),a.callbackNode===u?V0.bind(null,a):null}function Xh(a,o){var u=El;return a.current.memoizedState.isDehydrated&&(ho(a,o).flags|=256),a=Ad(a,o),a!==2&&(o=Zr,Zr=u,o!==null&&Jh(o)),a}function Jh(a){Zr===null?Zr=a:Zr.push.apply(Zr,a)}function n4(a){for(var o=a;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var j=u[p],S=j.getSnapshot;j=j.value;try{if(!Is(S(),j))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function va(a,o){for(o&=~Yh,o&=~Pd,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var u=31-Ms(o),p=1<<u;a[u]=-1,o&=~p}}function U0(a){if((kt&6)!==0)throw Error(s(327));ai();var o=Uc(a,0);if((o&1)===0)return es(a,dr()),null;var u=Ad(a,o);if(a.tag!==0&&u===2){var p=Rm(a);p!==0&&(o=p,u=Xh(a,p))}if(u===1)throw u=_l,ho(a,0),va(a,o),es(a,dr()),u;if(u===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,fo(a,Zr,In),es(a,dr()),null}function Zh(a,o){var u=kt;kt|=1;try{return a(o)}finally{kt=u,kt===0&&(ni=dr()+500,od&&ua())}}function mo(a){ga!==null&&ga.tag===0&&(kt&6)===0&&ai();var o=kt;kt|=1;var u=Ns.transition,p=Tt;try{if(Ns.transition=null,Tt=1,a)return a()}finally{Tt=p,Ns.transition=u,kt=o,(kt&6)===0&&ua()}}function ef(){ms=si.current,Yt(si)}function ho(a,o){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,MP(u)),fr!==null)for(u=fr.return;u!==null;){var p=u;switch(ch(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&nd();break;case 3:ei(),Yt(Qr),Yt(Mr),wh();break;case 5:bh(p);break;case 4:ei();break;case 13:Yt(Zt);break;case 19:Yt(Zt);break;case 10:ph(p.type._context);break;case 22:case 23:ef()}u=u.return}if(Sr=a,fr=a=ya(a.current,null),Rr=ms=o,vr=0,_l=null,Yh=Pd=uo=0,Zr=El=null,io!==null){for(o=0;o<io.length;o++)if(u=io[o],p=u.interleaved,p!==null){u.interleaved=null;var j=p.next,S=u.pending;if(S!==null){var L=S.next;S.next=j,p.next=L}u.pending=p}io=null}return a}function B0(a,o){do{var u=fr;try{if(fh(),gd.current=bd,xd){for(var p=er.memoizedState;p!==null;){var j=p.queue;j!==null&&(j.pending=null),p=p.next}xd=!1}if(co=0,Nr=xr=er=null,wl=!1,Nl=0,Hh.current=null,u===null||u.return===null){vr=1,_l=o,fr=null;break}e:{var S=a,L=u.return,K=u,Z=o;if(o=Rr,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var pe=Z,Ne=K,Pe=Ne.tag;if((Ne.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var je=Ne.alternate;je?(Ne.updateQueue=je.updateQueue,Ne.memoizedState=je.memoizedState,Ne.lanes=je.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Fe=h0(L);if(Fe!==null){Fe.flags&=-257,f0(Fe,L,K,S,o),Fe.mode&1&&m0(S,pe,o),o=Fe,Z=pe;var Ve=o.updateQueue;if(Ve===null){var Be=new Set;Be.add(Z),o.updateQueue=Be}else Ve.add(Z);break e}else{if((o&1)===0){m0(S,pe,o),tf();break e}Z=Error(s(426))}}else if(Xt&&K.mode&1){var ur=h0(L);if(ur!==null){(ur.flags&65536)===0&&(ur.flags|=256),f0(ur,L,K,S,o),mh(ti(Z,K));break e}}S=Z=ti(Z,K),vr!==4&&(vr=2),El===null?El=[S]:El.push(S),S=L;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var ce=d0(S,Z,o);Fv(S,ce);break e;case 1:K=Z;var ee=S.type,me=S.stateNode;if((S.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(pa===null||!pa.has(me)))){S.flags|=65536,o&=-o,S.lanes|=o;var Ee=u0(S,K,o);Fv(S,Ee);break e}}S=S.return}while(S!==null)}W0(u)}catch(ze){o=ze,fr===u&&u!==null&&(fr=u=u.return);continue}break}while(!0)}function z0(){var a=Cd.current;return Cd.current=bd,a===null?bd:a}function tf(){(vr===0||vr===3||vr===2)&&(vr=4),Sr===null||(uo&268435455)===0&&(Pd&268435455)===0||va(Sr,Rr)}function Ad(a,o){var u=kt;kt|=2;var p=z0();(Sr!==a||Rr!==o)&&(In=null,ho(a,o));do try{a4();break}catch(j){B0(a,j)}while(!0);if(fh(),kt=u,Cd.current=p,fr!==null)throw Error(s(261));return Sr=null,Rr=0,vr}function a4(){for(;fr!==null;)q0(fr)}function o4(){for(;fr!==null&&!TC();)q0(fr)}function q0(a){var o=K0(a.alternate,a,ms);a.memoizedProps=a.pendingProps,o===null?W0(a):fr=o,Hh.current=null}function W0(a){var o=a;do{var u=o.alternate;if(a=o.return,(o.flags&32768)===0){if(u=JP(u,o,ms),u!==null){fr=u;return}}else{if(u=ZP(u,o),u!==null){u.flags&=32767,fr=u;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{vr=6,fr=null;return}}if(o=o.sibling,o!==null){fr=o;return}fr=o=a}while(o!==null);vr===0&&(vr=5)}function fo(a,o,u){var p=Tt,j=Ns.transition;try{Ns.transition=null,Tt=1,i4(a,o,u,p)}finally{Ns.transition=j,Tt=p}return null}function i4(a,o,u,p){do ai();while(ga!==null);if((kt&6)!==0)throw Error(s(327));u=a.finishedWork;var j=a.finishedLanes;if(u===null)return null;if(a.finishedWork=null,a.finishedLanes=0,u===a.current)throw Error(s(177));a.callbackNode=null,a.callbackPriority=0;var S=u.lanes|u.childLanes;if(UC(a,S),a===Sr&&(fr=Sr=null,Rr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ed||(Ed=!0,G0(Fc,function(){return ai(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=Ns.transition,Ns.transition=null;var L=Tt;Tt=1;var K=kt;kt|=4,Hh.current=null,t4(a,u),I0(u,a),PP(th),qc=!!eh,th=eh=null,a.current=u,r4(u),DC(),kt=K,Tt=L,Ns.transition=S}else a.current=u;if(Ed&&(Ed=!1,ga=a,Rd=j),S=a.pendingLanes,S===0&&(pa=null),IC(u.stateNode),es(a,dr()),o!==null)for(p=a.onRecoverableError,u=0;u<o.length;u++)j=o[u],p(j.value,{componentStack:j.stack,digest:j.digest});if(_d)throw _d=!1,a=Gh,Gh=null,a;return(Rd&1)!==0&&a.tag!==0&&ai(),S=a.pendingLanes,(S&1)!==0?a===Qh?Rl++:(Rl=0,Qh=a):Rl=0,ua(),null}function ai(){if(ga!==null){var a=Ax(Rd),o=Ns.transition,u=Tt;try{if(Ns.transition=null,Tt=16>a?16:a,ga===null)var p=!1;else{if(a=ga,ga=null,Rd=0,(kt&6)!==0)throw Error(s(331));var j=kt;for(kt|=4,$e=a.current;$e!==null;){var S=$e,L=S.child;if(($e.flags&16)!==0){var K=S.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var pe=K[Z];for($e=pe;$e!==null;){var Ne=$e;switch(Ne.tag){case 0:case 11:case 15:Pl(8,Ne,S)}var Pe=Ne.child;if(Pe!==null)Pe.return=Ne,$e=Pe;else for(;$e!==null;){Ne=$e;var je=Ne.sibling,Fe=Ne.return;if(R0(Ne),Ne===pe){$e=null;break}if(je!==null){je.return=Fe,$e=je;break}$e=Fe}}}var Ve=S.alternate;if(Ve!==null){var Be=Ve.child;if(Be!==null){Ve.child=null;do{var ur=Be.sibling;Be.sibling=null,Be=ur}while(Be!==null)}}$e=S}}if((S.subtreeFlags&2064)!==0&&L!==null)L.return=S,$e=L;else e:for(;$e!==null;){if(S=$e,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Pl(9,S,S.return)}var ce=S.sibling;if(ce!==null){ce.return=S.return,$e=ce;break e}$e=S.return}}var ee=a.current;for($e=ee;$e!==null;){L=$e;var me=L.child;if((L.subtreeFlags&2064)!==0&&me!==null)me.return=L,$e=me;else e:for(L=ee;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:kd(9,K)}}catch(ze){nr(K,K.return,ze)}if(K===L){$e=null;break e}var Ee=K.sibling;if(Ee!==null){Ee.return=K.return,$e=Ee;break e}$e=K.return}}if(kt=j,ua(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Lc,a)}catch{}p=!0}return p}finally{Tt=u,Ns.transition=o}}return!1}function H0(a,o,u){o=ti(u,o),o=d0(a,o,1),a=ha(a,o,1),o=Ur(),a!==null&&(el(a,1,o),es(a,o))}function nr(a,o,u){if(a.tag===3)H0(a,a,u);else for(;o!==null;){if(o.tag===3){H0(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(pa===null||!pa.has(p))){a=ti(u,a),a=u0(o,a,1),o=ha(o,a,1),a=Ur(),o!==null&&(el(o,1,a),es(o,a));break}}o=o.return}}function l4(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),o=Ur(),a.pingedLanes|=a.suspendedLanes&u,Sr===a&&(Rr&u)===u&&(vr===4||vr===3&&(Rr&130023424)===Rr&&500>dr()-Kh?ho(a,0):Yh|=u),es(a,o)}function Y0(a,o){o===0&&((a.mode&1)===0?o=1:(o=Vc,Vc<<=1,(Vc&130023424)===0&&(Vc=4194304)));var u=Ur();a=Dn(a,o),a!==null&&(el(a,o,u),es(a,u))}function c4(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),Y0(a,u)}function d4(a,o){var u=0;switch(a.tag){case 13:var p=a.stateNode,j=a.memoizedState;j!==null&&(u=j.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(o),Y0(a,u)}var K0;K0=function(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps||Qr.current)Jr=!0;else{if((a.lanes&u)===0&&(o.flags&128)===0)return Jr=!1,XP(a,o,u);Jr=(a.flags&131072)!==0}else Jr=!1,Xt&&(o.flags&1048576)!==0&&Pv(o,ld,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Nd(a,o),a=o.pendingProps;var j=Yo(o,Mr.current);Zo(o,u),j=kh(null,o,p,a,j,u);var S=Ch();return o.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xr(p)?(S=!0,ad(o)):S=!1,o.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,vh(o),j.updater=jd,o.stateNode=j,j._reactInternals=o,Dh(o,p,a,u),o=Oh(null,o,p,!0,S,u)):(o.tag=0,Xt&&S&&lh(o),Vr(null,o,j,u),o=o.child),o;case 16:p=o.elementType;e:{switch(Nd(a,o),a=o.pendingProps,j=p._init,p=j(p._payload),o.type=p,j=o.tag=m4(p),a=Fs(p,a),j){case 0:o=Ih(null,o,p,a,u);break e;case 1:o=b0(null,o,p,a,u);break e;case 11:o=p0(null,o,p,a,u);break e;case 14:o=g0(null,o,p,Fs(p.type,a),u);break e}throw Error(s(306,p,""))}return o;case 0:return p=o.type,j=o.pendingProps,j=o.elementType===p?j:Fs(p,j),Ih(a,o,p,j,u);case 1:return p=o.type,j=o.pendingProps,j=o.elementType===p?j:Fs(p,j),b0(a,o,p,j,u);case 3:e:{if(j0(o),a===null)throw Error(s(387));p=o.pendingProps,S=o.memoizedState,j=S.element,Ov(a,o),fd(o,p,null,u);var L=o.memoizedState;if(p=L.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){j=ti(Error(s(423)),o),o=w0(a,o,p,u,j);break e}else if(p!==j){j=ti(Error(s(424)),o),o=w0(a,o,p,u,j);break e}else for(us=la(o.stateNode.containerInfo.firstChild),ds=o,Xt=!0,Os=null,u=Mv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Qo(),p===j){o=Mn(a,o,u);break e}Vr(a,o,p,u)}o=o.child}return o;case 5:return $v(o),a===null&&uh(o),p=o.type,j=o.pendingProps,S=a!==null?a.memoizedProps:null,L=j.children,rh(p,j)?L=null:S!==null&&rh(p,S)&&(o.flags|=32),y0(a,o),Vr(a,o,L,u),o.child;case 6:return a===null&&uh(o),null;case 13:return N0(a,o,u);case 4:return yh(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Xo(o,null,p,u):Vr(a,o,p,u),o.child;case 11:return p=o.type,j=o.pendingProps,j=o.elementType===p?j:Fs(p,j),p0(a,o,p,j,u);case 7:return Vr(a,o,o.pendingProps,u),o.child;case 8:return Vr(a,o,o.pendingProps.children,u),o.child;case 12:return Vr(a,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,j=o.pendingProps,S=o.memoizedProps,L=j.value,Ut(ud,p._currentValue),p._currentValue=L,S!==null)if(Is(S.value,L)){if(S.children===j.children&&!Qr.current){o=Mn(a,o,u);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var K=S.dependencies;if(K!==null){L=S.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===p){if(S.tag===1){Z=An(-1,u&-u),Z.tag=2;var pe=S.updateQueue;if(pe!==null){pe=pe.shared;var Ne=pe.pending;Ne===null?Z.next=Z:(Z.next=Ne.next,Ne.next=Z),pe.pending=Z}}S.lanes|=u,Z=S.alternate,Z!==null&&(Z.lanes|=u),gh(S.return,u,o),K.lanes|=u;break}Z=Z.next}}else if(S.tag===10)L=S.type===o.type?null:S.child;else if(S.tag===18){if(L=S.return,L===null)throw Error(s(341));L.lanes|=u,K=L.alternate,K!==null&&(K.lanes|=u),gh(L,u,o),L=S.sibling}else L=S.child;if(L!==null)L.return=S;else for(L=S;L!==null;){if(L===o){L=null;break}if(S=L.sibling,S!==null){S.return=L.return,L=S;break}L=L.return}S=L}Vr(a,o,j.children,u),o=o.child}return o;case 9:return j=o.type,p=o.pendingProps.children,Zo(o,u),j=js(j),p=p(j),o.flags|=1,Vr(a,o,p,u),o.child;case 14:return p=o.type,j=Fs(p,o.pendingProps),j=Fs(p.type,j),g0(a,o,p,j,u);case 15:return x0(a,o,o.type,o.pendingProps,u);case 17:return p=o.type,j=o.pendingProps,j=o.elementType===p?j:Fs(p,j),Nd(a,o),o.tag=1,Xr(p)?(a=!0,ad(o)):a=!1,Zo(o,u),l0(o,p,j),Dh(o,p,j,u),Oh(null,o,p,!0,a,u);case 19:return k0(a,o,u);case 22:return v0(a,o,u)}throw Error(s(156,o.tag))};function G0(a,o){return _x(a,o)}function u4(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(a,o,u,p){return new u4(a,o,u,p)}function rf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function m4(a){if(typeof a=="function")return rf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===_)return 11;if(a===Q)return 14}return 2}function ya(a,o){var u=a.alternate;return u===null?(u=Ss(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&14680064,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function Md(a,o,u,p,j,S){var L=2;if(p=a,typeof a=="function")rf(a)&&(L=1);else if(typeof a=="string")L=5;else e:switch(a){case M:return po(u.children,j,S,o);case V:L=8,j|=8;break;case k:return a=Ss(12,u,o,j|2),a.elementType=k,a.lanes=S,a;case $:return a=Ss(13,u,o,j),a.elementType=$,a.lanes=S,a;case T:return a=Ss(19,u,o,j),a.elementType=T,a.lanes=S,a;case F:return Id(u,j,S,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:L=10;break e;case B:L=9;break e;case _:L=11;break e;case Q:L=14;break e;case Y:L=16,p=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return o=Ss(L,u,o,j),o.elementType=a,o.type=p,o.lanes=S,o}function po(a,o,u,p){return a=Ss(7,a,p,o),a.lanes=u,a}function Id(a,o,u,p){return a=Ss(22,a,p,o),a.elementType=F,a.lanes=u,a.stateNode={isHidden:!1},a}function sf(a,o,u){return a=Ss(6,a,null,o),a.lanes=u,a}function nf(a,o,u){return o=Ss(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function h4(a,o,u,p,j){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=p,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function af(a,o,u,p,j,S,L,K,Z){return a=new h4(a,o,u,K,Z),o===1?(o=1,S===!0&&(o|=8)):o=0,S=Ss(3,null,null,o),a.current=S,S.stateNode=a,S.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(S),a}function f4(a,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:p==null?null:""+p,children:a,containerInfo:o,implementation:u}}function Q0(a){if(!a)return da;a=a._reactInternals;e:{if(ro(a)!==a||a.tag!==1)throw Error(s(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Xr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(s(171))}if(a.tag===1){var u=a.type;if(Xr(u))return Sv(a,u,o)}return o}function X0(a,o,u,p,j,S,L,K,Z){return a=af(u,p,!0,a,j,S,L,K,Z),a.context=Q0(null),u=a.current,p=Ur(),j=xa(u),S=An(p,j),S.callback=o??null,ha(u,S,j),a.current.lanes=j,el(a,j,p),es(a,p),a}function Od(a,o,u,p){var j=o.current,S=Ur(),L=xa(j);return u=Q0(u),o.context===null?o.context=u:o.pendingContext=u,o=An(S,L),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=ha(j,o,L),a!==null&&(Vs(a,j,L,S),hd(a,j,L)),L}function Fd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function J0(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function of(a,o){J0(a,o),(a=a.alternate)&&J0(a,o)}function p4(){return null}var Z0=typeof reportError=="function"?reportError:function(a){console.error(a)};function lf(a){this._internalRoot=a}Ld.prototype.render=lf.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(s(409));Od(a,o,null,null)},Ld.prototype.unmount=lf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;mo(function(){Od(null,a,null,null)}),o[_n]=null}};function Ld(a){this._internalRoot=a}Ld.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ox();a={blockedOn:null,target:a,priority:o};for(var u=0;u<aa.length&&o!==0&&o<aa[u].priority;u++);aa.splice(u,0,a),u===0&&$x(a)}};function cf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function $d(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ey(){}function g4(a,o,u,p,j){if(j){if(typeof p=="function"){var S=p;p=function(){var pe=Fd(L);S.call(pe)}}var L=X0(o,p,a,0,null,!1,!1,"",ey);return a._reactRootContainer=L,a[_n]=L.current,fl(a.nodeType===8?a.parentNode:a),mo(),L}for(;j=a.lastChild;)a.removeChild(j);if(typeof p=="function"){var K=p;p=function(){var pe=Fd(Z);K.call(pe)}}var Z=af(a,0,!1,null,null,!1,!1,"",ey);return a._reactRootContainer=Z,a[_n]=Z.current,fl(a.nodeType===8?a.parentNode:a),mo(function(){Od(o,Z,u,p)}),Z}function Vd(a,o,u,p,j){var S=u._reactRootContainer;if(S){var L=S;if(typeof j=="function"){var K=j;j=function(){var Z=Fd(L);K.call(Z)}}Od(o,L,a,j)}else L=g4(u,o,a,j,p);return Fd(L)}Mx=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var u=Zi(o.pendingLanes);u!==0&&(Dm(o,u|1),es(o,dr()),(kt&6)===0&&(ni=dr()+500,ua()))}break;case 13:mo(function(){var p=Dn(a,1);if(p!==null){var j=Ur();Vs(p,a,1,j)}}),of(a,1)}},Am=function(a){if(a.tag===13){var o=Dn(a,134217728);if(o!==null){var u=Ur();Vs(o,a,134217728,u)}of(a,134217728)}},Ix=function(a){if(a.tag===13){var o=xa(a),u=Dn(a,o);if(u!==null){var p=Ur();Vs(u,a,o,p)}of(a,o)}},Ox=function(){return Tt},Fx=function(a,o){var u=Tt;try{return Tt=a,o()}finally{Tt=u}},Pn=function(a,o,u){switch(o){case"input":if(Qt(a,u),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var j=sd(p);if(!j)throw Error(s(90));we(p),Qt(p,j)}}}break;case"textarea":_e(a,u);break;case"select":o=u.value,o!=null&&ae(a,!!u.multiple,o,!1)}},_t=Zh,$t=mo;var x4={usingClientEntryPoint:!1,Events:[xl,Wo,sd,Mc,lt,Zh]},Tl={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v4={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Cx(a),a===null?null:a.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||p4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Lc=Ud.inject(v4),ln=Ud}catch{}}return ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x4,ts.createPortal=function(a,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(o))throw Error(s(200));return f4(a,o,null,u)},ts.createRoot=function(a,o){if(!cf(a))throw Error(s(299));var u=!1,p="",j=Z0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=af(a,1,!1,null,null,u,!1,p,j),a[_n]=o.current,fl(a.nodeType===8?a.parentNode:a),new lf(o)},ts.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=Cx(o),a=a===null?null:a.stateNode,a},ts.flushSync=function(a){return mo(a)},ts.hydrate=function(a,o,u){if(!$d(o))throw Error(s(200));return Vd(null,a,o,!0,u)},ts.hydrateRoot=function(a,o,u){if(!cf(a))throw Error(s(405));var p=u!=null&&u.hydratedSources||null,j=!1,S="",L=Z0;if(u!=null&&(u.unstable_strictMode===!0&&(j=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),o=X0(o,null,a,1,u??null,j,!1,S,L),a[_n]=o.current,fl(a),p)for(a=0;a<p.length;a++)u=p[a],j=u._getVersion,j=j(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,j]:o.mutableSourceEagerHydrationData.push(u,j);return new Ld(o)},ts.render=function(a,o,u){if(!$d(o))throw Error(s(200));return Vd(null,a,o,!1,u)},ts.unmountComponentAtNode=function(a){if(!$d(a))throw Error(s(40));return a._reactRootContainer?(mo(function(){Vd(null,null,a,!1,function(){a._reactRootContainer=null,a[_n]=null})}),!0):!1},ts.unstable_batchedUpdates=Zh,ts.unstable_renderSubtreeIntoContainer=function(a,o,u,p){if(!$d(u))throw Error(s(200));if(a==null||a._reactInternals===void 0)throw Error(s(38));return Vd(a,o,u,!1,p)},ts.version="18.3.1-next-f1338f8080-20240426",ts}var cy;function Jb(){if(cy)return ff.exports;cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ff.exports=_4(),ff.exports}var dy;function E4(){if(dy)return zd;dy=1;var r=Jb();return zd.createRoot=r.createRoot,zd.hydrateRoot=r.hydrateRoot,zd}var R4=E4();const T4="modulepreload",D4=function(r){return"/"+r},uy={},A4=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){let c=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=c(s.map(f=>{if(f=D4(f),f in uy)return;uy[f]=!0;const y=f.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":T4,y||(x.as="script"),x.crossOrigin="",x.href=f,m&&x.setAttribute("nonce",m),document.head.appendChild(x),y)return new Promise((v,b)=>{x.addEventListener("load",v),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var h=$u();const ke=Xb(h),Xp=w4({__proto__:null,default:ke},[h]);var Vi=Jb();const Zb=Xb(Vi);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}return r},Zl.apply(this,arguments)}var Aa;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Aa||(Aa={}));const my="popstate";function M4(r){r===void 0&&(r={});function t(n,i){let{pathname:l,search:c,hash:d}=n.location;return op("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:gu(i)}return O4(t,s,null,r)}function mr(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ej(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I4(){return Math.random().toString(36).substr(2,8)}function hy(r,t){return{usr:r.state,key:r.key,idx:t}}function op(r,t,s,n){return s===void 0&&(s=null),Zl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t,{state:s,key:t&&t.key||n||I4()})}function gu(r){let{pathname:t="/",search:s="",hash:n=""}=r;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ui(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substr(s),r=r.substr(0,s));let n=r.indexOf("?");n>=0&&(t.search=r.substr(n),r=r.substr(0,n)),r&&(t.pathname=r)}return t}function O4(r,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,d=Aa.Pop,m=null,f=y();f==null&&(f=0,c.replaceState(Zl({},c.state,{idx:f}),""));function y(){return(c.state||{idx:null}).idx}function g(){d=Aa.Pop;let N=y(),C=N==null?null:N-f;f=N,m&&m({action:d,location:w.location,delta:C})}function x(N,C){d=Aa.Push;let E=op(w.location,N,C);f=y()+1;let P=hy(E,f),O=w.createHref(E);try{c.pushState(P,"",O)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(O)}l&&m&&m({action:d,location:w.location,delta:1})}function v(N,C){d=Aa.Replace;let E=op(w.location,N,C);f=y();let P=hy(E,f),O=w.createHref(E);c.replaceState(P,"",O),l&&m&&m({action:d,location:w.location,delta:0})}function b(N){let C=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:gu(N);return E=E.replace(/ $/,"%20"),mr(C,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,C)}let w={get action(){return d},get location(){return r(i,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(my,g),m=N,()=>{i.removeEventListener(my,g),m=null}},createHref(N){return t(i,N)},createURL:b,encodeLocation(N){let C=b(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:v,go(N){return c.go(N)}};return w}var fy;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(fy||(fy={}));function F4(r,t,s){return s===void 0&&(s="/"),L4(r,t,s)}function L4(r,t,s,n){let i=typeof t=="string"?Ui(t):t,l=Jp(i.pathname||"/",s);if(l==null)return null;let c=tj(r);$4(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let f=X4(l);d=K4(c[m],f)}return d}function tj(r,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(mr(m.relativePath.startsWith(n),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(n.length));let f=Ia([n,m.relativePath]),y=s.concat(m);l.children&&l.children.length>0&&(mr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),tj(l.children,t,y,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:H4(f,l.index),routesMeta:y})};return r.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,c);else for(let m of rj(l.path))i(l,c,m)}),t}function rj(r){let t=r.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=rj(n.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),i&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function $4(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:Y4(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const V4=/^:[\w-]+$/,U4=3,B4=2,z4=1,q4=10,W4=-2,py=r=>r==="*";function H4(r,t){let s=r.split("/"),n=s.length;return s.some(py)&&(n+=W4),t&&(n+=B4),s.filter(i=>!py(i)).reduce((i,l)=>i+(V4.test(l)?U4:l===""?z4:q4),n)}function Y4(r,t){return r.length===t.length&&r.slice(0,-1).every((n,i)=>n===t[i])?r[r.length-1]-t[t.length-1]:0}function K4(r,t,s){let{routesMeta:n}=r,i={},l="/",c=[];for(let d=0;d<n.length;++d){let m=n[d],f=d===n.length-1,y=l==="/"?t:t.slice(l.length)||"/",g=G4({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},y),x=m.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Ia([l,g.pathname]),pathnameBase:t_(Ia([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=Ia([l,g.pathnameBase]))}return c}function G4(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,n]=Q4(r.path,r.caseSensitive,r.end),i=t.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((f,y,g)=>{let{paramName:x,isOptional:v}=y;if(x==="*"){let w=d[g]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[g];return v&&!b?f[x]=void 0:f[x]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:r}}function Q4(r,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),ej(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(n.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function X4(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ej(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function Jp(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=r.charAt(s);return n&&n!=="/"?null:r.slice(s)||"/"}function J4(r,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof r=="string"?Ui(r):r;return{pathname:s?s.startsWith("/")?s:Z4(s,t):t,search:r_(n),hash:s_(i)}}function Z4(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function xf(r,t,s,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e_(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Zp(r,t){let s=e_(r);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function eg(r,t,s,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Ui(r):(i=Zl({},r),mr(!i.pathname||!i.pathname.includes("?"),xf("?","pathname","search",i)),mr(!i.pathname||!i.pathname.includes("#"),xf("#","pathname","hash",i)),mr(!i.search||!i.search.includes("#"),xf("#","search","hash",i)));let l=r===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=s;else{let g=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}d=g>=0?t[g]:"/"}let m=J4(i,d),f=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(f||y)&&(m.pathname+="/"),m}const Ia=r=>r.join("/").replace(/\/\/+/g,"/"),t_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),r_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,s_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function n_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const sj=["post","put","patch","delete"];new Set(sj);const a_=["get",...sj];new Set(a_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}return r},ec.apply(this,arguments)}const tg=h.createContext(null),o_=h.createContext(null),Ka=h.createContext(null),Vu=h.createContext(null),Zn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),nj=h.createContext(null);function i_(r,t){let{relative:s}=t===void 0?{}:t;Bi()||mr(!1);let{basename:n,navigator:i}=h.useContext(Ka),{hash:l,pathname:c,search:d}=oj(r,{relative:s}),m=c;return n!=="/"&&(m=c==="/"?n:Ia([n,c])),i.createHref({pathname:m,search:d,hash:l})}function Bi(){return h.useContext(Vu)!=null}function Sn(){return Bi()||mr(!1),h.useContext(Vu).location}function aj(r){h.useContext(Ka).static||h.useLayoutEffect(r)}function hr(){let{isDataRoute:r}=h.useContext(Zn);return r?b_():l_()}function l_(){Bi()||mr(!1);let r=h.useContext(tg),{basename:t,future:s,navigator:n}=h.useContext(Ka),{matches:i}=h.useContext(Zn),{pathname:l}=Sn(),c=JSON.stringify(Zp(i,s.v7_relativeSplatPath)),d=h.useRef(!1);return aj(()=>{d.current=!0}),h.useCallback(function(f,y){if(y===void 0&&(y={}),!d.current)return;if(typeof f=="number"){n.go(f);return}let g=eg(f,JSON.parse(c),l,y.relative==="path");r==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ia([t,g.pathname])),(y.replace?n.replace:n.push)(g,y.state,y)},[t,n,c,l,r])}function tc(){let{matches:r}=h.useContext(Zn),t=r[r.length-1];return t?t.params:{}}function oj(r,t){let{relative:s}=t===void 0?{}:t,{future:n}=h.useContext(Ka),{matches:i}=h.useContext(Zn),{pathname:l}=Sn(),c=JSON.stringify(Zp(i,n.v7_relativeSplatPath));return h.useMemo(()=>eg(r,JSON.parse(c),l,s==="path"),[r,c,l,s])}function c_(r,t){return d_(r,t)}function d_(r,t,s,n){Bi()||mr(!1);let{navigator:i}=h.useContext(Ka),{matches:l}=h.useContext(Zn),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let f=Sn(),y;if(t){var g;let N=typeof t=="string"?Ui(t):t;m==="/"||(g=N.pathname)!=null&&g.startsWith(m)||mr(!1),y=N}else y=f;let x=y.pathname||"/",v=x;if(m!=="/"){let N=m.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=F4(r,{pathname:v}),w=p_(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Ia([m,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Ia([m,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,s,n);return t&&w?h.createElement(Vu.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Aa.Pop}},w):w}function u_(){let r=y_(),t=n_(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),s?h.createElement("pre",{style:i},s):null,null)}const m_=h.createElement(u_,null);class h_ extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?h.createElement(Zn.Provider,{value:this.props.routeContext},h.createElement(nj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f_(r){let{routeContext:t,match:s,children:n}=r,i=h.useContext(tg);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),h.createElement(Zn.Provider,{value:t},n)}function p_(r,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),r==null){var l;if(!s)return null;if(s.errors)r=s.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let c=r,d=(i=s)==null?void 0:i.errors;if(d!=null){let y=c.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);y>=0||mr(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,f=-1;if(s&&n&&n.v7_partialHydration)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:x,errors:v}=s,b=g.route.loader&&x[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((y,g,x)=>{let v,b=!1,w=null,N=null;s&&(v=d&&g.route.id?d[g.route.id]:void 0,w=g.route.errorElement||m_,m&&(f<0&&x===0?(j_("route-fallback"),b=!0,N=null):f===x&&(b=!0,N=g.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,x+1)),E=()=>{let P;return v?P=w:b?P=N:g.route.Component?P=h.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=y,h.createElement(f_,{match:g,routeContext:{outlet:y,matches:C,isDataRoute:s!=null},children:P})};return s&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?h.createElement(h_,{location:s.location,revalidation:s.revalidation,component:w,error:v,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}var ij=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(ij||{}),lj=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(lj||{});function g_(r){let t=h.useContext(tg);return t||mr(!1),t}function x_(r){let t=h.useContext(o_);return t||mr(!1),t}function v_(r){let t=h.useContext(Zn);return t||mr(!1),t}function cj(r){let t=v_(),s=t.matches[t.matches.length-1];return s.route.id||mr(!1),s.route.id}function y_(){var r;let t=h.useContext(nj),s=x_(),n=cj();return t!==void 0?t:(r=s.errors)==null?void 0:r[n]}function b_(){let{router:r}=g_(ij.UseNavigateStable),t=cj(lj.UseNavigateStable),s=h.useRef(!1);return aj(()=>{s.current=!0}),h.useCallback(function(i,l){l===void 0&&(l={}),s.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,ec({fromRouteId:t},l)))},[r,t])}const gy={};function j_(r,t,s){gy[r]||(gy[r]=!0)}function w_(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function xu(r){let{to:t,replace:s,state:n,relative:i}=r;Bi()||mr(!1);let{future:l,static:c}=h.useContext(Ka),{matches:d}=h.useContext(Zn),{pathname:m}=Sn(),f=hr(),y=eg(t,Zp(d,l.v7_relativeSplatPath),m,i==="path"),g=JSON.stringify(y);return h.useEffect(()=>f(JSON.parse(g),{replace:s,state:n,relative:i}),[f,g,i,s,n]),null}function It(r){mr(!1)}function N_(r){let{basename:t="/",children:s=null,location:n,navigationType:i=Aa.Pop,navigator:l,static:c=!1,future:d}=r;Bi()&&mr(!1);let m=t.replace(/^\/*/,"/"),f=h.useMemo(()=>({basename:m,navigator:l,static:c,future:ec({v7_relativeSplatPath:!1},d)}),[m,d,l,c]);typeof n=="string"&&(n=Ui(n));let{pathname:y="/",search:g="",hash:x="",state:v=null,key:b="default"}=n,w=h.useMemo(()=>{let N=Jp(y,m);return N==null?null:{location:{pathname:N,search:g,hash:x,state:v,key:b},navigationType:i}},[m,y,g,x,v,b,i]);return w==null?null:h.createElement(Ka.Provider,{value:f},h.createElement(Vu.Provider,{children:s,value:w}))}function S_(r){let{children:t,location:s}=r;return c_(ip(t),s)}new Promise(()=>{});function ip(r,t){t===void 0&&(t=[]);let s=[];return h.Children.forEach(r,(n,i)=>{if(!h.isValidElement(n))return;let l=[...t,i];if(n.type===h.Fragment){s.push.apply(s,ip(n.props.children,l));return}n.type!==It&&mr(!1),!n.props.index||!n.props.children||mr(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ip(n.props.children,l)),s.push(c)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lp(){return lp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}return r},lp.apply(this,arguments)}function k_(r,t){if(r==null)return{};var s={},n=Object.keys(r),i,l;for(l=0;l<n.length;l++)i=n[l],!(t.indexOf(i)>=0)&&(s[i]=r[i]);return s}function C_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function P_(r,t){return r.button===0&&(!t||t==="_self")&&!C_(r)}function cp(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,s)=>{let n=r[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function __(r,t){let s=cp(r);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(l=>{s.append(i,l)})}),s}const E_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R_="6";try{window.__reactRouterVersion=R_}catch{}const T_="startTransition",xy=Xp[T_];function D_(r){let{basename:t,children:s,future:n,window:i}=r,l=h.useRef();l.current==null&&(l.current=M4({window:i,v5Compat:!0}));let c=l.current,[d,m]=h.useState({action:c.action,location:c.location}),{v7_startTransition:f}=n||{},y=h.useCallback(g=>{f&&xy?xy(()=>m(g)):m(g)},[m,f]);return h.useLayoutEffect(()=>c.listen(y),[c,y]),h.useEffect(()=>w_(n),[n]),h.createElement(N_,{basename:t,children:s,location:d.location,navigationType:d.action,navigator:c,future:n})}const A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=h.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:l,replace:c,state:d,target:m,to:f,preventScrollReset:y,viewTransition:g}=t,x=k_(t,E_),{basename:v}=h.useContext(Ka),b,w=!1;if(typeof f=="string"&&M_.test(f)&&(b=f,A_))try{let P=new URL(window.location.href),O=f.startsWith("//")?new URL(P.protocol+f):new URL(f),q=Jp(O.pathname,v);O.origin===P.origin&&q!=null?f=q+O.search+O.hash:w=!0}catch{}let N=i_(f,{relative:i}),C=I_(f,{replace:c,state:d,target:m,preventScrollReset:y,relative:i,viewTransition:g});function E(P){n&&n(P),P.defaultPrevented||C(P)}return h.createElement("a",lp({},x,{href:b||N,onClick:w||l?n:E,ref:s,target:m}))});var vy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(vy||(vy={}));var yy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(yy||(yy={}));function I_(r,t){let{target:s,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:d}=t===void 0?{}:t,m=hr(),f=Sn(),y=oj(r,{relative:c});return h.useCallback(g=>{if(P_(g,s)){g.preventDefault();let x=n!==void 0?n:gu(f)===gu(y);m(r,{replace:x,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[f,m,y,n,i,s,r,l,c,d])}function dj(r){let t=h.useRef(cp(r)),s=h.useRef(!1),n=Sn(),i=h.useMemo(()=>__(n.search,s.current?null:t.current),[n.search]),l=hr(),c=h.useCallback((d,m)=>{const f=cp(typeof d=="function"?d(i):d);s.current=!0,l("?"+f,m)},[l,i]);return[i,c]}var Uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},O_={setTimeout:(r,t)=>setTimeout(r,t),clearTimeout:r=>clearTimeout(r),setInterval:(r,t)=>setInterval(r,t),clearInterval:r=>clearInterval(r)},Pa,Qp,Bb,F_=(Bb=class{constructor(){yt(this,Pa,O_);yt(this,Qp,!1)}setTimeoutProvider(r){ct(this,Pa,r)}setTimeout(r,t){return ve(this,Pa).setTimeout(r,t)}clearTimeout(r){ve(this,Pa).clearTimeout(r)}setInterval(r,t){return ve(this,Pa).setInterval(r,t)}clearInterval(r){ve(this,Pa).clearInterval(r)}},Pa=new WeakMap,Qp=new WeakMap,Bb),dp=new F_;function L_(r){setTimeout(r,0)}var Bu=typeof window>"u"||"Deno"in globalThis;function zs(){}function $_(r,t){return typeof r=="function"?r(t):r}function V_(r){return typeof r=="number"&&r>=0&&r!==1/0}function U_(r,t){return Math.max(r+(t||0)-Date.now(),0)}function up(r,t){return typeof r=="function"?r(t):r}function B_(r,t){return typeof r=="function"?r(t):r}function by(r,t){const{type:s="all",exact:n,fetchStatus:i,predicate:l,queryKey:c,stale:d}=r;if(c){if(n){if(t.queryHash!==rg(c,t.options))return!1}else if(!sc(t.queryKey,c))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||l&&!l(t))}function jy(r,t){const{exact:s,status:n,predicate:i,mutationKey:l}=r;if(l){if(!t.options.mutationKey)return!1;if(s){if(rc(t.options.mutationKey)!==rc(l))return!1}else if(!sc(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function rg(r,t){return((t==null?void 0:t.queryKeyHashFn)||rc)(r)}function rc(r){return JSON.stringify(r,(t,s)=>mp(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function sc(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?Object.keys(t).every(s=>sc(r[s],t[s])):!1}var z_=Object.prototype.hasOwnProperty;function uj(r,t){if(r===t)return r;const s=wy(r)&&wy(t);if(!s&&!(mp(r)&&mp(t)))return t;const i=(s?r:Object.keys(r)).length,l=s?t:Object.keys(t),c=l.length,d=s?new Array(c):{};let m=0;for(let f=0;f<c;f++){const y=s?f:l[f],g=r[y],x=t[y];if(g===x){d[y]=g,(s?f<i:z_.call(r,y))&&m++;continue}if(g===null||x===null||typeof g!="object"||typeof x!="object"){d[y]=x;continue}const v=uj(g,x);d[y]=v,v===g&&m++}return i===c&&m===i?r:d}function wy(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function mp(r){if(!Ny(r))return!1;const t=r.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Ny(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Ny(r){return Object.prototype.toString.call(r)==="[object Object]"}function q_(r){return new Promise(t=>{dp.setTimeout(t,r)})}function W_(r,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(r,t):s.structuralSharing!==!1?uj(r,t):t}function H_(r,t,s=0){const n=[...r,t];return s&&n.length>s?n.slice(1):n}function Y_(r,t,s=0){const n=[t,...r];return s&&n.length>s?n.slice(0,-1):n}var sg=Symbol();function mj(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===sg?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var bo,_a,wi,zb,K_=(zb=class extends Uu{constructor(){super();yt(this,bo);yt(this,_a);yt(this,wi);ct(this,wi,t=>{if(!Bu&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){ve(this,_a)||this.setEventListener(ve(this,wi))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,_a))==null||t.call(this),ct(this,_a,void 0))}setEventListener(t){var s;ct(this,wi,t),(s=ve(this,_a))==null||s.call(this),ct(this,_a,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ve(this,bo)!==t&&(ct(this,bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof ve(this,bo)=="boolean"?ve(this,bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bo=new WeakMap,_a=new WeakMap,wi=new WeakMap,zb),hj=new K_;function G_(){let r,t;const s=new Promise((i,l)=>{r=i,t=l});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),r(i)},s.reject=i=>{n({status:"rejected",reason:i}),t(i)},s}var Q_=L_;function X_(){let r=[],t=0,s=d=>{d()},n=d=>{d()},i=Q_;const l=d=>{t?r.push(d):i(()=>{s(d)})},c=()=>{const d=r;r=[],d.length&&i(()=>{n(()=>{d.forEach(m=>{s(m)})})})};return{batch:d=>{let m;t++;try{m=d()}finally{t--,t||c()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{i=d}}}var qr=X_(),Ni,Ea,Si,qb,J_=(qb=class extends Uu{constructor(){super();yt(this,Ni,!0);yt(this,Ea);yt(this,Si);ct(this,Si,t=>{if(!Bu&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){ve(this,Ea)||this.setEventListener(ve(this,Si))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,Ea))==null||t.call(this),ct(this,Ea,void 0))}setEventListener(t){var s;ct(this,Si,t),(s=ve(this,Ea))==null||s.call(this),ct(this,Ea,t(this.setOnline.bind(this)))}setOnline(t){ve(this,Ni)!==t&&(ct(this,Ni,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ve(this,Ni)}},Ni=new WeakMap,Ea=new WeakMap,Si=new WeakMap,qb),vu=new J_;function Z_(r){return Math.min(1e3*2**r,3e4)}function fj(r){return(r??"online")==="online"?vu.isOnline():!0}var hp=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function pj(r){let t=!1,s=0,n;const i=G_(),l=()=>i.status!=="pending",c=w=>{var N;if(!l()){const C=new hp(w);x(C),(N=r.onCancel)==null||N.call(r,C)}},d=()=>{t=!0},m=()=>{t=!1},f=()=>hj.isFocused()&&(r.networkMode==="always"||vu.isOnline())&&r.canRun(),y=()=>fj(r.networkMode)&&r.canRun(),g=w=>{l()||(n==null||n(),i.resolve(w))},x=w=>{l()||(n==null||n(),i.reject(w))},v=()=>new Promise(w=>{var N;n=C=>{(l()||f())&&w(C)},(N=r.onPause)==null||N.call(r)}).then(()=>{var w;n=void 0,l()||(w=r.onContinue)==null||w.call(r)}),b=()=>{if(l())return;let w;const N=s===0?r.initialPromise:void 0;try{w=N??r.fn()}catch(C){w=Promise.reject(C)}Promise.resolve(w).then(g).catch(C=>{var A;if(l())return;const E=r.retry??(Bu?0:3),P=r.retryDelay??Z_,O=typeof P=="function"?P(s,C):P,q=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,C);if(t||!q){x(C);return}s++,(A=r.onFail)==null||A.call(r,s,C),q_(O).then(()=>f()?void 0:v()).then(()=>{t?x(C):b()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(n==null||n(),i),cancelRetry:d,continueRetry:m,canStart:y,start:()=>(y()?b():v().then(b),i)}}var jo,Wb,gj=(Wb=class{constructor(){yt(this,jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V_(this.gcTime)&&ct(this,jo,dp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Bu?1/0:300*1e3))}clearGcTimeout(){ve(this,jo)&&(dp.clearTimeout(ve(this,jo)),ct(this,jo,void 0))}},jo=new WeakMap,Wb),wo,ki,ks,No,Cr,fc,So,Ws,$n,Hb,eE=(Hb=class extends gj{constructor(t){super();yt(this,Ws);yt(this,wo);yt(this,ki);yt(this,ks);yt(this,No);yt(this,Cr);yt(this,fc);yt(this,So);ct(this,So,!1),ct(this,fc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,No,t.client),ct(this,ks,ve(this,No).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,wo,Sy(this.options)),this.state=t.state??ve(this,wo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ve(this,Cr))==null?void 0:t.promise}setOptions(t){if(this.options={...ve(this,fc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Sy(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),ct(this,wo,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,ks).remove(this)}setData(t,s){const n=W_(this.state.data,t,this.options);return Lr(this,Ws,$n).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){Lr(this,Ws,$n).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,i;const s=(n=ve(this,Cr))==null?void 0:n.promise;return(i=ve(this,Cr))==null||i.cancel(t),s?s.then(zs).catch(zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,wo))}isActive(){return this.observers.some(t=>B_(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>up(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!U_(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=ve(this,Cr))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=ve(this,Cr))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ve(this,ks).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(ve(this,Cr)&&(ve(this,So)?ve(this,Cr).cancel({revert:!0}):ve(this,Cr).cancelRetry()),this.scheduleGc()),ve(this,ks).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lr(this,Ws,$n).call(this,{type:"invalidate"})}async fetch(t,s){var m,f,y,g,x,v,b,w,N,C,E,P;if(this.state.fetchStatus!=="idle"&&((m=ve(this,Cr))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(ve(this,Cr))return ve(this,Cr).continueRetry(),ve(this,Cr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const O=this.observers.find(q=>q.options.queryFn);O&&this.setOptions(O.options)}const n=new AbortController,i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(ct(this,So,!0),n.signal)})},l=()=>{const O=mj(this.options,s),A=(()=>{const M={client:ve(this,No),queryKey:this.queryKey,meta:this.meta};return i(M),M})();return ct(this,So,!1),this.options.persister?this.options.persister(O,A,this):O(A)},d=(()=>{const O={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:ve(this,No),state:this.state,fetchFn:l};return i(O),O})();(f=this.options.behavior)==null||f.onFetch(d,this),ct(this,ki,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&Lr(this,Ws,$n).call(this,{type:"fetch",meta:(g=d.fetchOptions)==null?void 0:g.meta}),ct(this,Cr,pj({initialPromise:s==null?void 0:s.initialPromise,fn:d.fetchFn,onCancel:O=>{O instanceof hp&&O.revert&&this.setState({...ve(this,ki),fetchStatus:"idle"}),n.abort()},onFail:(O,q)=>{Lr(this,Ws,$n).call(this,{type:"failed",failureCount:O,error:q})},onPause:()=>{Lr(this,Ws,$n).call(this,{type:"pause"})},onContinue:()=>{Lr(this,Ws,$n).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const O=await ve(this,Cr).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(v=(x=ve(this,ks).config).onSuccess)==null||v.call(x,O,this),(w=(b=ve(this,ks).config).onSettled)==null||w.call(b,O,this.state.error,this),O}catch(O){if(O instanceof hp){if(O.silent)return ve(this,Cr).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw Lr(this,Ws,$n).call(this,{type:"error",error:O}),(C=(N=ve(this,ks).config).onError)==null||C.call(N,O,this),(P=(E=ve(this,ks).config).onSettled)==null||P.call(E,this.state.data,O,this),O}finally{this.scheduleGc()}}},wo=new WeakMap,ki=new WeakMap,ks=new WeakMap,No=new WeakMap,Cr=new WeakMap,fc=new WeakMap,So=new WeakMap,Ws=new WeakSet,$n=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tE(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ct(this,ki,t.manual?i:void 0),i;case"error":const l=t.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),qr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ve(this,ks).notify({query:this,type:"updated",action:t})})},Hb);function tE(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fj(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Sy(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,s=t!==void 0,n=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function ky(r){return{onFetch:(t,s)=>{var y,g,x,v,b;const n=t.options,i=(x=(g=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:g.fetchMore)==null?void 0:x.direction,l=((v=t.state.data)==null?void 0:v.pages)||[],c=((b=t.state.data)==null?void 0:b.pageParams)||[];let d={pages:[],pageParams:[]},m=0;const f=async()=>{let w=!1;const N=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},C=mj(t.options,t.fetchOptions),E=async(P,O,q)=>{if(w)return Promise.reject();if(O==null&&P.pages.length)return Promise.resolve(P);const M=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:O,direction:q?"backward":"forward",meta:t.options.meta};return N(B),B})(),V=await C(M),{maxPages:k}=t.options,R=q?Y_:H_;return{pages:R(P.pages,V,k),pageParams:R(P.pageParams,O,k)}};if(i&&l.length){const P=i==="backward",O=P?rE:Cy,q={pages:l,pageParams:c},A=O(n,q);d=await E(q,A,P)}else{const P=r??l.length;do{const O=m===0?c[0]??n.initialPageParam:Cy(n,d);if(m>0&&O==null)break;d=await E(d,O),m++}while(m<P)}return d};t.options.persister?t.fetchFn=()=>{var w,N;return(N=(w=t.options).persister)==null?void 0:N.call(w,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=f}}}function Cy(r,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?r.getNextPageParam(t[n],t,s[n],s):void 0}function rE(r,{pages:t,pageParams:s}){var n;return t.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,t[0],t,s[0],s):void 0}var pc,hn,Br,ko,fn,ka,Yb,sE=(Yb=class extends gj{constructor(t){super();yt(this,fn);yt(this,pc);yt(this,hn);yt(this,Br);yt(this,ko);ct(this,pc,t.client),this.mutationId=t.mutationId,ct(this,Br,t.mutationCache),ct(this,hn,[]),this.state=t.state||nE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ve(this,hn).includes(t)||(ve(this,hn).push(t),this.clearGcTimeout(),ve(this,Br).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,hn,ve(this,hn).filter(s=>s!==t)),this.scheduleGc(),ve(this,Br).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ve(this,hn).length||(this.state.status==="pending"?this.scheduleGc():ve(this,Br).remove(this))}continue(){var t;return((t=ve(this,ko))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,m,f,y,g,x,v,b,w,N,C,E,P,O,q,A,M,V,k;const s=()=>{Lr(this,fn,ka).call(this,{type:"continue"})},n={client:ve(this,pc),meta:this.options.meta,mutationKey:this.options.mutationKey};ct(this,ko,pj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,B)=>{Lr(this,fn,ka).call(this,{type:"failed",failureCount:R,error:B})},onPause:()=>{Lr(this,fn,ka).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,Br).canRun(this)}));const i=this.state.status==="pending",l=!ve(this,ko).canStart();try{if(i)s();else{Lr(this,fn,ka).call(this,{type:"pending",variables:t,isPaused:l}),await((d=(c=ve(this,Br).config).onMutate)==null?void 0:d.call(c,t,this,n));const B=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,t,n));B!==this.state.context&&Lr(this,fn,ka).call(this,{type:"pending",context:B,variables:t,isPaused:l})}const R=await ve(this,ko).start();return await((g=(y=ve(this,Br).config).onSuccess)==null?void 0:g.call(y,R,t,this.state.context,this,n)),await((v=(x=this.options).onSuccess)==null?void 0:v.call(x,R,t,this.state.context,n)),await((w=(b=ve(this,Br).config).onSettled)==null?void 0:w.call(b,R,null,this.state.variables,this.state.context,this,n)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,R,null,t,this.state.context,n)),Lr(this,fn,ka).call(this,{type:"success",data:R}),R}catch(R){try{throw await((P=(E=ve(this,Br).config).onError)==null?void 0:P.call(E,R,t,this.state.context,this,n)),await((q=(O=this.options).onError)==null?void 0:q.call(O,R,t,this.state.context,n)),await((M=(A=ve(this,Br).config).onSettled)==null?void 0:M.call(A,void 0,R,this.state.variables,this.state.context,this,n)),await((k=(V=this.options).onSettled)==null?void 0:k.call(V,void 0,R,t,this.state.context,n)),R}finally{Lr(this,fn,ka).call(this,{type:"error",error:R})}}finally{ve(this,Br).runNext(this)}}},pc=new WeakMap,hn=new WeakMap,Br=new WeakMap,ko=new WeakMap,fn=new WeakSet,ka=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),qr.batch(()=>{ve(this,hn).forEach(n=>{n.onMutationUpdate(t)}),ve(this,Br).notify({mutation:this,type:"updated",action:t})})},Yb);function nE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vn,Hs,gc,Kb,aE=(Kb=class extends Uu{constructor(t={}){super();yt(this,Vn);yt(this,Hs);yt(this,gc);this.config=t,ct(this,Vn,new Set),ct(this,Hs,new Map),ct(this,gc,0)}build(t,s,n){const i=new sE({client:t,mutationCache:this,mutationId:++Bd(this,gc)._,options:t.defaultMutationOptions(s),state:n});return this.add(i),i}add(t){ve(this,Vn).add(t);const s=qd(t);if(typeof s=="string"){const n=ve(this,Hs).get(s);n?n.push(t):ve(this,Hs).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ve(this,Vn).delete(t)){const s=qd(t);if(typeof s=="string"){const n=ve(this,Hs).get(s);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ve(this,Hs).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=qd(t);if(typeof s=="string"){const n=ve(this,Hs).get(s),i=n==null?void 0:n.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const s=qd(t);if(typeof s=="string"){const i=(n=ve(this,Hs).get(s))==null?void 0:n.find(l=>l!==t&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qr.batch(()=>{ve(this,Vn).forEach(t=>{this.notify({type:"removed",mutation:t})}),ve(this,Vn).clear(),ve(this,Hs).clear()})}getAll(){return Array.from(ve(this,Vn))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>jy(s,n))}findAll(t={}){return this.getAll().filter(s=>jy(t,s))}notify(t){qr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return qr.batch(()=>Promise.all(t.map(s=>s.continue().catch(zs))))}},Vn=new WeakMap,Hs=new WeakMap,gc=new WeakMap,Kb);function qd(r){var t;return(t=r.options.scope)==null?void 0:t.id}var pn,Gb,oE=(Gb=class extends Uu{constructor(t={}){super();yt(this,pn);this.config=t,ct(this,pn,new Map)}build(t,s,n){const i=s.queryKey,l=s.queryHash??rg(i,s);let c=this.get(l);return c||(c=new eE({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){ve(this,pn).has(t.queryHash)||(ve(this,pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=ve(this,pn).get(t.queryHash);s&&(t.destroy(),s===t&&ve(this,pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ve(this,pn).get(t)}getAll(){return[...ve(this,pn).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>by(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>by(t,n)):s}notify(t){qr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){qr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pn=new WeakMap,Gb),ar,Ra,Ta,Ci,Pi,Da,_i,Ei,Qb,iE=(Qb=class{constructor(r={}){yt(this,ar);yt(this,Ra);yt(this,Ta);yt(this,Ci);yt(this,Pi);yt(this,Da);yt(this,_i);yt(this,Ei);ct(this,ar,r.queryCache||new oE),ct(this,Ra,r.mutationCache||new aE),ct(this,Ta,r.defaultOptions||{}),ct(this,Ci,new Map),ct(this,Pi,new Map),ct(this,Da,0)}mount(){Bd(this,Da)._++,ve(this,Da)===1&&(ct(this,_i,hj.subscribe(async r=>{r&&(await this.resumePausedMutations(),ve(this,ar).onFocus())})),ct(this,Ei,vu.subscribe(async r=>{r&&(await this.resumePausedMutations(),ve(this,ar).onOnline())})))}unmount(){var r,t;Bd(this,Da)._--,ve(this,Da)===0&&((r=ve(this,_i))==null||r.call(this),ct(this,_i,void 0),(t=ve(this,Ei))==null||t.call(this),ct(this,Ei,void 0))}isFetching(r){return ve(this,ar).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return ve(this,Ra).findAll({...r,status:"pending"}).length}getQueryData(r){var s;const t=this.defaultQueryOptions({queryKey:r});return(s=ve(this,ar).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),s=ve(this,ar).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(r):(r.revalidateIfStale&&s.isStaleByTime(up(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(r){return ve(this,ar).findAll(r).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(r,t,s){const n=this.defaultQueryOptions({queryKey:r}),i=ve(this,ar).get(n.queryHash),l=i==null?void 0:i.state.data,c=$_(t,l);if(c!==void 0)return ve(this,ar).build(this,n).setData(c,{...s,manual:!0})}setQueriesData(r,t,s){return qr.batch(()=>ve(this,ar).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(r){var s;const t=this.defaultQueryOptions({queryKey:r});return(s=ve(this,ar).get(t.queryHash))==null?void 0:s.state}removeQueries(r){const t=ve(this,ar);qr.batch(()=>{t.findAll(r).forEach(s=>{t.remove(s)})})}resetQueries(r,t){const s=ve(this,ar);return qr.batch(()=>(s.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...r},t)))}cancelQueries(r,t={}){const s={revert:!0,...t},n=qr.batch(()=>ve(this,ar).findAll(r).map(i=>i.cancel(s)));return Promise.all(n).then(zs).catch(zs)}invalidateQueries(r,t={}){return qr.batch(()=>(ve(this,ar).findAll(r).forEach(s=>{s.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},t)))}refetchQueries(r,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=qr.batch(()=>ve(this,ar).findAll(r).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,s);return s.throwOnError||(l=l.catch(zs)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(zs)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const s=ve(this,ar).build(this,t);return s.isStaleByTime(up(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(zs).catch(zs)}fetchInfiniteQuery(r){return r.behavior=ky(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(zs).catch(zs)}ensureInfiniteQueryData(r){return r.behavior=ky(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return vu.isOnline()?ve(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,ar)}getMutationCache(){return ve(this,Ra)}getDefaultOptions(){return ve(this,Ta)}setDefaultOptions(r){ct(this,Ta,r)}setQueryDefaults(r,t){ve(this,Ci).set(rc(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...ve(this,Ci).values()],s={};return t.forEach(n=>{sc(r,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(r,t){ve(this,Pi).set(rc(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...ve(this,Pi).values()],s={};return t.forEach(n=>{sc(r,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(r){if(r._defaulted)return r;const t={...ve(this,Ta).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=rg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sg&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...ve(this,Ta).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){ve(this,ar).clear(),ve(this,Ra).clear()}},ar=new WeakMap,Ra=new WeakMap,Ta=new WeakMap,Ci=new WeakMap,Pi=new WeakMap,Da=new WeakMap,_i=new WeakMap,Ei=new WeakMap,Qb),lE=h.createContext(void 0),cE=({client:r,children:t})=>(h.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),e.jsx(lE.Provider,{value:r,children:t}));const dE=1,xj=3e3;let vf=0;function uE(){return vf=(vf+1)%Number.MAX_SAFE_INTEGER,vf.toString()}const yf=new Map,bf=(r,t=xj)=>{if(yf.has(r))return;const s=setTimeout(()=>{yf.delete(r),ql({type:"REMOVE_TOAST",toastId:r})},t);yf.set(r,s)},mE=(r,t)=>{switch(t.type){case"ADD_TOAST":const s=t.toast.duration||xj;return bf(t.toast.id,s),{...r,toasts:[t.toast,...r.toasts].slice(0,dE)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?bf(n):r.toasts.forEach(i=>{bf(i.id)}),{...r,toasts:r.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(n=>n.id!==t.toastId)}}},su=[];let nu={toasts:[]};function ql(r){nu=mE(nu,r),su.forEach(t=>{t(nu)})}function Ue({...r}){const t=uE(),s=i=>ql({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>ql({type:"DISMISS_TOAST",toastId:t});return ql({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:s}}function it(){const[r,t]=h.useState(nu);return h.useEffect(()=>(su.push(t),()=>{const s=su.indexOf(t);s>-1&&su.splice(s,1)}),[r]),{...r,toast:Ue,dismiss:s=>ql({type:"DISMISS_TOAST",toastId:s})}}function Ce(r,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(r==null||r(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Py(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function Gn(...r){return t=>{let s=!1;const n=r.map(i=>{const l=Py(i,t);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let i=0;i<n.length;i++){const l=n[i];typeof l=="function"?l():Py(r[i],null)}}}}function rt(...r){return h.useCallback(Gn(...r),r)}function hE(r,t){const s=h.createContext(t),n=l=>{const{children:c,...d}=l,m=h.useMemo(()=>d,Object.values(d));return e.jsx(s.Provider,{value:m,children:c})};n.displayName=r+"Provider";function i(l){const c=h.useContext(s);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${r}\``)}return[n,i]}function jr(r,t=[]){let s=[];function n(l,c){const d=h.createContext(c),m=s.length;s=[...s,c];const f=g=>{var C;const{scope:x,children:v,...b}=g,w=((C=x==null?void 0:x[r])==null?void 0:C[m])||d,N=h.useMemo(()=>b,Object.values(b));return e.jsx(w.Provider,{value:N,children:v})};f.displayName=l+"Provider";function y(g,x){var w;const v=((w=x==null?void 0:x[r])==null?void 0:w[m])||d,b=h.useContext(v);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[f,y]}const i=()=>{const l=s.map(c=>h.createContext(c));return function(d){const m=(d==null?void 0:d[r])||l;return h.useMemo(()=>({[`__scope${r}`]:{...d,[r]:m}}),[d,m])}};return i.scopeName=r,[n,fE(i,...t)]}function fE(...r){const t=r[0];if(r.length===1)return t;const s=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=n.reduce((d,{useScope:m,scopeName:f})=>{const g=m(l)[`__scope${f}`];return{...d,...g}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return s.scopeName=t.scopeName,s}function Ua(r){const t=gE(r),s=h.forwardRef((n,i)=>{const{children:l,...c}=n,d=h.Children.toArray(l),m=d.find(xE);if(m){const f=m.props.children,y=d.map(g=>g===m?h.Children.count(f)>1?h.Children.only(null):h.isValidElement(f)?f.props.children:null:g);return e.jsx(t,{...c,ref:i,children:h.isValidElement(f)?h.cloneElement(f,void 0,y):null})}return e.jsx(t,{...c,ref:i,children:l})});return s.displayName=`${r}.Slot`,s}var pE=Ua("Slot");function gE(r){const t=h.forwardRef((s,n)=>{const{children:i,...l}=s;if(h.isValidElement(i)){const c=yE(i),d=vE(l,i.props);return i.type!==h.Fragment&&(d.ref=n?Gn(n,c):c),h.cloneElement(i,d)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var vj=Symbol("radix.slottable");function yj(r){const t=({children:s})=>e.jsx(e.Fragment,{children:s});return t.displayName=`${r}.Slottable`,t.__radixId=vj,t}function xE(r){return h.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===vj}function vE(r,t){const s={...t};for(const n in t){const i=r[n],l=t[n];/^on[A-Z]/.test(n)?i&&l?s[n]=(...d)=>{const m=l(...d);return i(...d),m}:i&&(s[n]=i):n==="style"?s[n]={...i,...l}:n==="className"&&(s[n]=[i,l].filter(Boolean).join(" "))}return{...r,...s}}function yE(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}function zi(r){const t=r+"CollectionProvider",[s,n]=jr(t),[i,l]=s(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:N,children:C}=w,E=ke.useRef(null),P=ke.useRef(new Map).current;return e.jsx(i,{scope:N,itemMap:P,collectionRef:E,children:C})};c.displayName=t;const d=r+"CollectionSlot",m=Ua(d),f=ke.forwardRef((w,N)=>{const{scope:C,children:E}=w,P=l(d,C),O=rt(N,P.collectionRef);return e.jsx(m,{ref:O,children:E})});f.displayName=d;const y=r+"CollectionItemSlot",g="data-radix-collection-item",x=Ua(y),v=ke.forwardRef((w,N)=>{const{scope:C,children:E,...P}=w,O=ke.useRef(null),q=rt(N,O),A=l(y,C);return ke.useEffect(()=>(A.itemMap.set(O,{ref:O,...P}),()=>void A.itemMap.delete(O))),e.jsx(x,{[g]:"",ref:q,children:E})});v.displayName=y;function b(w){const N=l(r+"CollectionConsumer",w);return ke.useCallback(()=>{const E=N.collectionRef.current;if(!E)return[];const P=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((A,M)=>P.indexOf(A.ref.current)-P.indexOf(M.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},b,n]}var bE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=bE.reduce((r,t)=>{const s=Ua(`Primitive.${t}`),n=h.forwardRef((i,l)=>{const{asChild:c,...d}=i,m=c?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...r,[t]:n}},{});function ng(r,t){r&&Vi.flushSync(()=>r.dispatchEvent(t))}function or(r){const t=h.useRef(r);return h.useEffect(()=>{t.current=r}),h.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function jE(r,t=globalThis==null?void 0:globalThis.document){const s=or(r);h.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var wE="DismissableLayer",fp="dismissableLayer.update",NE="dismissableLayer.pointerDownOutside",SE="dismissableLayer.focusOutside",_y,bj=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ao=h.forwardRef((r,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...m}=r,f=h.useContext(bj),[y,g]=h.useState(null),x=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=h.useState({}),b=rt(t,M=>g(M)),w=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(N),E=y?w.indexOf(y):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,O=E>=C,q=CE(M=>{const V=M.target,k=[...f.branches].some(R=>R.contains(V));!O||k||(i==null||i(M),c==null||c(M),M.defaultPrevented||d==null||d())},x),A=PE(M=>{const V=M.target;[...f.branches].some(R=>R.contains(V))||(l==null||l(M),c==null||c(M),M.defaultPrevented||d==null||d())},x);return jE(M=>{E===f.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},x),h.useEffect(()=>{if(y)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(_y=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(y)),f.layers.add(y),Ey(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=_y)}},[y,x,s,f]),h.useEffect(()=>()=>{y&&(f.layers.delete(y),f.layersWithOutsidePointerEventsDisabled.delete(y),Ey())},[y,f]),h.useEffect(()=>{const M=()=>v({});return document.addEventListener(fp,M),()=>document.removeEventListener(fp,M)},[]),e.jsx(Me.div,{...m,ref:b,style:{pointerEvents:P?O?"auto":"none":void 0,...r.style},onFocusCapture:Ce(r.onFocusCapture,A.onFocusCapture),onBlurCapture:Ce(r.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ce(r.onPointerDownCapture,q.onPointerDownCapture)})});Ao.displayName=wE;var kE="DismissableLayerBranch",jj=h.forwardRef((r,t)=>{const s=h.useContext(bj),n=h.useRef(null),i=rt(t,n);return h.useEffect(()=>{const l=n.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),e.jsx(Me.div,{...r,ref:i})});jj.displayName=kE;function CE(r,t=globalThis==null?void 0:globalThis.document){const s=or(r),n=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let m=function(){wj(NE,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function PE(r,t=globalThis==null?void 0:globalThis.document){const s=or(r),n=h.useRef(!1);return h.useEffect(()=>{const i=l=>{l.target&&!n.current&&wj(SE,s,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ey(){const r=new CustomEvent(fp);document.dispatchEvent(r)}function wj(r,t,s,{discrete:n}){const i=s.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(r,t,{once:!0}),n?ng(i,l):i.dispatchEvent(l)}var _E=Ao,EE=jj,lr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},RE="Portal",qi=h.forwardRef((r,t)=>{var d;const{container:s,...n}=r,[i,l]=h.useState(!1);lr(()=>l(!0),[]);const c=s||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?Zb.createPortal(e.jsx(Me.div,{...n,ref:t}),c):null});qi.displayName=RE;function TE(r,t){return h.useReducer((s,n)=>t[s][n]??s,r)}var wr=r=>{const{present:t,children:s}=r,n=DE(t),i=typeof s=="function"?s({present:n.isPresent}):h.Children.only(s),l=rt(n.ref,AE(i));return typeof s=="function"||n.isPresent?h.cloneElement(i,{ref:l}):null};wr.displayName="Presence";function DE(r){const[t,s]=h.useState(),n=h.useRef(null),i=h.useRef(r),l=h.useRef("none"),c=r?"mounted":"unmounted",[d,m]=TE(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const f=Wd(n.current);l.current=d==="mounted"?f:"none"},[d]),lr(()=>{const f=n.current,y=i.current;if(y!==r){const x=l.current,v=Wd(f);r?m("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(y&&x!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,m]),lr(()=>{if(t){let f;const y=t.ownerDocument.defaultView??window,g=v=>{const w=Wd(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&w&&(m("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=v=>{v.target===t&&(l.current=Wd(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{y.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:h.useCallback(f=>{n.current=f?getComputedStyle(f):null,s(f)},[])}}function Wd(r){return(r==null?void 0:r.animationName)||"none"}function AE(r){var n,i;let t=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?r.ref:(t=(i=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var ME=Xp[" useInsertionEffect ".trim().toString()]||lr;function xs({prop:r,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,l,c]=IE({defaultProp:t,onChange:s}),d=r!==void 0,m=d?r:i;{const y=h.useRef(r!==void 0);h.useEffect(()=>{const g=y.current;g!==d&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,n])}const f=h.useCallback(y=>{var g;if(d){const x=OE(y)?y(r):y;x!==r&&((g=c.current)==null||g.call(c,x))}else l(y)},[d,r,l,c]);return[m,f]}function IE({defaultProp:r,onChange:t}){const[s,n]=h.useState(r),i=h.useRef(s),l=h.useRef(t);return ME(()=>{l.current=t},[t]),h.useEffect(()=>{var c;i.current!==s&&((c=l.current)==null||c.call(l,s),i.current=s)},[s,i]),[s,n,l]}function OE(r){return typeof r=="function"}var Nj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FE="VisuallyHidden",zu=h.forwardRef((r,t)=>e.jsx(Me.span,{...r,ref:t,style:{...Nj,...r.style}}));zu.displayName=FE;var LE=zu,ag="ToastProvider",[og,$E,VE]=zi("Toast"),[Sj]=jr("Toast",[VE]),[UE,qu]=Sj(ag),kj=r=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=r,[d,m]=h.useState(null),[f,y]=h.useState(0),g=h.useRef(!1),x=h.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ag}\`. Expected non-empty \`string\`.`),e.jsx(og.Provider,{scope:t,children:e.jsx(UE,{scope:t,label:s,duration:n,swipeDirection:i,swipeThreshold:l,toastCount:f,viewport:d,onViewportChange:m,onToastAdd:h.useCallback(()=>y(v=>v+1),[]),onToastRemove:h.useCallback(()=>y(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:x,children:c})})};kj.displayName=ag;var Cj="ToastViewport",BE=["F8"],pp="toast.viewportPause",gp="toast.viewportResume",Pj=h.forwardRef((r,t)=>{const{__scopeToast:s,hotkey:n=BE,label:i="Notifications ({hotkey})",...l}=r,c=qu(Cj,s),d=$E(s),m=h.useRef(null),f=h.useRef(null),y=h.useRef(null),g=h.useRef(null),x=rt(t,g,c.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=c.toastCount>0;h.useEffect(()=>{const N=C=>{var P;n.length!==0&&n.every(O=>C[O]||C.code===O)&&((P=g.current)==null||P.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),h.useEffect(()=>{const N=m.current,C=g.current;if(b&&N&&C){const E=()=>{if(!c.isClosePausedRef.current){const A=new CustomEvent(pp);C.dispatchEvent(A),c.isClosePausedRef.current=!0}},P=()=>{if(c.isClosePausedRef.current){const A=new CustomEvent(gp);C.dispatchEvent(A),c.isClosePausedRef.current=!1}},O=A=>{!N.contains(A.relatedTarget)&&P()},q=()=>{N.contains(document.activeElement)||P()};return N.addEventListener("focusin",E),N.addEventListener("focusout",O),N.addEventListener("pointermove",E),N.addEventListener("pointerleave",q),window.addEventListener("blur",E),window.addEventListener("focus",P),()=>{N.removeEventListener("focusin",E),N.removeEventListener("focusout",O),N.removeEventListener("pointermove",E),N.removeEventListener("pointerleave",q),window.removeEventListener("blur",E),window.removeEventListener("focus",P)}}},[b,c.isClosePausedRef]);const w=h.useCallback(({tabbingDirection:N})=>{const E=d().map(P=>{const O=P.ref.current,q=[O,...tR(O)];return N==="forwards"?q:q.reverse()});return(N==="forwards"?E.reverse():E).flat()},[d]);return h.useEffect(()=>{const N=g.current;if(N){const C=E=>{var q,A,M;const P=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!P){const V=document.activeElement,k=E.shiftKey;if(E.target===N&&k){(q=f.current)==null||q.focus();return}const _=w({tabbingDirection:k?"backwards":"forwards"}),$=_.findIndex(T=>T===V);jf(_.slice($+1))?E.preventDefault():k?(A=f.current)==null||A.focus():(M=y.current)==null||M.focus()}};return N.addEventListener("keydown",C),()=>N.removeEventListener("keydown",C)}},[d,w]),e.jsxs(EE,{ref:m,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&e.jsx(xp,{ref:f,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"forwards"});jf(N)}}),e.jsx(og.Slot,{scope:s,children:e.jsx(Me.ol,{tabIndex:-1,...l,ref:x})}),b&&e.jsx(xp,{ref:y,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"backwards"});jf(N)}})]})});Pj.displayName=Cj;var _j="ToastFocusProxy",xp=h.forwardRef((r,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...i}=r,l=qu(_j,s);return e.jsx(zu,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:c=>{var f;const d=c.relatedTarget;!((f=l.viewport)!=null&&f.contains(d))&&n()}})});xp.displayName=_j;var xc="Toast",zE="toast.swipeStart",qE="toast.swipeMove",WE="toast.swipeCancel",HE="toast.swipeEnd",Ej=h.forwardRef((r,t)=>{const{forceMount:s,open:n,defaultOpen:i,onOpenChange:l,...c}=r,[d,m]=xs({prop:n,defaultProp:i??!0,onChange:l,caller:xc});return e.jsx(wr,{present:s||d,children:e.jsx(GE,{open:d,...c,ref:t,onClose:()=>m(!1),onPause:or(r.onPause),onResume:or(r.onResume),onSwipeStart:Ce(r.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(r.onSwipeMove,f=>{const{x:y,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ce(r.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(r.onSwipeEnd,f=>{const{x:y,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),m(!1)})})})});Ej.displayName=xc;var[YE,KE]=Sj(xc,{onClose(){}}),GE=h.forwardRef((r,t)=>{const{__scopeToast:s,type:n="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:d,onPause:m,onResume:f,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:x,onSwipeEnd:v,...b}=r,w=qu(xc,s),[N,C]=h.useState(null),E=rt(t,T=>C(T)),P=h.useRef(null),O=h.useRef(null),q=i||w.duration,A=h.useRef(0),M=h.useRef(q),V=h.useRef(0),{onToastAdd:k,onToastRemove:R}=w,B=or(()=>{var Q;(N==null?void 0:N.contains(document.activeElement))&&((Q=w.viewport)==null||Q.focus()),c()}),_=h.useCallback(T=>{!T||T===1/0||(window.clearTimeout(V.current),A.current=new Date().getTime(),V.current=window.setTimeout(B,T))},[B]);h.useEffect(()=>{const T=w.viewport;if(T){const Q=()=>{_(M.current),f==null||f()},Y=()=>{const F=new Date().getTime()-A.current;M.current=M.current-F,window.clearTimeout(V.current),m==null||m()};return T.addEventListener(pp,Y),T.addEventListener(gp,Q),()=>{T.removeEventListener(pp,Y),T.removeEventListener(gp,Q)}}},[w.viewport,q,m,f,_]),h.useEffect(()=>{l&&!w.isClosePausedRef.current&&_(q)},[l,q,w.isClosePausedRef,_]),h.useEffect(()=>(k(),()=>R()),[k,R]);const $=h.useMemo(()=>N?Oj(N):null,[N]);return w.viewport?e.jsxs(e.Fragment,{children:[$&&e.jsx(QE,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:$}),e.jsx(YE,{scope:s,onClose:B,children:Vi.createPortal(e.jsx(og.ItemSlot,{scope:s,children:e.jsx(_E,{asChild:!0,onEscapeKeyDown:Ce(d,()=>{w.isFocusedToastEscapeKeyDownRef.current||B(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Me.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:E,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:Ce(r.onKeyDown,T=>{T.key==="Escape"&&(d==null||d(T.nativeEvent),T.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Ce(r.onPointerDown,T=>{T.button===0&&(P.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ce(r.onPointerMove,T=>{if(!P.current)return;const Q=T.clientX-P.current.x,Y=T.clientY-P.current.y,F=!!O.current,I=["left","right"].includes(w.swipeDirection),D=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=I?D(0,Q):0,U=I?0:D(0,Y),z=T.pointerType==="touch"?10:2,J={x:W,y:U},se={originalEvent:T,delta:J};F?(O.current=J,Hd(qE,g,se,{discrete:!1})):Ry(J,w.swipeDirection,z)?(O.current=J,Hd(zE,y,se,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(Q)>z||Math.abs(Y)>z)&&(P.current=null)}),onPointerUp:Ce(r.onPointerUp,T=>{const Q=O.current,Y=T.target;if(Y.hasPointerCapture(T.pointerId)&&Y.releasePointerCapture(T.pointerId),O.current=null,P.current=null,Q){const F=T.currentTarget,I={originalEvent:T,delta:Q};Ry(Q,w.swipeDirection,w.swipeThreshold)?Hd(HE,v,I,{discrete:!0}):Hd(WE,x,I,{discrete:!0}),F.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),QE=r=>{const{__scopeToast:t,children:s,...n}=r,i=qu(xc,t),[l,c]=h.useState(!1),[d,m]=h.useState(!1);return ZE(()=>c(!0)),h.useEffect(()=>{const f=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(f)},[]),d?null:e.jsx(qi,{asChild:!0,children:e.jsx(zu,{...n,children:l&&e.jsxs(e.Fragment,{children:[i.label," ",s]})})})},XE="ToastTitle",Rj=h.forwardRef((r,t)=>{const{__scopeToast:s,...n}=r;return e.jsx(Me.div,{...n,ref:t})});Rj.displayName=XE;var JE="ToastDescription",Tj=h.forwardRef((r,t)=>{const{__scopeToast:s,...n}=r;return e.jsx(Me.div,{...n,ref:t})});Tj.displayName=JE;var Dj="ToastAction",Aj=h.forwardRef((r,t)=>{const{altText:s,...n}=r;return s.trim()?e.jsx(Ij,{altText:s,asChild:!0,children:e.jsx(ig,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dj}\`. Expected non-empty \`string\`.`),null)});Aj.displayName=Dj;var Mj="ToastClose",ig=h.forwardRef((r,t)=>{const{__scopeToast:s,...n}=r,i=KE(Mj,s);return e.jsx(Ij,{asChild:!0,children:e.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ce(r.onClick,i.onClose)})})});ig.displayName=Mj;var Ij=h.forwardRef((r,t)=>{const{__scopeToast:s,altText:n,...i}=r;return e.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function Oj(r){const t=[];return Array.from(r.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),eR(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...Oj(n))}}),t}function Hd(r,t,s,{discrete:n}){const i=s.originalEvent.currentTarget,l=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(r,t,{once:!0}),n?ng(i,l):i.dispatchEvent(l)}var Ry=(r,t,s=0)=>{const n=Math.abs(r.x),i=Math.abs(r.y),l=n>i;return t==="left"||t==="right"?l&&n>s:!l&&i>s};function ZE(r=()=>{}){const t=or(r);lr(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function eR(r){return r.nodeType===r.ELEMENT_NODE}function tR(r){const t=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function jf(r){const t=document.activeElement;return r.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var rR=kj,Fj=Pj,Lj=Ej,$j=Rj,Vj=Tj,Uj=Aj,Bj=ig;function zj(r){var t,s,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(t=0;t<i;t++)r[t]&&(s=zj(r[t]))&&(n&&(n+=" "),n+=s)}else for(s in r)r[s]&&(n&&(n+=" "),n+=s);return n}function qj(){for(var r,t,s=0,n="",i=arguments.length;s<i;s++)(r=arguments[s])&&(t=zj(r))&&(n&&(n+=" "),n+=t);return n}const Ty=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Dy=qj,vc=(r,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return Dy(r,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:l}=t,c=Object.keys(i).map(f=>{const y=s==null?void 0:s[f],g=l==null?void 0:l[f];if(y===null)return null;const x=Ty(y)||Ty(g);return i[f][x]}),d=s&&Object.entries(s).reduce((f,y)=>{let[g,x]=y;return x===void 0||(f[g]=x),f},{}),m=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,y)=>{let{class:g,className:x,...v}=y;return Object.entries(v).every(b=>{let[w,N]=b;return Array.isArray(N)?N.includes({...l,...d}[w]):{...l,...d}[w]===N})?[...f,g,x]:f},[]);return Dy(r,c,m,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wj=(...r)=>r.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=h.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...d},m)=>h.createElement("svg",{ref:m,...nR,width:t,height:t,stroke:r,strokeWidth:n?Number(s)*24/Number(t):s,className:Wj("lucide",i),...d},[...c.map(([f,y])=>h.createElement(f,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(r,t)=>{const s=h.forwardRef(({className:n,...i},l)=>h.createElement(aR,{ref:l,iconNode:t,className:Wj(`lucide-${sR(r)}`,n),...i}));return s.displayName=`${r}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=De("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=De("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=De("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=De("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=De("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=De("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=De("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=De("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=De("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=De("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=De("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=De("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=De("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=De("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=De("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=De("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=De("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=De("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=De("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=De("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=De("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=De("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cg="-",SR=r=>{const t=CR(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:c=>{const d=c.split(cg);return d[0]===""&&d.length!==1&&d.shift(),tw(d,t)||kR(c)},getConflictingClassGroupIds:(c,d)=>{const m=s[c]||[];return d&&n[c]?[...m,...n[c]]:m}}},tw=(r,t)=>{var c;if(r.length===0)return t.classGroupId;const s=r[0],n=t.nextPart.get(s),i=n?tw(r.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const l=r.join(cg);return(c=t.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Iy=/^\[(.+)\]$/,kR=r=>{if(Iy.test(r)){const t=Iy.exec(r)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},CR=r=>{const{theme:t,prefix:s}=r,n={nextPart:new Map,validators:[]};return _R(Object.entries(r.classGroups),s).forEach(([l,c])=>{wp(c,n,l,t)}),n},wp=(r,t,s,n)=>{r.forEach(i=>{if(typeof i=="string"){const l=i===""?t:Oy(t,i);l.classGroupId=s;return}if(typeof i=="function"){if(PR(i)){wp(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([l,c])=>{wp(c,Oy(t,l),s,n)})})},Oy=(r,t)=>{let s=r;return t.split(cg).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},PR=r=>r.isThemeGetter,_R=(r,t)=>t?r.map(([s,n])=>{const i=n.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[t+c,d])):l);return[s,i]}):r,ER=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(l,c)=>{s.set(l,c),t++,t>r&&(t=0,n=s,s=new Map)};return{get(l){let c=s.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return i(l,c),c},set(l,c){s.has(l)?s.set(l,c):i(l,c)}}},rw="!",RR=r=>{const{separator:t,experimentalParseClassName:s}=r,n=t.length===1,i=t[0],l=t.length,c=d=>{const m=[];let f=0,y=0,g;for(let N=0;N<d.length;N++){let C=d[N];if(f===0){if(C===i&&(n||d.slice(N,N+l)===t)){m.push(d.slice(y,N)),y=N+l;continue}if(C==="/"){g=N;continue}}C==="["?f++:C==="]"&&f--}const x=m.length===0?d:d.substring(y),v=x.startsWith(rw),b=v?x.substring(1):x,w=g&&g>y?g-y:void 0;return{modifiers:m,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:w}};return s?d=>s({className:d,parseClassName:c}):c},TR=r=>{if(r.length<=1)return r;const t=[];let s=[];return r.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},DR=r=>({cache:ER(r.cacheSize),parseClassName:RR(r),...SR(r)}),AR=/\s+/,MR=(r,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=t,l=[],c=r.trim().split(AR);let d="";for(let m=c.length-1;m>=0;m-=1){const f=c[m],{modifiers:y,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=s(f);let b=!!v,w=n(b?x.substring(0,v):x);if(!w){if(!b){d=f+(d.length>0?" "+d:d);continue}if(w=n(x),!w){d=f+(d.length>0?" "+d:d);continue}b=!1}const N=TR(y).join(":"),C=g?N+rw:N,E=C+w;if(l.includes(E))continue;l.push(E);const P=i(w,b);for(let O=0;O<P.length;++O){const q=P[O];l.push(C+q)}d=f+(d.length>0?" "+d:d)}return d};function IR(){let r=0,t,s,n="";for(;r<arguments.length;)(t=arguments[r++])&&(s=sw(t))&&(n&&(n+=" "),n+=s);return n}const sw=r=>{if(typeof r=="string")return r;let t,s="";for(let n=0;n<r.length;n++)r[n]&&(t=sw(r[n]))&&(s&&(s+=" "),s+=t);return s};function OR(r,...t){let s,n,i,l=c;function c(m){const f=t.reduce((y,g)=>g(y),r());return s=DR(f),n=s.cache.get,i=s.cache.set,l=d,d(m)}function d(m){const f=n(m);if(f)return f;const y=MR(m,s);return i(m,y),y}return function(){return l(IR.apply(null,arguments))}}const Kt=r=>{const t=s=>s[r]||[];return t.isThemeGetter=!0,t},nw=/^\[(?:([a-z-]+):)?(.+)\]$/i,FR=/^\d+\/\d+$/,LR=new Set(["px","full","screen"]),$R=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,On=r=>xi(r)||LR.has(r)||FR.test(r),ja=r=>Hi(r,"length",XR),xi=r=>!!r&&!Number.isNaN(Number(r)),Nf=r=>Hi(r,"number",xi),Al=r=>!!r&&Number.isInteger(Number(r)),qR=r=>r.endsWith("%")&&xi(r.slice(0,-1)),dt=r=>nw.test(r),wa=r=>$R.test(r),WR=new Set(["length","size","percentage"]),HR=r=>Hi(r,WR,aw),YR=r=>Hi(r,"position",aw),KR=new Set(["image","url"]),GR=r=>Hi(r,KR,ZR),QR=r=>Hi(r,"",JR),Ml=()=>!0,Hi=(r,t,s)=>{const n=nw.exec(r);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},XR=r=>VR.test(r)&&!UR.test(r),aw=()=>!1,JR=r=>BR.test(r),ZR=r=>zR.test(r),eT=()=>{const r=Kt("colors"),t=Kt("spacing"),s=Kt("blur"),n=Kt("brightness"),i=Kt("borderColor"),l=Kt("borderRadius"),c=Kt("borderSpacing"),d=Kt("borderWidth"),m=Kt("contrast"),f=Kt("grayscale"),y=Kt("hueRotate"),g=Kt("invert"),x=Kt("gap"),v=Kt("gradientColorStops"),b=Kt("gradientColorStopPositions"),w=Kt("inset"),N=Kt("margin"),C=Kt("opacity"),E=Kt("padding"),P=Kt("saturate"),O=Kt("scale"),q=Kt("sepia"),A=Kt("skew"),M=Kt("space"),V=Kt("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",dt,t],_=()=>[dt,t],$=()=>["",On,ja],T=()=>["auto",xi,dt],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",dt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[xi,dt];return{cacheSize:500,separator:":",theme:{colors:[Ml],spacing:[On,ja],blur:["none","",wa,dt],brightness:U(),borderColor:[r],borderRadius:["none","","full",wa,dt],borderSpacing:_(),borderWidth:$(),contrast:U(),grayscale:D(),hueRotate:U(),invert:D(),gap:_(),gradientColorStops:[r],gradientColorStopPositions:[qR,ja],inset:B(),margin:B(),opacity:U(),padding:_(),saturate:U(),scale:U(),sepia:D(),skew:U(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[wa]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),dt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Al,dt]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Al,dt]}],"grid-cols":[{"grid-cols":[Ml]}],"col-start-end":[{col:["auto",{span:["full",Al,dt]},dt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Ml]}],"row-start-end":[{row:["auto",{span:[Al,dt]},dt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,t]}],"min-w":[{"min-w":[dt,t,"min","max","fit"]}],"max-w":[{"max-w":[dt,t,"none","full","min","max","fit","prose",{screen:[wa]},wa]}],h:[{h:[dt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wa,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nf]}],"font-family":[{font:[Ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",xi,Nf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",On,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",On,ja]}],"underline-offset":[{"underline-offset":["auto",On,dt]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),YR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GR]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[On,dt]}],"outline-w":[{outline:[On,ja]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[On,ja]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",wa,QR]}],"shadow-color":[{shadow:[Ml]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",wa,dt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[g]}],saturate:[{saturate:[P]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Al,dt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[On,ja,Nf]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tT=OR(eT);function Re(...r){return tT(qj(r))}const rT=rR,ow=h.forwardRef(({className:r,...t},s)=>e.jsx(Fj,{ref:s,className:Re("fixed top-4 right-4 z-[100] flex max-h-screen w-full flex-col md:max-w-[420px]",r),...t}));ow.displayName=Fj.displayName;const sT=vc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-red-500 bg-red-500 text-white",success:"group border-green-500 bg-green-500 text-white",error:"group border-red-500 bg-red-500 text-white"}},defaultVariants:{variant:"default"}}),iw=h.forwardRef(({className:r,variant:t,...s},n)=>e.jsx(Lj,{ref:n,className:Re(sT({variant:t}),r),...s}));iw.displayName=Lj.displayName;const nT=h.forwardRef(({className:r,...t},s)=>e.jsx(Uj,{ref:s,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...t}));nT.displayName=Uj.displayName;const lw=h.forwardRef(({className:r,...t},s)=>e.jsx(Bj,{ref:s,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...t,children:e.jsx(Rt,{className:"h-4 w-4"})}));lw.displayName=Bj.displayName;const cw=h.forwardRef(({className:r,...t},s)=>e.jsx($j,{ref:s,className:Re("text-sm font-semibold",r),...t}));cw.displayName=$j.displayName;const dw=h.forwardRef(({className:r,...t},s)=>e.jsx(Vj,{ref:s,className:Re("text-sm opacity-90",r),...t}));dw.displayName=Vj.displayName;function aT(){const{toasts:r}=it();return e.jsxs(rT,{children:[r.map(function({id:t,title:s,description:n,action:i,...l}){return e.jsxs(iw,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(cw,{children:s}),n&&e.jsx(dw,{children:n})]}),i,e.jsx(lw,{})]},t)}),e.jsx(ow,{})]})}var Fy=["light","dark"],oT="(prefers-color-scheme: dark)",iT=h.createContext(void 0),lT={setTheme:r=>{},themes:[]},cT=()=>{var r;return(r=h.useContext(iT))!=null?r:lT};h.memo(({forcedTheme:r,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:l,value:c,attrs:d,nonce:m})=>{let f=l==="system",y=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,g=i?Fy.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(b,w=!1,N=!0)=>{let C=c?c[b]:b,E=w?b+"|| ''":`'${C}'`,P="";return i&&N&&!w&&Fy.includes(b)&&(P+=`d.style.colorScheme = '${b}';`),s==="class"?w||C?P+=`c.add(${E})`:P+="null":C&&(P+=`d[s](n,${E})`),P},v=r?`!function(){${y}${x(r)}}()`:n?`!function(){try{${y}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${oT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${x(c?"x[e]":"e",!0)}}${f?"":"else{"+x(l,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${x(c?"x[e]":"e",!0)}}else{${x(l,!1,!1)};}${g}}catch(t){}}();`;return h.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:v}})});var dT=r=>{switch(r){case"success":return hT;case"info":return pT;case"warning":return fT;case"error":return gT;default:return null}},uT=Array(12).fill(0),mT=({visible:r,className:t})=>ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":r},ke.createElement("div",{className:"sonner-spinner"},uT.map((s,n)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),hT=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fT=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pT=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gT=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xT=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vT=()=>{let[r,t]=ke.useState(document.hidden);return ke.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),r},Np=1,yT=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let t=this.subscribers.indexOf(r);this.subscribers.splice(t,1)}),this.publish=r=>{this.subscribers.forEach(t=>t(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var t;let{message:s,...n}=r,i=typeof(r==null?void 0:r.id)=="number"||((t=r.id)==null?void 0:t.length)>0?r.id:Np++,l=this.toasts.find(d=>d.id===i),c=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...r,id:i,title:s}),{...d,...r,id:i,dismissible:c,title:s}):d):this.addToast({title:s,...n,dismissible:c,id:i}),i},this.dismiss=r=>(this.dismissedToasts.add(r),r||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:r,dismiss:!0})),r),this.message=(r,t)=>this.create({...t,message:r}),this.error=(r,t)=>this.create({...t,message:r,type:"error"}),this.success=(r,t)=>this.create({...t,type:"success",message:r}),this.info=(r,t)=>this.create({...t,type:"info",message:r}),this.warning=(r,t)=>this.create({...t,type:"warning",message:r}),this.loading=(r,t)=>this.create({...t,type:"loading",message:r}),this.promise=(r,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:r,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=r instanceof Promise?r:r(),i=s!==void 0,l,c=n.then(async m=>{if(l=["resolve",m],ke.isValidElement(m))i=!1,this.create({id:s,type:"default",message:m});else if(jT(m)&&!m.ok){i=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description;this.create({id:s,type:"error",message:f,description:y})}else if(t.success!==void 0){i=!1;let f=typeof t.success=="function"?await t.success(m):t.success,y=typeof t.description=="function"?await t.description(m):t.description;this.create({id:s,type:"success",message:f,description:y})}}).catch(async m=>{if(l=["reject",m],t.error!==void 0){i=!1;let f=typeof t.error=="function"?await t.error(m):t.error,y=typeof t.description=="function"?await t.description(m):t.description;this.create({id:s,type:"error",message:f,description:y})}}).finally(()=>{var m;i&&(this.dismiss(s),s=void 0),(m=t.finally)==null||m.call(t)}),d=()=>new Promise((m,f)=>c.then(()=>l[0]==="reject"?f(l[1]):m(l[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(r,t)=>{let s=(t==null?void 0:t.id)||Np++;return this.create({jsx:r(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rs=new yT,bT=(r,t)=>{let s=(t==null?void 0:t.id)||Np++;return rs.addToast({title:r,...t,id:s}),s},jT=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",wT=bT,NT=()=>rs.toasts,ST=()=>rs.getActiveToasts(),go=Object.assign(wT,{success:rs.success,info:rs.info,warning:rs.warning,error:rs.error,custom:rs.custom,message:rs.message,promise:rs.promise,dismiss:rs.dismiss,loading:rs.loading},{getHistory:NT,getToasts:ST});function kT(r,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}kT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kd(r){return r.label!==void 0}var CT=3,PT="32px",_T="16px",Ly=4e3,ET=356,RT=14,TT=20,DT=200;function Us(...r){return r.filter(Boolean).join(" ")}function AT(r){let[t,s]=r.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}var MT=r=>{var t,s,n,i,l,c,d,m,f,y,g;let{invert:x,toast:v,unstyled:b,interacting:w,setHeights:N,visibleToasts:C,heights:E,index:P,toasts:O,expanded:q,removeToast:A,defaultRichColors:M,closeButton:V,style:k,cancelButtonStyle:R,actionButtonStyle:B,className:_="",descriptionClassName:$="",duration:T,position:Q,gap:Y,loadingIcon:F,expandByDefault:I,classNames:D,icons:W,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:z}=r,[J,se]=ke.useState(null),[ue,xe]=ke.useState(null),[oe,de]=ke.useState(!1),[le,he]=ke.useState(!1),[fe,we]=ke.useState(!1),[Oe,Te]=ke.useState(!1),[gt,Lt]=ke.useState(!1),[Qt,cr]=ke.useState(0),[qt,sr]=ke.useState(0),ae=ke.useRef(v.duration||T||Ly),Le=ke.useRef(null),ie=ke.useRef(null),_e=P===0,Ae=P+1<=C,Ie=v.type,Ze=v.dismissible!==!1,ft=v.className||"",St=v.descriptionClassName||"",qe=ke.useMemo(()=>E.findIndex(lt=>lt.toastId===v.id)||0,[E,v.id]),vt=ke.useMemo(()=>{var lt;return(lt=v.closeButton)!=null?lt:V},[v.closeButton,V]),We=ke.useMemo(()=>v.duration||T||Ly,[v.duration,T]),Nt=ke.useRef(0),Mt=ke.useRef(0),Wt=ke.useRef(0),Ar=ke.useRef(null),[Ts,to]=Q.split("-"),vs=ke.useMemo(()=>E.reduce((lt,_t,$t)=>$t>=qe?lt:lt+_t.height,0),[E,qe]),Pn=vT(),ta=v.invert||x,an=Ie==="loading";Mt.current=ke.useMemo(()=>qe*Y+vs,[qe,vs]),ke.useEffect(()=>{ae.current=We},[We]),ke.useEffect(()=>{de(!0)},[]),ke.useEffect(()=>{let lt=ie.current;if(lt){let _t=lt.getBoundingClientRect().height;return sr(_t),N($t=>[{toastId:v.id,height:_t,position:v.position},...$t]),()=>N($t=>$t.filter($r=>$r.toastId!==v.id))}},[N,v.id]),ke.useLayoutEffect(()=>{if(!oe)return;let lt=ie.current,_t=lt.style.height;lt.style.height="auto";let $t=lt.getBoundingClientRect().height;lt.style.height=_t,sr($t),N($r=>$r.find(Kr=>Kr.toastId===v.id)?$r.map(Kr=>Kr.toastId===v.id?{...Kr,height:$t}:Kr):[{toastId:v.id,height:$t,position:v.position},...$r])},[oe,v.title,v.description,N,v.id]);let Ds=ke.useCallback(()=>{he(!0),cr(Mt.current),N(lt=>lt.filter(_t=>_t.toastId!==v.id)),setTimeout(()=>{A(v)},DT)},[v,A,N,Mt]);ke.useEffect(()=>{if(v.promise&&Ie==="loading"||v.duration===1/0||v.type==="loading")return;let lt;return q||w||z&&Pn?(()=>{if(Wt.current<Nt.current){let _t=new Date().getTime()-Nt.current;ae.current=ae.current-_t}Wt.current=new Date().getTime()})():ae.current!==1/0&&(Nt.current=new Date().getTime(),lt=setTimeout(()=>{var _t;(_t=v.onAutoClose)==null||_t.call(v,v),Ds()},ae.current)),()=>clearTimeout(lt)},[q,w,v,Ie,z,Pn,Ds]),ke.useEffect(()=>{v.delete&&Ds()},[Ds,v.delete]);function Mc(){var lt,_t,$t;return W!=null&&W.loading?ke.createElement("div",{className:Us(D==null?void 0:D.loader,(lt=v==null?void 0:v.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":Ie==="loading"},W.loading):F?ke.createElement("div",{className:Us(D==null?void 0:D.loader,(_t=v==null?void 0:v.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":Ie==="loading"},F):ke.createElement(mT,{className:Us(D==null?void 0:D.loader,($t=v==null?void 0:v.classNames)==null?void 0:$t.loader),visible:Ie==="loading"})}return ke.createElement("li",{tabIndex:0,ref:ie,className:Us(_,ft,D==null?void 0:D.toast,(t=v==null?void 0:v.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Ie],(s=v==null?void 0:v.classNames)==null?void 0:s[Ie]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:M,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":oe,"data-promise":!!v.promise,"data-swiped":gt,"data-removed":le,"data-visible":Ae,"data-y-position":Ts,"data-x-position":to,"data-index":P,"data-front":_e,"data-swiping":fe,"data-dismissible":Ze,"data-type":Ie,"data-invert":ta,"data-swipe-out":Oe,"data-swipe-direction":ue,"data-expanded":!!(q||I&&oe),style:{"--index":P,"--toasts-before":P,"--z-index":O.length-P,"--offset":`${le?Qt:Mt.current}px`,"--initial-height":I?"auto":`${qt}px`,...k,...v.style},onDragEnd:()=>{we(!1),se(null),Ar.current=null},onPointerDown:lt=>{an||!Ze||(Le.current=new Date,cr(Mt.current),lt.target.setPointerCapture(lt.pointerId),lt.target.tagName!=="BUTTON"&&(we(!0),Ar.current={x:lt.clientX,y:lt.clientY}))},onPointerUp:()=>{var lt,_t,$t,$r;if(Oe||!Ze)return;Ar.current=null;let Kr=Number(((lt=ie.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gr=Number(((_t=ie.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),As=new Date().getTime()-(($t=Le.current)==null?void 0:$t.getTime()),_r=J==="x"?Kr:Gr,on=Math.abs(_r)/As;if(Math.abs(_r)>=TT||on>.11){cr(Mt.current),($r=v.onDismiss)==null||$r.call(v,v),xe(J==="x"?Kr>0?"right":"left":Gr>0?"down":"up"),Ds(),Te(!0),Lt(!1);return}we(!1),se(null)},onPointerMove:lt=>{var _t,$t,$r,Kr;if(!Ar.current||!Ze||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let Gr=lt.clientY-Ar.current.y,As=lt.clientX-Ar.current.x,_r=($t=r.swipeDirections)!=null?$t:AT(Q);!J&&(Math.abs(As)>1||Math.abs(Gr)>1)&&se(Math.abs(As)>Math.abs(Gr)?"x":"y");let on={x:0,y:0};J==="y"?(_r.includes("top")||_r.includes("bottom"))&&(_r.includes("top")&&Gr<0||_r.includes("bottom")&&Gr>0)&&(on.y=Gr):J==="x"&&(_r.includes("left")||_r.includes("right"))&&(_r.includes("left")&&As<0||_r.includes("right")&&As>0)&&(on.x=As),(Math.abs(on.x)>0||Math.abs(on.y)>0)&&Lt(!0),($r=ie.current)==null||$r.style.setProperty("--swipe-amount-x",`${on.x}px`),(Kr=ie.current)==null||Kr.style.setProperty("--swipe-amount-y",`${on.y}px`)}},vt&&!v.jsx?ke.createElement("button",{"aria-label":U,"data-disabled":an,"data-close-button":!0,onClick:an||!Ze?()=>{}:()=>{var lt;Ds(),(lt=v.onDismiss)==null||lt.call(v,v)},className:Us(D==null?void 0:D.closeButton,(i=v==null?void 0:v.classNames)==null?void 0:i.closeButton)},(l=W==null?void 0:W.close)!=null?l:xT):null,v.jsx||h.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:ke.createElement(ke.Fragment,null,Ie||v.icon||v.promise?ke.createElement("div",{"data-icon":"",className:Us(D==null?void 0:D.icon,(c=v==null?void 0:v.classNames)==null?void 0:c.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Mc():null,v.type!=="loading"?v.icon||(W==null?void 0:W[Ie])||dT(Ie):null):null,ke.createElement("div",{"data-content":"",className:Us(D==null?void 0:D.content,(d=v==null?void 0:v.classNames)==null?void 0:d.content)},ke.createElement("div",{"data-title":"",className:Us(D==null?void 0:D.title,(m=v==null?void 0:v.classNames)==null?void 0:m.title)},typeof v.title=="function"?v.title():v.title),v.description?ke.createElement("div",{"data-description":"",className:Us($,St,D==null?void 0:D.description,(f=v==null?void 0:v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),h.isValidElement(v.cancel)?v.cancel:v.cancel&&Kd(v.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||R,onClick:lt=>{var _t,$t;Kd(v.cancel)&&Ze&&(($t=(_t=v.cancel).onClick)==null||$t.call(_t,lt),Ds())},className:Us(D==null?void 0:D.cancelButton,(y=v==null?void 0:v.classNames)==null?void 0:y.cancelButton)},v.cancel.label):null,h.isValidElement(v.action)?v.action:v.action&&Kd(v.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||B,onClick:lt=>{var _t,$t;Kd(v.action)&&(($t=(_t=v.action).onClick)==null||$t.call(_t,lt),!lt.defaultPrevented&&Ds())},className:Us(D==null?void 0:D.actionButton,(g=v==null?void 0:v.classNames)==null?void 0:g.actionButton)},v.action.label):null))};function $y(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function IT(r,t){let s={};return[r,t].forEach((n,i)=>{let l=i===1,c=l?"--mobile-offset":"--offset",d=l?_T:PT;function m(f){["top","right","bottom","left"].forEach(y=>{s[`${c}-${y}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?m(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?s[`${c}-${f}`]=d:s[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):m(d)}),s}var OT=h.forwardRef(function(r,t){let{invert:s,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:m,mobileOffset:f,theme:y="light",richColors:g,duration:x,style:v,visibleToasts:b=CT,toastOptions:w,dir:N=$y(),gap:C=RT,loadingIcon:E,icons:P,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:q}=r,[A,M]=ke.useState([]),V=ke.useMemo(()=>Array.from(new Set([n].concat(A.filter(z=>z.position).map(z=>z.position)))),[A,n]),[k,R]=ke.useState([]),[B,_]=ke.useState(!1),[$,T]=ke.useState(!1),[Q,Y]=ke.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=ke.useRef(null),I=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=ke.useRef(null),W=ke.useRef(!1),U=ke.useCallback(z=>{M(J=>{var se;return(se=J.find(ue=>ue.id===z.id))!=null&&se.delete||rs.dismiss(z.id),J.filter(({id:ue})=>ue!==z.id)})},[]);return ke.useEffect(()=>rs.subscribe(z=>{if(z.dismiss){M(J=>J.map(se=>se.id===z.id?{...se,delete:!0}:se));return}setTimeout(()=>{Zb.flushSync(()=>{M(J=>{let se=J.findIndex(ue=>ue.id===z.id);return se!==-1?[...J.slice(0,se),{...J[se],...z},...J.slice(se+1)]:[z,...J]})})})}),[]),ke.useEffect(()=>{if(y!=="system"){Y(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:J})=>{Y(J?"dark":"light")})}catch{z.addListener(({matches:se})=>{try{Y(se?"dark":"light")}catch(ue){console.error(ue)}})}},[y]),ke.useEffect(()=>{A.length<=1&&_(!1)},[A]),ke.useEffect(()=>{let z=J=>{var se,ue;i.every(xe=>J[xe]||J.code===xe)&&(_(!0),(se=F.current)==null||se.focus()),J.code==="Escape"&&(document.activeElement===F.current||(ue=F.current)!=null&&ue.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),ke.useEffect(()=>{if(F.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,W.current=!1)}},[F.current]),ke.createElement("section",{ref:t,"aria-label":`${O} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((z,J)=>{var se;let[ue,xe]=z.split("-");return A.length?ke.createElement("ol",{key:z,dir:N==="auto"?$y():N,tabIndex:-1,ref:F,className:d,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":ue,"data-lifted":B&&A.length>1&&!l,"data-x-position":xe,style:{"--front-toast-height":`${((se=k[0])==null?void 0:se.height)||0}px`,"--width":`${ET}px`,"--gap":`${C}px`,...v,...IT(m,f)},onBlur:oe=>{W.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(W.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||W.current||(W.current=!0,D.current=oe.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{$||_(!1)},onDragEnd:()=>_(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},A.filter(oe=>!oe.position&&J===0||oe.position===z).map((oe,de)=>{var le,he;return ke.createElement(MT,{key:oe.id,icons:P,index:de,toast:oe,defaultRichColors:g,duration:(le=w==null?void 0:w.duration)!=null?le:x,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:s,visibleToasts:b,closeButton:(he=w==null?void 0:w.closeButton)!=null?he:c,interacting:$,position:z,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:U,toasts:A.filter(fe=>fe.position==oe.position),heights:k.filter(fe=>fe.position==oe.position),setHeights:R,expandByDefault:l,gap:C,loadingIcon:E,expanded:B,pauseWhenPageIsHidden:q,swipeDirections:r.swipeDirections})})):null}))});const FT=({...r})=>{const{theme:t="system"}=cT();return e.jsx(OT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})};var LT=Xp[" useId ".trim().toString()]||(()=>{}),$T=0;function br(r){const[t,s]=h.useState(LT());return lr(()=>{s(n=>n??String($T++))},[r]),t?`radix-${t}`:""}const VT=["top","right","bottom","left"],qa=Math.min,hs=Math.max,yu=Math.round,Gd=Math.floor,vn=r=>({x:r,y:r}),UT={left:"right",right:"left",bottom:"top",top:"bottom"},BT={start:"end",end:"start"};function Sp(r,t,s){return hs(r,qa(t,s))}function Xn(r,t){return typeof r=="function"?r(t):r}function Jn(r){return r.split("-")[0]}function Yi(r){return r.split("-")[1]}function dg(r){return r==="x"?"y":"x"}function ug(r){return r==="y"?"height":"width"}const zT=new Set(["top","bottom"]);function xn(r){return zT.has(Jn(r))?"y":"x"}function mg(r){return dg(xn(r))}function qT(r,t,s){s===void 0&&(s=!1);const n=Yi(r),i=mg(r),l=ug(i);let c=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=bu(c)),[c,bu(c)]}function WT(r){const t=bu(r);return[kp(r),t,kp(t)]}function kp(r){return r.replace(/start|end/g,t=>BT[t])}const Vy=["left","right"],Uy=["right","left"],HT=["top","bottom"],YT=["bottom","top"];function KT(r,t,s){switch(r){case"top":case"bottom":return s?t?Uy:Vy:t?Vy:Uy;case"left":case"right":return t?HT:YT;default:return[]}}function GT(r,t,s,n){const i=Yi(r);let l=KT(Jn(r),s==="start",n);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(kp)))),l}function bu(r){return r.replace(/left|right|bottom|top/g,t=>UT[t])}function QT(r){return{top:0,right:0,bottom:0,left:0,...r}}function uw(r){return typeof r!="number"?QT(r):{top:r,right:r,bottom:r,left:r}}function ju(r){const{x:t,y:s,width:n,height:i}=r;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function By(r,t,s){let{reference:n,floating:i}=r;const l=xn(t),c=mg(t),d=ug(c),m=Jn(t),f=l==="y",y=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,x=n[d]/2-i[d]/2;let v;switch(m){case"top":v={x:y,y:n.y-i.height};break;case"bottom":v={x:y,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:g};break;case"left":v={x:n.x-i.width,y:g};break;default:v={x:n.x,y:n.y}}switch(Yi(t)){case"start":v[c]-=x*(s&&f?-1:1);break;case"end":v[c]+=x*(s&&f?-1:1);break}return v}const XT=async(r,t,s)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=s,d=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:r,floating:t,strategy:i}),{x:y,y:g}=By(f,n,m),x=n,v={},b=0;for(let w=0;w<d.length;w++){const{name:N,fn:C}=d[w],{x:E,y:P,data:O,reset:q}=await C({x:y,y:g,initialPlacement:n,placement:x,strategy:i,middlewareData:v,rects:f,platform:c,elements:{reference:r,floating:t}});y=E??y,g=P??g,v={...v,[N]:{...v[N],...O}},q&&b<=50&&(b++,typeof q=="object"&&(q.placement&&(x=q.placement),q.rects&&(f=q.rects===!0?await c.getElementRects({reference:r,floating:t,strategy:i}):q.rects),{x:y,y:g}=By(f,x,m)),w=-1)}return{x:y,y:g,placement:x,strategy:i,middlewareData:v}};async function ac(r,t){var s;t===void 0&&(t={});const{x:n,y:i,platform:l,rects:c,elements:d,strategy:m}=r,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:x=!1,padding:v=0}=Xn(t,r),b=uw(v),N=d[x?g==="floating"?"reference":"floating":g],C=ju(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(N)))==null||s?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:f,rootBoundary:y,strategy:m})),E=g==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),O=await(l.isElement==null?void 0:l.isElement(P))?await(l.getScale==null?void 0:l.getScale(P))||{x:1,y:1}:{x:1,y:1},q=ju(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:P,strategy:m}):E);return{top:(C.top-q.top+b.top)/O.y,bottom:(q.bottom-C.bottom+b.bottom)/O.y,left:(C.left-q.left+b.left)/O.x,right:(q.right-C.right+b.right)/O.x}}const JT=r=>({name:"arrow",options:r,async fn(t){const{x:s,y:n,placement:i,rects:l,platform:c,elements:d,middlewareData:m}=t,{element:f,padding:y=0}=Xn(r,t)||{};if(f==null)return{};const g=uw(y),x={x:s,y:n},v=mg(i),b=ug(v),w=await c.getDimensions(f),N=v==="y",C=N?"top":"left",E=N?"bottom":"right",P=N?"clientHeight":"clientWidth",O=l.reference[b]+l.reference[v]-x[v]-l.floating[b],q=x[v]-l.reference[v],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let M=A?A[P]:0;(!M||!await(c.isElement==null?void 0:c.isElement(A)))&&(M=d.floating[P]||l.floating[b]);const V=O/2-q/2,k=M/2-w[b]/2-1,R=qa(g[C],k),B=qa(g[E],k),_=R,$=M-w[b]-B,T=M/2-w[b]/2+V,Q=Sp(_,T,$),Y=!m.arrow&&Yi(i)!=null&&T!==Q&&l.reference[b]/2-(T<_?R:B)-w[b]/2<0,F=Y?T<_?T-_:T-$:0;return{[v]:x[v]+F,data:{[v]:Q,centerOffset:T-Q-F,...Y&&{alignmentOffset:F}},reset:Y}}}),ZT=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var s,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:d,platform:m,elements:f}=t,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...N}=Xn(r,t);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const C=Jn(i),E=xn(d),P=Jn(d)===d,O=await(m.isRTL==null?void 0:m.isRTL(f.floating)),q=x||(P||!w?[bu(d)]:WT(d)),A=b!=="none";!x&&A&&q.push(...GT(d,w,b,O));const M=[d,...q],V=await ac(t,N),k=[];let R=((n=l.flip)==null?void 0:n.overflows)||[];if(y&&k.push(V[C]),g){const T=qT(i,c,O);k.push(V[T[0]],V[T[1]])}if(R=[...R,{placement:i,overflows:k}],!k.every(T=>T<=0)){var B,_;const T=(((B=l.flip)==null?void 0:B.index)||0)+1,Q=M[T];if(Q&&(!(g==="alignment"?E!==xn(Q):!1)||R.every(I=>xn(I.placement)===E?I.overflows[0]>0:!0)))return{data:{index:T,overflows:R},reset:{placement:Q}};let Y=(_=R.filter(F=>F.overflows[0]<=0).sort((F,I)=>F.overflows[1]-I.overflows[1])[0])==null?void 0:_.placement;if(!Y)switch(v){case"bestFit":{var $;const F=($=R.filter(I=>{if(A){const D=xn(I.placement);return D===E||D==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,W)=>D+W,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:$[0];F&&(Y=F);break}case"initialPlacement":Y=d;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function zy(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function qy(r){return VT.some(t=>r[t]>=0)}const eD=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...i}=Xn(r,t);switch(n){case"referenceHidden":{const l=await ac(t,{...i,elementContext:"reference"}),c=zy(l,s.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:qy(c)}}}case"escaped":{const l=await ac(t,{...i,altBoundary:!0}),c=zy(l,s.floating);return{data:{escapedOffsets:c,escaped:qy(c)}}}default:return{}}}}},mw=new Set(["left","top"]);async function tD(r,t){const{placement:s,platform:n,elements:i}=r,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=Jn(s),d=Yi(s),m=xn(s)==="y",f=mw.has(c)?-1:1,y=l&&m?-1:1,g=Xn(t,r);let{mainAxis:x,crossAxis:v,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof b=="number"&&(v=d==="end"?b*-1:b),m?{x:v*y,y:x*f}:{x:x*f,y:v*y}}const rD=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var s,n;const{x:i,y:l,placement:c,middlewareData:d}=t,m=await tD(t,r);return c===((s=d.offset)==null?void 0:s.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:c}}}}},sD=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:s,y:n,placement:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:C,y:E}=N;return{x:C,y:E}}},...m}=Xn(r,t),f={x:s,y:n},y=await ac(t,m),g=xn(Jn(i)),x=dg(g);let v=f[x],b=f[g];if(l){const N=x==="y"?"top":"left",C=x==="y"?"bottom":"right",E=v+y[N],P=v-y[C];v=Sp(E,v,P)}if(c){const N=g==="y"?"top":"left",C=g==="y"?"bottom":"right",E=b+y[N],P=b-y[C];b=Sp(E,b,P)}const w=d.fn({...t,[x]:v,[g]:b});return{...w,data:{x:w.x-s,y:w.y-n,enabled:{[x]:l,[g]:c}}}}}},nD=function(r){return r===void 0&&(r={}),{options:r,fn(t){const{x:s,y:n,placement:i,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:m=!0,crossAxis:f=!0}=Xn(r,t),y={x:s,y:n},g=xn(i),x=dg(g);let v=y[x],b=y[g];const w=Xn(d,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(m){const P=x==="y"?"height":"width",O=l.reference[x]-l.floating[P]+N.mainAxis,q=l.reference[x]+l.reference[P]-N.mainAxis;v<O?v=O:v>q&&(v=q)}if(f){var C,E;const P=x==="y"?"width":"height",O=mw.has(Jn(i)),q=l.reference[g]-l.floating[P]+(O&&((C=c.offset)==null?void 0:C[g])||0)+(O?0:N.crossAxis),A=l.reference[g]+l.reference[P]+(O?0:((E=c.offset)==null?void 0:E[g])||0)-(O?N.crossAxis:0);b<q?b=q:b>A&&(b=A)}return{[x]:v,[g]:b}}}},aD=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var s,n;const{placement:i,rects:l,platform:c,elements:d}=t,{apply:m=()=>{},...f}=Xn(r,t),y=await ac(t,f),g=Jn(i),x=Yi(i),v=xn(i)==="y",{width:b,height:w}=l.floating;let N,C;g==="top"||g==="bottom"?(N=g,C=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,N=x==="end"?"top":"bottom");const E=w-y.top-y.bottom,P=b-y.left-y.right,O=qa(w-y[N],E),q=qa(b-y[C],P),A=!t.middlewareData.shift;let M=O,V=q;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(V=P),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=E),A&&!x){const R=hs(y.left,0),B=hs(y.right,0),_=hs(y.top,0),$=hs(y.bottom,0);v?V=b-2*(R!==0||B!==0?R+B:hs(y.left,y.right)):M=w-2*(_!==0||$!==0?_+$:hs(y.top,y.bottom))}await m({...t,availableWidth:V,availableHeight:M});const k=await c.getDimensions(d.floating);return b!==k.width||w!==k.height?{reset:{rects:!0}}:{}}}};function Hu(){return typeof window<"u"}function Ki(r){return hw(r)?(r.nodeName||"").toLowerCase():"#document"}function ps(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function kn(r){var t;return(t=(hw(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function hw(r){return Hu()?r instanceof Node||r instanceof ps(r).Node:!1}function Zs(r){return Hu()?r instanceof Element||r instanceof ps(r).Element:!1}function jn(r){return Hu()?r instanceof HTMLElement||r instanceof ps(r).HTMLElement:!1}function Wy(r){return!Hu()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ps(r).ShadowRoot}const oD=new Set(["inline","contents"]);function jc(r){const{overflow:t,overflowX:s,overflowY:n,display:i}=en(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!oD.has(i)}const iD=new Set(["table","td","th"]);function lD(r){return iD.has(Ki(r))}const cD=[":popover-open",":modal"];function Yu(r){return cD.some(t=>{try{return r.matches(t)}catch{return!1}})}const dD=["transform","translate","scale","rotate","perspective"],uD=["transform","translate","scale","rotate","perspective","filter"],mD=["paint","layout","strict","content"];function hg(r){const t=fg(),s=Zs(r)?en(r):r;return dD.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||uD.some(n=>(s.willChange||"").includes(n))||mD.some(n=>(s.contain||"").includes(n))}function hD(r){let t=Wa(r);for(;jn(t)&&!Mi(t);){if(hg(t))return t;if(Yu(t))return null;t=Wa(t)}return null}function fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fD=new Set(["html","body","#document"]);function Mi(r){return fD.has(Ki(r))}function en(r){return ps(r).getComputedStyle(r)}function Ku(r){return Zs(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Wa(r){if(Ki(r)==="html")return r;const t=r.assignedSlot||r.parentNode||Wy(r)&&r.host||kn(r);return Wy(t)?t.host:t}function fw(r){const t=Wa(r);return Mi(t)?r.ownerDocument?r.ownerDocument.body:r.body:jn(t)&&jc(t)?t:fw(t)}function oc(r,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=fw(r),l=i===((n=r.ownerDocument)==null?void 0:n.body),c=ps(i);if(l){const d=Cp(c);return t.concat(c,c.visualViewport||[],jc(i)?i:[],d&&s?oc(d):[])}return t.concat(i,oc(i,[],s))}function Cp(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function pw(r){const t=en(r);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=jn(r),l=i?r.offsetWidth:s,c=i?r.offsetHeight:n,d=yu(s)!==l||yu(n)!==c;return d&&(s=l,n=c),{width:s,height:n,$:d}}function pg(r){return Zs(r)?r:r.contextElement}function vi(r){const t=pg(r);if(!jn(t))return vn(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:l}=pw(t);let c=(l?yu(s.width):s.width)/n,d=(l?yu(s.height):s.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const pD=vn(0);function gw(r){const t=ps(r);return!fg()||!t.visualViewport?pD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gD(r,t,s){return t===void 0&&(t=!1),!s||t&&s!==ps(r)?!1:t}function Po(r,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=r.getBoundingClientRect(),l=pg(r);let c=vn(1);t&&(n?Zs(n)&&(c=vi(n)):c=vi(r));const d=gD(l,s,n)?gw(l):vn(0);let m=(i.left+d.x)/c.x,f=(i.top+d.y)/c.y,y=i.width/c.x,g=i.height/c.y;if(l){const x=ps(l),v=n&&Zs(n)?ps(n):n;let b=x,w=Cp(b);for(;w&&n&&v!==b;){const N=vi(w),C=w.getBoundingClientRect(),E=en(w),P=C.left+(w.clientLeft+parseFloat(E.paddingLeft))*N.x,O=C.top+(w.clientTop+parseFloat(E.paddingTop))*N.y;m*=N.x,f*=N.y,y*=N.x,g*=N.y,m+=P,f+=O,b=ps(w),w=Cp(b)}}return ju({width:y,height:g,x:m,y:f})}function Gu(r,t){const s=Ku(r).scrollLeft;return t?t.left+s:Po(kn(r)).left+s}function xw(r,t){const s=r.getBoundingClientRect(),n=s.left+t.scrollLeft-Gu(r,s),i=s.top+t.scrollTop;return{x:n,y:i}}function xD(r){let{elements:t,rect:s,offsetParent:n,strategy:i}=r;const l=i==="fixed",c=kn(n),d=t?Yu(t.floating):!1;if(n===c||d&&l)return s;let m={scrollLeft:0,scrollTop:0},f=vn(1);const y=vn(0),g=jn(n);if((g||!g&&!l)&&((Ki(n)!=="body"||jc(c))&&(m=Ku(n)),jn(n))){const v=Po(n);f=vi(n),y.x=v.x+n.clientLeft,y.y=v.y+n.clientTop}const x=c&&!g&&!l?xw(c,m):vn(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-m.scrollLeft*f.x+y.x+x.x,y:s.y*f.y-m.scrollTop*f.y+y.y+x.y}}function vD(r){return Array.from(r.getClientRects())}function yD(r){const t=kn(r),s=Ku(r),n=r.ownerDocument.body,i=hs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=hs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-s.scrollLeft+Gu(r);const d=-s.scrollTop;return en(n).direction==="rtl"&&(c+=hs(t.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:d}}const Hy=25;function bD(r,t){const s=ps(r),n=kn(r),i=s.visualViewport;let l=n.clientWidth,c=n.clientHeight,d=0,m=0;if(i){l=i.width,c=i.height;const y=fg();(!y||y&&t==="fixed")&&(d=i.offsetLeft,m=i.offsetTop)}const f=Gu(n);if(f<=0){const y=n.ownerDocument,g=y.body,x=getComputedStyle(g),v=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,b=Math.abs(n.clientWidth-g.clientWidth-v);b<=Hy&&(l-=b)}else f<=Hy&&(l+=f);return{width:l,height:c,x:d,y:m}}const jD=new Set(["absolute","fixed"]);function wD(r,t){const s=Po(r,!0,t==="fixed"),n=s.top+r.clientTop,i=s.left+r.clientLeft,l=jn(r)?vi(r):vn(1),c=r.clientWidth*l.x,d=r.clientHeight*l.y,m=i*l.x,f=n*l.y;return{width:c,height:d,x:m,y:f}}function Yy(r,t,s){let n;if(t==="viewport")n=bD(r,s);else if(t==="document")n=yD(kn(r));else if(Zs(t))n=wD(t,s);else{const i=gw(r);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ju(n)}function vw(r,t){const s=Wa(r);return s===t||!Zs(s)||Mi(s)?!1:en(s).position==="fixed"||vw(s,t)}function ND(r,t){const s=t.get(r);if(s)return s;let n=oc(r,[],!1).filter(d=>Zs(d)&&Ki(d)!=="body"),i=null;const l=en(r).position==="fixed";let c=l?Wa(r):r;for(;Zs(c)&&!Mi(c);){const d=en(c),m=hg(c);!m&&d.position==="fixed"&&(i=null),(l?!m&&!i:!m&&d.position==="static"&&!!i&&jD.has(i.position)||jc(c)&&!m&&vw(r,c))?n=n.filter(y=>y!==c):i=d,c=Wa(c)}return t.set(r,n),n}function SD(r){let{element:t,boundary:s,rootBoundary:n,strategy:i}=r;const c=[...s==="clippingAncestors"?Yu(t)?[]:ND(t,this._c):[].concat(s),n],d=c[0],m=c.reduce((f,y)=>{const g=Yy(t,y,i);return f.top=hs(g.top,f.top),f.right=qa(g.right,f.right),f.bottom=qa(g.bottom,f.bottom),f.left=hs(g.left,f.left),f},Yy(t,d,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function kD(r){const{width:t,height:s}=pw(r);return{width:t,height:s}}function CD(r,t,s){const n=jn(t),i=kn(t),l=s==="fixed",c=Po(r,!0,l,t);let d={scrollLeft:0,scrollTop:0};const m=vn(0);function f(){m.x=Gu(i)}if(n||!n&&!l)if((Ki(t)!=="body"||jc(i))&&(d=Ku(t)),n){const v=Po(t,!0,l,t);m.x=v.x+t.clientLeft,m.y=v.y+t.clientTop}else i&&f();l&&!n&&i&&f();const y=i&&!n&&!l?xw(i,d):vn(0),g=c.left+d.scrollLeft-m.x-y.x,x=c.top+d.scrollTop-m.y-y.y;return{x:g,y:x,width:c.width,height:c.height}}function Sf(r){return en(r).position==="static"}function Ky(r,t){if(!jn(r)||en(r).position==="fixed")return null;if(t)return t(r);let s=r.offsetParent;return kn(r)===s&&(s=s.ownerDocument.body),s}function yw(r,t){const s=ps(r);if(Yu(r))return s;if(!jn(r)){let i=Wa(r);for(;i&&!Mi(i);){if(Zs(i)&&!Sf(i))return i;i=Wa(i)}return s}let n=Ky(r,t);for(;n&&lD(n)&&Sf(n);)n=Ky(n,t);return n&&Mi(n)&&Sf(n)&&!hg(n)?s:n||hD(r)||s}const PD=async function(r){const t=this.getOffsetParent||yw,s=this.getDimensions,n=await s(r.floating);return{reference:CD(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _D(r){return en(r).direction==="rtl"}const ED={convertOffsetParentRelativeRectToViewportRelativeRect:xD,getDocumentElement:kn,getClippingRect:SD,getOffsetParent:yw,getElementRects:PD,getClientRects:vD,getDimensions:kD,getScale:vi,isElement:Zs,isRTL:_D};function bw(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function RD(r,t){let s=null,n;const i=kn(r);function l(){var d;clearTimeout(n),(d=s)==null||d.disconnect(),s=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const f=r.getBoundingClientRect(),{left:y,top:g,width:x,height:v}=f;if(d||t(),!x||!v)return;const b=Gd(g),w=Gd(i.clientWidth-(y+x)),N=Gd(i.clientHeight-(g+v)),C=Gd(y),P={rootMargin:-b+"px "+-w+"px "+-N+"px "+-C+"px",threshold:hs(0,qa(1,m))||1};let O=!0;function q(A){const M=A[0].intersectionRatio;if(M!==m){if(!O)return c();M?c(!1,M):n=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!bw(f,r.getBoundingClientRect())&&c(),O=!1}try{s=new IntersectionObserver(q,{...P,root:i.ownerDocument})}catch{s=new IntersectionObserver(q,P)}s.observe(r)}return c(!0),l}function TD(r,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=n,f=pg(r),y=i||l?[...f?oc(f):[],...oc(t)]:[];y.forEach(C=>{i&&C.addEventListener("scroll",s,{passive:!0}),l&&C.addEventListener("resize",s)});const g=f&&d?RD(f,s):null;let x=-1,v=null;c&&(v=new ResizeObserver(C=>{let[E]=C;E&&E.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(t)})),s()}),f&&!m&&v.observe(f),v.observe(t));let b,w=m?Po(r):null;m&&N();function N(){const C=Po(r);w&&!bw(w,C)&&s(),w=C,b=requestAnimationFrame(N)}return s(),()=>{var C;y.forEach(E=>{i&&E.removeEventListener("scroll",s),l&&E.removeEventListener("resize",s)}),g==null||g(),(C=v)==null||C.disconnect(),v=null,m&&cancelAnimationFrame(b)}}const DD=rD,AD=sD,MD=ZT,ID=aD,OD=eD,Gy=JT,FD=nD,LD=(r,t,s)=>{const n=new Map,i={platform:ED,...s},l={...i.platform,_c:n};return XT(r,t,{...i,platform:l})};var $D=typeof document<"u",VD=function(){},ou=$D?h.useLayoutEffect:VD;function wu(r,t){if(r===t)return!0;if(typeof r!=typeof t)return!1;if(typeof r=="function"&&r.toString()===t.toString())return!0;let s,n,i;if(r&&t&&typeof r=="object"){if(Array.isArray(r)){if(s=r.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!wu(r[n],t[n]))return!1;return!0}if(i=Object.keys(r),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const l=i[n];if(!(l==="_owner"&&r.$$typeof)&&!wu(r[l],t[l]))return!1}return!0}return r!==r&&t!==t}function jw(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Qy(r,t){const s=jw(r);return Math.round(t*s)/s}function kf(r){const t=h.useRef(r);return ou(()=>{t.current=r}),t}function UD(r){r===void 0&&(r={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:m,open:f}=r,[y,g]=h.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[x,v]=h.useState(n);wu(x,n)||v(n);const[b,w]=h.useState(null),[N,C]=h.useState(null),E=h.useCallback(I=>{I!==A.current&&(A.current=I,w(I))},[]),P=h.useCallback(I=>{I!==M.current&&(M.current=I,C(I))},[]),O=l||b,q=c||N,A=h.useRef(null),M=h.useRef(null),V=h.useRef(y),k=m!=null,R=kf(m),B=kf(i),_=kf(f),$=h.useCallback(()=>{if(!A.current||!M.current)return;const I={placement:t,strategy:s,middleware:x};B.current&&(I.platform=B.current),LD(A.current,M.current,I).then(D=>{const W={...D,isPositioned:_.current!==!1};T.current&&!wu(V.current,W)&&(V.current=W,Vi.flushSync(()=>{g(W)}))})},[x,t,s,B,_]);ou(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,g(I=>({...I,isPositioned:!1})))},[f]);const T=h.useRef(!1);ou(()=>(T.current=!0,()=>{T.current=!1}),[]),ou(()=>{if(O&&(A.current=O),q&&(M.current=q),O&&q){if(R.current)return R.current(O,q,$);$()}},[O,q,$,R,k]);const Q=h.useMemo(()=>({reference:A,floating:M,setReference:E,setFloating:P}),[E,P]),Y=h.useMemo(()=>({reference:O,floating:q}),[O,q]),F=h.useMemo(()=>{const I={position:s,left:0,top:0};if(!Y.floating)return I;const D=Qy(Y.floating,y.x),W=Qy(Y.floating,y.y);return d?{...I,transform:"translate("+D+"px, "+W+"px)",...jw(Y.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:D,top:W}},[s,d,Y.floating,y.x,y.y]);return h.useMemo(()=>({...y,update:$,refs:Q,elements:Y,floatingStyles:F}),[y,$,Q,Y,F])}const BD=r=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:r,fn(s){const{element:n,padding:i}=typeof r=="function"?r(s):r;return n&&t(n)?n.current!=null?Gy({element:n.current,padding:i}).fn(s):{}:n?Gy({element:n,padding:i}).fn(s):{}}}},zD=(r,t)=>({...DD(r),options:[r,t]}),qD=(r,t)=>({...AD(r),options:[r,t]}),WD=(r,t)=>({...FD(r),options:[r,t]}),HD=(r,t)=>({...MD(r),options:[r,t]}),YD=(r,t)=>({...ID(r),options:[r,t]}),KD=(r,t)=>({...OD(r),options:[r,t]}),GD=(r,t)=>({...BD(r),options:[r,t]});var QD="Arrow",ww=h.forwardRef((r,t)=>{const{children:s,width:n=10,height:i=5,...l}=r;return e.jsx(Me.svg,{...l,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});ww.displayName=QD;var XD=ww;function gg(r){const[t,s]=h.useState(void 0);return lr(()=>{if(r){s({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,d;if("borderBoxSize"in l){const m=l.borderBoxSize,f=Array.isArray(m)?m[0]:m;c=f.inlineSize,d=f.blockSize}else c=r.offsetWidth,d=r.offsetHeight;s({width:c,height:d})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else s(void 0)},[r]),t}var xg="Popper",[Nw,Ga]=jr(xg),[JD,Sw]=Nw(xg),kw=r=>{const{__scopePopper:t,children:s}=r,[n,i]=h.useState(null);return e.jsx(JD,{scope:t,anchor:n,onAnchorChange:i,children:s})};kw.displayName=xg;var Cw="PopperAnchor",Pw=h.forwardRef((r,t)=>{const{__scopePopper:s,virtualRef:n,...i}=r,l=Sw(Cw,s),c=h.useRef(null),d=rt(t,c),m=h.useRef(null);return h.useEffect(()=>{const f=m.current;m.current=(n==null?void 0:n.current)||c.current,f!==m.current&&l.onAnchorChange(m.current)}),n?null:e.jsx(Me.div,{...i,ref:d})});Pw.displayName=Cw;var vg="PopperContent",[ZD,e5]=Nw(vg),_w=h.forwardRef((r,t)=>{var oe,de,le,he,fe,we;const{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:b,...w}=r,N=Sw(vg,s),[C,E]=h.useState(null),P=rt(t,Oe=>E(Oe)),[O,q]=h.useState(null),A=gg(O),M=(A==null?void 0:A.width)??0,V=(A==null?void 0:A.height)??0,k=n+(l!=="center"?"-"+l:""),R=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},B=Array.isArray(f)?f:[f],_=B.length>0,$={padding:R,boundary:B.filter(r5),altBoundary:_},{refs:T,floatingStyles:Q,placement:Y,isPositioned:F,middlewareData:I}=UD({strategy:"fixed",placement:k,whileElementsMounted:(...Oe)=>TD(...Oe,{animationFrame:v==="always"}),elements:{reference:N.anchor},middleware:[zD({mainAxis:i+V,alignmentAxis:c}),m&&qD({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?WD():void 0,...$}),m&&HD({...$}),YD({...$,apply:({elements:Oe,rects:Te,availableWidth:gt,availableHeight:Lt})=>{const{width:Qt,height:cr}=Te.reference,qt=Oe.floating.style;qt.setProperty("--radix-popper-available-width",`${gt}px`),qt.setProperty("--radix-popper-available-height",`${Lt}px`),qt.setProperty("--radix-popper-anchor-width",`${Qt}px`),qt.setProperty("--radix-popper-anchor-height",`${cr}px`)}}),O&&GD({element:O,padding:d}),s5({arrowWidth:M,arrowHeight:V}),x&&KD({strategy:"referenceHidden",...$})]}),[D,W]=Tw(Y),U=or(b);lr(()=>{F&&(U==null||U())},[F,U]);const z=(oe=I.arrow)==null?void 0:oe.x,J=(de=I.arrow)==null?void 0:de.y,se=((le=I.arrow)==null?void 0:le.centerOffset)!==0,[ue,xe]=h.useState();return lr(()=>{C&&xe(window.getComputedStyle(C).zIndex)},[C]),e.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:F?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(he=I.transformOrigin)==null?void 0:he.x,(fe=I.transformOrigin)==null?void 0:fe.y].join(" "),...((we=I.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:e.jsx(ZD,{scope:s,placedSide:D,onArrowChange:q,arrowX:z,arrowY:J,shouldHideArrow:se,children:e.jsx(Me.div,{"data-side":D,"data-align":W,...w,ref:P,style:{...w.style,animation:F?void 0:"none"}})})})});_w.displayName=vg;var Ew="PopperArrow",t5={top:"bottom",right:"left",bottom:"top",left:"right"},Rw=h.forwardRef(function(t,s){const{__scopePopper:n,...i}=t,l=e5(Ew,n),c=t5[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(XD,{...i,ref:s,style:{...i.style,display:"block"}})})});Rw.displayName=Ew;function r5(r){return r!==null}var s5=r=>({name:"transformOrigin",options:r,fn(t){var N,C,E;const{placement:s,rects:n,middlewareData:i}=t,c=((N=i.arrow)==null?void 0:N.centerOffset)!==0,d=c?0:r.arrowWidth,m=c?0:r.arrowHeight,[f,y]=Tw(s),g={start:"0%",center:"50%",end:"100%"}[y],x=(((C=i.arrow)==null?void 0:C.x)??0)+d/2,v=(((E=i.arrow)==null?void 0:E.y)??0)+m/2;let b="",w="";return f==="bottom"?(b=c?g:`${x}px`,w=`${-m}px`):f==="top"?(b=c?g:`${x}px`,w=`${n.floating.height+m}px`):f==="right"?(b=`${-m}px`,w=c?g:`${v}px`):f==="left"&&(b=`${n.floating.width+m}px`,w=c?g:`${v}px`),{data:{x:b,y:w}}}});function Tw(r){const[t,s="center"]=r.split("-");return[t,s]}var yg=kw,wc=Pw,Qu=_w,Xu=Rw,[Ju]=jr("Tooltip",[Ga]),bg=Ga(),Dw="TooltipProvider",n5=700,Xy="tooltip.open",[a5,Aw]=Ju(Dw),Mw=r=>{const{__scopeTooltip:t,delayDuration:s=n5,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:l}=r,c=h.useRef(!0),d=h.useRef(!1),m=h.useRef(0);return h.useEffect(()=>{const f=m.current;return()=>window.clearTimeout(f)},[]),e.jsx(a5,{scope:t,isOpenDelayedRef:c,delayDuration:s,onOpen:h.useCallback(()=>{window.clearTimeout(m.current),c.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:h.useCallback(f=>{d.current=f},[]),disableHoverableContent:i,children:l})};Mw.displayName=Dw;var Iw="Tooltip",[bU,Zu]=Ju(Iw),Pp="TooltipTrigger",o5=h.forwardRef((r,t)=>{const{__scopeTooltip:s,...n}=r,i=Zu(Pp,s),l=Aw(Pp,s),c=bg(s),d=h.useRef(null),m=rt(t,d,i.onTriggerChange),f=h.useRef(!1),y=h.useRef(!1),g=h.useCallback(()=>f.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),e.jsx(wc,{asChild:!0,...c,children:e.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:m,onPointerMove:Ce(r.onPointerMove,x=>{x.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ce(r.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Ce(r.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ce(r.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ce(r.onBlur,i.onClose),onClick:Ce(r.onClick,i.onClose)})})});o5.displayName=Pp;var i5="TooltipPortal",[jU,l5]=Ju(i5,{forceMount:void 0}),Ii="TooltipContent",Ow=h.forwardRef((r,t)=>{const s=l5(Ii,r.__scopeTooltip),{forceMount:n=s.forceMount,side:i="top",...l}=r,c=Zu(Ii,r.__scopeTooltip);return e.jsx(wr,{present:n||c.open,children:c.disableHoverableContent?e.jsx(Fw,{side:i,...l,ref:t}):e.jsx(c5,{side:i,...l,ref:t})})}),c5=h.forwardRef((r,t)=>{const s=Zu(Ii,r.__scopeTooltip),n=Aw(Ii,r.__scopeTooltip),i=h.useRef(null),l=rt(t,i),[c,d]=h.useState(null),{trigger:m,onClose:f}=s,y=i.current,{onPointerInTransitChange:g}=n,x=h.useCallback(()=>{d(null),g(!1)},[g]),v=h.useCallback((b,w)=>{const N=b.currentTarget,C={x:b.clientX,y:b.clientY},E=f5(C,N.getBoundingClientRect()),P=p5(C,E),O=g5(w.getBoundingClientRect()),q=v5([...P,...O]);d(q),g(!0)},[g]);return h.useEffect(()=>()=>x(),[x]),h.useEffect(()=>{if(m&&y){const b=N=>v(N,y),w=N=>v(N,m);return m.addEventListener("pointerleave",b),y.addEventListener("pointerleave",w),()=>{m.removeEventListener("pointerleave",b),y.removeEventListener("pointerleave",w)}}},[m,y,v,x]),h.useEffect(()=>{if(c){const b=w=>{const N=w.target,C={x:w.clientX,y:w.clientY},E=(m==null?void 0:m.contains(N))||(y==null?void 0:y.contains(N)),P=!x5(C,c);E?x():P&&(x(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[m,y,c,f,x]),e.jsx(Fw,{...r,ref:l})}),[d5,u5]=Ju(Iw,{isInside:!1}),m5=yj("TooltipContent"),Fw=h.forwardRef((r,t)=>{const{__scopeTooltip:s,children:n,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=r,m=Zu(Ii,s),f=bg(s),{onClose:y}=m;return h.useEffect(()=>(document.addEventListener(Xy,y),()=>document.removeEventListener(Xy,y)),[y]),h.useEffect(()=>{if(m.trigger){const g=x=>{const v=x.target;v!=null&&v.contains(m.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[m.trigger,y]),e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:e.jsxs(Qu,{"data-state":m.stateAttribute,...f,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(m5,{children:n}),e.jsx(d5,{scope:s,isInside:!0,children:e.jsx(LE,{id:m.contentId,role:"tooltip",children:i||n})})]})})});Ow.displayName=Ii;var Lw="TooltipArrow",h5=h.forwardRef((r,t)=>{const{__scopeTooltip:s,...n}=r,i=bg(s);return u5(Lw,s).isInside?null:e.jsx(Xu,{...i,...n,ref:t})});h5.displayName=Lw;function f5(r,t){const s=Math.abs(t.top-r.y),n=Math.abs(t.bottom-r.y),i=Math.abs(t.right-r.x),l=Math.abs(t.left-r.x);switch(Math.min(s,n,i,l)){case l:return"left";case i:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function p5(r,t,s=5){const n=[];switch(t){case"top":n.push({x:r.x-s,y:r.y+s},{x:r.x+s,y:r.y+s});break;case"bottom":n.push({x:r.x-s,y:r.y-s},{x:r.x+s,y:r.y-s});break;case"left":n.push({x:r.x+s,y:r.y-s},{x:r.x+s,y:r.y+s});break;case"right":n.push({x:r.x-s,y:r.y-s},{x:r.x-s,y:r.y+s});break}return n}function g5(r){const{top:t,right:s,bottom:n,left:i}=r;return[{x:i,y:t},{x:s,y:t},{x:s,y:n},{x:i,y:n}]}function x5(r,t){const{x:s,y:n}=r;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],m=t[c],f=d.x,y=d.y,g=m.x,x=m.y;y>n!=x>n&&s<(g-f)*(n-y)/(x-y)+f&&(i=!i)}return i}function v5(r){const t=r.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),y5(t)}function y5(r){if(r.length<=1)return r.slice();const t=[];for(let n=0;n<r.length;n++){const i=r[n];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let n=r.length-1;n>=0;n--){const i=r[n];for(;s.length>=2;){const l=s[s.length-1],c=s[s.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var b5=Mw,$w=Ow;const j5=b5,w5=h.forwardRef(({className:r,sideOffset:t=4,...s},n)=>e.jsx($w,{ref:n,sideOffset:t,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s}));w5.displayName=$w.displayName;const Vw="https://milkatpost.com/api";console.log("API Base URL configured as:",Vw);class N5{constructor(t){df(this,"baseURL");df(this,"token",null);this.baseURL=t,this.token=localStorage.getItem("auth_token"),console.log(" API Client initialized with token:",this.token?`${this.token.substring(0,20)}...`:"null")}setToken(t){this.token=t,t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token"),console.log(" Token set:",t?`${t.substring(0,20)}...`:"null")}refreshToken(){return this.token=localStorage.getItem("auth_token"),console.log(" Token refreshed:",this.token?`${this.token.substring(0,20)}...`:"null"),this.token}async checkServerConnection(){try{console.log("Checking server connection to:",`${this.baseURL.replace("/api","")}/health`);const s=(await fetch(`${this.baseURL.replace("/api","")}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})).ok;return console.log("Server connection check result:",s?"SUCCESS":"FAILED"),s}catch(t){return console.error("Server connection check failed:",t),!1}}setRefreshToken(t){t?localStorage.setItem("auth_refresh_token",t):localStorage.removeItem("auth_refresh_token")}async request(t,s={}){const n=`${this.baseURL}${t}`;console.log("API Request:",{url:n,method:s.method||"GET",hasToken:!!this.token,tokenValue:this.token?`${this.token.substring(0,20)}...`:"null",bodyType:s.body?s.body instanceof FormData?"FormData":"JSON":"none"});const i={};s.headers&&(s.headers instanceof Headers?s.headers.forEach((l,c)=>{i[c]=l}):Array.isArray(s.headers)?s.headers.forEach(([l,c])=>{i[l]=c}):Object.assign(i,s.headers)),s.body instanceof FormData||(i["Content-Type"]="application/json"),this.token&&(i.Authorization=`Bearer ${this.token}`);try{const l=new AbortController,c=setTimeout(()=>l.abort(),3e4),d=await fetch(n,{...s,headers:i,signal:l.signal});clearTimeout(c),console.log("API Response:",{url:n,status:d.status,statusText:d.statusText,ok:d.ok});const m=await d.json();return d.ok?{data:m.data||m,message:m.message,status:m.status||"success"}:(console.log("[API] Error response data:",m),{error:m.message||m.error||"Request failed",errors:m.errors||null,status:"error",httpStatus:d.status,httpStatusText:d.statusText})}catch(l){return console.error("API Request Error:",{url:n,error:l instanceof Error?l.message:"Unknown error",type:l instanceof Error?l.constructor.name:"Unknown"}),{error:l instanceof Error?l.message:"Network error",status:"error"}}}async sendOTP(t,s){const n={phone:t};return s&&(n.role=s),this.request("/auth/send-otp",{method:"POST",body:JSON.stringify(n)})}async verifyOTP(t,s,n){console.log("API Client: Verifying OTP for phone:",t,"with OTP:",s,"and role:",n);const i={phone:t,otp:s,role:n};console.log("API Client: Request data:",i);const l=await this.request("/auth/verify-otp",{method:"POST",body:JSON.stringify(i)});return console.log("API Client: OTP verification result:",l),l}async register(t,s,n,i){return this.request("/auth/register",{method:"POST",body:JSON.stringify({phone:t,otp:s,fullName:n,role:i})})}async login(t,s){return this.request("/auth/login",{method:"POST",body:JSON.stringify({phone:t,otp:s})})}async logout(){return this.request("/auth/logout",{method:"POST"})}async signUpWithSMSForNewRole(t,s,n){const i={phone:t,fullName:s,role:n};return console.log("[API] signUpWithSMSForNewRole payload:",i),this.request("/auth/signup-new-role",{method:"POST",body:JSON.stringify(i)})}async debugSignup(t,s,n){const i={phone:t,fullName:s,role:n};return console.log("[API] debugSignup payload:",i),this.request("/auth/debug-signup",{method:"POST",body:JSON.stringify(i)})}async getProfile(){return this.request("/users/profile")}async updateProfile(t){return this.request("/users/profile",{method:"PUT",body:JSON.stringify(t)})}async submitContactForm(t){return this.request("/inquiries/contact",{method:"POST",body:JSON.stringify(t)})}async getProperties(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/properties${s}`)}async getProperty(t){return this.request(`/properties/${t}`)}async createProperty(t){return this.request("/properties",{method:"POST",body:JSON.stringify(t)})}async updateProperty(t,s){return this.request(`/properties/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteProperty(t){return this.request(`/properties/${t}`,{method:"DELETE"})}async getProjects(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/projects${s}`)}async getMyProjects(){return this.request("/projects/my/projects",{headers:{"X-Requested-Role":"developer"}})}async createProject(t){return this.request("/projects",{method:"POST",body:JSON.stringify(t),headers:{"X-Requested-Role":"developer"}})}async deleteProject(t){return this.request(`/projects/${t}`,{method:"DELETE"})}async saveProject(t){return this.request("/projects/save-project",{method:"POST",body:JSON.stringify({projectId:t})})}async unsaveProject(t){return this.request("/projects/unsave-project",{method:"DELETE",body:JSON.stringify({projectId:t})})}async getSavedProjects(t,s){const n=s?"?"+new URLSearchParams(s).toString():"";return this.request(`/projects/saved-projects/${t}${n}`)}async getRequirements(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/requirements${s}`)}async getRequirement(t){return this.request(`/requirements/${t}`)}async createRequirement(t){return this.request("/requirements",{method:"POST",body:JSON.stringify(t)})}async updateRequirement(t,s){return this.request(`/requirements/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRequirement(t){return this.request(`/requirements/${t}`,{method:"DELETE"})}async getMyRequirements(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/requirements/my/requirements${s}`)}async getInquiries(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/inquiries${s}`)}async getLikes(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/likes/my-likes${s}`)}async likeProperty(t){return this.request("/likes",{method:"POST",body:JSON.stringify({propertyId:t})})}async unlikeProperty(t){return this.request(`/likes/${t}`,{method:"DELETE"})}async checkIfLiked(t){return this.request(`/likes/check/${t}`)}async shareProperty(t,s,n){return this.request("/shares",{method:"POST",body:JSON.stringify({propertyId:t,shareMethod:s,sharedWith:n})})}async getShareCount(t){return this.request(`/shares/count/${t}`)}async getShareCountByMethod(t){return this.request(`/shares/count-by-method/${t}`)}async getMyShares(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/shares/my-shares${s}`)}async getNotifications(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/notifications${s}`)}async markNotificationsAsRead(t){return this.request("/notifications/mark-read",{method:"PATCH",body:JSON.stringify({notificationIds:t})})}async getUnreadCount(){return this.request("/notifications/unread-count")}async clearAllNotifications(){return this.request("/notifications",{method:"DELETE"})}async getMyRoles(){return this.request("/user-roles/my-roles")}async getAvailableRoles(t){return this.request("/user-roles/available-roles",{method:"POST",body:JSON.stringify({phone:t})})}async switchRole(t){return this.request("/user-roles/switch-role",{method:"POST",body:JSON.stringify({role:t})})}async createRole(t){return this.request("/user-roles/create-role",{method:"POST",body:JSON.stringify(t)})}async getRoleStatistics(){return this.request("/user-roles/statistics")}async getUsers(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/users${s}`)}async updateUser(t,s){return this.request(`/users/${t}`,{method:"PUT",body:JSON.stringify(s)})}async updateProject(t,s){return this.request(`/projects/${t}`,{method:"PUT",body:JSON.stringify(s)})}async updateDeveloper(t,s){return this.request(`/developers/${t}`,{method:"PUT",body:JSON.stringify(s)})}async getSupportTickets(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/support/tickets${s}`)}async updateSupportTicket(t,s){return this.request(`/support/tickets/${t}`,{method:"PUT",body:JSON.stringify(s)})}async uploadSingleFile(t,s,n){if(!await this.checkServerConnection())return{error:"Cannot connect to server. Please ensure the backend server is running on http://localhost:5000",status:"error"};const l=new FormData;l.append("file",t),s&&l.append("documentType",s),n&&l.append("folder",n);const c={};this.token&&(c.Authorization=`Bearer ${this.token}`),s&&(c["X-Upload-Type"]="society-document");const d=`${this.baseURL}/upload/single`;console.log("Upload request details:",{url:d,fileName:t.name,fileSize:t.size,fileType:t.type,documentType:s,hasToken:!!this.token});try{const m=await fetch(d,{method:"POST",headers:c,body:l});console.log("Upload response status:",m.status,m.statusText);let f;try{f=await m.json(),console.log("Upload response data:",f)}catch(y){return console.error("Failed to parse response as JSON:",y),{error:"Invalid response from server",status:"error"}}return m.ok?f.success&&f.data?{data:f.data,message:f.message,status:f.status||"success"}:{data:f.data||f,message:f.message,status:f.status||"success"}:(console.error("Upload failed:",{status:m.status,statusText:m.statusText,data:f}),{error:f.message||f.error||`Upload failed with status ${m.status}`,status:"error"})}catch(m){return console.error("Upload network error:",m),{error:m instanceof Error?m.message:"Network error",status:"error"}}}async uploadMultipleFiles(t){const s=new FormData;return t.forEach(n=>{s.append("files",n)}),this.request("/upload/multiple",{method:"POST",body:s})}async uploadProfilePicture(t){const s=new FormData;return s.append("profilePicture",t),this.request("/upload/profile-picture",{method:"POST",body:s})}async uploadSocietyDocuments(t,s="general"){const n=new FormData;return t.forEach(i=>{n.append("documents",i)}),n.append("type",s),this.request("/upload/society-documents",{method:"POST",body:n})}async deleteMedia(t){return this.request(`/upload/${t}`,{method:"DELETE"})}async getMyMedia(){return this.request("/upload/my-media")}async getProject(t){return this.request(`/projects/${t}`)}async getSocieties(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/societies${s}`)}async getSociety(t){return this.request(`/societies/${t}`)}async getMySocieties(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/societies/my/societies${s}`)}async getBrokers(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/brokers${s}`)}async getBroker(t){return this.request(`/brokers/${t}`)}async getDevelopers(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/developers${s}`)}async getDeveloper(t){return this.request(`/developers/${t}`)}async getMyDeveloperProfile(){return this.request("/developers/my/profile")}async createDeveloper(t){return this.request("/developers",{method:"POST",body:JSON.stringify(t)})}async uploadFile(t){const s=new FormData;return s.append("file",t),this.request("/upload/single",{method:"POST",body:s})}async uploadPropertyImages(t){const s=new FormData;t.forEach(d=>{s.append("images",d)});const n={};this.token&&(n.Authorization=`Bearer ${this.token}`);const i=`${this.baseURL}/upload/property-images`,l=await fetch(i,{method:"POST",headers:n,body:s}),c=await l.json();return l.ok?{data:c.data||c,message:c.message,status:c.status||"success"}:{error:c.message||c.error||"Upload failed",status:"error"}}async uploadProjectImages(t){const s=new FormData;t.forEach(d=>{s.append("images",d)}),s.append("folder","project_images");const n={};this.token&&(n.Authorization=`Bearer ${this.token}`);const i=`${this.baseURL}/upload/property-images`,l=await fetch(i,{method:"POST",headers:n,body:s}),c=await l.json();return l.ok?{data:c.data||c,message:c.message,status:c.status||"success"}:{error:c.message||c.error||"Upload failed",status:"error"}}async uploadImages(t){const s=new FormData;t.forEach(d=>{s.append("images",d)});const n={};this.token&&(n.Authorization=`Bearer ${this.token}`);const i=`${this.baseURL}/upload/images`,l=await fetch(i,{method:"POST",headers:n,body:s}),c=await l.json();return l.ok?{data:c.data||c,message:c.message,status:c.status||"success"}:{error:c.message||c.error||"Upload failed",status:"error"}}async get(t){return this.request(t,{method:"GET"})}async post(t,s){return this.request(t,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(t,s){return this.request(t,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}async createSociety(t){console.log("Creating society - API URL:",`${this.baseURL}/societies`);const s={...t};return delete s._id,delete s.id,console.log("Society data being sent (sanitized):",s),this.request("/societies",{method:"POST",body:JSON.stringify(s)})}async updateSociety(t,s){const n={...s};return delete n._id,delete n.id,this.request(`/societies/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSociety(t){return this.request(`/societies/${t}`,{method:"DELETE"})}async getSocietyMembers(t){return this.request(`/societies/${t}/members?_t=${Date.now()}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})}async sendInvitation(t){console.log("Sending invitation with data:",t);try{const s=await this.request("/invitations/send",{method:"POST",body:JSON.stringify(t)});return console.log("Invitation response:",s),s}catch(s){throw console.error("Invitation request failed:",s),s}}async getSentInvitations(t){return console.log("Getting sent invitations with params:",t),this.request(`/invitations/sent${t||""}`,{method:"GET"})}async getReceivedInvitations(t){return this.request(`/invitations/received${t||""}`,{method:"GET"})}async getMyInvitations(t){const s=t?`?status=${t}`:"";return this.request(`/invitations/my${s}`,{method:"GET"})}async respondToInvitation(t,s){return console.log(`Responding to invitation ${t} with ${s}`),this.request("/invitations/respond",{method:"POST",body:JSON.stringify({invitationId:t,response:s})})}async acceptInvitation(t,s){return this.request(`/invitations/${t}/accept`,{method:"POST",body:JSON.stringify({responseMessage:s})})}async declineInvitation(t,s){return this.request(`/invitations/${t}/decline`,{method:"POST",body:JSON.stringify({responseMessage:s})})}async cancelInvitation(t){return this.request(`/invitations/${t}/cancel`,{method:"POST"})}async markNotificationAsRead(t){return this.request(`/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsAsRead(){return this.request("/notifications/mark-all-read",{method:"PUT"})}async deleteNotification(t){return this.request(`/notifications/${t}`,{method:"DELETE"})}async getRedevelopmentProjects(t){const s=t?`/redevelopment-projects${t}`:"/redevelopment-projects";return this.request(s)}async getRedevelopmentProject(t){return this.request(`/global-redevelopment/projects/${t}`)}async createRedevelopmentProject(t){return this.request("/redevelopment-projects",{method:"POST",body:JSON.stringify(t)})}async updateRedevelopmentProject(t,s){return this.request(`/redevelopment-projects/${t}`,{method:"PUT",body:JSON.stringify(s)})}async updateRedevelopmentProjectStatus(t,s){return this.request(`/redevelopment-projects/${t}`,{method:"PUT",body:JSON.stringify({status:s})})}async deleteRedevelopmentProject(t){return this.request(`/redevelopment-projects/${t}`,{method:"DELETE"})}async addProjectUpdate(t,s){return this.request(`/redevelopment-projects/${t}/updates`,{method:"POST",body:JSON.stringify(s)})}async addProjectQuery(t,s){return this.request(`/redevelopment-projects/${t}/queries`,{method:"POST",body:JSON.stringify(s)})}async submitVote(t,s){return this.request(`/redevelopment-projects/${t}/vote`,{method:"POST",body:JSON.stringify(s)})}async getVotingResults(t,s){const n=s?`?session=${s}`:"";return this.request(`/redevelopment-projects/${t}/voting-results${n}`)}async getDeveloperProposals(t){const s=t?`/developer-proposals${t}`:"/developer-proposals";return this.request(s)}async getDeveloperProposal(t){return this.request(`/developer-proposals/${t}`)}async createDeveloperProposal(t){return this.request("/developer-proposals",{method:"POST",body:JSON.stringify(t)})}async updateDeveloperProposal(t,s){return this.request(`/developer-proposals/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteDeveloperProposal(t){return this.request(`/developer-proposals/${t}`,{method:"DELETE"})}async evaluateProposal(t,s){return this.request(`/developer-proposals/${t}/evaluate`,{method:"POST",body:JSON.stringify(s)})}async selectProposal(t){return this.request(`/developer-proposals/${t}/select`,{method:"POST"})}async approveProposal(t,s){return this.request(`/developer-proposals/${t}/approve`,{method:"POST",body:JSON.stringify({comments:s})})}async rejectProposal(t){return this.request(`/developer-proposals/${t}/reject`,{method:"POST",body:JSON.stringify({})})}async getProposalComparison(t){return this.request(`/developer-proposals/project/${t}/comparison`)}async submitMemberVote(t){return this.request("/member-votes",{method:"POST",body:JSON.stringify(t)})}async submitMemberVotesBatch(t){return this.request("/member-votes/batch",{method:"POST",body:JSON.stringify({votes:t})})}async getProjectVotes(t,s,n){const i=new URLSearchParams;s&&i.append("session",s),n&&i.append("includeDetails","true");const l=i.toString()?`?${i.toString()}`:"";return this.request(`/member-votes/project/${t}${l}`)}async getMyVote(t,s){return this.request(`/member-votes/my-vote/${t}/${s}`)}async getMyVotingHistory(t){const s=t?`?projectId=${t}`:"";return this.request(`/member-votes/my-votes${s}`)}async getVotingStatistics(t,s){const n=s?`?session=${s}`:"";return this.request(`/member-votes/stats/${t}${n}`)}async startVoting(t,s){return this.request(`/redevelopment-projects/${t}`,{method:"PUT",body:JSON.stringify({status:"voting",votingDeadline:s})})}async closeVoting(t){return this.request(`/redevelopment-projects/${t}/close-voting`,{method:"POST"})}async selectDeveloper(t,s,n){return this.request(`/redevelopment-projects/${t}/select-developer`,{method:"POST",body:JSON.stringify({developerId:s,proposalId:n})})}async getFinalVotingResults(t){return this.request(`/redevelopment-projects/${t}/final-results`)}async verifyVote(t){return this.request(`/member-votes/${t}/verify`,{method:"POST"})}async submitQuery(t){return this.request("/queries",{method:"POST",body:JSON.stringify(t)})}async getMyQueries(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/queries/my${s}`)}async getSocietyQueries(t,s){const n=s?"?"+new URLSearchParams(s).toString():"";return this.request(`/queries/society/${t}${n}`)}async getSocietyDocuments(t,s){const n=s?`?_t=${s}`:"";return this.request(`/societies/${t}/documents${n}`)}async addProjectDocument(t,s){return this.request(`/redevelopment-projects/${t}/documents`,{method:"POST",body:JSON.stringify(s)})}async deleteProjectDocument(t,s){return this.request(`/redevelopment-projects/${t}/documents/${s}`,{method:"DELETE"})}async respondToQuery(t,s){return this.request(`/queries/${t}/respond`,{method:"POST",body:JSON.stringify({responseText:s})})}async updateQueryStatus(t,s){return this.request(`/queries/${t}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}async getQueryStatistics(t){return this.request(`/queries/society/${t}/statistics`)}async upvoteQuery(t){return this.request(`/queries/${t}/upvote`,{method:"POST"})}async removeUpvote(t){return this.request(`/queries/${t}/upvote`,{method:"DELETE"})}async createInquiry(t){return this.request("/inquiries",{method:"POST",body:JSON.stringify(t)})}async getMyInquiries(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/inquiries/my${s}`)}async getMyPropertyInquiries(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/inquiries/my-properties${s}`)}async getMyProjectInquiries(t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/inquiries/my-projects${s}`)}async getPropertyInquiries(t,s){const n=s?"?"+new URLSearchParams(s).toString():"";return this.request(`/inquiries/property/${t}${n}`)}async respondToInquiry(t,s){return this.request(`/inquiries/${t}/respond`,{method:"PUT",body:JSON.stringify({response:s})})}async updateInquiryStatus(t,s){return this.request(`/inquiries/${t}/status`,{method:"PUT",body:JSON.stringify({status:s})})}async getInquiry(t){return this.request(`/inquiries/${t}`)}}const re=new N5(Vw),Cf={},Uw=h.createContext(void 0);function S5({children:r}){const[t,s]=h.useState(null),[n,i]=h.useState(null),[l,c]=h.useState(null),[d,m]=h.useState(!0),[f,y]=h.useState(!1),g=typeof import.meta<"u"&&(Cf==null?void 0:Cf.VITE_MOCK_OTP)==="true",x=V=>{if(typeof V=="number")return V*1e3;const k=V.toString().match(/^(\d+)([dhms])$/);if(k){const R=parseInt(k[1]);switch(k[2]){case"d":return R*24*60*60*1e3;case"h":return R*60*60*1e3;case"m":return R*60*1e3;case"s":return R*1e3;default:return 10080*60*1e3}}return 10080*60*1e3};h.useEffect(()=>{let V=!0;return(async()=>{console.log("[AuthProvider] Starting initialization, mockEnabled:",g);const R=localStorage.getItem("auth_session"),B=localStorage.getItem("auth_user"),_=localStorage.getItem("auth_profile");if(console.log("[AuthProvider] localStorage check:",{savedSession:!!R,savedUser:!!B,savedProfile:!!_,savedProfileContent:_?JSON.parse(_):null}),R&&B)try{const T=JSON.parse(R),Q=JSON.parse(B),Y=_?JSON.parse(_):null,F=Date.now(),I=T.expiresAt,D=I&&I>F;if(console.log("[AuthProvider] Session validation:",{expiresAt:new Date(I).toISOString(),now:new Date(F).toISOString(),isValid:D,timeRemaining:I?Math.round((I-F)/1e3/60):0}),D){if(console.log("[AuthProvider] Restored valid session"),console.log("[AuthProvider] Profile data from localStorage:",Y),console.log("[AuthProvider] Profile data from session:",T.profile),V){s(Q),c(T),re.setToken(T.accessToken);const W=Y||T.profile;if(console.log("[AuthProvider] Setting profile to:",W),W)i(W),m(!1);else{console.log("[AuthProvider] No profile found, fetching from API...");try{const U=await re.getProfile();U.data&&!U.error?(console.log("[AuthProvider] Profile fetched from API:",U.data),i(U.data)):console.error("[AuthProvider] Failed to fetch profile:",U.error)}catch(U){console.error("[AuthProvider] Error fetching profile:",U)}m(!1)}}return}else console.log("[AuthProvider] Session expired, clearing storage"),v()}catch(T){console.error("[AuthProvider] Error parsing saved session:",T),v()}if(localStorage.getItem("auth_refresh_token"))try{console.log("[AuthProvider] Attempting to refresh token...");const T=await O();T.error?(console.log("[AuthProvider] Token refresh failed, clearing auth:",T.error),v()):console.log("[AuthProvider] Token refreshed successfully")}catch(T){console.error("[AuthProvider] Error refreshing token:",T),v()}else console.log("[AuthProvider] No refresh token found");V&&m(!1)})(),()=>{V=!1}},[]);const v=()=>{localStorage.removeItem("auth_session"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_profile"),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_refresh_token"),s(null),i(null),c(null),y(!1),re.setToken(null),re.setRefreshToken(null)},b=V=>{localStorage.setItem("auth_session",JSON.stringify(V)),localStorage.setItem("auth_user",JSON.stringify(V.user)),localStorage.setItem("auth_profile",JSON.stringify(V.profile)),localStorage.setItem("auth_token",V.accessToken),localStorage.setItem("auth_refresh_token",V.refreshToken),re.setToken(V.accessToken),re.setRefreshToken(V.refreshToken)},w=async()=>{console.log("[AuthProvider] Signing out");try{await re.logout()}catch(V){console.error("[AuthProvider] Logout API call failed:",V)}return v(),{error:null}},N=async(V,k)=>{if(console.log("[sendOTP] Starting OTP send for:",{phone:V,role:k}),g)return console.log("[sendOTP] Mock mode enabled, returning success"),{data:{message:"OTP sent successfully (mock mode)"},error:null};try{const R=await re.sendOTP(V,k);return{data:R.data,error:R.error}}catch(R){return console.error("Error in sendOTP:",R),{data:null,error:R instanceof Error?R.message:"Failed to send OTP"}}},C=async(V,k,R,B)=>{if(console.log("[verifyOTP] Starting OTP verification for:",{phone:V,role:R}),g)if(k==="123456"){console.log("[verifyOTP] Mock OTP accepted");const _={id:`mock-user-${V.replace(/[^0-9]/g,"")}`,phone:V,isVerified:!0,authMethod:"phone",lastLogin:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},$={id:`mock-profile-${V.replace(/[^0-9]/g,"")}`,user:_.id,fullName:B||"Mock User",role:R||"buyer_seller",status:"active",verificationStatus:"verified",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},T={accessToken:"mock-access-token",refreshToken:"mock-refresh-token",user:_,profile:$,expiresAt:Date.now()+1440*60*1e3};return s(_),i($),c(T),b(T),{data:{user:_,profile:$,session:T,userExists:!0,roles:[{role:$.role,full_name:$.fullName}]},error:null}}else return{data:null,error:{message:"Invalid OTP code"}};try{const _=await re.verifyOTP(V,k,R);if(_.error)return{data:null,error:_.error};let $=_.data.profile;if(!$){const Q=await re.getProfile();if(Q.error)return{data:null,error:Q.error};$=Q.data}const T={accessToken:_.data.accessToken||_.data.token,refreshToken:_.data.refreshToken,user:_.data.user,profile:$,expiresAt:Date.now()+x(_.data.expiresIn||"7d")};return s(T.user),i(T.profile),c(T),b(T),{data:{user:T.user,profile:T.profile,session:T,userExists:!0,roles:[{role:T.profile.role,full_name:T.profile.fullName}]},error:null}}catch(_){return console.error("Error verifying OTP:",_),{data:null,error:_ instanceof Error?_.message:"Failed to verify OTP"}}},E=async(V,k,R,B)=>{if(console.log("[register] Starting registration for:",{phone:V,role:B}),g){console.log("[register] Mock mode enabled");const _={id:`mock-user-${V.replace(/[^0-9]/g,"")}`,phone:V,isVerified:!0,authMethod:"phone",lastLogin:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},$={id:`mock-profile-${V.replace(/[^0-9]/g,"")}`,user:_.id,fullName:R,role:B,status:"active",verificationStatus:"verified",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},T={accessToken:"mock-access-token",refreshToken:"mock-refresh-token",user:_,profile:$,expiresAt:Date.now()+1440*60*1e3};return s(_),i($),c(T),b(T),{data:{user:_,profile:$},error:null}}try{const _=await re.register(V,k,R,B);if(_.error)return{data:null,error:_.error};let $=_.data.profile;if(!$){const Q=await re.getProfile();if(Q.error)return{data:null,error:Q.error};$=Q.data}const T={accessToken:_.data.accessToken||_.data.token,refreshToken:_.data.refreshToken,user:_.data.user,profile:$,expiresAt:Date.now()+x(_.data.expiresIn||"7d")};return s(T.user),i(T.profile),c(T),b(T),{data:{user:T.user,profile:T.profile},error:null}}catch(_){return console.error("Error in register:",_),{data:null,error:_ instanceof Error?_.message:"Failed to register"}}},P=async(V,k)=>{console.log("[login] Starting login for:",{phone:V});try{const R=await re.login(V,k);if(R.error)return{data:null,error:R.error};let B=R.data.profile;if(!B){const $=await re.getProfile();if($.error)return{data:null,error:$.error};B=$.data}const _={accessToken:R.data.accessToken||R.data.token,refreshToken:R.data.refreshToken,user:R.data.user,profile:B,expiresAt:Date.now()+x(R.data.expiresIn||"7d")};return s(_.user),i(_.profile),c(_),b(_),y(_.profile.status==="suspended"),{data:{user:_.user,profile:_.profile,session:_},error:null}}catch(R){return console.error("Error in login:",R),{data:null,error:R instanceof Error?R.message:"Failed to login"}}},O=async()=>{try{const V=await re.refreshToken();if(V.error)return v(),{data:null,error:V.error};const k={accessToken:V.data.accessToken||V.data.token,refreshToken:V.data.refreshToken,user:V.data.user,profile:V.data.profile,expiresAt:Date.now()+x(V.data.expiresIn||"7d")};return s(k.user),i(k.profile),c(k),b(k),{data:k,error:null}}catch(V){return console.error("Error refreshing session:",V),v(),{data:null,error:V instanceof Error?V.message:"Failed to refresh session"}}},q=async(V,k,R)=>{if(console.log("[signUpWithSMSForNewRole] Starting signup for new role:",{phone:V,fullName:k,role:R}),g){console.log("[signUpWithSMSForNewRole] Mock mode enabled, returning success"),sessionStorage.setItem(`mock_otp_${V}`,"123456");const B=localStorage.getItem(`mock_profiles_${V}`),_=B?JSON.parse(B):[],$={role:R,fullName:k,phone:V,createdAt:new Date().toISOString()},T=[..._,$];return localStorage.setItem(`mock_profiles_${V}`,JSON.stringify(T)),{data:{message:"OTP sent successfully (mock mode)"},error:null}}try{const B=await re.signUpWithSMSForNewRole(V,k,R);return console.log("[useAuth] signUpWithSMSForNewRole result:",B),{data:B.data,error:B.error}}catch(B){return console.error("Error in signUpWithSMSForNewRole:",B),{data:null,error:B instanceof Error?B.message:"Failed to send OTP for new role"}}};h.useEffect(()=>{n&&y(n.status==="suspended")},[n]);const M={user:t,profile:n,session:l,loading:d,signOut:w,isUserSuspended:f,sendOTP:N,verifyOTP:C,register:E,login:P,refreshSession:O,refreshUser:async()=>{try{console.log("[AuthProvider] Refreshing user data...");const V=await re.getProfile();if(V.data){const k=V.data;if(i(k),t){const R={...t,activeRole:k.activeRole||k.currentRole,currentRole:k.currentRole};s(R),localStorage.setItem("auth_user",JSON.stringify(R)),localStorage.setItem("auth_profile",JSON.stringify(k))}console.log("[AuthProvider] User data refreshed successfully")}}catch(V){console.error("[AuthProvider] Error refreshing user data:",V)}},signUpWithSMSForNewRole:q};return console.log("[AuthProvider] Providing context value:",{user:t==null?void 0:t.id,profile:n==null?void 0:n.id,session:!!l,loading:d,isUserSuspended:f}),ke.createElement(Uw.Provider,{value:M},r)}function Ft(){const r=h.useContext(Uw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const G=h.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t}));G.displayName="Card";const ye=h.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:Re("flex flex-col space-y-1.5 p-6",r),...t}));ye.displayName="CardHeader";const be=h.forwardRef(({className:r,...t},s)=>e.jsx("h3",{ref:s,className:Re("text-2xl font-semibold leading-none tracking-tight",r),...t}));be.displayName="CardTitle";const Qe=h.forwardRef(({className:r,...t},s)=>e.jsx("p",{ref:s,className:Re("text-sm text-muted-foreground",r),...t}));Qe.displayName="CardDescription";const X=h.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:Re("p-6 pt-0",r),...t}));X.displayName="CardContent";const Bw=h.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:Re("flex items-center p-6 pt-0",r),...t}));Bw.displayName="CardFooter";const ic=vc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=h.forwardRef(({className:r,variant:t,size:s,asChild:n=!1,...i},l)=>{const c=n?pE:"button";return e.jsx(c,{className:Re(ic({variant:t,size:s,className:r})),ref:l,...i})});H.displayName="Button";const k5=()=>e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ye,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bR,{className:"w-8 h-8 text-destructive"})}),e.jsx(be,{className:"text-2xl text-destructive",children:"Account Suspended"})]}),e.jsxs(X,{className:"space-y-6 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Your account has been temporarily suspended. If you believe this is an error or would like to appeal this decision, please contact our support team."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(He,{to:"/contact",children:e.jsxs(H,{className:"w-full",variant:"default",children:[e.jsx(bc,{className:"w-4 h-4 mr-2"}),"Contact Support Team"]})}),e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Dr,{className:"w-4 h-4"}),e.jsx("span",{children:"+91 22 4567 8900"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(pr,{className:"w-4 h-4"}),e.jsx("span",{children:"support@milkatpost.com"})]})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Our support team typically responds within 24 hours"})})]})]})}),Pf={},oi=({children:r,requiredRole:t,requireAuth:s=!0})=>{const{user:n,profile:i,loading:l,isUserSuspended:c}=Ft(),d=typeof import.meta<"u"&&(Pf==null?void 0:Pf.VITE_MOCK_OTP)==="true",m=hr(),[f,y]=h.useState(!1),g=x=>i?Array.isArray(x)?x.includes(i.role):i.role===x:!1;if(console.log("[ProtectedRoute] Render - User state:",{user:!!n,userId:n==null?void 0:n.id,profile:!!i,profileRole:i==null?void 0:i.role,authLoading:l,isUserSuspended:c,requireAuth:s,requiredRole:t}),h.useEffect(()=>{(async()=>{var v;if(console.log("[ProtectedRoute] Checking user roles, user:",!!n,"authLoading:",l,"profile:",!!i),n&&!l&&!i){y(!0);try{const b=localStorage.getItem("selectedRole");if(console.log("[ProtectedRoute] Selected role from localStorage:",b),b){y(!1);return}const w=(n==null?void 0:n.phone)||((v=n==null?void 0:n.user_metadata)==null?void 0:v.phone);if(console.log("[ProtectedRoute] User phone:",w),w)if(d){const N=localStorage.getItem(`mock_profiles_${w}`);if(console.log("[ProtectedRoute] Mock profiles raw:",N),N){const E=JSON.parse(N).map(P=>({role:P.role,full_name:P.fullName}));console.log("[ProtectedRoute] Available roles:",E),E.length>1&&!localStorage.getItem("selectedRole")&&(console.log("[ProtectedRoute] Redirecting to role selection"),m("/role-selection",{state:{phone:w,roles:E},replace:!0}))}}else console.log("[ProtectedRoute] Using backend API - single role per user")}catch(b){console.error("Error checking user roles:",b)}finally{y(!1)}}})()},[n,l,i,d,m]),l||f)return console.log("[ProtectedRoute] Showing loading spinner"),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(s&&!n)return console.log("[ProtectedRoute] No user found, redirecting to auth"),e.jsx(xu,{to:"/auth",replace:!0});if(!d&&n&&c)return e.jsx(k5,{});if(t&&i&&!g(t)){const x=C5(i.role);return console.log("[ProtectedRoute] Role mismatch - Current role:",i.role,"Required role:",t,"Redirecting to:",x),e.jsx(xu,{to:x,replace:!0})}return console.log("[ProtectedRoute] Rendering children"),e.jsx(e.Fragment,{children:r})},C5=r=>{switch(console.log("[ProtectedRoute] getRoleBasedPath called with role:",r,"Type:",typeof r),r){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return console.log("[ProtectedRoute] Unknown role, redirecting to home:",r),"/"}},Qa=()=>{const[r,t]=h.useState(null),[s,n]=h.useState(!0),[i,l]=h.useState(null),{user:c,profile:d}=Ft();h.useEffect(()=>{console.log("[useProfile] Profile state changed:",r==null?void 0:r.id,r==null?void 0:r.role)},[r]),h.useEffect(()=>{console.log("[useProfile] Loading state changed:",s)},[s]),h.useEffect(()=>{if(console.log("[useProfile] User changed:",c==null?void 0:c.id),!c){t(null),n(!1);return}if(d){const k={...d,bio:d.bio||"User bio",profilePicture:d.profilePicture||null,companyName:d.companyName,businessType:d.businessType,website:d.website||"https://example.com",socialMedia:{facebook:"",twitter:"",linkedin:""},preferences:{notifications:{email:!0,sms:!0,push:!0},privacy:{showPhone:!1,showEmail:!1,showProfile:!0}},lastActive:new Date().toISOString()};t(k),n(!1);return}m()},[c,d]);const m=async()=>{var k;if(c)try{n(!0),l(null);const R=await re.getProfile();if(R.error){l(R.error);return}t((k=R.data)==null?void 0:k.profile)}catch(R){console.error("[useProfile] Error fetching profile:",R),l("Failed to fetch profile")}finally{n(!1)}},f=async k=>{var R;if(!c)return{error:"No user found"};try{l(null);const B=await re.updateProfile(k);return B.error?(l(B.error),{error:B.error}):(t((R=B.data)==null?void 0:R.profile),{data:B.data,error:null})}catch(B){console.error("[useProfile] Error updating profile:",B);const _="Failed to update profile";return l(_),{error:_}}},y=async k=>{var R;if(!c)return{error:"No user found"};try{l(null);const B=await re.updateProfile({role:k.role,fullName:k.fullName,phone:k.phone,companyName:k.companyName,businessType:k.businessType,bio:k.bio,website:k.website});return B.error?(l(B.error),{error:B.error}):(t((R=B.data)==null?void 0:R.profile),{data:B.data,error:null})}catch(B){console.error("[useProfile] Error creating profile:",B);const _="Failed to create profile";return l(_),{error:_}}},g=async k=>{var R;if(!c)return{error:"No user found"};try{l(null);const B=await re.updateProfile({role:k});return B.error?(l(B.error),{error:B.error}):(t((R=B.data)==null?void 0:R.profile),{data:B.data,error:null})}catch(B){console.error("[useProfile] Error switching role:",B);const _="Failed to switch role";return l(_),{error:_}}},x=async k=>{var R;if(!c)return{error:"No user found"};try{l(null);const B=await re.uploadFile(k);if(B.error)return l(B.error),{error:B.error};const _=await re.updateProfile({profilePicture:B.data.url});return _.error?(l(_.error),{error:_.error}):(t((R=_.data)==null?void 0:R.profile),{data:_.data,error:null})}catch(B){console.error("[useProfile] Error uploading profile picture:",B);const _="Failed to upload profile picture";return l(_),{error:_}}},v=k=>r?Array.isArray(k)?k.includes(r.role):r.role===k:!1;return{profile:r,loading:s,error:i,fetchProfile:m,updateProfile:f,createProfile:y,switchRole:g,uploadProfilePicture:x,hasRole:v,isAdmin:()=>v("admin"),isBuyerSeller:()=>v("buyer_seller"),isBroker:()=>v("broker"),isDeveloper:()=>v("developer"),isSocietyOwner:()=>v("society_owner"),isSocietyMember:()=>v("society_member"),isVerified:()=>(r==null?void 0:r.verificationStatus)==="verified",isActive:()=>(r==null?void 0:r.status)==="active",isSuspended:()=>(r==null?void 0:r.status)==="suspended",getDisplayName:()=>r?r.fullName||r.companyName||"Unknown User":"",getRoleDisplayName:()=>r?{admin:"Administrator",buyer_seller:"Buyer/Seller",broker:"Real Estate Broker",developer:"Property Developer",society_owner:"Society Owner",society_member:"Society Member"}[r.role]||r.role:""}},_f={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/webp,application/pdf",VITE_API_URL:"https://milkatpost.com/api",VITE_APP_DESCRIPTION:"Real Estate Management Platform",VITE_APP_NAME:"Milkat Post",VITE_APP_VERSION:"1.0.0",VITE_CSP_NONCE:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG:"false",VITE_ENABLE_PRECACHING:"true",VITE_ENABLE_SERVICE_WORKER:"true",VITE_GA_TRACKING_ID:"your-production-google-analytics-id",VITE_MAX_FILE_SIZE:"10485760",VITE_NODE_ENV:"production",VITE_SUPPORT_EMAIL:"support@milkatpost.com",VITE_WS_URL:"wss://milkatpost.com"},P5=()=>{const r=Sn(),t=hr(),{toast:s}=it(),{user:n}=Ft(),{switchRole:i}=Qa(),{phone:l,roles:c}=r.state||{},d={buyer_seller:{label:"Property Buyer & Seller",icon:ir,color:"text-blue-600"},broker:{label:"Real Estate Broker",icon:Wl,color:"text-purple-600"},developer:{label:"Property Developer",icon:jt,color:"text-orange-600"},society_owner:{label:"Society Owner/Secretary",icon:Bn,color:"text-red-600"},society_member:{label:"Society Member",icon:Pt,color:"text-indigo-600"},admin:{label:"Administrator",icon:ir,color:"text-gray-600"}},m=async y=>{try{if(n){const{error:x}=await i(y);if(x&&(console.error("Error switching role:",x),s({title:"Error",description:"Failed to switch role. Please try again.",variant:"error",duration:3e3}),x.includes("No profile found"))){setTimeout(()=>{t("/auth",{replace:!0})},2e3);return}}else localStorage.setItem("selectedRole",y);const g=f(y);console.log(`[RoleSelection] Navigating to dashboard: ${g} for role: ${y}`),s({title:"Success",description:"Role switched successfully!",variant:"success",duration:2e3}),t(g,{replace:!0})}catch(g){console.error("Error in handleRoleSelect:",g),s({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"error",duration:3e3}),setTimeout(()=>{t("/",{replace:!0})},2e3)}},f=y=>{switch(y){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/"}};return h.useEffect(()=>{var y;if((!c||!l)&&n){console.log("[RoleSelection] No roles or phone data provided, attempting to fetch roles");const g=(n==null?void 0:n.phone)||((y=n==null?void 0:n.user_metadata)==null?void 0:y.phone)||"";if(!g){console.log("[RoleSelection] No phone found for user, redirecting to auth"),setTimeout(()=>{t("/auth")},3e3);return}(async()=>{try{if(typeof import.meta<"u"&&(_f==null?void 0:_f.VITE_MOCK_OTP)==="true"){const b=localStorage.getItem(`mock_profiles_${g}`);if(b){const N=JSON.parse(b).map(C=>({role:C.role,full_name:C.fullName||C.full_name||"User"}));N.length===1&&m(N[0].role);return}}else{const{data:b,error:w}=await re;if(!w&&b&&b.length>0){const N=b.map(C=>({role:C.role,full_name:C.full_name||"User"}));N.length===1&&m(N[0].role);return}}console.log("[RoleSelection] No roles found for user, redirecting to auth"),setTimeout(()=>{t("/auth")},3e3)}catch(v){console.error("[RoleSelection] Error fetching roles:",v),setTimeout(()=>{t("/auth")},3e3)}})()}},[c,l,n,t]),n?!c||!l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-estate-blue-lighter to-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ye,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(be,{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Loading Roles..."}),e.jsx(Qe,{children:"Please wait while we load your available roles."})]}),e.jsxs(X,{className:"space-y-4 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"If you're not redirected automatically, please go back and try again."}),e.jsx(H,{onClick:()=>t("/auth"),children:"Back to Login"})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-estate-blue-lighter to-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ye,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(be,{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Select Your Role"}),e.jsx(Qe,{children:"You have multiple roles. Please select which one you want to use."})]}),e.jsxs(X,{className:"space-y-4",children:[c&&c.map((y,g)=>{const x=d[y.role]||{label:y.role,icon:ir,color:"text-gray-600"},v=x.icon;return e.jsx(H,{variant:"outline",className:"w-full h-auto p-4 justify-start",onClick:()=>m(y.role),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:`h-5 w-5 ${x.color}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:x.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:y.full_name})]})]})},g)}),e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-muted-foreground hover:text-foreground",onClick:()=>t("/auth"),children:" Back to login"})})]})]})})}):(console.log("[RoleSelection] No user found, redirecting to auth"),t("/auth"),null)};var _5=h.createContext(void 0);function Mo(r){const t=h.useContext(_5);return r||t||"ltr"}var Ef=0;function em(){h.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Jy()),document.body.insertAdjacentElement("beforeend",r[1]??Jy()),Ef++,()=>{Ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ef--}},[])}function Jy(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Rf="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",Zy={bubbles:!1,cancelable:!0},E5="FocusScope",Nc=h.forwardRef((r,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=r,[d,m]=h.useState(null),f=or(i),y=or(l),g=h.useRef(null),x=rt(t,w=>m(w)),v=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let w=function(P){if(v.paused||!d)return;const O=P.target;d.contains(O)?g.current=O:Ca(g.current,{select:!0})},N=function(P){if(v.paused||!d)return;const O=P.relatedTarget;O!==null&&(d.contains(O)||Ca(g.current,{select:!0}))},C=function(P){if(document.activeElement===document.body)for(const q of P)q.removedNodes.length>0&&Ca(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),E.disconnect()}}},[n,d,v.paused]),h.useEffect(()=>{if(d){tb.add(v);const w=document.activeElement;if(!d.contains(w)){const C=new CustomEvent(Rf,Zy);d.addEventListener(Rf,f),d.dispatchEvent(C),C.defaultPrevented||(R5(I5(zw(d)),{select:!0}),document.activeElement===w&&Ca(d))}return()=>{d.removeEventListener(Rf,f),setTimeout(()=>{const C=new CustomEvent(Tf,Zy);d.addEventListener(Tf,y),d.dispatchEvent(C),C.defaultPrevented||Ca(w??document.body,{select:!0}),d.removeEventListener(Tf,y),tb.remove(v)},0)}}},[d,f,y,v]);const b=h.useCallback(w=>{if(!s&&!n||v.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,C=document.activeElement;if(N&&C){const E=w.currentTarget,[P,O]=T5(E);P&&O?!w.shiftKey&&C===O?(w.preventDefault(),s&&Ca(P,{select:!0})):w.shiftKey&&C===P&&(w.preventDefault(),s&&Ca(O,{select:!0})):C===E&&w.preventDefault()}},[s,n,v.paused]);return e.jsx(Me.div,{tabIndex:-1,...c,ref:x,onKeyDown:b})});Nc.displayName=E5;function R5(r,{select:t=!1}={}){const s=document.activeElement;for(const n of r)if(Ca(n,{select:t}),document.activeElement!==s)return}function T5(r){const t=zw(r),s=eb(t,r),n=eb(t.reverse(),r);return[s,n]}function zw(r){const t=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function eb(r,t){for(const s of r)if(!D5(s,{upTo:t}))return s}function D5(r,{upTo:t}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(t!==void 0&&r===t)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function A5(r){return r instanceof HTMLInputElement&&"select"in r}function Ca(r,{select:t=!1}={}){if(r&&r.focus){const s=document.activeElement;r.focus({preventScroll:!0}),r!==s&&A5(r)&&t&&r.select()}}var tb=M5();function M5(){let r=[];return{add(t){const s=r[0];t!==s&&(s==null||s.pause()),r=rb(r,t),r.unshift(t)},remove(t){var s;r=rb(r,t),(s=r[0])==null||s.resume()}}}function rb(r,t){const s=[...r],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function I5(r){return r.filter(t=>t.tagName!=="A")}var Df="rovingFocusGroup.onEntryFocus",O5={bubbles:!1,cancelable:!0},Sc="RovingFocusGroup",[_p,qw,F5]=zi(Sc),[L5,tm]=jr(Sc,[F5]),[$5,V5]=L5(Sc),Ww=h.forwardRef((r,t)=>e.jsx(_p.Provider,{scope:r.__scopeRovingFocusGroup,children:e.jsx(_p.Slot,{scope:r.__scopeRovingFocusGroup,children:e.jsx(U5,{...r,ref:t})})}));Ww.displayName=Sc;var U5=h.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:y=!1,...g}=r,x=h.useRef(null),v=rt(t,x),b=Mo(l),[w,N]=xs({prop:c,defaultProp:d??null,onChange:m,caller:Sc}),[C,E]=h.useState(!1),P=or(f),O=qw(s),q=h.useRef(!1),[A,M]=h.useState(0);return h.useEffect(()=>{const V=x.current;if(V)return V.addEventListener(Df,P),()=>V.removeEventListener(Df,P)},[P]),e.jsx($5,{scope:s,orientation:n,dir:b,loop:i,currentTabStopId:w,onItemFocus:h.useCallback(V=>N(V),[N]),onItemShiftTab:h.useCallback(()=>E(!0),[]),onFocusableItemAdd:h.useCallback(()=>M(V=>V+1),[]),onFocusableItemRemove:h.useCallback(()=>M(V=>V-1),[]),children:e.jsx(Me.div,{tabIndex:C||A===0?-1:0,"data-orientation":n,...g,ref:v,style:{outline:"none",...r.style},onMouseDown:Ce(r.onMouseDown,()=>{q.current=!0}),onFocus:Ce(r.onFocus,V=>{const k=!q.current;if(V.target===V.currentTarget&&k&&!C){const R=new CustomEvent(Df,O5);if(V.currentTarget.dispatchEvent(R),!R.defaultPrevented){const B=O().filter(Y=>Y.focusable),_=B.find(Y=>Y.active),$=B.find(Y=>Y.id===w),Q=[_,$,...B].filter(Boolean).map(Y=>Y.ref.current);Kw(Q,y)}}q.current=!1}),onBlur:Ce(r.onBlur,()=>E(!1))})})}),Hw="RovingFocusGroupItem",Yw=h.forwardRef((r,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:i=!1,tabStopId:l,children:c,...d}=r,m=br(),f=l||m,y=V5(Hw,s),g=y.currentTabStopId===f,x=qw(s),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:w}=y;return h.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),e.jsx(_p.ItemSlot,{scope:s,id:f,focusable:n,active:i,children:e.jsx(Me.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...d,ref:t,onMouseDown:Ce(r.onMouseDown,N=>{n?y.onItemFocus(f):N.preventDefault()}),onFocus:Ce(r.onFocus,()=>y.onItemFocus(f)),onKeyDown:Ce(r.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){y.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const C=q5(N,y.orientation,y.dir);if(C!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let P=x().filter(O=>O.focusable).map(O=>O.ref.current);if(C==="last")P.reverse();else if(C==="prev"||C==="next"){C==="prev"&&P.reverse();const O=P.indexOf(N.currentTarget);P=y.loop?W5(P,O+1):P.slice(O+1)}setTimeout(()=>Kw(P))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});Yw.displayName=Hw;var B5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z5(r,t){return t!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function q5(r,t,s){const n=z5(r.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return B5[n]}function Kw(r,t=!1){const s=document.activeElement;for(const n of r)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function W5(r,t){return r.map((s,n)=>r[(t+n)%r.length])}var Gw=Ww,Qw=Yw,H5=function(r){if(typeof document>"u")return null;var t=Array.isArray(r)?r[0]:r;return t.ownerDocument.body},ii=new WeakMap,Qd=new WeakMap,Xd={},Af=0,Xw=function(r){return r&&(r.host||Xw(r.parentNode))},Y5=function(r,t){return t.map(function(s){if(r.contains(s))return s;var n=Xw(s);return n&&r.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",r,". Doing nothing"),null)}).filter(function(s){return!!s})},K5=function(r,t,s,n){var i=Y5(t,Array.isArray(r)?r:[r]);Xd[s]||(Xd[s]=new WeakMap);var l=Xd[s],c=[],d=new Set,m=new Set(i),f=function(g){!g||d.has(g)||(d.add(g),f(g.parentNode))};i.forEach(f);var y=function(g){!g||m.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))y(x);else try{var v=x.getAttribute(n),b=v!==null&&v!=="false",w=(ii.get(x)||0)+1,N=(l.get(x)||0)+1;ii.set(x,w),l.set(x,N),c.push(x),w===1&&b&&Qd.set(x,!0),N===1&&x.setAttribute(s,"true"),b||x.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return y(t),d.clear(),Af++,function(){c.forEach(function(g){var x=ii.get(g)-1,v=l.get(g)-1;ii.set(g,x),l.set(g,v),x||(Qd.has(g)||g.removeAttribute(n),Qd.delete(g)),v||g.removeAttribute(s)}),Af--,Af||(ii=new WeakMap,ii=new WeakMap,Qd=new WeakMap,Xd={})}},rm=function(r,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),i=H5(r);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),K5(n,i,s,"aria-hidden")):function(){return null}},gn=function(){return gn=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l])}return t},gn.apply(this,arguments)};function Jw(r,t){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(s[n[i]]=r[n[i]]);return s}function G5(r,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return r.concat(l||Array.prototype.slice.call(t))}var iu="right-scroll-bar-position",lu="width-before-scroll-bar",Q5="with-scroll-bars-hidden",X5="--removed-body-scroll-bar-size";function Mf(r,t){return typeof r=="function"?r(t):r&&(r.current=t),r}function J5(r,t){var s=h.useState(function(){return{value:r,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var Z5=typeof window<"u"?h.useLayoutEffect:h.useEffect,sb=new WeakMap;function e3(r,t){var s=J5(null,function(n){return r.forEach(function(i){return Mf(i,n)})});return Z5(function(){var n=sb.get(s);if(n){var i=new Set(n),l=new Set(r),c=s.current;i.forEach(function(d){l.has(d)||Mf(d,null)}),l.forEach(function(d){i.has(d)||Mf(d,c)})}sb.set(s,r)},[r]),s}function t3(r){return r}function r3(r,t){t===void 0&&(t=t3);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:r},useMedium:function(l){var c=t(l,n);return s.push(c),function(){s=s.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;s.length;){var c=s;s=[],c.forEach(l)}s={push:function(d){return l(d)},filter:function(){return s}}},assignMedium:function(l){n=!0;var c=[];if(s.length){var d=s;s=[],d.forEach(l),c=s}var m=function(){var y=c;c=[],y.forEach(l)},f=function(){return Promise.resolve().then(m)};f(),s={push:function(y){c.push(y),f()},filter:function(y){return c=c.filter(y),s}}}};return i}function s3(r){r===void 0&&(r={});var t=r3(null);return t.options=gn({async:!0,ssr:!1},r),t}var Zw=function(r){var t=r.sideCar,s=Jw(r,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,gn({},s))};Zw.isSideCarExport=!0;function n3(r,t){return r.useMedium(t),Zw}var eN=s3(),If=function(){},sm=h.forwardRef(function(r,t){var s=h.useRef(null),n=h.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),i=n[0],l=n[1],c=r.forwardProps,d=r.children,m=r.className,f=r.removeScrollBar,y=r.enabled,g=r.shards,x=r.sideCar,v=r.noRelative,b=r.noIsolation,w=r.inert,N=r.allowPinchZoom,C=r.as,E=C===void 0?"div":C,P=r.gapMode,O=Jw(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=x,A=e3([s,t]),M=gn(gn({},O),i);return h.createElement(h.Fragment,null,y&&h.createElement(q,{sideCar:eN,removeScrollBar:f,shards:g,noRelative:v,noIsolation:b,inert:w,setCallbacks:l,allowPinchZoom:!!N,lockRef:s,gapMode:P}),c?h.cloneElement(h.Children.only(d),gn(gn({},M),{ref:A})):h.createElement(E,gn({},M,{className:m,ref:A}),d))});sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sm.classNames={fullWidth:lu,zeroRight:iu};var a3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o3(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var t=a3();return t&&r.setAttribute("nonce",t),r}function i3(r,t){r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}function l3(r){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(r)}var c3=function(){var r=0,t=null;return{add:function(s){r==0&&(t=o3())&&(i3(t,s),l3(t)),r++},remove:function(){r--,!r&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d3=function(){var r=c3();return function(t,s){h.useEffect(function(){return r.add(t),function(){r.remove()}},[t&&s])}},tN=function(){var r=d3(),t=function(s){var n=s.styles,i=s.dynamic;return r(n,i),null};return t},u3={left:0,top:0,right:0,gap:0},Of=function(r){return parseInt(r||"",10)||0},m3=function(r){var t=window.getComputedStyle(document.body),s=t[r==="padding"?"paddingLeft":"marginLeft"],n=t[r==="padding"?"paddingTop":"marginTop"],i=t[r==="padding"?"paddingRight":"marginRight"];return[Of(s),Of(n),Of(i)]},h3=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return u3;var t=m3(r),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},f3=tN(),yi="data-scroll-locked",p3=function(r,t,s,n){var i=r.left,l=r.top,c=r.right,d=r.gap;return s===void 0&&(s="margin"),`
  .`.concat(Q5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(yi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iu,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(yi,`] {
    `).concat(X5,": ").concat(d,`px;
  }
`)},nb=function(){var r=parseInt(document.body.getAttribute(yi)||"0",10);return isFinite(r)?r:0},g3=function(){h.useEffect(function(){return document.body.setAttribute(yi,(nb()+1).toString()),function(){var r=nb()-1;r<=0?document.body.removeAttribute(yi):document.body.setAttribute(yi,r.toString())}},[])},x3=function(r){var t=r.noRelative,s=r.noImportant,n=r.gapMode,i=n===void 0?"margin":n;g3();var l=h.useMemo(function(){return h3(i)},[i]);return h.createElement(f3,{styles:p3(l,!t,i,s?"":"!important")})},Ep=!1;if(typeof window<"u")try{var Jd=Object.defineProperty({},"passive",{get:function(){return Ep=!0,!0}});window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{Ep=!1}var li=Ep?{passive:!1}:!1,v3=function(r){return r.tagName==="TEXTAREA"},rN=function(r,t){if(!(r instanceof Element))return!1;var s=window.getComputedStyle(r);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!v3(r)&&s[t]==="visible")},y3=function(r){return rN(r,"overflowY")},b3=function(r){return rN(r,"overflowX")},ab=function(r,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=sN(r,n);if(i){var l=nN(r,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},j3=function(r){var t=r.scrollTop,s=r.scrollHeight,n=r.clientHeight;return[t,s,n]},w3=function(r){var t=r.scrollLeft,s=r.scrollWidth,n=r.clientWidth;return[t,s,n]},sN=function(r,t){return r==="v"?y3(t):b3(t)},nN=function(r,t){return r==="v"?j3(t):w3(t)},N3=function(r,t){return r==="h"&&t==="rtl"?-1:1},S3=function(r,t,s,n,i){var l=N3(r,window.getComputedStyle(t).direction),c=l*n,d=s.target,m=t.contains(d),f=!1,y=c>0,g=0,x=0;do{if(!d)break;var v=nN(r,d),b=v[0],w=v[1],N=v[2],C=w-N-l*b;(b||C)&&sN(r,d)&&(g+=C,x+=b);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!m&&d!==document.body||m&&(t.contains(d)||t===d));return(y&&Math.abs(g)<1||!y&&Math.abs(x)<1)&&(f=!0),f},Zd=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},ob=function(r){return[r.deltaX,r.deltaY]},ib=function(r){return r&&"current"in r?r.current:r},k3=function(r,t){return r[0]===t[0]&&r[1]===t[1]},C3=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},P3=0,ci=[];function _3(r){var t=h.useRef([]),s=h.useRef([0,0]),n=h.useRef(),i=h.useState(P3++)[0],l=h.useState(tN)[0],c=h.useRef(r);h.useEffect(function(){c.current=r},[r]),h.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var w=G5([r.lockRef.current],(r.shards||[]).map(ib),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var d=h.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var C=Zd(w),E=s.current,P="deltaX"in w?w.deltaX:E[0]-C[0],O="deltaY"in w?w.deltaY:E[1]-C[1],q,A=w.target,M=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in w&&M==="h"&&A.type==="range")return!1;var V=ab(M,A);if(!V)return!0;if(V?q=M:(q=M==="v"?"h":"v",V=ab(M,A)),!V)return!1;if(!n.current&&"changedTouches"in w&&(P||O)&&(n.current=q),!q)return!0;var k=n.current||q;return S3(k,N,w,k==="h"?P:O)},[]),m=h.useCallback(function(w){var N=w;if(!(!ci.length||ci[ci.length-1]!==l)){var C="deltaY"in N?ob(N):Zd(N),E=t.current.filter(function(q){return q.name===N.type&&(q.target===N.target||N.target===q.shadowParent)&&k3(q.delta,C)})[0];if(E&&E.should){N.cancelable&&N.preventDefault();return}if(!E){var P=(c.current.shards||[]).map(ib).filter(Boolean).filter(function(q){return q.contains(N.target)}),O=P.length>0?d(N,P[0]):!c.current.noIsolation;O&&N.cancelable&&N.preventDefault()}}},[]),f=h.useCallback(function(w,N,C,E){var P={name:w,delta:N,target:C,should:E,shadowParent:E3(C)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(O){return O!==P})},1)},[]),y=h.useCallback(function(w){s.current=Zd(w),n.current=void 0},[]),g=h.useCallback(function(w){f(w.type,ob(w),w.target,d(w,r.lockRef.current))},[]),x=h.useCallback(function(w){f(w.type,Zd(w),w.target,d(w,r.lockRef.current))},[]);h.useEffect(function(){return ci.push(l),r.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",m,li),document.addEventListener("touchmove",m,li),document.addEventListener("touchstart",y,li),function(){ci=ci.filter(function(w){return w!==l}),document.removeEventListener("wheel",m,li),document.removeEventListener("touchmove",m,li),document.removeEventListener("touchstart",y,li)}},[]);var v=r.removeScrollBar,b=r.inert;return h.createElement(h.Fragment,null,b?h.createElement(l,{styles:C3(i)}):null,v?h.createElement(x3,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function E3(r){for(var t=null;r!==null;)r instanceof ShadowRoot&&(t=r.host,r=r.host),r=r.parentNode;return t}const R3=n3(eN,_3);var kc=h.forwardRef(function(r,t){return h.createElement(sm,gn({},r,{ref:t,sideCar:R3}))});kc.classNames=sm.classNames;var Rp=["Enter"," "],T3=["ArrowDown","PageUp","Home"],aN=["ArrowUp","PageDown","End"],D3=[...T3,...aN],A3={ltr:[...Rp,"ArrowRight"],rtl:[...Rp,"ArrowLeft"]},M3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cc="Menu",[lc,I3,O3]=zi(Cc),[Io,oN]=jr(Cc,[O3,Ga,tm]),nm=Ga(),iN=tm(),[F3,Oo]=Io(Cc),[L3,Pc]=Io(Cc),lN=r=>{const{__scopeMenu:t,open:s=!1,children:n,dir:i,onOpenChange:l,modal:c=!0}=r,d=nm(t),[m,f]=h.useState(null),y=h.useRef(!1),g=or(l),x=Mo(i);return h.useEffect(()=>{const v=()=>{y.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>y.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(yg,{...d,children:e.jsx(F3,{scope:t,open:s,onOpenChange:g,content:m,onContentChange:f,children:e.jsx(L3,{scope:t,onClose:h.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:x,modal:c,children:n})})})};lN.displayName=Cc;var $3="MenuAnchor",jg=h.forwardRef((r,t)=>{const{__scopeMenu:s,...n}=r,i=nm(s);return e.jsx(wc,{...i,...n,ref:t})});jg.displayName=$3;var wg="MenuPortal",[V3,cN]=Io(wg,{forceMount:void 0}),dN=r=>{const{__scopeMenu:t,forceMount:s,children:n,container:i}=r,l=Oo(wg,t);return e.jsx(V3,{scope:t,forceMount:s,children:e.jsx(wr,{present:s||l.open,children:e.jsx(qi,{asChild:!0,container:i,children:n})})})};dN.displayName=wg;var Ps="MenuContent",[U3,Ng]=Io(Ps),uN=h.forwardRef((r,t)=>{const s=cN(Ps,r.__scopeMenu),{forceMount:n=s.forceMount,...i}=r,l=Oo(Ps,r.__scopeMenu),c=Pc(Ps,r.__scopeMenu);return e.jsx(lc.Provider,{scope:r.__scopeMenu,children:e.jsx(wr,{present:n||l.open,children:e.jsx(lc.Slot,{scope:r.__scopeMenu,children:c.modal?e.jsx(B3,{...i,ref:t}):e.jsx(z3,{...i,ref:t})})})})}),B3=h.forwardRef((r,t)=>{const s=Oo(Ps,r.__scopeMenu),n=h.useRef(null),i=rt(t,n);return h.useEffect(()=>{const l=n.current;if(l)return rm(l)},[]),e.jsx(Sg,{...r,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Ce(r.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),z3=h.forwardRef((r,t)=>{const s=Oo(Ps,r.__scopeMenu);return e.jsx(Sg,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),q3=Ua("MenuContent.ScrollLock"),Sg=h.forwardRef((r,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:x,onDismiss:v,disableOutsideScroll:b,...w}=r,N=Oo(Ps,s),C=Pc(Ps,s),E=nm(s),P=iN(s),O=I3(s),[q,A]=h.useState(null),M=h.useRef(null),V=rt(t,M,N.onContentChange),k=h.useRef(0),R=h.useRef(""),B=h.useRef(0),_=h.useRef(null),$=h.useRef("right"),T=h.useRef(0),Q=b?kc:h.Fragment,Y=b?{as:q3,allowPinchZoom:!0}:void 0,F=D=>{var oe,de;const W=R.current+D,U=O().filter(le=>!le.disabled),z=document.activeElement,J=(oe=U.find(le=>le.ref.current===z))==null?void 0:oe.textValue,se=U.map(le=>le.textValue),ue=rA(se,W,J),xe=(de=U.find(le=>le.textValue===ue))==null?void 0:de.ref.current;(function le(he){R.current=he,window.clearTimeout(k.current),he!==""&&(k.current=window.setTimeout(()=>le(""),1e3))})(W),xe&&setTimeout(()=>xe.focus())};h.useEffect(()=>()=>window.clearTimeout(k.current),[]),em();const I=h.useCallback(D=>{var U,z;return $.current===((U=_.current)==null?void 0:U.side)&&nA(D,(z=_.current)==null?void 0:z.area)},[]);return e.jsx(U3,{scope:s,searchRef:R,onItemEnter:h.useCallback(D=>{I(D)&&D.preventDefault()},[I]),onItemLeave:h.useCallback(D=>{var W;I(D)||((W=M.current)==null||W.focus(),A(null))},[I]),onTriggerLeave:h.useCallback(D=>{I(D)&&D.preventDefault()},[I]),pointerGraceTimerRef:B,onPointerGraceIntentChange:h.useCallback(D=>{_.current=D},[]),children:e.jsx(Q,{...Y,children:e.jsx(Nc,{asChild:!0,trapped:i,onMountAutoFocus:Ce(l,D=>{var W;D.preventDefault(),(W=M.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:x,onDismiss:v,children:e.jsx(Gw,{asChild:!0,...P,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:q,onCurrentTabStopIdChange:A,onEntryFocus:Ce(m,D=>{C.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Qu,{role:"menu","aria-orientation":"vertical","data-state":PN(N.open),"data-radix-menu-content":"",dir:C.dir,...E,...w,ref:V,style:{outline:"none",...w.style},onKeyDown:Ce(w.onKeyDown,D=>{const U=D.target.closest("[data-radix-menu-content]")===D.currentTarget,z=D.ctrlKey||D.altKey||D.metaKey,J=D.key.length===1;U&&(D.key==="Tab"&&D.preventDefault(),!z&&J&&F(D.key));const se=M.current;if(D.target!==se||!D3.includes(D.key))return;D.preventDefault();const xe=O().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);aN.includes(D.key)&&xe.reverse(),eA(xe)}),onBlur:Ce(r.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(k.current),R.current="")}),onPointerMove:Ce(r.onPointerMove,cc(D=>{const W=D.target,U=T.current!==D.clientX;if(D.currentTarget.contains(W)&&U){const z=D.clientX>T.current?"right":"left";$.current=z,T.current=D.clientX}}))})})})})})})});uN.displayName=Ps;var W3="MenuGroup",kg=h.forwardRef((r,t)=>{const{__scopeMenu:s,...n}=r;return e.jsx(Me.div,{role:"group",...n,ref:t})});kg.displayName=W3;var H3="MenuLabel",mN=h.forwardRef((r,t)=>{const{__scopeMenu:s,...n}=r;return e.jsx(Me.div,{...n,ref:t})});mN.displayName=H3;var Nu="MenuItem",lb="menu.itemSelect",am=h.forwardRef((r,t)=>{const{disabled:s=!1,onSelect:n,...i}=r,l=h.useRef(null),c=Pc(Nu,r.__scopeMenu),d=Ng(Nu,r.__scopeMenu),m=rt(t,l),f=h.useRef(!1),y=()=>{const g=l.current;if(!s&&g){const x=new CustomEvent(lb,{bubbles:!0,cancelable:!0});g.addEventListener(lb,v=>n==null?void 0:n(v),{once:!0}),ng(g,x),x.defaultPrevented?f.current=!1:c.onClose()}};return e.jsx(hN,{...i,ref:m,disabled:s,onClick:Ce(r.onClick,y),onPointerDown:g=>{var x;(x=r.onPointerDown)==null||x.call(r,g),f.current=!0},onPointerUp:Ce(r.onPointerUp,g=>{var x;f.current||(x=g.currentTarget)==null||x.click()}),onKeyDown:Ce(r.onKeyDown,g=>{const x=d.searchRef.current!=="";s||x&&g.key===" "||Rp.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});am.displayName=Nu;var hN=h.forwardRef((r,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:i,...l}=r,c=Ng(Nu,s),d=iN(s),m=h.useRef(null),f=rt(t,m),[y,g]=h.useState(!1),[x,v]=h.useState("");return h.useEffect(()=>{const b=m.current;b&&v((b.textContent??"").trim())},[l.children]),e.jsx(lc.ItemSlot,{scope:s,disabled:n,textValue:i??x,children:e.jsx(Qw,{asChild:!0,...d,focusable:!n,children:e.jsx(Me.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...l,ref:f,onPointerMove:Ce(r.onPointerMove,cc(b=>{n?c.onItemLeave(b):(c.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(r.onPointerLeave,cc(b=>c.onItemLeave(b))),onFocus:Ce(r.onFocus,()=>g(!0)),onBlur:Ce(r.onBlur,()=>g(!1))})})})}),Y3="MenuCheckboxItem",fN=h.forwardRef((r,t)=>{const{checked:s=!1,onCheckedChange:n,...i}=r;return e.jsx(yN,{scope:r.__scopeMenu,checked:s,children:e.jsx(am,{role:"menuitemcheckbox","aria-checked":Su(s)?"mixed":s,...i,ref:t,"data-state":Pg(s),onSelect:Ce(i.onSelect,()=>n==null?void 0:n(Su(s)?!0:!s),{checkForDefaultPrevented:!1})})})});fN.displayName=Y3;var pN="MenuRadioGroup",[K3,G3]=Io(pN,{value:void 0,onValueChange:()=>{}}),gN=h.forwardRef((r,t)=>{const{value:s,onValueChange:n,...i}=r,l=or(n);return e.jsx(K3,{scope:r.__scopeMenu,value:s,onValueChange:l,children:e.jsx(kg,{...i,ref:t})})});gN.displayName=pN;var xN="MenuRadioItem",vN=h.forwardRef((r,t)=>{const{value:s,...n}=r,i=G3(xN,r.__scopeMenu),l=s===i.value;return e.jsx(yN,{scope:r.__scopeMenu,checked:l,children:e.jsx(am,{role:"menuitemradio","aria-checked":l,...n,ref:t,"data-state":Pg(l),onSelect:Ce(n.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,s)},{checkForDefaultPrevented:!1})})})});vN.displayName=xN;var Cg="MenuItemIndicator",[yN,Q3]=Io(Cg,{checked:!1}),bN=h.forwardRef((r,t)=>{const{__scopeMenu:s,forceMount:n,...i}=r,l=Q3(Cg,s);return e.jsx(wr,{present:n||Su(l.checked)||l.checked===!0,children:e.jsx(Me.span,{...i,ref:t,"data-state":Pg(l.checked)})})});bN.displayName=Cg;var X3="MenuSeparator",jN=h.forwardRef((r,t)=>{const{__scopeMenu:s,...n}=r;return e.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});jN.displayName=X3;var J3="MenuArrow",wN=h.forwardRef((r,t)=>{const{__scopeMenu:s,...n}=r,i=nm(s);return e.jsx(Xu,{...i,...n,ref:t})});wN.displayName=J3;var Z3="MenuSub",[wU,NN]=Io(Z3),Ul="MenuSubTrigger",SN=h.forwardRef((r,t)=>{const s=Oo(Ul,r.__scopeMenu),n=Pc(Ul,r.__scopeMenu),i=NN(Ul,r.__scopeMenu),l=Ng(Ul,r.__scopeMenu),c=h.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=l,f={__scopeMenu:r.__scopeMenu},y=h.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return h.useEffect(()=>y,[y]),h.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),m(null)}},[d,m]),e.jsx(jg,{asChild:!0,...f,children:e.jsx(hN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":PN(s.open),...r,ref:Gn(t,i.onTriggerChange),onClick:g=>{var x;(x=r.onClick)==null||x.call(r,g),!(r.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Ce(r.onPointerMove,cc(g=>{l.onItemEnter(g),!g.defaultPrevented&&!r.disabled&&!s.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{s.onOpenChange(!0),y()},100))})),onPointerLeave:Ce(r.onPointerLeave,cc(g=>{var v,b;y();const x=(v=s.content)==null?void 0:v.getBoundingClientRect();if(x){const w=(b=s.content)==null?void 0:b.dataset.side,N=w==="right",C=N?-5:5,E=x[N?"left":"right"],P=x[N?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:E,y:x.top},{x:P,y:x.top},{x:P,y:x.bottom},{x:E,y:x.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(r.onKeyDown,g=>{var v;const x=l.searchRef.current!=="";r.disabled||x&&g.key===" "||A3[n.dir].includes(g.key)&&(s.onOpenChange(!0),(v=s.content)==null||v.focus(),g.preventDefault())})})})});SN.displayName=Ul;var kN="MenuSubContent",CN=h.forwardRef((r,t)=>{const s=cN(Ps,r.__scopeMenu),{forceMount:n=s.forceMount,...i}=r,l=Oo(Ps,r.__scopeMenu),c=Pc(Ps,r.__scopeMenu),d=NN(kN,r.__scopeMenu),m=h.useRef(null),f=rt(t,m);return e.jsx(lc.Provider,{scope:r.__scopeMenu,children:e.jsx(wr,{present:n||l.open,children:e.jsx(lc.Slot,{scope:r.__scopeMenu,children:e.jsx(Sg,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;c.isUsingKeyboardRef.current&&((g=m.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ce(r.onFocusOutside,y=>{y.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ce(r.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:Ce(r.onKeyDown,y=>{var v;const g=y.currentTarget.contains(y.target),x=M3[c.dir].includes(y.key);g&&x&&(l.onOpenChange(!1),(v=d.trigger)==null||v.focus(),y.preventDefault())})})})})})});CN.displayName=kN;function PN(r){return r?"open":"closed"}function Su(r){return r==="indeterminate"}function Pg(r){return Su(r)?"indeterminate":r?"checked":"unchecked"}function eA(r){const t=document.activeElement;for(const s of r)if(s===t||(s.focus(),document.activeElement!==t))return}function tA(r,t){return r.map((s,n)=>r[(t+n)%r.length])}function rA(r,t,s){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,l=s?r.indexOf(s):-1;let c=tA(r,Math.max(l,0));i.length===1&&(c=c.filter(f=>f!==s));const m=c.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return m!==s?m:void 0}function sA(r,t){const{x:s,y:n}=r;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],m=t[c],f=d.x,y=d.y,g=m.x,x=m.y;y>n!=x>n&&s<(g-f)*(n-y)/(x-y)+f&&(i=!i)}return i}function nA(r,t){if(!t)return!1;const s={x:r.clientX,y:r.clientY};return sA(s,t)}function cc(r){return t=>t.pointerType==="mouse"?r(t):void 0}var aA=lN,oA=jg,iA=dN,lA=uN,cA=kg,dA=mN,uA=am,mA=fN,hA=gN,fA=vN,pA=bN,gA=jN,xA=wN,vA=SN,yA=CN,om="DropdownMenu",[bA]=jr(om,[oN]),Yr=oN(),[jA,_N]=bA(om),EN=r=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:i,defaultOpen:l,onOpenChange:c,modal:d=!0}=r,m=Yr(t),f=h.useRef(null),[y,g]=xs({prop:i,defaultProp:l??!1,onChange:c,caller:om});return e.jsx(jA,{scope:t,triggerId:br(),triggerRef:f,contentId:br(),open:y,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(x=>!x),[g]),modal:d,children:e.jsx(aA,{...m,open:y,onOpenChange:g,dir:n,modal:d,children:s})})};EN.displayName=om;var RN="DropdownMenuTrigger",TN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...i}=r,l=_N(RN,s),c=Yr(s);return e.jsx(oA,{asChild:!0,...c,children:e.jsx(Me.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Gn(t,l.triggerRef),onPointerDown:Ce(r.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ce(r.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});TN.displayName=RN;var wA="DropdownMenuPortal",DN=r=>{const{__scopeDropdownMenu:t,...s}=r,n=Yr(t);return e.jsx(iA,{...n,...s})};DN.displayName=wA;var AN="DropdownMenuContent",MN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=_N(AN,s),l=Yr(s),c=h.useRef(!1);return e.jsx(lA,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...n,ref:t,onCloseAutoFocus:Ce(r.onCloseAutoFocus,d=>{var m;c.current||(m=i.triggerRef.current)==null||m.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ce(r.onInteractOutside,d=>{const m=d.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0,y=m.button===2||f;(!i.modal||y)&&(c.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MN.displayName=AN;var NA="DropdownMenuGroup",SA=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(cA,{...i,...n,ref:t})});SA.displayName=NA;var kA="DropdownMenuLabel",IN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(dA,{...i,...n,ref:t})});IN.displayName=kA;var CA="DropdownMenuItem",ON=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(uA,{...i,...n,ref:t})});ON.displayName=CA;var PA="DropdownMenuCheckboxItem",FN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(mA,{...i,...n,ref:t})});FN.displayName=PA;var _A="DropdownMenuRadioGroup",EA=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(hA,{...i,...n,ref:t})});EA.displayName=_A;var RA="DropdownMenuRadioItem",LN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(fA,{...i,...n,ref:t})});LN.displayName=RA;var TA="DropdownMenuItemIndicator",$N=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(pA,{...i,...n,ref:t})});$N.displayName=TA;var DA="DropdownMenuSeparator",VN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(gA,{...i,...n,ref:t})});VN.displayName=DA;var AA="DropdownMenuArrow",MA=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(xA,{...i,...n,ref:t})});MA.displayName=AA;var IA="DropdownMenuSubTrigger",UN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(vA,{...i,...n,ref:t})});UN.displayName=IA;var OA="DropdownMenuSubContent",BN=h.forwardRef((r,t)=>{const{__scopeDropdownMenu:s,...n}=r,i=Yr(s);return e.jsx(yA,{...i,...n,ref:t,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BN.displayName=OA;var FA=EN,LA=TN,$A=DN,zN=MN,qN=IN,WN=ON,HN=FN,YN=LN,KN=$N,GN=VN,QN=UN,XN=BN;const JN=FA,ZN=LA,VA=h.forwardRef(({className:r,inset:t,children:s,...n},i)=>e.jsxs(QN,{ref:i,className:Re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",r),...n,children:[s,e.jsx(lg,{className:"ml-auto h-4 w-4"})]}));VA.displayName=QN.displayName;const UA=h.forwardRef(({className:r,...t},s)=>e.jsx(XN,{ref:s,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t}));UA.displayName=XN.displayName;const _g=h.forwardRef(({className:r,sideOffset:t=4,...s},n)=>e.jsx($A,{children:e.jsx(zN,{ref:n,sideOffset:t,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}));_g.displayName=zN.displayName;const bi=h.forwardRef(({className:r,inset:t,...s},n)=>e.jsx(WN,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",r),...s}));bi.displayName=WN.displayName;const BA=h.forwardRef(({className:r,children:t,checked:s,...n},i)=>e.jsxs(HN,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:s,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(KN,{children:e.jsx(yc,{className:"h-4 w-4"})})}),t]}));BA.displayName=HN.displayName;const zA=h.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(YN,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(KN,{children:e.jsx(Yj,{className:"h-2 w-2 fill-current"})})}),t]}));zA.displayName=YN.displayName;const qA=h.forwardRef(({className:r,inset:t,...s},n)=>e.jsx(qN,{ref:n,className:Re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",r),...s}));qA.displayName=qN.displayName;const e1=h.forwardRef(({className:r,...t},s)=>e.jsx(GN,{ref:s,className:Re("-mx-1 my-1 h-px bg-muted",r),...t}));e1.displayName=GN.displayName;const WA=vc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:r,variant:t,...s}){return e.jsx("div",{className:Re(WA({variant:t}),r),...s})}function dc(r,[t,s]){return Math.min(s,Math.max(t,r))}function HA(r,t){return h.useReducer((s,n)=>t[s][n]??s,r)}var Eg="ScrollArea",[t1]=jr(Eg),[YA,Rs]=t1(Eg),r1=h.forwardRef((r,t)=>{const{__scopeScrollArea:s,type:n="hover",dir:i,scrollHideDelay:l=600,...c}=r,[d,m]=h.useState(null),[f,y]=h.useState(null),[g,x]=h.useState(null),[v,b]=h.useState(null),[w,N]=h.useState(null),[C,E]=h.useState(0),[P,O]=h.useState(0),[q,A]=h.useState(!1),[M,V]=h.useState(!1),k=rt(t,B=>m(B)),R=Mo(i);return e.jsx(YA,{scope:s,type:n,dir:R,scrollHideDelay:l,scrollArea:d,viewport:f,onViewportChange:y,content:g,onContentChange:x,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:q,onScrollbarXEnabledChange:A,scrollbarY:w,onScrollbarYChange:N,scrollbarYEnabled:M,onScrollbarYEnabledChange:V,onCornerWidthChange:E,onCornerHeightChange:O,children:e.jsx(Me.div,{dir:R,...c,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":P+"px",...r.style}})})});r1.displayName=Eg;var s1="ScrollAreaViewport",n1=h.forwardRef((r,t)=>{const{__scopeScrollArea:s,children:n,nonce:i,...l}=r,c=Rs(s1,s),d=h.useRef(null),m=rt(t,d,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...l,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});n1.displayName=s1;var Cn="ScrollAreaScrollbar",Rg=h.forwardRef((r,t)=>{const{forceMount:s,...n}=r,i=Rs(Cn,r.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=i,d=r.orientation==="horizontal";return h.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),i.type==="hover"?e.jsx(KA,{...n,ref:t,forceMount:s}):i.type==="scroll"?e.jsx(GA,{...n,ref:t,forceMount:s}):i.type==="auto"?e.jsx(a1,{...n,ref:t,forceMount:s}):i.type==="always"?e.jsx(Tg,{...n,ref:t}):null});Rg.displayName=Cn;var KA=h.forwardRef((r,t)=>{const{forceMount:s,...n}=r,i=Rs(Cn,r.__scopeScrollArea),[l,c]=h.useState(!1);return h.useEffect(()=>{const d=i.scrollArea;let m=0;if(d){const f=()=>{window.clearTimeout(m),c(!0)},y=()=>{m=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",f),d.addEventListener("pointerleave",y),()=>{window.clearTimeout(m),d.removeEventListener("pointerenter",f),d.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(wr,{present:s||l,children:e.jsx(a1,{"data-state":l?"visible":"hidden",...n,ref:t})})}),GA=h.forwardRef((r,t)=>{const{forceMount:s,...n}=r,i=Rs(Cn,r.__scopeScrollArea),l=r.orientation==="horizontal",c=lm(()=>m("SCROLL_END"),100),[d,m]=HA("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(d==="idle"){const f=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[d,i.scrollHideDelay,m]),h.useEffect(()=>{const f=i.viewport,y=l?"scrollLeft":"scrollTop";if(f){let g=f[y];const x=()=>{const v=f[y];g!==v&&(m("SCROLL"),c()),g=v};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[i.viewport,l,m,c]),e.jsx(wr,{present:s||d!=="hidden",children:e.jsx(Tg,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ce(r.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Ce(r.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),a1=h.forwardRef((r,t)=>{const s=Rs(Cn,r.__scopeScrollArea),{forceMount:n,...i}=r,[l,c]=h.useState(!1),d=r.orientation==="horizontal",m=lm(()=>{if(s.viewport){const f=s.viewport.offsetWidth<s.viewport.scrollWidth,y=s.viewport.offsetHeight<s.viewport.scrollHeight;c(d?f:y)}},10);return Oi(s.viewport,m),Oi(s.content,m),e.jsx(wr,{present:n||l,children:e.jsx(Tg,{"data-state":l?"visible":"hidden",...i,ref:t})})}),Tg=h.forwardRef((r,t)=>{const{orientation:s="vertical",...n}=r,i=Rs(Cn,r.__scopeScrollArea),l=h.useRef(null),c=h.useRef(0),[d,m]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=d1(d.viewport,d.content),y={...n,sizes:d,onSizesChange:m,hasThumb:f>0&&f<1,onThumbChange:x=>l.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function g(x,v){return tM(x,c.current,d,v)}return s==="horizontal"?e.jsx(QA,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const x=i.viewport.scrollLeft,v=cb(x,d,i.dir);l.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=g(x,i.dir))}}):s==="vertical"?e.jsx(XA,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const x=i.viewport.scrollTop,v=cb(x,d);l.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=g(x))}}):null}),QA=h.forwardRef((r,t)=>{const{sizes:s,onSizesChange:n,...i}=r,l=Rs(Cn,r.__scopeScrollArea),[c,d]=h.useState(),m=h.useRef(null),f=rt(t,m,l.onScrollbarXChange);return h.useEffect(()=>{m.current&&d(getComputedStyle(m.current))},[m]),e.jsx(i1,{"data-orientation":"horizontal",...i,ref:f,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":im(s)+"px",...r.style},onThumbPointerDown:y=>r.onThumbPointerDown(y.x),onDragScroll:y=>r.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(l.viewport){const x=l.viewport.scrollLeft+y.deltaX;r.onWheelScroll(x),m1(x,g)&&y.preventDefault()}},onResize:()=>{m.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Cu(c.paddingLeft),paddingEnd:Cu(c.paddingRight)}})}})}),XA=h.forwardRef((r,t)=>{const{sizes:s,onSizesChange:n,...i}=r,l=Rs(Cn,r.__scopeScrollArea),[c,d]=h.useState(),m=h.useRef(null),f=rt(t,m,l.onScrollbarYChange);return h.useEffect(()=>{m.current&&d(getComputedStyle(m.current))},[m]),e.jsx(i1,{"data-orientation":"vertical",...i,ref:f,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":im(s)+"px",...r.style},onThumbPointerDown:y=>r.onThumbPointerDown(y.y),onDragScroll:y=>r.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(l.viewport){const x=l.viewport.scrollTop+y.deltaY;r.onWheelScroll(x),m1(x,g)&&y.preventDefault()}},onResize:()=>{m.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Cu(c.paddingTop),paddingEnd:Cu(c.paddingBottom)}})}})}),[JA,o1]=t1(Cn),i1=h.forwardRef((r,t)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:i,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:m,onDragScroll:f,onWheelScroll:y,onResize:g,...x}=r,v=Rs(Cn,s),[b,w]=h.useState(null),N=rt(t,k=>w(k)),C=h.useRef(null),E=h.useRef(""),P=v.viewport,O=n.content-n.viewport,q=or(y),A=or(m),M=lm(g,10);function V(k){if(C.current){const R=k.clientX-C.current.left,B=k.clientY-C.current.top;f({x:R,y:B})}}return h.useEffect(()=>{const k=R=>{const B=R.target;(b==null?void 0:b.contains(B))&&q(R,O)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[P,b,O,q]),h.useEffect(A,[n,A]),Oi(b,M),Oi(v.content,M),e.jsx(JA,{scope:s,scrollbar:b,hasThumb:i,onThumbChange:or(l),onThumbPointerUp:or(c),onThumbPositionChange:A,onThumbPointerDown:or(d),children:e.jsx(Me.div,{...x,ref:N,style:{position:"absolute",...x.style},onPointerDown:Ce(r.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),C.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),V(k))}),onPointerMove:Ce(r.onPointerMove,V),onPointerUp:Ce(r.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=E.current,v.viewport&&(v.viewport.style.scrollBehavior=""),C.current=null})})})}),ku="ScrollAreaThumb",l1=h.forwardRef((r,t)=>{const{forceMount:s,...n}=r,i=o1(ku,r.__scopeScrollArea);return e.jsx(wr,{present:s||i.hasThumb,children:e.jsx(ZA,{ref:t,...n})})}),ZA=h.forwardRef((r,t)=>{const{__scopeScrollArea:s,style:n,...i}=r,l=Rs(ku,s),c=o1(ku,s),{onThumbPositionChange:d}=c,m=rt(t,g=>c.onThumbChange(g)),f=h.useRef(void 0),y=lm(()=>{f.current&&(f.current(),f.current=void 0)},100);return h.useEffect(()=>{const g=l.viewport;if(g){const x=()=>{if(y(),!f.current){const v=rM(g,d);f.current=v,d()}};return d(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[l.viewport,y,d]),e.jsx(Me.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(r.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),b=g.clientX-v.left,w=g.clientY-v.top;c.onThumbPointerDown({x:b,y:w})}),onPointerUp:Ce(r.onPointerUp,c.onThumbPointerUp)})});l1.displayName=ku;var Dg="ScrollAreaCorner",c1=h.forwardRef((r,t)=>{const s=Rs(Dg,r.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?e.jsx(eM,{...r,ref:t}):null});c1.displayName=Dg;var eM=h.forwardRef((r,t)=>{const{__scopeScrollArea:s,...n}=r,i=Rs(Dg,s),[l,c]=h.useState(0),[d,m]=h.useState(0),f=!!(l&&d);return Oi(i.scrollbarX,()=>{var g;const y=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(y),m(y)}),Oi(i.scrollbarY,()=>{var g;const y=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(y),c(y)}),f?e.jsx(Me.div,{...n,ref:t,style:{width:l,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function Cu(r){return r?parseInt(r,10):0}function d1(r,t){const s=r/t;return isNaN(s)?0:s}function im(r){const t=d1(r.viewport,r.content),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-s)*t;return Math.max(n,18)}function tM(r,t,s,n="ltr"){const i=im(s),l=i/2,c=t||l,d=i-c,m=s.scrollbar.paddingStart+c,f=s.scrollbar.size-s.scrollbar.paddingEnd-d,y=s.content-s.viewport,g=n==="ltr"?[0,y]:[y*-1,0];return u1([m,f],g)(r)}function cb(r,t,s="ltr"){const n=im(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-i,c=t.content-t.viewport,d=l-n,m=s==="ltr"?[0,c]:[c*-1,0],f=dc(r,m);return u1([0,c],[0,d])(f)}function u1(r,t){return s=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(r[1]-r[0]);return t[0]+n*(s-r[0])}}function m1(r,t){return r>0&&r<t}var rM=(r,t=()=>{})=>{let s={left:r.scrollLeft,top:r.scrollTop},n=0;return(function i(){const l={left:r.scrollLeft,top:r.scrollTop},c=s.left!==l.left,d=s.top!==l.top;(c||d)&&t(),s=l,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function lm(r,t){const s=or(r),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,t)},[s,t])}function Oi(r,t){const s=or(t);lr(()=>{let n=0;if(r){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return i.observe(r),()=>{window.cancelAnimationFrame(n),i.unobserve(r)}}},[r,s])}var h1=r1,sM=n1,nM=c1;const Ag=h.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(h1,{ref:n,className:Re("relative overflow-hidden",r),...s,children:[e.jsx(sM,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(f1,{}),e.jsx(nM,{})]}));Ag.displayName=h1.displayName;const f1=h.forwardRef(({className:r,orientation:t="vertical",...s},n)=>e.jsx(Rg,{ref:n,orientation:t,className:Re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...s,children:e.jsx(l1,{className:"relative flex-1 rounded-full bg-border"})}));f1.displayName=Rg.displayName;const wn=Object.create(null);wn.open="0";wn.close="1";wn.ping="2";wn.pong="3";wn.message="4";wn.upgrade="5";wn.noop="6";const cu=Object.create(null);Object.keys(wn).forEach(r=>{cu[wn[r]]=r});const Tp={type:"error",data:"parser error"},p1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",g1=typeof ArrayBuffer=="function",x1=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Mg=({type:r,data:t},s,n)=>p1&&t instanceof Blob?s?n(t):db(t,n):g1&&(t instanceof ArrayBuffer||x1(t))?s?n(t):db(new Blob([t]),n):n(wn[r]+(t||"")),db=(r,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(r)};function ub(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let Ff;function aM(r,t){if(p1&&r.data instanceof Blob)return r.data.arrayBuffer().then(ub).then(t);if(g1&&(r.data instanceof ArrayBuffer||x1(r.data)))return t(ub(r.data));Mg(r,!1,s=>{Ff||(Ff=new TextEncoder),t(Ff.encode(s))})}const mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<mb.length;r++)Bl[mb.charCodeAt(r)]=r;const oM=r=>{let t=r.length*.75,s=r.length,n,i=0,l,c,d,m;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);const f=new ArrayBuffer(t),y=new Uint8Array(f);for(n=0;n<s;n+=4)l=Bl[r.charCodeAt(n)],c=Bl[r.charCodeAt(n+1)],d=Bl[r.charCodeAt(n+2)],m=Bl[r.charCodeAt(n+3)],y[i++]=l<<2|c>>4,y[i++]=(c&15)<<4|d>>2,y[i++]=(d&3)<<6|m&63;return f},iM=typeof ArrayBuffer=="function",Ig=(r,t)=>{if(typeof r!="string")return{type:"message",data:v1(r,t)};const s=r.charAt(0);return s==="b"?{type:"message",data:lM(r.substring(1),t)}:cu[s]?r.length>1?{type:cu[s],data:r.substring(1)}:{type:cu[s]}:Tp},lM=(r,t)=>{if(iM){const s=oM(r);return v1(s,t)}else return{base64:!0,data:r}},v1=(r,t)=>{switch(t){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},y1="",cM=(r,t)=>{const s=r.length,n=new Array(s);let i=0;r.forEach((l,c)=>{Mg(l,!1,d=>{n[c]=d,++i===s&&t(n.join(y1))})})},dM=(r,t)=>{const s=r.split(y1),n=[];for(let i=0;i<s.length;i++){const l=Ig(s[i],t);if(n.push(l),l.type==="error")break}return n};function uM(){return new TransformStream({transform(r,t){aM(r,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const l=new DataView(i.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{i=new Uint8Array(9);const l=new DataView(i.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let Lf;function eu(r){return r.reduce((t,s)=>t+s.length,0)}function tu(r,t){if(r[0].length===t)return r.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),s}function mM(r,t){Lf||(Lf=new TextDecoder);const s=[];let n=0,i=-1,l=!1;return new TransformStream({transform(c,d){for(s.push(c);;){if(n===0){if(eu(s)<1)break;const m=tu(s,1);l=(m[0]&128)===128,i=m[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(eu(s)<2)break;const m=tu(s,2);i=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(eu(s)<8)break;const m=tu(s,8),f=new DataView(m.buffer,m.byteOffset,m.length),y=f.getUint32(0);if(y>Math.pow(2,21)-1){d.enqueue(Tp);break}i=y*Math.pow(2,32)+f.getUint32(4),n=3}else{if(eu(s)<i)break;const m=tu(s,i);d.enqueue(Ig(l?m:Lf.decode(m),t)),n=0}if(i===0||i>r){d.enqueue(Tp);break}}}})}const b1=4;function gr(r){if(r)return hM(r)}function hM(r){for(var t in gr.prototype)r[t]=gr.prototype[t];return r}gr.prototype.on=gr.prototype.addEventListener=function(r,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(t),this};gr.prototype.once=function(r,t){function s(){this.off(r,s),t.apply(this,arguments)}return s.fn=t,this.on(r,s),this};gr.prototype.off=gr.prototype.removeListener=gr.prototype.removeAllListeners=gr.prototype.removeEventListener=function(r,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+r],this};gr.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+r],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};gr.prototype.emitReserved=gr.prototype.emit;gr.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};gr.prototype.hasListeners=function(r){return!!this.listeners(r).length};const cm=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Cs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fM="arraybuffer";function j1(r,...t){return t.reduce((s,n)=>(r.hasOwnProperty(n)&&(s[n]=r[n]),s),{})}const pM=Cs.setTimeout,gM=Cs.clearTimeout;function dm(r,t){t.useNativeTimers?(r.setTimeoutFn=pM.bind(Cs),r.clearTimeoutFn=gM.bind(Cs)):(r.setTimeoutFn=Cs.setTimeout.bind(Cs),r.clearTimeoutFn=Cs.clearTimeout.bind(Cs))}const xM=1.33;function vM(r){return typeof r=="string"?yM(r):Math.ceil((r.byteLength||r.size)*xM)}function yM(r){let t=0,s=0;for(let n=0,i=r.length;n<i;n++)t=r.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function w1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function bM(r){let t="";for(let s in r)r.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(r[s]));return t}function jM(r){let t={},s=r.split("&");for(let n=0,i=s.length;n<i;n++){let l=s[n].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class wM extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Og extends gr{constructor(t){super(),this.writable=!1,dm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new wM(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Ig(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=bM(t);return s.length?"?"+s:""}}class NM extends Og{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};dM(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,cM(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=w1()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let N1=!1;try{N1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const SM=N1;function kM(){}class CM extends NM{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,l)=>{this.onError("xhr post error",i,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class yn extends gr{constructor(t,s,n){super(),this.createRequest=t,dm(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=j1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=yn.requestsCount++,yn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kM,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete yn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}yn.requestsCount=0;yn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hb);else if(typeof addEventListener=="function"){const r="onpagehide"in Cs?"pagehide":"unload";addEventListener(r,hb,!1)}}function hb(){for(let r in yn.requests)yn.requests.hasOwnProperty(r)&&yn.requests[r].abort()}const PM=(function(){const r=S1({xdomain:!1});return r&&r.responseType!==null})();class _M extends CM{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=PM&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new yn(S1,this.uri(),t)}}function S1(r){const t=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||SM))return new XMLHttpRequest}catch{}if(!t)try{return new Cs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const k1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class EM extends Og{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=k1?{}:j1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;Mg(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}i&&cm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=w1()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const $f=Cs.WebSocket||Cs.MozWebSocket;class RM extends EM{createSocket(t,s,n){return k1?new $f(t,s,n):s?new $f(t,s):new $f(t)}doWrite(t,s){this.ws.send(s)}}class TM extends Og{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=mM(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=uM();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const l=()=>{n.read().then(({done:d,value:m})=>{d||(this.onPacket(m),l())}).catch(d=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this._writer.write(n).then(()=>{i&&cm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const DM={websocket:RM,webtransport:TM,polling:_M},AM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,MM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dp(r){if(r.length>8e3)throw"URI too long";const t=r,s=r.indexOf("["),n=r.indexOf("]");s!=-1&&n!=-1&&(r=r.substring(0,s)+r.substring(s,n).replace(/:/g,";")+r.substring(n,r.length));let i=AM.exec(r||""),l={},c=14;for(;c--;)l[MM[c]]=i[c]||"";return s!=-1&&n!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=IM(l,l.path),l.queryKey=OM(l,l.query),l}function IM(r,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function OM(r,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,l){i&&(s[i]=l)}),s}const Ap=typeof addEventListener=="function"&&typeof removeEventListener=="function",du=[];Ap&&addEventListener("offline",()=>{du.forEach(r=>r())},!1);class Fa extends gr{constructor(t,s){if(super(),this.binaryType=fM,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=Dp(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Dp(s.host).host);dm(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jM(this.opts.query)),Ap&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},du.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=b1,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Fa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Fa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=vM(i)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,cm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:t,data:s,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Fa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ap&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=du.indexOf(this._offlineEventListener);n!==-1&&du.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Fa.protocol=b1;class FM extends Fa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;Fa.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",g=>{if(!n)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Fa.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(y(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function l(){n||(n=!0,y(),s.close(),s=null)}const c=g=>{const x=new Error("probe error: "+g);x.transport=s.name,l(),this.emitReserved("upgradeError",x)};function d(){c("transport closed")}function m(){c("socket closed")}function f(g){s&&g.name!==s.name&&l()}const y=()=>{s.removeListener("open",i),s.removeListener("error",c),s.removeListener("close",d),this.off("close",m),this.off("upgrading",f)};s.once("open",i),s.once("error",c),s.once("close",d),this.once("close",m),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let LM=class extends FM{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>DM[i]).filter(i=>!!i)),super(t,n)}};function $M(r,t="",s){let n=r;s=s||typeof location<"u"&&location,r==null&&(r=s.protocol+"//"+s.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=s.protocol+r:r=s.host+r),/^(https?|wss?):\/\//.test(r)||(typeof s<"u"?r=s.protocol+"//"+r:r="https://"+r),n=Dp(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+t,n.href=n.protocol+"://"+l+(s&&s.port===n.port?"":":"+n.port),n}const VM=typeof ArrayBuffer=="function",UM=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,C1=Object.prototype.toString,BM=typeof Blob=="function"||typeof Blob<"u"&&C1.call(Blob)==="[object BlobConstructor]",zM=typeof File=="function"||typeof File<"u"&&C1.call(File)==="[object FileConstructor]";function Fg(r){return VM&&(r instanceof ArrayBuffer||UM(r))||BM&&r instanceof Blob||zM&&r instanceof File}function uu(r,t){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let s=0,n=r.length;s<n;s++)if(uu(r[s]))return!0;return!1}if(Fg(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return uu(r.toJSON(),!0);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&uu(r[s]))return!0;return!1}function qM(r){const t=[],s=r.data,n=r;return n.data=Mp(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Mp(r,t){if(!r)return r;if(Fg(r)){const s={_placeholder:!0,num:t.length};return t.push(r),s}else if(Array.isArray(r)){const s=new Array(r.length);for(let n=0;n<r.length;n++)s[n]=Mp(r[n],t);return s}else if(typeof r=="object"&&!(r instanceof Date)){const s={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=Mp(r[n],t));return s}return r}function WM(r,t){return r.data=Ip(r.data,t),delete r.attachments,r}function Ip(r,t){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<t.length)return t[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let s=0;s<r.length;s++)r[s]=Ip(r[s],t);else if(typeof r=="object")for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(r[s]=Ip(r[s],t));return r}const HM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],YM=5;var bt;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(bt||(bt={}));class KM{constructor(t){this.replacer=t}encode(t){return(t.type===bt.EVENT||t.type===bt.ACK)&&uu(t)?this.encodeAsBinary({type:t.type===bt.EVENT?bt.BINARY_EVENT:bt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===bt.BINARY_EVENT||t.type===bt.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=qM(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function fb(r){return Object.prototype.toString.call(r)==="[object Object]"}class Lg extends gr{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===bt.BINARY_EVENT;n||s.type===bt.BINARY_ACK?(s.type=n?bt.EVENT:bt.ACK,this.reconstructor=new GM(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Fg(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(bt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===bt.BINARY_EVENT||n.type===bt.BINARY_ACK){const l=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const c=t.substring(l,s);if(c!=Number(c)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(s+1)==="/"){const l=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(l,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const l=s+1;for(;++s;){const c=t.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===t.length)break}n.id=Number(t.substring(l,s+1))}if(t.charAt(++s)){const l=this.tryParse(t.substr(s));if(Lg.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case bt.CONNECT:return fb(s);case bt.DISCONNECT:return s===void 0;case bt.CONNECT_ERROR:return typeof s=="string"||fb(s);case bt.EVENT:case bt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&HM.indexOf(s[0])===-1);case bt.ACK:case bt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class GM{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=WM(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const QM=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Lg,Encoder:KM,get PacketType(){return bt},protocol:YM},Symbol.toStringTag,{value:"Module"}));function Ys(r,t,s){return r.on(t,s),function(){r.off(t,s)}}const XM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class P1 extends gr{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ys(t,"open",this.onopen.bind(this)),Ys(t,"packet",this.onpacket.bind(this)),Ys(t,"error",this.onerror.bind(this)),Ys(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,i,l;if(XM.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const c={type:bt.EVENT,data:s};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const y=this.ids++,g=s.pop();this._registerAckCallback(y,g),c.id=y}const d=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,m=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!d||(m?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);s.call(this,new Error("operation has timed out"))},i),c=(...d)=>{this.io.clearTimeoutFn(l),s.apply(this,d)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...s){return new Promise((n,i)=>{const l=(c,d)=>c?i(c):n(d);l.withError=!0,s.push(l),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...l)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:bt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case bt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bt.EVENT:case bt.BINARY_EVENT:this.onevent(t);break;case bt.ACK:case bt.BINARY_ACK:this.onack(t);break;case bt.DISCONNECT:this.ondisconnect();break;case bt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:bt.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function Gi(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Gi.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*r);r=(Math.floor(t*10)&1)==0?r-s:r+s}return Math.min(r,this.max)|0};Gi.prototype.reset=function(){this.attempts=0};Gi.prototype.setMin=function(r){this.ms=r};Gi.prototype.setMax=function(r){this.max=r};Gi.prototype.setJitter=function(r){this.jitter=r};class Op extends gr{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,dm(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Gi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||QM;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new LM(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ys(s,"open",function(){n.onopen(),t&&t()}),l=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=Ys(s,"error",l);if(this._timeout!==!1){const d=this._timeout,m=this.setTimeoutFn(()=>{i(),l(new Error("timeout")),s.close()},d);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ys(t,"ping",this.onping.bind(this)),Ys(t,"data",this.ondata.bind(this)),Ys(t,"error",this.onerror.bind(this)),Ys(t,"close",this.onclose.bind(this)),Ys(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){cm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new P1(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Il={};function mu(r,t){typeof r=="object"&&(t=r,r=void 0),t=t||{};const s=$M(r,t.path||"/socket.io"),n=s.source,i=s.id,l=s.path,c=Il[i]&&l in Il[i].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let m;return d?m=new Op(n,t):(Il[i]||(Il[i]=new Op(n,t)),m=Il[i]),s.query&&!t.query&&(t.query=s.queryKey),m.socket(s.path,t)}Object.assign(mu,{Manager:Op,Socket:P1,io:mu,connect:mu});var JM={};const _1=()=>{const[r,t]=h.useState(null),[s,n]=h.useState(!1),[i,l]=h.useState([]),{user:c,token:d}=Ft(),m=h.useRef(null);h.useEffect(()=>{if(!c||!d)return;const N=mu(JM.NEXT_PUBLIC_API_URL||"http://localhost:5000",{auth:{token:d},transports:["websocket","polling"]});return N.on("connect",()=>{console.log(" WebSocket connected"),n(!0),t(N)}),N.on("disconnect",()=>{console.log(" WebSocket disconnected"),n(!1),t(null)}),N.on("connect_error",C=>{console.error(" WebSocket connection error:",C),n(!1)}),N.on("developer_selected",C=>{console.log(" Developer selected notification:",C),f({type:"success",title:"Developer Selected",message:C.message,data:C,timestamp:new Date})}),N.on("proposal_selected",C=>{console.log(" Proposal selected notification:",C),f({type:"success",title:"Your Proposal Selected!",message:C.message,data:C,timestamp:new Date})}),N.on("proposal_rejected",C=>{console.log(" Proposal rejected notification:",C),f({type:"warning",title:"Proposal Update",message:C.message,data:C,timestamp:new Date})}),N.on("vote_cast",C=>{console.log(" Vote cast notification:",C),f({type:"info",title:"New Vote Cast",message:C.message,data:C,timestamp:new Date})}),N.on("voting_closed",C=>{console.log(" Voting closed notification:",C),f({type:"info",title:"Voting Closed",message:C.message,data:C,timestamp:new Date})}),N.on("new_proposal",C=>{console.log(" New proposal notification:",C),f({type:"info",title:"New Proposal",message:C.message,data:C,timestamp:new Date})}),N.on("project_update",C=>{console.log(" Project update notification:",C),f({type:"info",title:"Project Update",message:C.message,data:C,timestamp:new Date})}),N.on("new_query",C=>{console.log(" New query notification:",C),f({type:"info",title:"New Query",message:C.message,data:C,timestamp:new Date})}),N.on("query_response",C=>{console.log(" Query response notification:",C),f({type:"success",title:"Query Response",message:C.message,data:C,timestamp:new Date})}),m.current=N,()=>{N.close(),t(null),n(!1)}},[c,d]);const f=N=>{l(C=>[{...N,id:N.id||Math.random().toString(36).substr(2,9),read:!1},...C].slice(0,50))},y=N=>{l(C=>C.filter(E=>E.id!==N))},g=N=>{l(C=>C.map(E=>E.id===N?{...E,read:!0}:E))},x=()=>{l(N=>N.map(C=>({...C,read:!0})))},v=()=>{l([])},b=N=>{r&&s&&r.emit("join_project",N)},w=N=>{r&&s&&r.emit("leave_project",N)};return{socket:r,connected:s,notifications:i,unreadCount:i.filter(N=>!N.read).length,addNotification:f,removeNotification:y,markNotificationAsRead:g,markAllAsRead:x,clearAllNotifications:v,joinProject:b,leaveProject:w}};function Vt(r){const t=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&t==="[object Date]"?new r.constructor(+r):typeof r=="number"||t==="[object Number]"||typeof r=="string"||t==="[object String]"?new Date(r):new Date(NaN)}function Ha(r,t){return r instanceof Date?new r.constructor(t):new Date(t)}const E1=6048e5,ZM=864e5,ru=43200,pb=1440;let eI={};function _c(){return eI}function uc(r,t){var d,m,f,y;const s=_c(),n=(t==null?void 0:t.weekStartsOn)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,i=Vt(r),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Pu(r){return uc(r,{weekStartsOn:1})}function R1(r){const t=Vt(r),s=t.getFullYear(),n=Ha(r,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const i=Pu(n),l=Ha(r,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const c=Pu(l);return t.getTime()>=i.getTime()?s+1:t.getTime()>=c.getTime()?s:s-1}function gb(r){const t=Vt(r);return t.setHours(0,0,0,0),t}function _u(r){const t=Vt(r),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+r-+s}function tI(r,t){const s=gb(r),n=gb(t),i=+s-_u(s),l=+n-_u(n);return Math.round((i-l)/ZM)}function rI(r){const t=R1(r),s=Ha(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Pu(s)}function hu(r,t){const s=Vt(r),n=Vt(t),i=s.getTime()-n.getTime();return i<0?-1:i>0?1:i}function sI(r){return Ha(r,Date.now())}function nI(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function aI(r){if(!nI(r)&&typeof r!="number")return!1;const t=Vt(r);return!isNaN(Number(t))}function oI(r,t){const s=Vt(r),n=Vt(t),i=s.getFullYear()-n.getFullYear(),l=s.getMonth()-n.getMonth();return i*12+l}function iI(r){return t=>{const n=(r?Math[r]:Math.trunc)(t);return n===0?0:n}}function lI(r,t){return+Vt(r)-+Vt(t)}function cI(r){const t=Vt(r);return t.setHours(23,59,59,999),t}function dI(r){const t=Vt(r),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function uI(r){const t=Vt(r);return+cI(t)==+dI(t)}function mI(r,t){const s=Vt(r),n=Vt(t),i=hu(s,n),l=Math.abs(oI(s,n));let c;if(l<1)c=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*l);let d=hu(s,n)===-i;uI(Vt(r))&&l===1&&hu(r,n)===1&&(d=!1),c=i*(l-Number(d))}return c===0?0:c}function hI(r,t,s){const n=lI(r,t)/1e3;return iI(s==null?void 0:s.roundingMethod)(n)}function fI(r){const t=Vt(r),s=Ha(r,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const pI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gI=(r,t,s)=>{let n;const i=pI[r];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Vf(r){return(t={})=>{const s=t.width?String(t.width):r.defaultWidth;return r.formats[s]||r.formats[r.defaultWidth]}}const xI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bI={date:Vf({formats:xI,defaultWidth:"full"}),time:Vf({formats:vI,defaultWidth:"full"}),dateTime:Vf({formats:yI,defaultWidth:"full"})},jI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wI=(r,t,s,n)=>jI[r];function Ol(r){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,d=s!=null&&s.width?String(s.width):c;i=r.formattingValues[d]||r.formattingValues[c]}else{const c=r.defaultWidth,d=s!=null&&s.width?String(s.width):r.defaultWidth;i=r.values[d]||r.values[c]}const l=r.argumentCallback?r.argumentCallback(t):t;return i[l]}}const NI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_I={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EI=(r,t)=>{const s=Number(r),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},RI={ordinalNumber:EI,era:Ol({values:NI,defaultWidth:"wide"}),quarter:Ol({values:SI,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ol({values:kI,defaultWidth:"wide"}),day:Ol({values:CI,defaultWidth:"wide"}),dayPeriod:Ol({values:PI,defaultWidth:"wide",formattingValues:_I,defaultFormattingWidth:"wide"})};function Fl(r){return(t,s={})=>{const n=s.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],l=t.match(i);if(!l)return null;const c=l[0],d=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(d)?DI(d,g=>g.test(c)):TI(d,g=>g.test(c));let f;f=r.valueCallback?r.valueCallback(m):m,f=s.valueCallback?s.valueCallback(f):f;const y=t.slice(c.length);return{value:f,rest:y}}}function TI(r,t){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&t(r[s]))return s}function DI(r,t){for(let s=0;s<r.length;s++)if(t(r[s]))return s}function AI(r){return(t,s={})=>{const n=t.match(r.matchPattern);if(!n)return null;const i=n[0],l=t.match(r.parsePattern);if(!l)return null;let c=r.valueCallback?r.valueCallback(l[0]):l[0];c=s.valueCallback?s.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}const MI=/^(\d+)(th|st|nd|rd)?/i,II=/\d+/i,OI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FI={any:[/^b/i,/^(a|c)/i]},LI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$I={any:[/1/i,/2/i,/3/i,/4/i]},VI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HI={ordinalNumber:AI({matchPattern:MI,parsePattern:II,valueCallback:r=>parseInt(r,10)}),era:Fl({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:FI,defaultParseWidth:"any"}),quarter:Fl({matchPatterns:LI,defaultMatchWidth:"wide",parsePatterns:$I,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Fl({matchPatterns:VI,defaultMatchWidth:"wide",parsePatterns:UI,defaultParseWidth:"any"}),day:Fl({matchPatterns:BI,defaultMatchWidth:"wide",parsePatterns:zI,defaultParseWidth:"any"}),dayPeriod:Fl({matchPatterns:qI,defaultMatchWidth:"any",parsePatterns:WI,defaultParseWidth:"any"})},T1={code:"en-US",formatDistance:gI,formatLong:bI,formatRelative:wI,localize:RI,match:HI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YI(r){const t=Vt(r);return tI(t,fI(t))+1}function KI(r){const t=Vt(r),s=+Pu(t)-+rI(t);return Math.round(s/E1)+1}function D1(r,t){var y,g,x,v;const s=Vt(r),n=s.getFullYear(),i=_c(),l=(t==null?void 0:t.firstWeekContainsDate)??((g=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(x=i.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,c=Ha(r,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const d=uc(c,t),m=Ha(r,0);m.setFullYear(n,0,l),m.setHours(0,0,0,0);const f=uc(m,t);return s.getTime()>=d.getTime()?n+1:s.getTime()>=f.getTime()?n:n-1}function GI(r,t){var d,m,f,y;const s=_c(),n=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,i=D1(r,t),l=Ha(r,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),uc(l,t)}function QI(r,t){const s=Vt(r),n=+uc(s,t)-+GI(s,t);return Math.round(n/E1)+1}function Dt(r,t){const s=r<0?"-":"",n=Math.abs(r).toString().padStart(t,"0");return s+n}const Na={y(r,t){const s=r.getFullYear(),n=s>0?s:1-s;return Dt(t==="yy"?n%100:n,t.length)},M(r,t){const s=r.getMonth();return t==="M"?String(s+1):Dt(s+1,2)},d(r,t){return Dt(r.getDate(),t.length)},a(r,t){const s=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(r,t){return Dt(r.getHours()%12||12,t.length)},H(r,t){return Dt(r.getHours(),t.length)},m(r,t){return Dt(r.getMinutes(),t.length)},s(r,t){return Dt(r.getSeconds(),t.length)},S(r,t){const s=t.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return Dt(i,t.length)}},di={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xb={G:function(r,t,s){const n=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(r,t,s){if(t==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Na.y(r,t)},Y:function(r,t,s,n){const i=D1(r,n),l=i>0?i:1-i;if(t==="YY"){const c=l%100;return Dt(c,2)}return t==="Yo"?s.ordinalNumber(l,{unit:"year"}):Dt(l,t.length)},R:function(r,t){const s=R1(r);return Dt(s,t.length)},u:function(r,t){const s=r.getFullYear();return Dt(s,t.length)},Q:function(r,t,s){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Dt(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,s){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Dt(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,s){const n=r.getMonth();switch(t){case"M":case"MM":return Na.M(r,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,s){const n=r.getMonth();switch(t){case"L":return String(n+1);case"LL":return Dt(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,s,n){const i=QI(r,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):Dt(i,t.length)},I:function(r,t,s){const n=KI(r);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):Dt(n,t.length)},d:function(r,t,s){return t==="do"?s.ordinalNumber(r.getDate(),{unit:"date"}):Na.d(r,t)},D:function(r,t,s){const n=YI(r);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):Dt(n,t.length)},E:function(r,t,s){const n=r.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,s,n){const i=r.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Dt(l,2);case"eo":return s.ordinalNumber(l,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(r,t,s,n){const i=r.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Dt(l,t.length);case"co":return s.ordinalNumber(l,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(r,t,s){const n=r.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Dt(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,s){const i=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,t,s){const n=r.getHours();let i;switch(n===12?i=di.noon:n===0?i=di.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,t,s){const n=r.getHours();let i;switch(n>=17?i=di.evening:n>=12?i=di.afternoon:n>=4?i=di.morning:i=di.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,t,s){if(t==="ho"){let n=r.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Na.h(r,t)},H:function(r,t,s){return t==="Ho"?s.ordinalNumber(r.getHours(),{unit:"hour"}):Na.H(r,t)},K:function(r,t,s){const n=r.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},k:function(r,t,s){let n=r.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},m:function(r,t,s){return t==="mo"?s.ordinalNumber(r.getMinutes(),{unit:"minute"}):Na.m(r,t)},s:function(r,t,s){return t==="so"?s.ordinalNumber(r.getSeconds(),{unit:"second"}):Na.s(r,t)},S:function(r,t){return Na.S(r,t)},X:function(r,t,s){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return yb(n);case"XXXX":case"XX":return xo(n);case"XXXXX":case"XXX":default:return xo(n,":")}},x:function(r,t,s){const n=r.getTimezoneOffset();switch(t){case"x":return yb(n);case"xxxx":case"xx":return xo(n);case"xxxxx":case"xxx":default:return xo(n,":")}},O:function(r,t,s){const n=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vb(n,":");case"OOOO":default:return"GMT"+xo(n,":")}},z:function(r,t,s){const n=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vb(n,":");case"zzzz":default:return"GMT"+xo(n,":")}},t:function(r,t,s){const n=Math.trunc(r.getTime()/1e3);return Dt(n,t.length)},T:function(r,t,s){const n=r.getTime();return Dt(n,t.length)}};function vb(r,t=""){const s=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),l=n%60;return l===0?s+String(i):s+String(i)+t+Dt(l,2)}function yb(r,t){return r%60===0?(r>0?"-":"+")+Dt(Math.abs(r)/60,2):xo(r,t)}function xo(r,t=""){const s=r>0?"-":"+",n=Math.abs(r),i=Dt(Math.trunc(n/60),2),l=Dt(n%60,2);return s+i+t+l}const bb=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},A1=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},XI=(r,t)=>{const s=r.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return bb(r,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",bb(n,t)).replace("{{time}}",A1(i,t))},JI={p:A1,P:XI},ZI=/^D+$/,e6=/^Y+$/,t6=["D","DD","YY","YYYY"];function r6(r){return ZI.test(r)}function s6(r){return e6.test(r)}function n6(r,t,s){const n=a6(r,t,s);if(console.warn(n),t6.includes(r))throw new RangeError(n)}function a6(r,t,s){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l6=/^'([^]*?)'?$/,c6=/''/g,d6=/[a-zA-Z]/;function jb(r,t,s){var y,g,x,v;const n=_c(),i=n.locale??T1,l=n.firstWeekContainsDate??((g=(y=n.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,c=n.weekStartsOn??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,d=Vt(r);if(!aI(d))throw new RangeError("Invalid time value");let m=t.match(i6).map(b=>{const w=b[0];if(w==="p"||w==="P"){const N=JI[w];return N(b,i.formatLong)}return b}).join("").match(o6).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:u6(b)};if(xb[w])return{isToken:!0,value:b};if(w.match(d6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(m=i.localize.preprocessor(d,m));const f={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return m.map(b=>{if(!b.isToken)return b.value;const w=b.value;(s6(w)||r6(w))&&n6(w,t,String(r));const N=xb[w[0]];return N(d,w,i.localize,f)}).join("")}function u6(r){const t=r.match(l6);return t?t[1].replace(c6,"'"):r}function m6(r,t,s){const n=_c(),i=(s==null?void 0:s.locale)??n.locale??T1,l=2520,c=hu(r,t);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:c});let m,f;c>0?(m=Vt(t),f=Vt(r)):(m=Vt(r),f=Vt(t));const y=hI(f,m),g=(_u(f)-_u(m))/1e3,x=Math.round((y-g)/60);let v;if(x<2)return s!=null&&s.includeSeconds?y<5?i.formatDistance("lessThanXSeconds",5,d):y<10?i.formatDistance("lessThanXSeconds",10,d):y<20?i.formatDistance("lessThanXSeconds",20,d):y<40?i.formatDistance("halfAMinute",0,d):y<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):x===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",x,d);if(x<45)return i.formatDistance("xMinutes",x,d);if(x<90)return i.formatDistance("aboutXHours",1,d);if(x<pb){const b=Math.round(x/60);return i.formatDistance("aboutXHours",b,d)}else{if(x<l)return i.formatDistance("xDays",1,d);if(x<ru){const b=Math.round(x/pb);return i.formatDistance("xDays",b,d)}else if(x<ru*2)return v=Math.round(x/ru),i.formatDistance("aboutXMonths",v,d)}if(v=mI(f,m),v<12){const b=Math.round(x/ru);return i.formatDistance("xMonths",b,d)}else{const b=v%12,w=Math.trunc(v/12);return b<3?i.formatDistance("aboutXYears",w,d):b<9?i.formatDistance("overXYears",w,d):i.formatDistance("almostXYears",w+1,d)}}function h6(r,t){return m6(r,sI(r),t)}const f6=()=>{const[r,t]=h.useState(!1),[s,n]=h.useState([]),[i,l]=h.useState(!1),{user:c}=Ft(),{toast:d}=it(),{notifications:m,unreadCount:f,removeNotification:y,markNotificationAsRead:g,markAllAsRead:x,clearAllNotifications:v}=_1(),b=[...m,...s];h.useEffect(()=>{c&&w()},[c]);const w=async()=>{try{l(!0);const M=await re.getNotifications({limit:10});M.data&&n(M.data.notifications||[])}catch(M){console.error("Error fetching notifications:",M)}finally{l(!1)}},N=async M=>{try{await re.markNotificationAsRead(M),n(V=>V.map(k=>k._id===M?{...k,isRead:!0}:k))}catch(V){console.error("Error marking notification as read:",V)}},C=async()=>{try{if(s.filter(V=>!V.isRead).length===0)return;await re.markNotificationsAsRead(),n(V=>V.map(k=>({...k,isRead:!0}))),d({title:"Success",description:"All notifications marked as read"})}catch(M){console.error("Error marking all notifications as read:",M),d({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},E=async()=>{try{await re.clearAllNotifications(),n([]),d({title:"Success",description:"All notifications cleared"})}catch(M){console.error("Error clearing notifications:",M),d({title:"Error",description:"Failed to clear notifications",variant:"destructive"})}},P=M=>{M._id?M.isRead||N(M._id):M.read||g(M.id)},O=M=>{switch(M){case"success":return e.jsx(yc,{className:"h-4 w-4 text-green-600"});case"warning":return e.jsx(Yj,{className:"h-4 w-4 text-yellow-600"});case"error":return e.jsx(Rt,{className:"h-4 w-4 text-red-600"});default:return e.jsx(Ma,{className:"h-4 w-4 text-blue-600"})}},q=M=>{switch(M){case"success":return"border-l-green-500 bg-green-50";case"warning":return"border-l-yellow-500 bg-yellow-50";case"error":return"border-l-red-500 bg-red-50";default:return"border-l-blue-500 bg-blue-50"}};if(!c)return null;const A=[...b].sort((M,V)=>{const k=M.timestamp||M.createdAt,R=V.timestamp||V.createdAt;return new Date(R).getTime()-new Date(k).getTime()});return e.jsxs("div",{className:"relative",children:[e.jsxs(H,{variant:"ghost",size:"sm",className:"relative",onClick:()=>t(!r),children:[e.jsx(Ma,{className:"h-5 w-5"}),f>0&&e.jsx(ge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:f>99?"99+":f})]}),r&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border z-50",children:e.jsxs(G,{className:"border-0 shadow-none",children:[e.jsx(ye,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(be,{className:"text-sm font-medium",children:"Notifications"}),e.jsx("div",{className:"flex gap-1",children:b.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:async()=>{x(),await C()},className:"h-7 px-2 text-xs",disabled:f===0&&s.filter(M=>!M.isRead).length===0,children:[e.jsx(iR,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),e.jsxs(H,{variant:"ghost",size:"sm",onClick:async()=>{v(),await E()},className:"h-7 px-2 text-xs text-red-600 hover:text-red-700",children:[e.jsx(Js,{className:"h-3 w-3 mr-1"}),"Clear all"]})]})})]})}),e.jsx(X,{className:"p-0",children:e.jsx(Ag,{className:"h-80",children:i?e.jsx("div",{className:"p-4 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"})}):b.length===0?e.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[e.jsx(Ma,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):e.jsx("div",{className:"space-y-1",children:A.map(M=>{const V=M.read!==void 0?M.read:M.isRead,k=M.id||M._id;return e.jsx("div",{className:`p-3 border-l-4 cursor-pointer hover:bg-gray-50 transition-colors ${q(M.type)} ${V?"bg-opacity-50":"bg-opacity-100"}`,onClick:()=>P(M),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:O(M.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:M.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h6(new Date(M.timestamp||M.createdAt),{addSuffix:!0})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!V&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),M._id?(N(M._id),n(B=>B.filter(_=>_._id!==M._id))):y(M.id)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Rt,{className:"h-3 w-3"})})]})]})})]})},k)})})})})]})})]})},_s=()=>{var x;const{user:r,signOut:t}=Ft(),{profile:s}=Qa(),n=hr(),i=Sn(),{toast:l}=it(),c=async()=>{try{localStorage.removeItem("selectedRole");const{error:v}=await t();v?l({title:"Error",description:"Failed to sign out",variant:"destructive"}):(n("/"),l({title:"Signed out",description:"You have been successfully signed out"}))}catch{l({title:"Error",description:"Something went wrong",variant:"destructive"})}},d=()=>{if(r){const v=m();console.log("[Header] Navigating to dashboard:",v,"for user role:",(r==null?void 0:r.role)||(s==null?void 0:s.role)),n(v)}else n("/auth")},m=()=>{if(!r)return"/";switch((r==null?void 0:r.role)||(s==null?void 0:s.role)){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/dashboard"}},f=i.pathname.includes("/dashboard"),[y,g]=h.useState(!1);return e.jsxs("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-md supports-backdrop-blur:bg-background/80 border-b border-border shadow-soft",children:[e.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-2 sm:py-3 lg:py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.jsx("button",{className:"inline-flex items-center justify-center rounded-md p-1.5 sm:p-2 text-foreground hover:text-estate-blue hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring lg:hidden transition-colors","aria-label":"Toggle navigation menu",onClick:()=>g(v=>!v),children:y?e.jsx(Rt,{className:"h-5 w-5 sm:h-6 sm:w-6"}):e.jsx(fR,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsxs(He,{to:"/",className:"shrink-0 text-lg sm:text-xl lg:text-2xl font-bold text-estate-blue mr-4 sm:mr-6 lg:mr-8",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsxs("nav",{className:"hidden lg:flex items-center justify-center flex-1 gap-4 xl:gap-6 overflow-x-auto whitespace-nowrap [scrollbar-width:none] [-ms-overflow-style:none]",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx(He,{to:"/",className:"text-foreground hover:text-estate-blue transition-colors font-medium text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Home"}),e.jsx(He,{to:"/projects",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Projects"}),e.jsx(He,{to:"/properties",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Properties"}),e.jsx(He,{to:"/post-property",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Post Your Property"}),e.jsx(He,{to:"/about",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"About Us"}),e.jsx(He,{to:"/contact",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Contact Us"})]})]}),e.jsx("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:r?e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(f6,{}),e.jsxs(JN,{children:[e.jsx(ZN,{asChild:!0,children:e.jsxs(H,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[e.jsx(ir,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"max-w-[80px] sm:max-w-[120px] lg:max-w-[160px] truncate inline-block align-middle",children:(s==null?void 0:s.fullName)||((x=r==null?void 0:r.email)==null?void 0:x.split("@")[0])||"User"})]})}),e.jsxs(_g,{align:"end",className:"w-56",children:[e.jsx(bi,{asChild:!0,children:e.jsxs(He,{to:"/profile",className:"flex items-center",children:[e.jsx(Di,{className:"h-4 w-4 mr-2"}),"Profile Settings"]})}),!f&&e.jsxs(bi,{onClick:d,className:"flex items-center",children:[e.jsx(mR,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),e.jsx(e1,{}),e.jsxs(bi,{onClick:c,className:"flex items-center text-destructive",children:[e.jsx(Gj,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]}):e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(He,{to:"/auth",children:e.jsxs(H,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[e.jsx(ir,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})}),e.jsx(He,{to:"/auth?mode=register",children:e.jsxs(H,{size:"sm",className:"bg-estate-blue hover:bg-estate-blue-light text-xs sm:text-sm px-2 sm:px-3",children:[e.jsx(hR,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Register"})]})})]})})]})}),y&&e.jsx("div",{className:"lg:hidden border-t border-border bg-background/95 backdrop-blur-md",children:e.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-3",children:e.jsxs("nav",{className:"flex flex-col gap-1",children:[e.jsx(He,{to:"/",onClick:()=>g(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Home"}),e.jsx(He,{to:"/projects",onClick:()=>g(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Projects"}),e.jsx(He,{to:"/properties",onClick:()=>g(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Properties"}),e.jsx(He,{to:"/post-property",onClick:()=>g(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Post Your Property"}),e.jsx(He,{to:"/about",onClick:()=>g(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"About Us"}),e.jsx(He,{to:"/contact",onClick:()=>g(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Contact Us"}),e.jsx("div",{className:"mt-3 border-t border-border pt-3",children:r?e.jsxs(e.Fragment,{children:[e.jsx(He,{to:"/profile",onClick:()=>g(!1),className:"block px-3 py-2.5 rounded-md text-foreground hover:bg-secondary transition-colors font-medium",children:"Profile Settings"}),!f&&e.jsx("button",{onClick:()=>{g(!1),d()},className:"mt-1 w-full text-left px-3 py-2.5 rounded-md text-foreground hover:bg-secondary transition-colors font-medium",children:"Dashboard"}),e.jsx("button",{onClick:()=>{g(!1),c()},className:"mt-1 w-full text-left px-3 py-2.5 rounded-md text-destructive hover:bg-secondary transition-colors font-medium",children:"Sign Out"})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(He,{to:"/auth",onClick:()=>g(!1),children:e.jsx(H,{variant:"outline",className:"w-full",children:"Sign In"})}),e.jsx(He,{to:"/auth?mode=register",onClick:()=>g(!1),children:e.jsx(H,{className:"w-full bg-estate-blue hover:bg-estate-blue-light",children:"Register"})})]})})]})})})]})};function $g(r){const t=h.useRef({value:r,previous:r});return h.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}var p6=[" ","Enter","ArrowUp","ArrowDown"],g6=[" ","Enter"],_o="Select",[um,mm,x6]=zi(_o),[Qi]=jr(_o,[x6,Ga]),hm=Ga(),[v6,Xa]=Qi(_o),[y6,b6]=Qi(_o),M1=r=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:i,onOpenChange:l,value:c,defaultValue:d,onValueChange:m,dir:f,name:y,autoComplete:g,disabled:x,required:v,form:b}=r,w=hm(t),[N,C]=h.useState(null),[E,P]=h.useState(null),[O,q]=h.useState(!1),A=Mo(f),[M,V]=xs({prop:n,defaultProp:i??!1,onChange:l,caller:_o}),[k,R]=xs({prop:c,defaultProp:d,onChange:m,caller:_o}),B=h.useRef(null),_=N?b||!!N.closest("form"):!0,[$,T]=h.useState(new Set),Q=Array.from($).map(Y=>Y.props.value).join(";");return e.jsx(yg,{...w,children:e.jsxs(v6,{required:v,scope:t,trigger:N,onTriggerChange:C,valueNode:E,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:q,contentId:br(),value:k,onValueChange:R,open:M,onOpenChange:V,dir:A,triggerPointerDownPosRef:B,disabled:x,children:[e.jsx(um.Provider,{scope:t,children:e.jsx(y6,{scope:r.__scopeSelect,onNativeOptionAdd:h.useCallback(Y=>{T(F=>new Set(F).add(Y))},[]),onNativeOptionRemove:h.useCallback(Y=>{T(F=>{const I=new Set(F);return I.delete(Y),I})},[]),children:s})}),_?e.jsxs(n2,{"aria-hidden":!0,required:v,tabIndex:-1,name:y,autoComplete:g,value:k,onChange:Y=>R(Y.target.value),disabled:x,form:b,children:[k===void 0?e.jsx("option",{value:""}):null,Array.from($)]},Q):null]})})};M1.displayName=_o;var I1="SelectTrigger",O1=h.forwardRef((r,t)=>{const{__scopeSelect:s,disabled:n=!1,...i}=r,l=hm(s),c=Xa(I1,s),d=c.disabled||n,m=rt(t,c.onTriggerChange),f=mm(s),y=h.useRef("touch"),[g,x,v]=o2(w=>{const N=f().filter(P=>!P.disabled),C=N.find(P=>P.value===c.value),E=i2(N,w,C);E!==void 0&&c.onValueChange(E.value)}),b=w=>{d||(c.onOpenChange(!0),v()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return e.jsx(wc,{asChild:!0,...l,children:e.jsx(Me.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":a2(c.value)?"":void 0,...i,ref:m,onClick:Ce(i.onClick,w=>{w.currentTarget.focus(),y.current!=="mouse"&&b(w)}),onPointerDown:Ce(i.onPointerDown,w=>{y.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Ce(i.onKeyDown,w=>{const N=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(N&&w.key===" ")&&p6.includes(w.key)&&(b(),w.preventDefault())})})})});O1.displayName=I1;var F1="SelectValue",L1=h.forwardRef((r,t)=>{const{__scopeSelect:s,className:n,style:i,children:l,placeholder:c="",...d}=r,m=Xa(F1,s),{onValueNodeHasChildrenChange:f}=m,y=l!==void 0,g=rt(t,m.onValueNodeChange);return lr(()=>{f(y)},[f,y]),e.jsx(Me.span,{...d,ref:g,style:{pointerEvents:"none"},children:a2(m.value)?e.jsx(e.Fragment,{children:c}):l})});L1.displayName=F1;var j6="SelectIcon",$1=h.forwardRef((r,t)=>{const{__scopeSelect:s,children:n,...i}=r;return e.jsx(Me.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});$1.displayName=j6;var w6="SelectPortal",V1=r=>e.jsx(qi,{asChild:!0,...r});V1.displayName=w6;var Eo="SelectContent",U1=h.forwardRef((r,t)=>{const s=Xa(Eo,r.__scopeSelect),[n,i]=h.useState();if(lr(()=>{i(new DocumentFragment)},[]),!s.open){const l=n;return l?Vi.createPortal(e.jsx(B1,{scope:r.__scopeSelect,children:e.jsx(um.Slot,{scope:r.__scopeSelect,children:e.jsx("div",{children:r.children})})}),l):null}return e.jsx(z1,{...r,ref:t})});U1.displayName=Eo;var Bs=10,[B1,Ja]=Qi(Eo),N6="SelectContentImpl",S6=Ua("SelectContent.RemoveScroll"),z1=h.forwardRef((r,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:m,align:f,alignOffset:y,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:b,hideWhenDetached:w,avoidCollisions:N,...C}=r,E=Xa(Eo,s),[P,O]=h.useState(null),[q,A]=h.useState(null),M=rt(t,oe=>O(oe)),[V,k]=h.useState(null),[R,B]=h.useState(null),_=mm(s),[$,T]=h.useState(!1),Q=h.useRef(!1);h.useEffect(()=>{if(P)return rm(P)},[P]),em();const Y=h.useCallback(oe=>{const[de,...le]=_().map(we=>we.ref.current),[he]=le.slice(-1),fe=document.activeElement;for(const we of oe)if(we===fe||(we==null||we.scrollIntoView({block:"nearest"}),we===de&&q&&(q.scrollTop=0),we===he&&q&&(q.scrollTop=q.scrollHeight),we==null||we.focus(),document.activeElement!==fe))return},[_,q]),F=h.useCallback(()=>Y([V,P]),[Y,V,P]);h.useEffect(()=>{$&&F()},[$,F]);const{onOpenChange:I,triggerPointerDownPosRef:D}=E;h.useEffect(()=>{if(P){let oe={x:0,y:0};const de=he=>{var fe,we;oe={x:Math.abs(Math.round(he.pageX)-(((fe=D.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((we=D.current)==null?void 0:we.y)??0))}},le=he=>{oe.x<=10&&oe.y<=10?he.preventDefault():P.contains(he.target)||I(!1),document.removeEventListener("pointermove",de),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",le,{capture:!0})}}},[P,I,D]),h.useEffect(()=>{const oe=()=>I(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[I]);const[W,U]=o2(oe=>{const de=_().filter(fe=>!fe.disabled),le=de.find(fe=>fe.ref.current===document.activeElement),he=i2(de,oe,le);he&&setTimeout(()=>he.ref.current.focus())}),z=h.useCallback((oe,de,le)=>{const he=!Q.current&&!le;(E.value!==void 0&&E.value===de||he)&&(k(oe),he&&(Q.current=!0))},[E.value]),J=h.useCallback(()=>P==null?void 0:P.focus(),[P]),se=h.useCallback((oe,de,le)=>{const he=!Q.current&&!le;(E.value!==void 0&&E.value===de||he)&&B(oe)},[E.value]),ue=n==="popper"?Fp:q1,xe=ue===Fp?{side:d,sideOffset:m,align:f,alignOffset:y,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:b,hideWhenDetached:w,avoidCollisions:N}:{};return e.jsx(B1,{scope:s,content:P,viewport:q,onViewportChange:A,itemRefCallback:z,selectedItem:V,onItemLeave:J,itemTextRefCallback:se,focusSelectedItem:F,selectedItemText:R,position:n,isPositioned:$,searchRef:W,children:e.jsx(kc,{as:S6,allowPinchZoom:!0,children:e.jsx(Nc,{asChild:!0,trapped:E.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ce(i,oe=>{var de;(de=E.trigger)==null||de.focus({preventScroll:!0}),oe.preventDefault()}),children:e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:oe=>oe.preventDefault(),...C,...xe,onPlaced:()=>T(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ce(C.onKeyDown,oe=>{const de=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!de&&oe.key.length===1&&U(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let he=_().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const fe=oe.target,we=he.indexOf(fe);he=he.slice(we+1)}setTimeout(()=>Y(he)),oe.preventDefault()}})})})})})})});z1.displayName=N6;var k6="SelectItemAlignedPosition",q1=h.forwardRef((r,t)=>{const{__scopeSelect:s,onPlaced:n,...i}=r,l=Xa(Eo,s),c=Ja(Eo,s),[d,m]=h.useState(null),[f,y]=h.useState(null),g=rt(t,M=>y(M)),x=mm(s),v=h.useRef(!1),b=h.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:C,focusSelectedItem:E}=c,P=h.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&f&&w&&N&&C){const M=l.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),R=C.getBoundingClientRect();if(l.dir!=="rtl"){const fe=R.left-V.left,we=k.left-fe,Oe=M.left-we,Te=M.width+Oe,gt=Math.max(Te,V.width),Lt=window.innerWidth-Bs,Qt=dc(we,[Bs,Math.max(Bs,Lt-gt)]);d.style.minWidth=Te+"px",d.style.left=Qt+"px"}else{const fe=V.right-R.right,we=window.innerWidth-k.right-fe,Oe=window.innerWidth-M.right-we,Te=M.width+Oe,gt=Math.max(Te,V.width),Lt=window.innerWidth-Bs,Qt=dc(we,[Bs,Math.max(Bs,Lt-gt)]);d.style.minWidth=Te+"px",d.style.right=Qt+"px"}const B=x(),_=window.innerHeight-Bs*2,$=w.scrollHeight,T=window.getComputedStyle(f),Q=parseInt(T.borderTopWidth,10),Y=parseInt(T.paddingTop,10),F=parseInt(T.borderBottomWidth,10),I=parseInt(T.paddingBottom,10),D=Q+Y+$+I+F,W=Math.min(N.offsetHeight*5,D),U=window.getComputedStyle(w),z=parseInt(U.paddingTop,10),J=parseInt(U.paddingBottom,10),se=M.top+M.height/2-Bs,ue=_-se,xe=N.offsetHeight/2,oe=N.offsetTop+xe,de=Q+Y+oe,le=D-de;if(de<=se){const fe=B.length>0&&N===B[B.length-1].ref.current;d.style.bottom="0px";const we=f.clientHeight-w.offsetTop-w.offsetHeight,Oe=Math.max(ue,xe+(fe?J:0)+we+F),Te=de+Oe;d.style.height=Te+"px"}else{const fe=B.length>0&&N===B[0].ref.current;d.style.top="0px";const Oe=Math.max(se,Q+w.offsetTop+(fe?z:0)+xe)+le;d.style.height=Oe+"px",w.scrollTop=de-se+w.offsetTop}d.style.margin=`${Bs}px 0`,d.style.minHeight=W+"px",d.style.maxHeight=_+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[x,l.trigger,l.valueNode,d,f,w,N,C,l.dir,n]);lr(()=>P(),[P]);const[O,q]=h.useState();lr(()=>{f&&q(window.getComputedStyle(f).zIndex)},[f]);const A=h.useCallback(M=>{M&&b.current===!0&&(P(),E==null||E(),b.current=!1)},[P,E]);return e.jsx(P6,{scope:s,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:e.jsx(Me.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});q1.displayName=k6;var C6="SelectPopperPosition",Fp=h.forwardRef((r,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:i=Bs,...l}=r,c=hm(s);return e.jsx(Qu,{...c,...l,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fp.displayName=C6;var[P6,Vg]=Qi(Eo,{}),Lp="SelectViewport",W1=h.forwardRef((r,t)=>{const{__scopeSelect:s,nonce:n,...i}=r,l=Ja(Lp,s),c=Vg(Lp,s),d=rt(t,l.onViewportChange),m=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(um.Slot,{scope:s,children:e.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,f=>{const y=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&g){const v=Math.abs(m.current-y.scrollTop);if(v>0){const b=window.innerHeight-Bs*2,w=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),C=Math.max(w,N);if(C<b){const E=C+v,P=Math.min(b,E),O=E-P;g.style.height=P+"px",g.style.bottom==="0px"&&(y.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});W1.displayName=Lp;var H1="SelectGroup",[_6,E6]=Qi(H1),R6=h.forwardRef((r,t)=>{const{__scopeSelect:s,...n}=r,i=br();return e.jsx(_6,{scope:s,id:i,children:e.jsx(Me.div,{role:"group","aria-labelledby":i,...n,ref:t})})});R6.displayName=H1;var Y1="SelectLabel",K1=h.forwardRef((r,t)=>{const{__scopeSelect:s,...n}=r,i=E6(Y1,s);return e.jsx(Me.div,{id:i.id,...n,ref:t})});K1.displayName=Y1;var Eu="SelectItem",[T6,G1]=Qi(Eu),Q1=h.forwardRef((r,t)=>{const{__scopeSelect:s,value:n,disabled:i=!1,textValue:l,...c}=r,d=Xa(Eu,s),m=Ja(Eu,s),f=d.value===n,[y,g]=h.useState(l??""),[x,v]=h.useState(!1),b=rt(t,E=>{var P;return(P=m.itemRefCallback)==null?void 0:P.call(m,E,n,i)}),w=br(),N=h.useRef("touch"),C=()=>{i||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(T6,{scope:s,value:n,disabled:i,textId:w,isSelected:f,onItemTextChange:h.useCallback(E=>{g(P=>P||((E==null?void 0:E.textContent)??"").trim())},[]),children:e.jsx(um.ItemSlot,{scope:s,value:n,disabled:i,textValue:y,children:e.jsx(Me.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:b,onFocus:Ce(c.onFocus,()=>v(!0)),onBlur:Ce(c.onBlur,()=>v(!1)),onClick:Ce(c.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:Ce(c.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:Ce(c.onPointerDown,E=>{N.current=E.pointerType}),onPointerMove:Ce(c.onPointerMove,E=>{var P;N.current=E.pointerType,i?(P=m.onItemLeave)==null||P.call(m):N.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(c.onPointerLeave,E=>{var P;E.currentTarget===document.activeElement&&((P=m.onItemLeave)==null||P.call(m))}),onKeyDown:Ce(c.onKeyDown,E=>{var O;((O=m.searchRef)==null?void 0:O.current)!==""&&E.key===" "||(g6.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});Q1.displayName=Eu;var zl="SelectItemText",X1=h.forwardRef((r,t)=>{const{__scopeSelect:s,className:n,style:i,...l}=r,c=Xa(zl,s),d=Ja(zl,s),m=G1(zl,s),f=b6(zl,s),[y,g]=h.useState(null),x=rt(t,C=>g(C),m.onItemTextChange,C=>{var E;return(E=d.itemTextRefCallback)==null?void 0:E.call(d,C,m.value,m.disabled)}),v=y==null?void 0:y.textContent,b=h.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:v},m.value),[m.disabled,m.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=f;return lr(()=>(w(b),()=>N(b)),[w,N,b]),e.jsxs(e.Fragment,{children:[e.jsx(Me.span,{id:m.textId,...l,ref:x}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vi.createPortal(l.children,c.valueNode):null]})});X1.displayName=zl;var J1="SelectItemIndicator",Z1=h.forwardRef((r,t)=>{const{__scopeSelect:s,...n}=r;return G1(J1,s).isSelected?e.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});Z1.displayName=J1;var $p="SelectScrollUpButton",e2=h.forwardRef((r,t)=>{const s=Ja($p,r.__scopeSelect),n=Vg($p,r.__scopeSelect),[i,l]=h.useState(!1),c=rt(t,n.onScrollButtonChange);return lr(()=>{if(s.viewport&&s.isPositioned){let d=function(){const f=m.scrollTop>0;l(f)};const m=s.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),i?e.jsx(r2,{...r,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=s;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});e2.displayName=$p;var Vp="SelectScrollDownButton",t2=h.forwardRef((r,t)=>{const s=Ja(Vp,r.__scopeSelect),n=Vg(Vp,r.__scopeSelect),[i,l]=h.useState(!1),c=rt(t,n.onScrollButtonChange);return lr(()=>{if(s.viewport&&s.isPositioned){let d=function(){const f=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<f;l(y)};const m=s.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[s.viewport,s.isPositioned]),i?e.jsx(r2,{...r,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=s;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});t2.displayName=Vp;var r2=h.forwardRef((r,t)=>{const{__scopeSelect:s,onAutoScroll:n,...i}=r,l=Ja("SelectScrollButton",s),c=h.useRef(null),d=mm(s),m=h.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return h.useEffect(()=>()=>m(),[m]),lr(()=>{var y;const f=d().find(g=>g.ref.current===document.activeElement);(y=f==null?void 0:f.ref.current)==null||y.scrollIntoView({block:"nearest"})},[d]),e.jsx(Me.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var f;(f=l.onItemLeave)==null||f.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{m()})})}),D6="SelectSeparator",s2=h.forwardRef((r,t)=>{const{__scopeSelect:s,...n}=r;return e.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});s2.displayName=D6;var Up="SelectArrow",A6=h.forwardRef((r,t)=>{const{__scopeSelect:s,...n}=r,i=hm(s),l=Xa(Up,s),c=Ja(Up,s);return l.open&&c.position==="popper"?e.jsx(Xu,{...i,...n,ref:t}):null});A6.displayName=Up;var M6="SelectBubbleInput",n2=h.forwardRef(({__scopeSelect:r,value:t,...s},n)=>{const i=h.useRef(null),l=rt(n,i),c=$g(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==t&&y){const g=new Event("change",{bubbles:!0});y.call(d,t),d.dispatchEvent(g)}},[c,t]),e.jsx(Me.select,{...s,style:{...Nj,...s.style},ref:l,defaultValue:t})});n2.displayName=M6;function a2(r){return r===""||r===void 0}function o2(r){const t=or(r),s=h.useRef(""),n=h.useRef(0),i=h.useCallback(c=>{const d=s.current+c;t(d),(function m(f){s.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>m(""),1e3))})(d)},[t]),l=h.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,i,l]}function i2(r,t,s){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,l=s?r.indexOf(s):-1;let c=I6(r,Math.max(l,0));i.length===1&&(c=c.filter(f=>f!==s));const m=c.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==s?m:void 0}function I6(r,t){return r.map((s,n)=>r[(t+n)%r.length])}var O6=M1,l2=O1,F6=L1,L6=$1,$6=V1,c2=U1,V6=W1,d2=K1,u2=Q1,U6=X1,B6=Z1,m2=e2,h2=t2,f2=s2;const Xe=O6,Je=F6,Ye=h.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(l2,{ref:n,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...s,children:[t,e.jsx(L6,{asChild:!0,children:e.jsx(Wi,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=l2.displayName;const p2=h.forwardRef(({className:r,...t},s)=>e.jsx(m2,{ref:s,className:Re("flex cursor-default items-center justify-center py-1",r),...t,children:e.jsx(lR,{className:"h-4 w-4"})}));p2.displayName=m2.displayName;const g2=h.forwardRef(({className:r,...t},s)=>e.jsx(h2,{ref:s,className:Re("flex cursor-default items-center justify-center py-1",r),...t,children:e.jsx(Wi,{className:"h-4 w-4"})}));g2.displayName=h2.displayName;const Ke=h.forwardRef(({className:r,children:t,position:s="popper",...n},i)=>e.jsx($6,{children:e.jsxs(c2,{ref:i,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...n,children:[e.jsx(p2,{}),e.jsx(V6,{className:Re("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(g2,{})]})}));Ke.displayName=c2.displayName;const z6=h.forwardRef(({className:r,...t},s)=>e.jsx(d2,{ref:s,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t}));z6.displayName=d2.displayName;const te=h.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(u2,{ref:n,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(B6,{children:e.jsx(yc,{className:"h-4 w-4"})})}),e.jsx(U6,{children:t})]}));te.displayName=u2.displayName;const q6=h.forwardRef(({className:r,...t},s)=>e.jsx(f2,{ref:s,className:Re("-mx-1 my-1 h-px bg-muted",r),...t}));q6.displayName=f2.displayName;const x2={"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Tirupati","Kadapa","Anantapur","Chittoor","Rajahmundry","Kakinada","Nizamabad","Ongole","Eluru","Machilipatnam","Proddatur","Tadepalligudem","Tenali","Chilakaluripet","Adoni"],"Arunachal Pradesh":["Itanagar","Naharlagun","Pasighat","Tezpur","Dibrugarh","Jorhat","Tinsukia","North Lakhimpur","Dhemaji","Bomdila","Ziro","Along","Roing","Tezu","Khonsa","Changlang","Namsai","Seppa","Koloriang","Yingkiong"],Assam:["Guwahati","Silchar","Dibrugarh","Jorhat","Nagaon","Tinsukia","Tezpur","Bongaigaon","Dhubri","Diphu","North Lakhimpur","Karimganj","Goalpara","Barpeta","Lanka","Lumding","Mangaldoi","Silapathar","Hailakandi","Sivasagar"],Bihar:["Patna","Gaya","Bhagalpur","Muzaffarpur","Darbhanga","Purnia","Arrah","Begusarai","Katihar","Munger","Chapra","Sasaram","Hajipur","Dehri","Bettiah","Motihari","Buxar","Kishanganj","Sitamarhi","Jamalpur"],Chhattisgarh:["Raipur","Bhilai","Bilaspur","Korba","Rajnandgaon","Durg","Raigarh","Jagdalpur","Ambikapur","Bhatapara","Chirmiri","Dhamtari","Mahasamund","Kanker","Kawardha","Janjgir","Mungeli","Sakti","Tilda","Baloda Bazar"],Goa:["Panaji","Margao","Vasco da Gama","Mapusa","Ponda","Mormugao","Sanquelim","Bicholim","Curchorem","Quepem","Sanguem","Canacona","Pernem","Tivim","Aldona","Siolim","Calangute","Candolim","Baga","Anjuna"],Gujarat:["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Jamnagar","Junagadh","Gandhinagar","Anand","Navsari","Morbi","Nadiad","Surendranagar","Bharuch","Mehsana","Bhuj","Porbandar","Palanpur","Valsad","Vapi"],Haryana:["Faridabad","Gurgaon","Panipat","Ambala","Yamunanagar","Rohtak","Hisar","Karnal","Sonipat","Panchkula","Sirsa","Bhiwani","Kaithal","Rewari","Palwal","Thanesar","Bahadurgarh","Jind","Narnaul","Fatehabad"],"Himachal Pradesh":["Shimla","Dharamshala","Solan","Mandi","Palampur","Baddi","Nahan","Una","Hamirpur","Chamba","Kullu","Manali","Kangra","Bilaspur","Sundarnagar","Parwanoo","Paonta Sahib","Nalagarh","Rampur","Theog"],Jharkhand:["Ranchi","Jamshedpur","Dhanbad","Bokaro","Deoghar","Phusro","Hazaribagh","Giridih","Ramgarh","Jhumri Telaiya","Medininagar","Chaibasa","Chatra","Gumla","Dumka","Madhupur","Chirkunda","Jagannathpur","Muri","Tenu"],Karnataka:["Bangalore","Hubli","Mysore","Gulbarga","Belgaum","Mangalore","Davangere","Bellary","Bijapur","Shimoga","Tumkur","Raichur","Bidar","Hospet","Hassan","Gadag","Udupi","Robertsonpet","Bhadravati","Chitradurga"],Kerala:["Thiruvananthapuram","Kochi","Kozhikode","Thrissur","Kollam","Palakkad","Alappuzha","Malappuram","Kannur","Kasaragod","Kottayam","Idukki","Wayanad","Pathanamthitta","Ernakulam","Kannur","Kochi","Thrissur","Kozhikode","Malappuram"],"Madhya Pradesh":["Bhopal","Indore","Gwalior","Jabalpur","Ujjain","Sagar","Dewas","Satna","Ratlam","Rewa","Murwara","Singrauli","Burhanpur","Khandwa","Morena","Bhind","Chhindwara","Guna","Shivpuri","Vidisha"],Maharashtra:["Mumbai","Pune","Nagpur","Thane","Nashik","Aurangabad","Solapur","Amravati","Kolhapur","Nanded","Sangli","Malegaon","Ulhasnagar","Latur","Dhule","Ahmednagar","Chandrapur","Parbhani","Ichalkaranji","Jalgaon"],Manipur:["Imphal","Thoubal","Bishnupur","Churachandpur","Senapati","Tamenglong","Chandel","Ukhrul","Kakching","Jiribam","Moreh","Lilong","Mayang Imphal","Wangjing","Kakching","Lamlai","Sekmai","Khongman","Konthoujam","Sagolband"],Meghalaya:["Shillong","Tura","Jowai","Nongstoin","Baghmara","Williamnagar","Nongpoh","Mairang","Mawkyrwat","Resubelpara","Ampati","Mawphlang","Mawryngkneng","Pynursla","Sohra","Mawkyrwat","Nongstoin","Baghmara","Williamnagar","Nongpoh"],Mizoram:["Aizawl","Lunglei","Saiha","Champhai","Kolasib","Serchhip","Mamit","Lawngtlai","Saitual","Hnahthial","Khawzawl","Saitual","Darlawn","Tlabung","Vairengte","Bilkhawthlir","Thingsulthliah","Reiek","Phullen","Thenzawl"],Nagaland:["Kohima","Dimapur","Mokokchung","Tuensang","Wokha","Zunheboto","Phek","Kiphire","Longleng","Peren","Mon","Noklak","Shamator","Tseminyu","Bhandari","Chumukedima","Medziphema","Niuland","Pfutsero","Tuli"],Odisha:["Bhubaneswar","Cuttack","Rourkela","Berhampur","Sambalpur","Puri","Balasore","Bhadrak","Baripada","Bargarh","Jharsuguda","Bhubaneswar","Cuttack","Rourkela","Berhampur","Sambalpur","Puri","Balasore","Bhadrak","Baripada"],Punjab:["Ludhiana","Amritsar","Jalandhar","Patiala","Bathinda","Mohali","Batala","Pathankot","Moga","Abohar","Malerkotla","Khanna","Phagwara","Muktsar","Barnala","Rajpura","Firozpur","Kapurthala","Sangrur","Fazilka"],Rajasthan:["Jaipur","Jodhpur","Udaipur","Kota","Bikaner","Ajmer","Bharatpur","Alwar","Bhilwara","Ganganagar","Sikar","Pali","Beawar","Kishangarh","Hanumangarh","Baran","Chittorgarh","Dungarpur","Jhunjhunu","Nagaur"],Sikkim:["Gangtok","Namchi","Mangan","Gyalshing","Rangpo","Singtam","Jorethang","Rhenock","Rongli","Pakyong","Ravangla","Lachen","Lachung","Yuksom","Pelling","Tashiding","Rumtek","Temi","Chungthang","Dikchu"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Erode","Vellore","Thoothukkudi","Dindigul","Thanjavur","Ranipet","Sivakasi","Karur","Udhagamandalam","Hosur","Nagercoil","Kanchipuram","Cuddalore"],Telangana:["Hyderabad","Warangal","Nizamabad","Khammam","Karimnagar","Ramagundam","Mahbubnagar","Nalgonda","Adilabad","Suryapet","Miryalaguda","Tadepalligudem","Kothagudem","Mancherial","Bodhan","Sangareddy","Vikarabad","Jagtial","Nirmal","Kamareddy"],Tripura:["Agartala","Dharmanagar","Udaipur","Ambassa","Kailashahar","Belonia","Khowai","Teliamura","Sabroom","Sonamura","Bishalgarh","Kamalpur","Amarpur","Kumarghat","Jirania","Melaghar","Santirbazar","Panisagar","Dhalai","Sepahijala"],"Uttar Pradesh":["Lucknow","Kanpur","Ghaziabad","Agra","Meerut","Varanasi","Allahabad","Bareilly","Aligarh","Moradabad","Saharanpur","Gorakhpur","Firozabad","Jhansi","Muzaffarnagar","Mathura","Shahjahanpur","Rampur","Modinagar","Hapur"],Uttarakhand:["Dehradun","Haridwar","Roorkee","Kashipur","Rudrapur","Haldwani","Rishikesh","Ramnagar","Pithoragarh","Manglaur","Nainital","Mussoorie","Almora","Bageshwar","Champawat","Pauri","Tehri","Uttarkashi","Chamoli","Rudraprayag"],"West Bengal":["Kolkata","Asansol","Siliguri","Durgapur","Bardhaman","Malda","Bahraich","Habra","Kharagpur","Shantipur","Dankuni","Dhulian","Ranaghat","Haldia","Raiganj","Krishnanagar","Nabadwip","Medinipur","Jalpaiguri","Balurghat"],Delhi:["New Delhi","Central Delhi","North Delhi","South Delhi","East Delhi","West Delhi","North East Delhi","North West Delhi","South East Delhi","South West Delhi","Shahdara","Karol Bagh","Paharganj","Connaught Place","Lajpat Nagar","Saket","Dwarka","Rohini","Pitampura","Janakpuri"],"Jammu and Kashmir":["Srinagar","Jammu","Anantnag","Baramulla","Sopore","Kathua","Udhampur","Punch","Rajauri","Kishtwar","Doda","Ramban","Reasi","Samba","Ganderbal","Bandipora","Kupwara","Shopian","Kulgam","Pulwama"],Ladakh:["Leh","Kargil","Drass","Zanskar","Nubra","Changthang","Suru","Sham","Khaltsi","Nyoma","Durbuk","Turtuk","Hemis","Alchi","Lamayuru","Diskit","Panamik","Sumur","Tegar","Chushul"],Puducherry:["Puducherry","Karaikal","Mahe","Yanam","Ozhukarai","Villianur","Bahour","Mannadipet","Nettapakkam","Ariyankuppam","Kurumbapet","Muthialpet","Reddiarpalayam","Thirubuvanai","Embalam","Korkadu","Kalapet","Mudaliarpet","Sedarapet","Thirunallar"]},Ru=r=>x2[r]||[],Ug=()=>Object.keys(x2),W6=()=>{const r=hr(),{toast:t}=it(),[s,n]=h.useState({state:"",city:"",propertyType:"",budgetRange:""}),[i,l]=h.useState([]),c=(f,y)=>{n(g=>{const x={...g,[f]:y};if(f==="state"){x.city="";const v=Ru(y);l(v)}return x})},d=()=>{const f=new URLSearchParams;Object.entries(s).forEach(([y,g])=>{g&&f.append(y,g)}),r(`/properties?${f.toString()}`),t({title:"Searching Properties",description:"Fnding properties that match your criteria..."})},m=Ug().map(f=>({value:f,label:f}));return e.jsx("section",{className:"bg-gradient-hero py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary-foreground mb-4",children:"Find Your Perfect Property"}),e.jsx("p",{className:"text-xl text-estate-blue-lighter max-w-2xl mx-auto",children:"Discover premium properties with our trusted platform. Your dream home awaits."})]}),e.jsx("div",{className:"bg-background rounded-lg shadow-strong p-6 max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"State"}),e.jsxs(Xe,{value:s.state,onValueChange:f=>c("state",f),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select State"})}),e.jsx(Ke,{children:m.map(f=>e.jsx(te,{value:f.value,children:f.label},f.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),e.jsxs(Xe,{value:s.city,onValueChange:f=>c("city",f),disabled:!s.state,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:s.state?"Select City":"Select State first"})}),e.jsx(Ke,{children:i.map(f=>e.jsx(te,{value:f,children:f},f))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Property Type"}),e.jsxs(Xe,{value:s.propertyType,onValueChange:f=>c("propertyType",f),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Property Type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"apartment",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),"Apartment"]})}),e.jsx(te,{value:"villa",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-4 w-4"}),"Villa"]})}),e.jsx(te,{value:"commercial",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ay,{className:"h-4 w-4"}),"Commercial"]})}),e.jsx(te,{value:"industrial",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ay,{className:"h-4 w-4"}),"Industrial"]})}),e.jsx(te,{value:"land",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yR,{className:"h-4 w-4"}),"Land"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Budget Range"}),e.jsxs(Xe,{value:s.budgetRange,onValueChange:f=>c("budgetRange",f),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Budget"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"0-5000000",children:"0 - 50 Lakh"}),e.jsx(te,{value:"5000000-10000000",children:"50 Lakh - 1 Crore"}),e.jsx(te,{value:"10000000-20000000",children:"1 Crore - 2 Crore"}),e.jsx(te,{value:"20000000-50000000",children:"2 Crore - 5 Crore"}),e.jsx(te,{value:"50000000+",children:"5 Crore+"}),e.jsx(te,{value:"100000-500000",children:"$100K - $500K"}),e.jsx(te,{value:"500000-1000000",children:"$500K - $1M"}),e.jsx(te,{value:"1000000+",children:"$1M+"})]})]})]}),e.jsxs(H,{onClick:d,className:"bg-accent hover:bg-accent/90 text-accent-foreground h-10",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Search Properties"]})]})})]})})},fm=({id:r,name:t,location:s,price_range:n,completion_date:i,images:l,status:c,total_units:d,available_units:m,project_type:f,showSaveButton:y=!1,isSaved:g=!1,onSaveToggle:x})=>{var q;const{profile:v}=Ft(),{toast:b}=it(),[w,N]=h.useState(g),[C,E]=h.useState(!1),P=async A=>{if(A.preventDefault(),A.stopPropagation(),!v){b({title:"Authentication Required",description:"Please log in to save projects",variant:"destructive"});return}E(!0);try{w?(await re.unsaveProject(r),N(!1),b({title:"Project Removed",description:"Project removed from your saved list"}),x==null||x(r,!1)):(await re.saveProject(r),N(!0),b({title:"Project Saved",description:"Project added to your saved list"}),x==null||x(r,!0))}catch(M){console.error("Error toggling save status:",M);const V=(M==null?void 0:M.message)||"Failed to update save status";b({title:"Error",description:V,variant:"destructive"})}finally{E(!1)}},O=A=>{switch(A){case"ongoing":return"bg-blue-500 text-white";case"completed":return"bg-green-500 text-white";case"planned":return"bg-yellow-500 text-white";case"on_hold":return"bg-gray-500 text-white";default:return"bg-blue-500 text-white"}};return console.log("ProjectCard rendering with id:",r),console.log("ProjectCard images:",l),!r||r==="undefined"||r==="null"||r.trim()===""?(console.error("ProjectCard: Invalid project ID:",r),e.jsx(G,{className:"p-4 text-center",children:e.jsx("p",{className:"text-red-500",children:"Invalid Project ID"})})):e.jsx(He,{to:`/project/${r}`,children:e.jsxs(G,{className:"group hover:shadow-strong transition-all duration-300 overflow-hidden border border-border hover:border-estate-blue/20 cursor-pointer h-full flex flex-col",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l&&l.length>0?typeof l[0]=="string"?l[0]:((q=l[0])==null?void 0:q.url)||"/placeholder.svg":"/placeholder.svg",alt:t,className:"w-full h-40 sm:h-48 lg:h-52 object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{console.log("Image failed to load:",A.currentTarget.src),A.currentTarget.src="/placeholder.svg"}}),e.jsx(ge,{className:`absolute top-2 left-2 sm:top-3 sm:left-3 text-xs sm:text-sm ${O(c)}`,children:c.replace("_"," ").toUpperCase()}),e.jsxs("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 flex gap-1 sm:gap-2",children:[e.jsx(ge,{variant:"secondary",className:"text-xs sm:text-sm",children:f}),y&&v&&e.jsx(H,{size:"sm",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8 p-0 bg-white/90 hover:bg-white text-gray-600 hover:text-red-500",onClick:P,disabled:C,children:C?e.jsx(Tr,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):w?e.jsx(yo,{className:"h-3 w-3 sm:h-4 sm:w-4 fill-red-500 text-red-500"}):e.jsx(yp,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),e.jsxs(X,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg text-foreground mb-2 group-hover:text-estate-blue transition-colors line-clamp-2",children:t}),e.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground mb-3",children:[e.jsx(Ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm line-clamp-2",children:typeof s=="string"?s:s&&typeof s=="object"&&`${s.address||""}, ${s.city||""}, ${s.state||""}`.trim().replace(/^,\s*|,\s*$/g,"")||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-estate-blue",children:n}),d&&e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground",children:[e.jsx(Pt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{className:"hidden sm:inline",children:[m||0,"/",d," units"]}),e.jsxs("span",{className:"sm:hidden",children:[m||0,"/",d]})]})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground mt-auto",children:[e.jsx(tr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{children:["Expected: ",new Date(i).toLocaleDateString()]})]})]})]})})},H6=({refreshTrigger:r})=>{const[t,s]=h.useState([]),[n,i]=h.useState(!0),{toast:l}=it(),c=hr();h.useEffect(()=>{d()},[r]);const d=async()=>{var m;try{i(!0);const f=await re.getProjects({limit:6});if(f.error)throw new Error(f.error);const y=((m=f.data)==null?void 0:m.projects)||f.data||[];console.log("Raw projects data:",y);const g=y.map(x=>{var v;return console.log("Processing project:",x.name,"Images:",x.images),{id:x._id||x.id,name:x.name,location:x.location?`${x.location.address||""}, ${x.location.city||""}, ${x.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:x.priceRange?`${x.priceRange.min}${x.priceRange.unit==="lakh"?"L":x.priceRange.unit==="crore"?"Cr":""} - ${x.priceRange.max}${x.priceRange.unit==="lakh"?"L":x.priceRange.unit==="crore"?"Cr":""}`:"Price on request",completion_date:x.completionDate,images:((v=x.images)==null?void 0:v.map(b=>b?typeof b=="string"?b:(b==null?void 0:b.url)||null:null).filter(b=>b!==null&&b!==""))||[],status:x.status==="under_construction"?"ongoing":x.status==="ready_to_move"?"completed":x.status==="planning"?"planned":x.status,project_type:x.projectType||"residential",total_units:x.totalUnits,available_units:x.availableUnits}});s(g)}catch(f){console.error("Error fetching projects:",f),l({title:"Error",description:"Failed to load projects. Showing sample data.",variant:"destructive"}),s([{id:"sample-1",name:"Skyline Residences",location:"Downtown Mumbai, Maharashtra",price_range:"45L - 1.2Cr",completion_date:"2024-12-31",images:["/assets/apartment-1.jpg"],status:"ongoing",project_type:"residential",total_units:120,available_units:85},{id:"sample-2",name:"Garden Villas Estate",location:"Suburban Bangalore, Karnataka",price_range:"80L - 2.5Cr",completion_date:"2025-06-30",images:["/assets/villa-1.jpg"],status:"planned",project_type:"luxury_villas",total_units:45,available_units:45},{id:"sample-3",name:"Metro Business Hub",location:"Financial District, Delhi",price_range:"2Cr - 8Cr",completion_date:"2025-03-31",images:["/assets/commercial-1.jpg"],status:"ongoing",project_type:"commercial",total_units:80,available_units:20}])}finally{i(!1)}};return n?e.jsx("section",{className:"py-16 bg-estate-gray-light",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})})}):e.jsx("section",{className:"py-16 bg-estate-gray-light",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Current Builder Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Exclusive new developments from trusted builders"})]}),e.jsxs(H,{variant:"outline",className:"group",onClick:()=>c("/projects"),children:["See All Projects",e.jsx(qn,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(m=>e.jsx(fm,{id:m.id,name:m.name,location:m.location,price_range:m.price_range,completion_date:m.completion_date,images:m.images||[],status:m.status,total_units:m.total_units,available_units:m.available_units,project_type:m.project_type,showSaveButton:!0},m.id)):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No projects available at the moment."})})})]})})},pm=({id:r,title:t,location:s,price:n,area:i,image:l,type:c,status:d})=>{const{user:m}=Ft(),{toast:f}=it(),[y,g]=h.useState(!1),[x,v]=h.useState(!1);h.useEffect(()=>{m&&r&&b()},[m,r]);const b=async()=>{var P;try{const O=await re.checkIfLiked(r);g(((P=O.data)==null?void 0:P.hasLiked)||!1)}catch(O){console.error("Error checking saved status:",O)}},w=async P=>{if(P.preventDefault(),P.stopPropagation(),!m){f({title:"Login Required",description:"Please login to save properties",variant:"destructive"});return}v(!0);try{y?(await re.unlikeProperty(r),g(!1),f({title:"Removed from Saved",description:"Property removed from your saved list"})):(await re.likeProperty(r),g(!0),f({title:"Saved Property",description:"Property added to your saved list"}))}catch(O){console.error("Error toggling save:",O),f({title:"Error",description:"Failed to update saved status",variant:"destructive"})}finally{v(!1)}},N=P=>{switch(P){case"For Sale":return"bg-estate-success text-white";case"For Rent":return"bg-accent text-accent-foreground";case"Sold":return"bg-muted text-muted-foreground";default:return"bg-estate-success text-white"}},C=P=>{P.currentTarget.src="/placeholder.svg"},E=P=>{};return!r||r==="undefined"||r==="null"||r.trim()===""?(console.error("PropertyCard: Invalid property ID:",r),e.jsx(G,{className:"p-4 text-center",children:e.jsx("p",{className:"text-red-500",children:"Invalid Property ID"})})):e.jsx(He,{to:`/property/${r}`,children:e.jsxs(G,{className:"group hover:shadow-strong transition-all duration-500 overflow-hidden border border-border hover:border-estate-blue/20 cursor-pointer hover-lift smooth-transition h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:l||"/placeholder.svg",alt:t,className:"w-full h-40 sm:h-48 lg:h-52 object-cover group-hover:scale-110 transition-all duration-500 ease-out",onError:C,onLoad:E}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(ge,{className:`absolute top-2 left-2 sm:top-3 sm:left-3 text-xs sm:text-sm ${N(d)} smooth-transition group-hover:scale-105`,children:d}),e.jsx(H,{variant:"ghost",size:"sm",className:`absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 h-7 w-7 sm:h-8 sm:w-8 rounded-full transition-all duration-200 ${y?"bg-red-500 text-white hover:bg-red-600":"bg-white/90 text-gray-600 hover:bg-white hover:text-red-500"}`,onClick:w,disabled:x,children:e.jsx(yo,{className:`h-3 w-3 sm:h-4 sm:w-4 ${y?"fill-current":""}`})}),e.jsx(ge,{variant:"secondary",className:"absolute top-10 right-2 sm:top-12 sm:right-3 text-xs sm:text-sm smooth-transition group-hover:scale-105",children:c})]}),e.jsxs(X,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg text-foreground mb-2 group-hover:text-estate-blue transition-colors line-clamp-2",children:t}),e.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground mb-3",children:[e.jsx(Ot,{className:"h-3 w-3 sm:h-4 sm:w-4 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm line-clamp-2",children:s})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-estate-blue",children:n}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground",children:[e.jsx(Xj,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{children:i})]})]})]})]})})},Y6=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),{toast:i}=it(),l=hr();h.useEffect(()=>{c()},[]);const c=async()=>{var d;try{const m=await re.getProperties({limit:6,status:"active"});if(m.error)throw new Error(m.error);const f=((d=m.data)==null?void 0:d.properties)||m.data||[];t(f)}catch(m){console.error("Error fetching properties:",m),i({title:"Error",description:"Failed to load properties",variant:"destructive"})}finally{n(!1)}};return s?e.jsx("section",{className:"py-16 bg-background",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})})}):e.jsx("section",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Properties"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover our handpicked premium properties"})]}),e.jsxs(H,{variant:"outline",className:"group",onClick:()=>l("/properties"),children:["See All Properties",e.jsx(qn,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(d=>{var b,w,N,C,E,P;const m=((b=d.images)==null?void 0:b.find(O=>O.isPrimary))||((w=d.images)==null?void 0:w[0]),f=(m==null?void 0:m.url)||m||"/placeholder.svg",y=d.listingType==="rent"?`${(d.monthlyRent||d.price).toLocaleString()}/month`:`${d.price.toLocaleString()}`,g=`${((N=d.location)==null?void 0:N.address)||""}, ${((C=d.location)==null?void 0:C.city)||""}`,x=((E=d.propertyType)==null?void 0:E.charAt(0).toUpperCase())+((P=d.propertyType)==null?void 0:P.slice(1))||"Property",v=d.listingType==="rent"?"For Rent":d.status==="active"?"For Sale":d.status==="sold"?"Sold":"For Sale";return e.jsx(pm,{id:d._id,title:d.title,location:g,price:y,area:`${d.area} sq ft`,image:f,type:x,status:v},d._id)}):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No properties available at the moment."})})})]})})},K6=()=>{const[r,t]=h.useState({clients:0,properties:0,brokers:0,loading:!0});h.useEffect(()=>{(async()=>{try{const c=await re.rpc("get_public_stats");if(error)throw error;const d=data;t({clients:(d==null?void 0:d.clients)||0,properties:(d==null?void 0:d.properties)||0,brokers:(d==null?void 0:d.brokers)||0,loading:!1})}catch(c){console.error("Error fetching stats:",c),t(d=>({...d,loading:!1}))}})()},[]);const s=l=>l>=1e3?(l/1e3).toFixed(0)+"K+":l.toString()+"+",n=[{icon:Pt,number:r.loading?"...":r.clients.toString(),label:"Happy Clients",description:"Satisfied customers worldwide"},{icon:jt,number:r.loading?"...":s(r.properties),label:"Properties Listed",description:"Premium listings available"},{icon:Co,number:"25+",label:"Years Experience",description:"Industry expertise and trust"}],i=[{name:"Yash Dhankecha ",role:"Property Investor",quote:"Exceptional service and professionalism. Found my dream property within weeks!",rating:4},{name:"Harsh Vyas",role:"First-time Buyer",quote:"The team guided me through every step. Transparent, reliable, and trustworthy.",rating:5},{name:"Karansinh Desai ",role:"Real Estate Developer",quote:"Outstanding market knowledge and innovative approach. Highly recommended!",rating:5}];return e.jsx("section",{className:"py-16 bg-estate-gray-light",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:n.map((l,c)=>e.jsx(G,{className:"text-center border-none shadow-soft hover:shadow-medium transition-shadow",children:e.jsxs(X,{className:"p-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-estate-blue rounded-full flex items-center justify-center",children:e.jsx(l.icon,{className:"h-8 w-8 text-primary-foreground"})})}),e.jsx("div",{className:"text-3xl font-bold text-estate-blue mb-2",children:l.number}),e.jsx("div",{className:"font-semibold text-foreground",children:l.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.description})]})},c))}),e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"What Our Clients Say"}),e.jsx("p",{className:"text-muted-foreground",children:"Real experiences from satisfied customers"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((l,c)=>e.jsx(G,{className:"border-none shadow-soft",children:e.jsxs(X,{className:"p-6",children:[e.jsx("div",{className:"flex mb-4",children:[...Array(l.rating)].map((d,m)=>e.jsx("div",{className:"w-5 h-5 bg-estate-warning rounded-full mr-1"},m))}),e.jsxs("p",{className:"text-muted-foreground mb-4 italic",children:['"',l.quote,'"']}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-foreground",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.role})]})]})},c))})]})})},bn=()=>e.jsx("footer",{className:"bg-estate-blue text-primary-foreground",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mb-4",children:["Milkat",e.jsx("span",{className:"text-estate-blue-lighter",children:"Post"})]}),e.jsx("p",{className:"text-estate-blue-lighter max-w-md mx-auto",children:"Your trusted partner in real estate. Connecting buyers, sellers, and developers with the best properties and opportunities."})]}),e.jsxs("div",{className:"border-t border-estate-blue-light pt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("div",{className:"text-sm text-estate-blue-lighter",children:" 2024 MilkatPost. All rights reserved."}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:"#",className:"text-estate-blue-lighter hover:text-white transition-colors",children:e.jsx(dR,{className:"h-5 w-5"})}),e.jsx("a",{href:"#",className:"text-estate-blue-lighter hover:text-white transition-colors",children:e.jsx(Bt,{className:"h-5 w-5"})})]})]})]})}),G6=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsx(W6,{}),e.jsx(H6,{}),e.jsx(Y6,{}),e.jsx(K6,{}),e.jsx(bn,{})]}),wb="/assets/hero-cityscape-pIHODK6I.jpg",Q6=()=>{const r=["Building Trust.","Creating Value.","Guiding Your Investment."],[t,s]=h.useState(0),[n,i]=h.useState(""),[l,c]=h.useState(!1);h.useEffect(()=>{const m=r[t%r.length],y=setTimeout(()=>{if(l){const g=m.slice(0,n.length-1);i(g),g===""&&(c(!1),s(x=>(x+1)%r.length))}else{const g=m.slice(0,n.length+1);i(g),g===m&&setTimeout(()=>c(!0),900)}},l?20:50);return()=>clearTimeout(y)},[n,l,t]);const d=[{icon:za,title:"Innovation",description:"Pioneering technology-driven solutions in real estate"},{icon:Bn,title:"Transparency",description:"Complete transparency in all transactions and processes"},{icon:Yd,title:"Global Presence",description:"Serving clients across India, USA, UAE, Canada, and Kenya"},{icon:Pt,title:"Leadership",description:"Industry leaders with decades of combined experience"},{icon:Co,title:"Recognition",description:"Award-winning platform trusted by thousands of clients"},{icon:Wl,title:"Professional Service",description:"Dedicated support from property experts and advisors"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsx("section",{className:"relative py-24 md:py-28",style:{backgroundImage:`linear-gradient(135deg, hsl(220 85% 25% / 0.85), hsl(220 85% 35% / 0.85)), url(${wb})`,backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("div",{className:"container mx-auto px-6 text-center text-white",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:[n,e.jsx("span",{className:"opacity-80 animate-pulse",children:"|"})]}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Your global partner for residential, commercial and investment real estate."}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[e.jsx("a",{href:"#story",className:"px-6 py-3 rounded-md bg-white text-estate-blue font-medium shadow-soft hover:shadow-medium transition-shadow",children:"Our Story"}),e.jsx("a",{href:"#why",className:"px-6 py-3 rounded-md bg-transparent border border-white/50 text-white hover:bg-white/10 transition-colors",children:"Why Choose Us"})]})]})}),e.jsx("section",{id:"story",className:"py-20",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[e.jsxs("div",{className:"order-2 lg:order-1",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Our Story"}),e.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Founded in 2009, MilkatPost began as a vision to revolutionize how people discover, evaluate, and acquire real estate. What started as a local initiative has grown into a global platform serving clients across five countries."}),e.jsx("p",{children:"Our journey has been marked by continuous innovation, unwavering commitment to transparency, and a deep understanding of diverse real estate markets. From luxury villas in Mumbai to commercial spaces in Dubai, we've facilitated thousands of successful transactions."}),e.jsx("p",{children:"Today, we're proud to be the preferred choice for NRI investors, first-time buyers, seasoned investors, and developers alike."})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Bn,{className:"h-5 w-5 text-estate-blue"})," Ethics & Transparency"]}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Yd,{className:"h-5 w-5 text-estate-blue"})," Global Expertise"]}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Ks,{className:"h-5 w-5 text-estate-blue"})," Tech-driven Approach"]}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Pt,{className:"h-5 w-5 text-estate-blue"})," Personalized Service"]})]})]}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden shadow-medium",children:[e.jsx("img",{src:wb,alt:"Cityscape",className:"h-full w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]})})]})})}),e.jsx("section",{className:"py-20 bg-estate-blue-lighter/30",id:"values",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"Our Core Values"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map((m,f)=>e.jsx(G,{className:"border-0 shadow-soft hover:shadow-medium transition-shadow",children:e.jsxs(X,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-estate-blue/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m.icon,{className:"w-8 h-8 text-estate-blue"})}),e.jsx("h3",{className:"text-xl font-semibold mb-4",children:m.title}),e.jsx("p",{className:"text-muted-foreground",children:m.description})]})},f))})]})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(G,{className:"border-0 shadow-soft",children:e.jsxs(X,{className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Our Mission"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Empower clients with transparent information, expert guidance, and seamless experiences to make confident real estate decisions."})]})}),e.jsx(G,{className:"border-0 shadow-soft",children:e.jsxs(X,{className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Our Vision"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To be the most trusted global platform for discovering, investing, and managing real estate."})]})})]})})}),e.jsx("section",{id:"why",className:"py-20 bg-gradient-card",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Why Choose MilkatPost"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Bn,title:"Secure & Transparent",desc:"Verified listings, secure transactions, full transparency."},{icon:Yd,title:"Global Network",desc:"Local expertise with worldwide reach and insights."},{icon:Pt,title:"Expert Guidance",desc:"Dedicated advisors throughout your journey."},{icon:Co,title:"Award-Winning",desc:"Recognized for service excellence and innovation."},{icon:Wl,title:"Investment Focus",desc:"Data-led advisory for strong ROI."},{icon:Ot,title:"Prime Locations",desc:"Handpicked projects in sought-after areas."}].map((m,f)=>e.jsx(G,{className:"border-0 shadow-soft hover:shadow-medium transition-shadow",children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-md bg-estate-blue/10 flex items-center justify-center shrink-0",children:e.jsx(m.icon,{className:"w-6 h-6 text-estate-blue"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:m.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.desc})]})]})})},f))})]})}),e.jsx("section",{id:"services",className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Services"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Bn,title:"Legal Advisory",desc:"End-to-end legal due diligence and documentation."},{icon:Pt,title:"Interior Design",desc:"Bespoke interiors tailored to your lifestyle."},{icon:jt,title:"Architecture Consultation",desc:"Concept to blueprint with expert architects."},{icon:Wl,title:"Property Valuation",desc:"Accurate valuations using market data and comps."},{icon:Yd,title:"Investment Planning",desc:"Portfolio strategy for rental yield and appreciation."},{icon:Ot,title:"Mortgage Assistance",desc:"Best financing options with leading lenders."}].map((m,f)=>e.jsx(G,{className:"border-0 shadow-soft hover:shadow-medium transition-shadow",children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-md bg-estate-blue/10 flex items-center justify-center shrink-0",children:e.jsx(m.icon,{className:"w-6 h-6 text-estate-blue"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:m.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.desc})]})]})})},f))})]})}),e.jsx(bn,{})]})},Se=h.forwardRef(({className:r,type:t,...s},n)=>e.jsx("input",{type:t,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:n,...s}));Se.displayName="Input";var v2=["PageUp","PageDown"],y2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xi="Slider",[Bp,X6,J6]=zi(Xi),[j2]=jr(Xi,[J6]),[Z6,gm]=j2(Xi),w2=h.forwardRef((r,t)=>{const{name:s,min:n=0,max:i=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:m=0,defaultValue:f=[n],value:y,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:v=!1,form:b,...w}=r,N=h.useRef(new Set),C=h.useRef(0),P=c==="horizontal"?eO:tO,[O=[],q]=xs({prop:y,defaultProp:f,onChange:B=>{var $;($=[...N.current][C.current])==null||$.focus(),g(B)}}),A=h.useRef(O);function M(B){const _=oO(O,B);R(B,_)}function V(B){R(B,C.current)}function k(){const B=A.current[C.current];O[C.current]!==B&&x(O)}function R(B,_,{commit:$}={commit:!1}){const T=dO(l),Q=uO(Math.round((B-n)/l)*l+n,T),Y=dc(Q,[n,i]);q((F=[])=>{const I=nO(F,Y,_);if(cO(I,m*l)){C.current=I.indexOf(Y);const D=String(I)!==String(F);return D&&$&&x(I),D?I:F}else return F})}return e.jsx(Z6,{scope:r.__scopeSlider,name:s,disabled:d,min:n,max:i,valueIndexToChangeRef:C,thumbs:N.current,values:O,orientation:c,form:b,children:e.jsx(Bp.Provider,{scope:r.__scopeSlider,children:e.jsx(Bp.Slot,{scope:r.__scopeSlider,children:e.jsx(P,{"aria-disabled":d,"data-disabled":d?"":void 0,...w,ref:t,onPointerDown:Ce(w.onPointerDown,()=>{d||(A.current=O)}),min:n,max:i,inverted:v,onSlideStart:d?void 0:M,onSlideMove:d?void 0:V,onSlideEnd:d?void 0:k,onHomeKeyDown:()=>!d&&R(n,0,{commit:!0}),onEndKeyDown:()=>!d&&R(i,O.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:_})=>{if(!d){const Q=v2.includes(B.key)||B.shiftKey&&y2.includes(B.key)?10:1,Y=C.current,F=O[Y],I=l*Q*_;R(F+I,Y,{commit:!0})}}})})})})});w2.displayName=Xi;var[N2,S2]=j2(Xi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eO=h.forwardRef((r,t)=>{const{min:s,max:n,dir:i,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:m,onStepKeyDown:f,...y}=r,[g,x]=h.useState(null),v=rt(t,P=>x(P)),b=h.useRef(void 0),w=Mo(i),N=w==="ltr",C=N&&!l||!N&&l;function E(P){const O=b.current||g.getBoundingClientRect(),q=[0,O.width],M=Bg(q,C?[s,n]:[n,s]);return b.current=O,M(P-O.left)}return e.jsx(N2,{scope:r.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:e.jsx(k2,{dir:w,"data-orientation":"horizontal",...y,ref:v,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const O=E(P.clientX);c==null||c(O)},onSlideMove:P=>{const O=E(P.clientX);d==null||d(O)},onSlideEnd:()=>{b.current=void 0,m==null||m()},onStepKeyDown:P=>{const q=b2[C?"from-left":"from-right"].includes(P.key);f==null||f({event:P,direction:q?-1:1})}})})}),tO=h.forwardRef((r,t)=>{const{min:s,max:n,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:m,...f}=r,y=h.useRef(null),g=rt(t,y),x=h.useRef(void 0),v=!i;function b(w){const N=x.current||y.current.getBoundingClientRect(),C=[0,N.height],P=Bg(C,v?[n,s]:[s,n]);return x.current=N,P(w-N.top)}return e.jsx(N2,{scope:r.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(k2,{"data-orientation":"vertical",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const N=b(w.clientY);l==null||l(N)},onSlideMove:w=>{const N=b(w.clientY);c==null||c(N)},onSlideEnd:()=>{x.current=void 0,d==null||d()},onStepKeyDown:w=>{const C=b2[v?"from-bottom":"from-top"].includes(w.key);m==null||m({event:w,direction:C?-1:1})}})})}),k2=h.forwardRef((r,t)=>{const{__scopeSlider:s,onSlideStart:n,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:m,...f}=r,y=gm(Xi,s);return e.jsx(Me.span,{...f,ref:t,onKeyDown:Ce(r.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):v2.concat(y2).includes(g.key)&&(m(g),g.preventDefault())}),onPointerDown:Ce(r.onPointerDown,g=>{const x=g.target;x.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(x)?x.focus():n(g)}),onPointerMove:Ce(r.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ce(r.onPointerUp,g=>{const x=g.target;x.hasPointerCapture(g.pointerId)&&(x.releasePointerCapture(g.pointerId),l(g))})})}),C2="SliderTrack",P2=h.forwardRef((r,t)=>{const{__scopeSlider:s,...n}=r,i=gm(C2,s);return e.jsx(Me.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});P2.displayName=C2;var zp="SliderRange",_2=h.forwardRef((r,t)=>{const{__scopeSlider:s,...n}=r,i=gm(zp,s),l=S2(zp,s),c=h.useRef(null),d=rt(t,c),m=i.values.length,f=i.values.map(x=>T2(x,i.min,i.max)),y=m>1?Math.min(...f):0,g=100-Math.max(...f);return e.jsx(Me.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:d,style:{...r.style,[l.startEdge]:y+"%",[l.endEdge]:g+"%"}})});_2.displayName=zp;var qp="SliderThumb",E2=h.forwardRef((r,t)=>{const s=X6(r.__scopeSlider),[n,i]=h.useState(null),l=rt(t,d=>i(d)),c=h.useMemo(()=>n?s().findIndex(d=>d.ref.current===n):-1,[s,n]);return e.jsx(rO,{...r,ref:l,index:c})}),rO=h.forwardRef((r,t)=>{const{__scopeSlider:s,index:n,name:i,...l}=r,c=gm(qp,s),d=S2(qp,s),[m,f]=h.useState(null),y=rt(t,E=>f(E)),g=m?c.form||!!m.closest("form"):!0,x=gg(m),v=c.values[n],b=v===void 0?0:T2(v,c.min,c.max),w=aO(n,c.values.length),N=x==null?void 0:x[d.size],C=N?iO(N,b,d.direction):0;return h.useEffect(()=>{if(m)return c.thumbs.add(m),()=>{c.thumbs.delete(m)}},[m,c.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${b}% + ${C}px)`},children:[e.jsx(Bp.ItemSlot,{scope:r.__scopeSlider,children:e.jsx(Me.span,{role:"slider","aria-label":r["aria-label"]||w,"aria-valuemin":c.min,"aria-valuenow":v,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:y,style:v===void 0?{display:"none"}:r.style,onFocus:Ce(r.onFocus,()=>{c.valueIndexToChangeRef.current=n})})}),g&&e.jsx(R2,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:v},n)]})});E2.displayName=qp;var sO="RadioBubbleInput",R2=h.forwardRef(({__scopeSlider:r,value:t,...s},n)=>{const i=h.useRef(null),l=rt(i,n),c=$g(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==t&&y){const g=new Event("input",{bubbles:!0});y.call(d,t),d.dispatchEvent(g)}},[c,t]),e.jsx(Me.input,{style:{display:"none"},...s,ref:l,defaultValue:t})});R2.displayName=sO;function nO(r=[],t,s){const n=[...r];return n[s]=t,n.sort((i,l)=>i-l)}function T2(r,t,s){const l=100/(s-t)*(r-t);return dc(l,[0,100])}function aO(r,t){return t>2?`Value ${r+1} of ${t}`:t===2?["Minimum","Maximum"][r]:void 0}function oO(r,t){if(r.length===1)return 0;const s=r.map(i=>Math.abs(i-t)),n=Math.min(...s);return s.indexOf(n)}function iO(r,t,s){const n=r/2,l=Bg([0,50],[0,n]);return(n-l(t)*s)*s}function lO(r){return r.slice(0,-1).map((t,s)=>r[s+1]-t)}function cO(r,t){if(t>0){const s=lO(r);return Math.min(...s)>=t}return!0}function Bg(r,t){return s=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(r[1]-r[0]);return t[0]+n*(s-r[0])}}function dO(r){return(String(r).split(".")[1]||"").length}function uO(r,t){const s=Math.pow(10,t);return Math.round(r*s)/s}var D2=w2,mO=P2,hO=_2,fO=E2;const Tu=h.forwardRef(({className:r,...t},s)=>e.jsxs(D2,{ref:s,className:Re("relative flex w-full touch-none select-none items-center",r),...t,children:[e.jsx(mO,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(hO,{className:"absolute h-full bg-primary"})}),e.jsx(fO,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Tu.displayName=D2.displayName;var xm="Checkbox",[pO]=jr(xm),[gO,zg]=pO(xm);function xO(r){const{__scopeCheckbox:t,checked:s,children:n,defaultChecked:i,disabled:l,form:c,name:d,onCheckedChange:m,required:f,value:y="on",internal_do_not_use_render:g}=r,[x,v]=xs({prop:s,defaultProp:i??!1,onChange:m,caller:xm}),[b,w]=h.useState(null),[N,C]=h.useState(null),E=h.useRef(!1),P=b?!!c||!!b.closest("form"):!0,O={checked:x,disabled:l,setChecked:v,control:b,setControl:w,name:d,form:c,value:y,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:La(i)?!1:i,isFormControl:P,bubbleInput:N,setBubbleInput:C};return e.jsx(gO,{scope:t,...O,children:vO(g)?g(O):n})}var A2="CheckboxTrigger",M2=h.forwardRef(({__scopeCheckbox:r,onKeyDown:t,onClick:s,...n},i)=>{const{control:l,value:c,disabled:d,checked:m,required:f,setControl:y,setChecked:g,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:b}=zg(A2,r),w=rt(i,y),N=h.useRef(m);return h.useEffect(()=>{const C=l==null?void 0:l.form;if(C){const E=()=>g(N.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,g]),e.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":La(m)?"mixed":m,"aria-required":f,"data-state":$2(m),"data-disabled":d?"":void 0,disabled:d,value:c,...n,ref:w,onKeyDown:Ce(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ce(s,C=>{g(E=>La(E)?!0:!E),b&&v&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})})});M2.displayName=A2;var qg=h.forwardRef((r,t)=>{const{__scopeCheckbox:s,name:n,checked:i,defaultChecked:l,required:c,disabled:d,value:m,onCheckedChange:f,form:y,...g}=r;return e.jsx(xO,{__scopeCheckbox:s,checked:i,defaultChecked:l,disabled:d,required:c,onCheckedChange:f,name:n,form:y,value:m,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(M2,{...g,ref:t,__scopeCheckbox:s}),x&&e.jsx(L2,{__scopeCheckbox:s})]})})});qg.displayName=xm;var I2="CheckboxIndicator",O2=h.forwardRef((r,t)=>{const{__scopeCheckbox:s,forceMount:n,...i}=r,l=zg(I2,s);return e.jsx(wr,{present:n||La(l.checked)||l.checked===!0,children:e.jsx(Me.span,{"data-state":$2(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...r.style}})})});O2.displayName=I2;var F2="CheckboxBubbleInput",L2=h.forwardRef(({__scopeCheckbox:r,...t},s)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:c,required:d,disabled:m,name:f,value:y,form:g,bubbleInput:x,setBubbleInput:v}=zg(F2,r),b=rt(s,v),w=$g(l),N=gg(n);h.useEffect(()=>{const E=x;if(!E)return;const P=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(P,"checked").set,A=!i.current;if(w!==l&&q){const M=new Event("click",{bubbles:A});E.indeterminate=La(l),q.call(E,La(l)?!1:l),E.dispatchEvent(M)}},[x,w,l,i]);const C=h.useRef(La(l)?!1:l);return e.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:d,disabled:m,name:f,value:y,form:g,...t,tabIndex:-1,ref:b,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L2.displayName=F2;function vO(r){return typeof r=="function"}function La(r){return r==="indeterminate"}function $2(r){return La(r)?"indeterminate":r?"checked":"unchecked"}const $a=h.forwardRef(({className:r,...t},s)=>e.jsx(qg,{ref:s,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:e.jsx(O2,{className:Re("flex items-center justify-center text-current"),children:e.jsx(yc,{className:"h-4 w-4"})})}));$a.displayName=qg.displayName;var yO="Label",V2=h.forwardRef((r,t)=>e.jsx(Me.label,{...r,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=r.onMouseDown)==null||i.call(r,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));V2.displayName=yO;var U2=V2;const bO=vc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=h.forwardRef(({className:r,...t},s)=>e.jsx(U2,{ref:s,className:Re(bO(),r),...t}));ne.displayName=U2.displayName;var vm="Collapsible",[jO,B2]=jr(vm),[wO,Wg]=jO(vm),z2=h.forwardRef((r,t)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:l,onOpenChange:c,...d}=r,[m,f]=xs({prop:n,defaultProp:i??!1,onChange:c,caller:vm});return e.jsx(wO,{scope:s,disabled:l,contentId:br(),open:m,onOpenToggle:h.useCallback(()=>f(y=>!y),[f]),children:e.jsx(Me.div,{"data-state":Kg(m),"data-disabled":l?"":void 0,...d,ref:t})})});z2.displayName=vm;var q2="CollapsibleTrigger",W2=h.forwardRef((r,t)=>{const{__scopeCollapsible:s,...n}=r,i=Wg(q2,s);return e.jsx(Me.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Kg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Ce(r.onClick,i.onOpenToggle)})});W2.displayName=q2;var Hg="CollapsibleContent",Yg=h.forwardRef((r,t)=>{const{forceMount:s,...n}=r,i=Wg(Hg,r.__scopeCollapsible);return e.jsx(wr,{present:s||i.open,children:({present:l})=>e.jsx(NO,{...n,ref:t,present:l})})});Yg.displayName=Hg;var NO=h.forwardRef((r,t)=>{const{__scopeCollapsible:s,present:n,children:i,...l}=r,c=Wg(Hg,s),[d,m]=h.useState(n),f=h.useRef(null),y=rt(t,f),g=h.useRef(0),x=g.current,v=h.useRef(0),b=v.current,w=c.open||d,N=h.useRef(w),C=h.useRef(void 0);return h.useEffect(()=>{const E=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(E)},[]),lr(()=>{const E=f.current;if(E){C.current=C.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const P=E.getBoundingClientRect();g.current=P.height,v.current=P.width,N.current||(E.style.transitionDuration=C.current.transitionDuration,E.style.animationName=C.current.animationName),m(n)}},[c.open,n]),e.jsx(Me.div,{"data-state":Kg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!w,...l,ref:y,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...r.style},children:w&&i})});function Kg(r){return r?"open":"closed"}var H2=z2,SO=W2,kO=Yg;const CO=H2,PO=Yg,_O=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState("created_at"),[m,f]=h.useState("all"),[y,g]=h.useState("all"),[x,v]=h.useState("all"),[b,w]=h.useState([0,1e7]),[N,C]=h.useState([0,5e3]),[E,P]=h.useState([]),[O,q]=h.useState(!1),A=Sn(),M=hr(),{toast:V}=it(),[k,R]=h.useState({country:"",state:"",city:"",propertyType:"",budgetRange:""});h.useEffect(()=>{const F=new URLSearchParams(A.search),I={country:F.get("country")||"",state:F.get("state")||"",city:F.get("city")||"",propertyType:F.get("propertyType")||"",budgetRange:F.get("budgetRange")||""};R(I),I.propertyType&&f(I.propertyType),Object.values(I).some(W=>W!=="")&&r.length===0&&V({title:"Searching Properties",description:"Loading properties matching your search criteria..."})},[A.search]);const B=["Swimming Pool","Gym","Parking","Security","Garden","Elevator","Power Backup","Water Supply","Air Conditioning","Balcony","Modular Kitchen","Furnished","Semi-Furnished"];h.useEffect(()=>{_()},[c,m,y,x,i,k,b,N,E]);const _=async()=>{var F;try{n(!0);const I={page:1,limit:50,status:"active"};if(k.country&&(I.country=k.country),k.state&&(I.state=k.state),k.city&&(I.city=k.city),k.propertyType&&(I.propertyType=k.propertyType),k.budgetRange){const U=k.budgetRange;if(U.includes("-")){const[z,J]=U.split("-");J&&!J.includes("+")?(I.minPrice=z,I.maxPrice=J):I.minPrice=z}}m!=="all"&&(I.propertyType=m),y!=="all"&&(I.status=y),x!=="all"&&(I.listingType=x),(b[0]>0||b[1]<1e7)&&(I.minPrice=b[0],I.maxPrice=b[1]),(N[0]>0||N[1]<5e3)&&(I.minArea=N[0],I.maxArea=N[1]),E.length>0&&(I.amenities=E.join(",")),i&&(I.search=i),c==="price_asc"?(I.sort="price",I.order="asc"):c==="price_desc"?(I.sort="price",I.order="desc"):c==="area"?(I.sort="area",I.order="desc"):(I.sort="createdAt",I.order="desc"),console.log("Fetching properties with params:",I);const D=await re.getProperties(I);if(D.error)throw new Error(D.error);const W=((F=D.data)==null?void 0:F.properties)||D.data||[];console.log("Received properties:",W),console.log(` Successfully loaded ${W.length} properties from database`),t(W)}catch(I){console.error("Error fetching properties:",I),V({title:"Error",description:"Failed to load properties. Please try again.",variant:"destructive"})}finally{n(!1)}},$=F=>{P(I=>I.includes(F)?I.filter(D=>D!==F):[...I,F])},T=()=>{l(""),f("all"),g("all"),v("all"),w([0,1e7]),C([0,5e3]),P([]),Q()},Q=()=>{M("/properties",{replace:!0})},Y=Object.values(k).some(F=>F!=="");return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsxs("section",{className:"bg-gradient-hero py-12 sm:py-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:e.jsxs("div",{className:"animate-slide-in-down",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white text-center mb-4",children:"Property Listings"}),e.jsx("p",{className:"text-lg sm:text-xl text-white/90 text-center max-w-2xl mx-auto animate-fade-in-up px-4",style:{animationDelay:"200ms"},children:"Discover your perfect property from our extensive collection of homes, apartments, and commercial spaces."})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent"})]}),e.jsx("section",{className:"py-6 sm:py-8 border-b",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[Y&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Active Filters:"}),k.country&&e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["Country: ",k.country,e.jsx(Rt,{className:"w-3 h-3 cursor-pointer",onClick:Q})]}),k.state&&e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["State: ",k.state,e.jsx(Rt,{className:"w-3 h-3 cursor-pointer",onClick:Q})]}),k.city&&e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["City: ",k.city,e.jsx(Rt,{className:"w-3 h-3 cursor-pointer",onClick:Q})]}),k.propertyType&&e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["Type: ",k.propertyType,e.jsx(Rt,{className:"w-3 h-3 cursor-pointer",onClick:Q})]}),k.budgetRange&&e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["Budget: ",k.budgetRange,e.jsx(Rt,{className:"w-3 h-3 cursor-pointer",onClick:Q})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:Q,className:"text-muted-foreground hover:text-foreground text-xs",children:"Clear All"})]})}),e.jsx(G,{className:"animate-fade-in-up",style:{animationDelay:"400ms"},children:e.jsx(X,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative sm:col-span-2 lg:col-span-1",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search properties...",value:i,onChange:F=>l(F.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:x,onValueChange:v,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Listing Type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Listings"}),e.jsx(te,{value:"sale",children:"For Sale"}),e.jsx(te,{value:"rent",children:"For Rent"})]})]}),e.jsxs(Xe,{value:c,onValueChange:d,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"created_at",children:"Newest First"}),e.jsx(te,{value:"price_asc",children:"Price: Low to High"}),e.jsx(te,{value:"price_desc",children:"Price: High to Low"}),e.jsx(te,{value:"area",children:"Area"})]})]}),e.jsxs(H,{onClick:()=>q(!O),variant:"outline",className:"sm:col-span-2 lg:col-span-1",children:[e.jsx(Wu,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced Filters"}),e.jsx("span",{className:"sm:hidden",children:"Filters"}),e.jsx(Wi,{className:`w-4 h-4 ml-2 transition-transform ${O?"rotate-180":""}`})]})]}),e.jsx(CO,{open:O,onOpenChange:q,children:e.jsxs(PO,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{children:"Property Type"}),e.jsxs(Xe,{value:m,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"All Types"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Types"}),e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"industrial",children:"Industrial"}),e.jsx(te,{value:"land",children:"Land"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{children:"Status"}),e.jsxs(Xe,{value:y,onValueChange:g,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"All Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"available",children:"Available"}),e.jsx(te,{value:"sold",children:"Sold"}),e.jsx(te,{value:"rented",children:"Rented"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ne,{children:[x==="rent"?"Monthly Rent":"Price"," Range ()"]}),e.jsxs("div",{className:"px-2",children:[e.jsx(Tu,{value:b,onValueChange:w,max:x==="rent"?2e5:1e7,min:0,step:x==="rent"?1e3:1e5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[e.jsxs("span",{children:["",b[0].toLocaleString()]}),e.jsxs("span",{children:["",b[1].toLocaleString()]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{children:"Area Range (sq ft)"}),e.jsxs("div",{className:"px-2",children:[e.jsx(Tu,{value:N,onValueChange:C,max:5e3,min:0,step:100,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[e.jsxs("span",{children:[N[0]," sq ft"]}),e.jsxs("span",{children:[N[1]," sq ft"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{children:"Amenities"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:B.map(F=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($a,{id:F,checked:E.includes(F),onCheckedChange:()=>$(F)}),e.jsx(ne,{htmlFor:F,className:"text-sm",children:F})]},F))})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{variant:"ghost",onClick:T,children:"Clear All Filters"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:_,variant:"outline",children:"Apply Filters"}),e.jsx(H,{onClick:()=>q(!1),variant:"outline",children:"Close"})]})]})]})})]})})})]})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(9)].map((F,I)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 h-64 rounded-xl mb-4"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg mb-2"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg w-3/4"})]},I))}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:r.map((F,I)=>{var ue,xe;const D=((ue=F.images)==null?void 0:ue.find(oe=>oe.isPrimary))||((xe=F.images)==null?void 0:xe[0]),W=(D==null?void 0:D.url)||"/placeholder.svg",U=F.listingType==="rent"?`${(F.monthlyRent||F.price).toLocaleString()}/month`:`${F.price.toLocaleString()}`,z=`${F.location.address}, ${F.location.city}`,J=F.propertyType.charAt(0).toUpperCase()+F.propertyType.slice(1),se=F.listingType==="rent"?"For Rent":F.status==="active"?"For Sale":F.status==="sold"?"Sold":"For Sale";return e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${I*100}ms`,animationFillMode:"both"},children:e.jsx(pm,{id:F._id,title:F.title,location:z,price:U,area:`${F.area} sq ft`,image:W,type:J,status:se})},F._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:Y?"No Properties Match Your Search":"No Properties Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:Y?"Try adjusting your search criteria or clear the filters to see all properties.":"Try adjusting your search criteria or filters."}),Y&&e.jsx(H,{onClick:Q,variant:"outline",children:"Clear Search Filters"})]})})})]})};var EO="Separator",Nb="horizontal",RO=["horizontal","vertical"],Y2=h.forwardRef((r,t)=>{const{decorative:s,orientation:n=Nb,...i}=r,l=TO(n)?n:Nb,d=s?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(Me.div,{"data-orientation":l,...d,...i,ref:t})});Y2.displayName=EO;function TO(r){return RO.includes(r)}var K2=Y2;const Gs=h.forwardRef(({className:r,orientation:t="horizontal",decorative:s=!0,...n},i)=>e.jsx(K2,{ref:i,decorative:s,orientation:t,className:Re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...n}));Gs.displayName=K2.displayName;const rr=h.forwardRef(({className:r,...t},s)=>e.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...t}));rr.displayName="Textarea";const DO=()=>{var ue,xe,oe,de;const{id:r}=tc(),{user:t,profile:s}=Ft(),{toast:n}=it(),i=r||window.location.pathname.split("/").pop(),l=new URLSearchParams(window.location.search),c=window.location.hash.split("/").pop(),d=i||l.get("id")||c;console.log("PropertyDetails component loaded with ID:",r),console.log("Extracted property ID:",i),console.log("Final property ID:",d),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname);const[m,f]=h.useState(null),[y,g]=h.useState([]),[x,v]=h.useState(!0),[b,w]=h.useState(!1),[N,C]=h.useState(0),[E,P]=h.useState(0),[O,q]=h.useState(!0),[A,M]=h.useState({message:""}),[V,k]=h.useState(!1),[R,B]=h.useState(""),[_,$]=h.useState("");h.useEffect(()=>{d&&d!=="undefined"&&d!==""&&d.length>0&&d!=="null"&&!d.includes("undefined")?(T(),Y(),W()):(console.error("Property ID is undefined or invalid:",{id:r,propertyId:i,finalPropertyId:d}),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname),n({title:"Invalid Property ID",description:"The property ID in the URL is invalid or missing. Redirecting to properties page.",variant:"destructive"}),setTimeout(()=>{window.location.href="/properties"},2e3),v(!1))},[d,t]),h.useEffect(()=>{m&&Q()},[m]);const T=async()=>{var le;try{if(!(d&&d!=="undefined"&&d!==""&&d.length>0&&d!=="null"&&!d.includes("undefined"))){console.error("Cannot fetch property details: ID is invalid:",d),v(!1);return}const fe=await re.getProperty(d);if(fe.error)throw new Error(fe.error);const we=((le=fe.data)==null?void 0:le.property)||fe.data;console.log("Property details loaded:",we),f(we)}catch(he){console.error("Error fetching property:",he),n({title:"Error",description:"Failed to load property details.",variant:"destructive"})}finally{v(!1)}},Q=async()=>{var le,he;try{if(!r)return;const fe={propertyType:m==null?void 0:m.propertyType,city:(le=m==null?void 0:m.location)==null?void 0:le.city,limit:3},we=await re.getProperties(fe);if(we.error)throw new Error(we.error);const Te=(((he=we.data)==null?void 0:he.properties)||we.data||[]).filter(gt=>gt._id!==r);g(Te)}catch(fe){console.error("Error fetching related properties:",fe)}},Y=async()=>{var le;if(!(!t||!d))try{const he=await re.checkIfLiked(d);w(((le=he.data)==null?void 0:le.hasLiked)||!1)}catch(he){console.error("Error checking saved status:",he),w(!1)}},F=async()=>{if(!t||!r){n({title:"Login Required",description:"Please login to save properties.",variant:"destructive"});return}try{b?(await re.unlikeProperty(d),w(!1),n({title:"Removed from Saved",description:"Property removed from your saved list"})):(await re.likeProperty(d),w(!0),n({title:"Saved Property",description:"Property added to your saved list"}))}catch(le){console.error("Error toggling save:",le),n({title:"Error",description:"Failed to update saved status.",variant:"destructive"})}},I=async le=>{if(le.preventDefault(),!t){n({title:"Login Required",description:"Please login to send inquiries.",variant:"destructive"});return}try{const he={inquiryType:"property_inquiry",subject:`Inquiry about ${(m==null?void 0:m.title)||"Property"}`,message:A.message,contactPreference:"phone",propertyId:r},fe=await re.createInquiry(he);if(fe.error)throw new Error(fe.error);n({title:"Message Sent Successfully!",description:"Your inquiry has been sent to the property owner. They will contact you soon."}),M({message:""})}catch(he){console.error("Error sending inquiry:",he),n({title:"Error",description:(he==null?void 0:he.message)||"Failed to send message. Please try again.",variant:"destructive"})}},D=()=>{if(!t){n({title:"Login Required",description:"Please login to proceed with purchase.",variant:"destructive"});return}n({title:"Purchase Initiated",description:"Redirecting to payment gateway..."})},W=async()=>{if(d)try{const le=await re.getShareCount(d);le.data&&C(le.data.shareCount)}catch(le){console.error("Error fetching share count:",le)}},U=async(le,he)=>{if(!t){n({title:"Login Required",description:"Please login to share properties.",variant:"destructive"});return}try{await re.shareProperty(d,le,he),C(Oe=>Oe+1);const fe=window.location.href,we=`Check out this amazing property: ${m==null?void 0:m.title}`;switch(le){case"copy_link":navigator.clipboard.writeText(fe),n({title:"Link Copied",description:"Property link copied to clipboard!"});break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(we+" "+fe)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(fe)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(we)}&url=${encodeURIComponent(fe)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(fe)}`,"_blank");break;case"email":window.open(`mailto:${he}?subject=${encodeURIComponent(we)}&body=${encodeURIComponent(fe)}`,"_blank");break}n({title:"Property Shared",description:`Property shared via ${le}!`}),k(!1)}catch(fe){console.error("Error sharing property:",fe),n({title:"Error",description:(fe==null?void 0:fe.message)||"Failed to share property.",variant:"destructive"})}},z=()=>{var le;((le=m==null?void 0:m.images)==null?void 0:le.length)>1&&P(he=>he===m.images.length-1?0:he+1)},J=()=>{var le;((le=m==null?void 0:m.images)==null?void 0:le.length)>1&&P(he=>he===0?m.images.length-1:he-1)},se=le=>{P(le)};return x?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-estate-blue"})}):m?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsx(He,{to:"/",children:e.jsxs(H,{variant:"ghost",className:"flex items-center gap-2 hover:bg-accent",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Back to Home"]})})}),e.jsxs("section",{className:"relative",children:[e.jsx("div",{className:"h-96 md:h-[500px] bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden animate-fade-in-up rounded-lg shadow-lg",children:m.images&&m.images.length>0?e.jsxs("div",{className:"relative w-full h-full",children:[O&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-estate-blue border-t-transparent rounded-full animate-spin"})}),e.jsx("img",{src:((ue=m.images[E])==null?void 0:ue.url)||m.images[E]||"/placeholder.svg",alt:`${m.title} - Image ${E+1}`,className:"w-full h-full object-cover transition-all duration-500 ease-out",onLoad:()=>q(!1),onError:le=>{le.currentTarget.src="/placeholder.svg",q(!1)}}),m.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(H,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white smooth-transition hover:scale-110",onClick:J,children:e.jsx(Hj,{className:"w-4 h-4"})}),e.jsx(H,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white smooth-transition hover:scale-110",onClick:z,children:e.jsx(lg,{className:"w-4 h-4"})})]}),m.images.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[E+1," / ",m.images.length]})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-estate-gray-light",children:e.jsx(Et,{className:"w-20 h-20 text-estate-gray"})})}),m.images&&m.images.length>1&&e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:m.images.map((le,he)=>e.jsx("button",{onClick:()=>se(he),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-colors ${he===E?"border-estate-blue":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("img",{src:(le==null?void 0:le.url)||le||"/placeholder.svg",alt:`Thumbnail ${he+1}`,className:"w-full h-full object-cover",onError:fe=>{fe.currentTarget.src="/placeholder.svg"}})},he))})}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 animate-fade-in-right",children:[e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white smooth-transition hover:scale-105",onClick:F,children:[e.jsx(yo,{className:`w-4 h-4 mr-2 smooth-transition ${b?"fill-red-500 text-red-500":""}`}),b?"Saved":"Save"]}),e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white smooth-transition hover:scale-105",onClick:()=>k(!0),children:[e.jsx(Jj,{className:"w-4 h-4 mr-2"}),"Share ",N>0&&`(${N})`]})]})]}),e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"animate-fade-in-up bg-white rounded-xl p-6 shadow-lg border border-gray-100",style:{animationDelay:"200ms"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-gray-900",children:m.title}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(xe=m.location)==null?void 0:xe.address,", ",(oe=m.location)==null?void 0:oe.city,", ",(de=m.location)==null?void 0:de.state]})]})]}),e.jsx(ge,{variant:m.status==="available"?"default":"secondary",children:m.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qn,{className:"w-5 h-5 mr-2 text-estate-blue"}),e.jsxs("span",{className:"font-semibold",children:["",m.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xj,{className:"w-5 h-5 mr-2 text-estate-blue"}),e.jsxs("span",{children:[m.area," sq.ft"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-5 h-5 mr-2 text-estate-blue"}),e.jsx("span",{className:"capitalize",children:m.propertyType})]})]})]}),e.jsx(Gs,{}),e.jsxs("div",{className:"animate-fade-in-up bg-white rounded-xl p-6 shadow-lg border border-gray-100",style:{animationDelay:"400ms"},children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:m.description||"No description available for this property."})]}),m.amenities&&m.amenities.length>0&&e.jsxs("div",{className:"animate-fade-in-up bg-white rounded-xl p-6 shadow-lg border border-gray-100",style:{animationDelay:"600ms"},children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:m.amenities.map((le,he)=>e.jsx(ge,{variant:"outline",className:"smooth-transition hover:scale-105",children:le},he))})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{className:"animate-fade-in-left bg-gradient-to-br from-white to-gray-50 shadow-xl border-0",style:{animationDelay:"300ms"},children:[e.jsx(ye,{className:"bg-gradient-to-r from-estate-blue to-estate-blue-light text-white rounded-t-lg",children:e.jsx(be,{className:"text-xl",children:"Contact Owner"})}),e.jsxs(X,{className:"space-y-4",children:[m.owner&&e.jsxs("div",{className:"p-4 bg-estate-blue-lighter/20 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Property Owner"}),m.owner.phone&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Dr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:m.owner.phone})]})]}),m.listingType==="sale"&&e.jsxs(H,{onClick:D,className:"w-full bg-estate-blue hover:bg-estate-blue-dark text-white smooth-transition hover:scale-105 hover:shadow-lg",size:"lg",children:[e.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Buy Now - ",m.price.toLocaleString()]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Your Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-800 dark:text-gray-200",children:(s==null?void 0:s.fullName)||(t==null?void 0:t.phone)||"Not available"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phone:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-800 dark:text-gray-200",children:(t==null?void 0:t.phone)||"Not available"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"message",children:"Your Message *"}),e.jsx(rr,{id:"message",placeholder:"I'm interested in this property. Please provide more details...",value:A.message,onChange:le=>M({...A,message:le.target.value}),rows:4,required:!0})]}),e.jsxs(H,{type:"submit",className:"w-full smooth-transition hover:scale-105",children:[e.jsx(bc,{className:"w-4 h-4 mr-2"}),"Send Inquiry"]})]})]})]})})]}),y.length>0&&e.jsxs("section",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Related Properties"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(le=>{var Lt,Qt,cr,qt;const he=((Lt=le.images)==null?void 0:Lt.find(sr=>sr.isPrimary))||((Qt=le.images)==null?void 0:Qt[0]),fe=(he==null?void 0:he.url)||he||"/placeholder.svg",we=le.listingType==="rent"?`${(le.monthlyRent||le.price).toLocaleString()}/month`:`${le.price.toLocaleString()}`,Oe=`${(cr=le.location)==null?void 0:cr.address}, ${(qt=le.location)==null?void 0:qt.city}`,Te=le.propertyType.charAt(0).toUpperCase()+le.propertyType.slice(1),gt=le.listingType==="rent"?"For Rent":le.status==="active"?"For Sale":le.status==="sold"?"Sold":"For Sale";return e.jsx(pm,{id:le._id,title:le.title,location:Oe,price:we,area:`${le.area} sq ft`,image:fe,type:Te,status:gt},le._id)})})]})]}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md animate-scale-in",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Share Property"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>U("copy_link"),children:" Copy Link"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>U("whatsapp"),children:" WhatsApp"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>U("facebook"),children:" Facebook"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>U("twitter"),children:" Twitter"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>U("linkedin"),children:" LinkedIn"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{placeholder:"Email address",value:_,onChange:le=>$(le.target.value),className:"flex-1"}),e.jsx(H,{onClick:()=>U("email",_),disabled:!_,children:" Email"})]})]}),e.jsx("div",{className:"flex gap-2 mt-4",children:e.jsx(H,{variant:"outline",className:"flex-1",onClick:()=>k(!1),children:"Cancel"})})]})})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),e.jsx(He,{to:"/properties",children:e.jsx(H,{children:"Browse Properties"})})]})})},AO=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState("created_at"),[m,f]=h.useState("all"),{toast:y}=it();h.useEffect(()=>{g()},[c,m,i]);const g=async()=>{var x;try{n(!0);const v={page:1,limit:50};m!=="all"&&(v.status=m),i&&(v.search=i),c==="price_asc"?(v.sort="priceRange.min",v.order="asc"):c==="price_desc"?(v.sort="priceRange.min",v.order="desc"):c==="name"?(v.sort="name",v.order="asc"):(v.sort="createdAt",v.order="desc"),console.log("Fetching projects with params:",v);const b=await re.getProjects(v);if(b.error)throw b.error;t(((x=b.data)==null?void 0:x.projects)||[])}catch(v){console.error("Error fetching projects:",v),y({title:"Error",description:"Failed to load projects. Please try again.",variant:"destructive"})}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsx("section",{className:"bg-gradient-hero py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Builder Projects"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto",children:"Explore ongoing and upcoming real estate projects from leading developers and builders across the country."})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search projects...",value:i,onChange:x=>l(x.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:m,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"planning",children:"Planning"}),e.jsx(te,{value:"under_construction",children:"Under Construction"}),e.jsx(te,{value:"ready_to_move",children:"Ready to Move"}),e.jsx(te,{value:"launched",children:"Launched"})]})]}),e.jsxs(Xe,{value:c,onValueChange:d,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"created_at",children:"Newest First"}),e.jsx(te,{value:"completion_date",children:"Completion Date"}),e.jsx(te,{value:"name",children:"Name"})]})]}),e.jsx(H,{onClick:g,variant:"outline",children:"Refresh"})]})})})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((x,v)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},v))}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(x=>{var v,b,w,N,C,E;return e.jsx(fm,{id:x._id,name:x.name,location:`${((v=x.location)==null?void 0:v.city)||""}, ${((b=x.location)==null?void 0:b.state)||""}`.trim().replace(/^,\s*|,\s*$/g,""),price_range:`${((w=x.priceRange)==null?void 0:w.min)||0} - ${((N=x.priceRange)==null?void 0:N.max)||0} ${((C=x.priceRange)==null?void 0:C.unit)||""}`,completion_date:x.completionDate,images:((E=x.images)==null?void 0:E.map(P=>P?typeof P=="string"?P:(P==null?void 0:P.url)||null:null).filter(Boolean))||[],status:x.status==="under_construction"?"ongoing":x.status==="ready_to_move"?"completed":x.status==="planning"?"planned":x.status,project_type:x.projectType||"residential",total_units:x.totalUnits,available_units:x.availableUnits,showSaveButton:!0},x._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No Projects Found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})})})]})},MO=({propertyId:r,projectId:t,propertyTitle:s,onSuccess:n,onCancel:i,showUserInfo:l=!1})=>{const[c,d]=h.useState({subject:"",message:"",contactPreference:"phone"}),[m,f]=h.useState(!1),{toast:y}=it(),{user:g}=Ft(),x=async b=>{if(b.preventDefault(),!g){y({title:"Authentication Required",description:"Please log in to make an inquiry",variant:"destructive"});return}if(!c.subject.trim()||!c.message.trim()){y({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}f(!0);try{const w={inquiryType:r?"property_inquiry":"project_inquiry",subject:c.subject,message:c.message,contactPreference:c.contactPreference,propertyId:r||void 0,projectId:t||void 0},N=await re.createInquiry(w);if(N.error)throw new Error(N.error);y({title:"Inquiry Sent Successfully",description:"Your inquiry has been sent to the property owner. You'll receive a response soon!"}),d({subject:"",message:"",contactPreference:"phone"}),n==null||n()}catch(w){console.error("Error submitting inquiry:",w),y({title:"Error",description:"Failed to send inquiry. Please try again.",variant:"destructive"})}finally{f(!1)}},v=(b,w)=>{d(N=>({...N,[b]:w}))};return e.jsxs(G,{className:"w-full max-w-2xl mx-auto",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5 text-blue-500"}),"Make an Inquiry"]}),s&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["About: ",s]})]}),e.jsxs(X,{children:[l&&g&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ir,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Your Information"})]}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",g.phone]}),g.email&&e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",g.email]})]})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"subject",children:"Subject *"}),e.jsx(Se,{id:"subject",placeholder:"What would you like to know?",value:c.subject,onChange:b=>v("subject",b.target.value),maxLength:200,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[c.subject.length,"/200 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"message",children:"Message *"}),e.jsx(rr,{id:"message",placeholder:"Please provide details about your inquiry...",value:c.message,onChange:b=>v("message",b.target.value),rows:4,maxLength:2e3,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[c.message.length,"/2000 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactPreference",children:"Preferred Contact Method"}),e.jsxs(Xe,{value:c.contactPreference,onValueChange:b=>v("contactPreference",b),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select contact method"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"phone",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dr,{className:"h-4 w-4"}),"Phone"]})}),e.jsx(te,{value:"email",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pr,{className:"h-4 w-4"}),"Email"]})}),e.jsx(te,{value:"whatsapp",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bc,{className:"h-4 w-4"}),"WhatsApp"]})})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(H,{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Send Inquiry"]})}),i&&e.jsx(H,{type:"button",variant:"outline",onClick:i,disabled:m,children:"Cancel"})]})]})]})]})},IO=()=>{var q;const{id:r}=tc(),{user:t}=Ft(),{toast:s}=it(),n=hr(),i=r||window.location.pathname.split("/").pop(),l=new URLSearchParams(window.location.search),c=window.location.hash.split("/").pop(),d=i||l.get("id")||c;console.log("ProjectDetails component loaded with ID:",r),console.log("Extracted project ID:",i),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname),console.log("URL search params:",window.location.search),console.log("URL hash:",window.location.hash),console.log("useParams result:",tc()),console.log("Final Project ID:",d);const m=window.location.pathname.split("/");console.log("URL parts:",m),console.log("Last URL part:",m[m.length-1]),console.log('Is last part "undefined"?',m[m.length-1]==="undefined");const[f,y]=h.useState(null),[g,x]=h.useState([]),[v,b]=h.useState(!0);h.useEffect(()=>{if(d&&d!=="undefined"&&d!==""&&d.length>0&&d!=="null"&&!d.includes("undefined"))w(),N();else{console.error("Project ID is undefined or invalid:",{id:r,projectId:i,finalProjectId:d}),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname);const M=window.location.href.includes("/undefined");console.log('URL contains "undefined":',M),s({title:"Invalid Project ID",description:(M?"The URL contains 'undefined' instead of a valid project ID. This usually happens when navigation occurs with an undefined project ID.":"The project ID in the URL is invalid or missing.")+" Redirecting to projects page.",variant:"destructive"}),setTimeout(()=>{n("/projects")},2e3),b(!1)}},[d]);const w=async()=>{var M,V;if(!(d&&d!=="undefined"&&d!==""&&d.length>0&&d!=="null"&&!d.includes("undefined"))){console.error("Cannot fetch project details: ID is invalid:",d),b(!1);return}try{console.log("Fetching project details for ID:",d);let k=await re.getProject(d);if(console.log("Regular project response:",k),k.error&&(console.log("Regular project not found, trying redevelopment project..."),k=await re.getRedevelopmentProject(d),console.log("Redevelopment project response:",k)),k.error){console.error("Both project types failed:",k.error),s({title:"Project Not Found",description:"The project you're looking for doesn't exist or has been removed.",variant:"destructive"}),b(!1);return}console.log("Project data received:",k.data);const R=((M=k.data)==null?void 0:M.project)||k.data;if(console.log("Raw project data:",R),!R)throw new Error("No project data found in response");const B={...R,name:R.name||R.title||"Untitled Project",location:R.location?typeof R.location=="string"?R.location:`${R.location.address||""}, ${R.location.city||""}, ${R.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:R.priceRange?`${R.priceRange.min}${R.priceRange.unit==="lakh"?"L":R.priceRange.unit==="crore"?"Cr":""} - ${R.priceRange.max}${R.priceRange.unit==="lakh"?"L":R.priceRange.unit==="crore"?"Cr":""}`:R.price_range||"Price on request",total_units:R.totalUnits||R.total_units,available_units:R.availableUnits||R.available_units,completion_date:R.completionDate||R.completion_date||((V=R.timeline)==null?void 0:V.expectedCompletionDate),status:R.status||"unknown",amenities:R.amenities||R.expectedAmenities||[],images:R.images||[],brochures:R.brochures||[],documents:R.documents||[],description:R.description||"No description available",developers:R.developer||R.developers,project_type:R.projectType||R.project_type||"residential"};console.log("Transformed project data:",B),y(B)}catch(k){console.error("Error fetching project:",k),s({title:"Error",description:"Failed to load project details. Please try again.",variant:"destructive"})}finally{b(!1)}},N=async()=>{try{const A=await re.getProjects();if(A.error)throw new Error(A.error);let M=[];Array.isArray(A.data)?M=A.data:A.data&&Array.isArray(A.data.projects)?M=A.data.projects:A.data&&Array.isArray(A.data.data)&&(M=A.data.data);const k=M.filter(R=>R._id!==r).slice(0,3).map(R=>{var B;return{id:R._id||R.id,name:R.name,location:R.location?typeof R.location=="string"?R.location:`${R.location.address||""}, ${R.location.city||""}, ${R.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:R.priceRange?`${R.priceRange.min}${R.priceRange.unit==="lakh"?"L":R.priceRange.unit==="crore"?"Cr":""} - ${R.priceRange.max}${R.priceRange.unit==="lakh"?"L":R.priceRange.unit==="crore"?"Cr":""}`:R.price_range||"Price on request",completion_date:R.completionDate||R.completion_date,images:((B=R.images)==null?void 0:B.map(_=>_?typeof _=="string"?_:(_==null?void 0:_.url)||null:null).filter(Boolean))||[],status:R.status==="under_construction"?"ongoing":R.status==="ready_to_move"?"completed":R.status==="planning"?"planned":R.status,project_type:R.projectType||R.project_type||"residential",total_units:R.totalUnits||R.total_units,available_units:R.availableUnits||R.available_units}});x(k)}catch(A){console.error("Error fetching related projects:",A),x([])}},C=async()=>{const A={title:f.name,text:`Check out this amazing project: ${f.name}`,url:window.location.href};if(navigator.share)try{await navigator.share(A)}catch(M){M.name!=="AbortError"&&(console.error("Error sharing:",M),await E())}else await E()},E=async()=>{try{await navigator.clipboard.writeText(window.location.href),s({title:"Link Copied!",description:"Project link has been copied to your clipboard."})}catch(A){console.error("Failed to copy to clipboard:",A),P()}},P=()=>{const A=document.createElement("textarea");A.value=window.location.href,A.style.position="fixed",A.style.left="-999999px",A.style.top="-999999px",document.body.appendChild(A),A.focus(),A.select();try{document.execCommand("copy"),s({title:"Link Copied!",description:"Project link has been copied to your clipboard."})}catch(M){console.error("Fallback copy failed:",M),s({title:"Copy Failed",description:"Unable to copy link. Please copy manually from the address bar.",variant:"destructive"})}finally{document.body.removeChild(A)}};if(!i||i==="undefined")return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invalid Project ID"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The project ID in the URL is invalid or missing."}),e.jsx(He,{to:"/projects",children:e.jsx(H,{children:"Browse Projects"})})]})});if(v)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-estate-blue mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading project details..."})]})});if(!f)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Project Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The project you're looking for doesn't exist or has been removed."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(He,{to:"/projects",children:e.jsx(H,{children:"Browse Projects"})}),e.jsx(H,{variant:"outline",onClick:()=>n(-1),children:"Go Back"})]})]})});const O=A=>{switch(A){case"ongoing":return"bg-blue-500 text-white";case"completed":return"bg-green-500 text-white";case"planned":return"bg-yellow-500 text-white";case"on_hold":return"bg-gray-500 text-white";default:return"bg-blue-500 text-white"}};return console.log("ProjectDetails rendering with project:",f),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("section",{className:"relative",children:[e.jsx("div",{className:"h-96 md:h-[500px] bg-gradient-card",children:f.images&&f.images[0]?e.jsx("img",{src:((q=f.images[0])==null?void 0:q.url)||(typeof f.images[0]=="string"?f.images[0]:null),alt:f.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-estate-gray-light",children:e.jsx(jt,{className:"w-20 h-20 text-estate-gray"})})}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between",children:[e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:()=>n(-1),children:[e.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:C,children:[e.jsx(Jj,{className:"w-4 h-4 mr-2"}),"Share"]})]})]}),e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3",children:f.name||"Untitled Project"}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"break-words",children:f.location||"Location not specified"})]})]}),e.jsx(ge,{className:`${O(f.status)} self-start`,children:f.status?f.status.replace("_"," ").toUpperCase():"UNKNOWN"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-base sm:text-lg",children:[e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(jt,{className:"w-5 h-5 mr-2 text-estate-blue flex-shrink-0"}),e.jsx("span",{className:"font-semibold truncate",children:f.price_range||"Price on request"})]}),f.total_units&&e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(Pt,{className:"w-5 h-5 mr-2 text-estate-blue flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[f.available_units||0,"/",f.total_units," units"]})]}),f.completion_date&&e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(tr,{className:"w-5 h-5 mr-2 text-estate-blue flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Expected: ",new Date(f.completion_date).toLocaleDateString()]})]})]})]}),e.jsx(Gs,{}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About Project"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:f.description||"No description available for this project."})]}),f.amenities&&f.amenities.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.amenities.map((A,M)=>e.jsx(ge,{variant:"outline",children:A},M))})]}),f.images&&f.images.length>1&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f.images.map((A,M)=>e.jsxs("div",{className:"relative group cursor-pointer",children:[e.jsx("img",{src:(A==null?void 0:A.url)||(typeof A=="string"?A:null),alt:`${f.name} - Image ${M+1}`,className:"w-full h-32 object-cover rounded-lg border hover:shadow-lg transition-shadow"}),(A==null?void 0:A.isPrimary)&&e.jsx(ge,{className:"absolute top-2 left-2 text-xs",children:"Primary"})]},M))})]}),f.videos&&f.videos.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Videos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.videos.map((A,M)=>e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:(A==null?void 0:A.url)||(typeof A=="string"?A:null),controls:!0,className:"w-full h-64 object-cover rounded-lg border",poster:A==null?void 0:A.thumbnail,children:"Your browser does not support the video tag."}),(A==null?void 0:A.caption)&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:A.caption})]},M))})]}),f.brochures&&f.brochures.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Brochures"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.brochures.map((A,M)=>e.jsx(G,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:(A==null?void 0:A.name)||`Project Brochure ${M+1}`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF Document"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{const V=(A==null?void 0:A.url)||(typeof A=="string"?A:null);V&&window.open(V,"_blank")},children:"View PDF"})]})})},M))})]}),f.documents&&f.documents.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.documents.map((A,M)=>e.jsx(G,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:(A==null?void 0:A.name)||`Project Document ${M+1}`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:A!=null&&A.type?A.type.replace("_"," ").toUpperCase():"PDF Document"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{const V=(A==null?void 0:A.url)||(typeof A=="string"?A:null);V&&window.open(V,"_blank")},children:"View PDF"})]})})},M))})]}),f.floor_plans&&Object.keys(f.floor_plans).length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Floor Plans"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(f.floor_plans).map(([A,M])=>e.jsx(G,{children:e.jsxs(X,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-2 capitalize",children:A?A.replace("_"," "):"Unknown Type"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[M.area&&e.jsxs("p",{children:["Area: ",M.area]}),M.price&&e.jsxs("p",{children:["Price: ",M.price]}),M.description&&e.jsx("p",{children:M.description})]})]})},A))})]})]}),e.jsx("div",{className:"space-y-6 lg:sticky lg:top-8",children:e.jsxs("div",{className:"space-y-4",children:[f.developers&&e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Developer Information"})}),e.jsx(X,{children:e.jsxs("div",{className:"p-4 bg-estate-blue-lighter/20 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.developers.company_name||"Developer",f.developers.verification_status==="verified"&&e.jsx(ge,{className:"bg-green-100 text-green-800 text-xs",children:"Verified"})]}),f.developers.website&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:f.developers.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"Visit Website"})]})]})})]}),e.jsx(MO,{projectId:d,propertyTitle:f==null?void 0:f.name,showUserInfo:!0,onSuccess:()=>{s({title:"Inquiry Sent Successfully",description:"Your inquiry has been sent to the developer. You'll receive a response soon!"})}})]})})]}),g.length>0&&e.jsxs("section",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Similar Projects"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(A=>e.jsx(fm,{id:A.id,name:A.name,location:A.location,price_range:A.price_range,completion_date:A.completion_date,images:A.images||[],status:A.status,total_units:A.total_units,available_units:A.available_units,project_type:A.project_type},A.id))})]})]})]})},OO=()=>{const r=[{id:1,title:"Top 10 Real Estate Investment Tips for 2024",excerpt:"Discover the latest strategies for maximizing your real estate investments in today's market. From location analysis to market timing, learn the essential tips every investor should know.",category:"Investment",author:"Rajesh Kumar",date:"March 15, 2024",readTime:"5 min read",image:"/api/placeholder/400/250"},{id:2,title:"NRI Property Investment: Complete Guide",excerpt:"Everything Non-Resident Indians need to know about investing in Indian real estate. Legal requirements, tax implications, and best practices for overseas investors.",category:"NRI Guide",author:"Priya Sharma",date:"March 12, 2024",readTime:"8 min read",image:"/api/placeholder/400/250"},{id:3,title:"Mumbai Real Estate Market Trends 2024",excerpt:"An in-depth analysis of Mumbai's property market, including price trends, upcoming projects, and investment hotspots. What buyers and investors need to know.",category:"Market Analysis",author:"Amit Patel",date:"March 10, 2024",readTime:"6 min read",image:"/api/placeholder/400/250"},{id:4,title:"First-Time Home Buyer's Checklist",excerpt:"A comprehensive checklist for first-time home buyers. From budgeting and loan approval to property inspection and legal documentation.",category:"Buying Guide",author:"Sneha Verma",date:"March 8, 2024",readTime:"7 min read",image:"/api/placeholder/400/250"},{id:5,title:"Commercial Real Estate: Opportunities in Tier 2 Cities",excerpt:"Exploring the growing commercial real estate opportunities in India's tier 2 cities. Market potential, rental yields, and investment prospects.",category:"Commercial",author:"Vikram Singh",date:"March 5, 2024",readTime:"6 min read",image:"/api/placeholder/400/250"},{id:6,title:"Sustainable Housing: Green Building Trends",excerpt:"The rise of eco-friendly and sustainable housing solutions. Green building certifications, energy efficiency, and their impact on property values.",category:"Sustainability",author:"Dr. Meera Joshi",date:"March 3, 2024",readTime:"5 min read",image:"/api/placeholder/400/250"}],t=["All","Investment","NRI Guide","Market Analysis","Buying Guide","Commercial","Sustainability"],s=r[0],n=r.slice(1);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-hero py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Real Estate Blog"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto",children:"Stay updated with the latest real estate news, market insights, investment tips, and industry trends."})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:t.map(i=>e.jsx(H,{variant:i==="All"?"default":"outline",size:"sm",className:"rounded-full",children:i},i))})})}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Featured Article"}),e.jsx(G,{className:"overflow-hidden shadow-medium hover:shadow-strong transition-shadow",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"h-64 md:h-full bg-gradient-card flex items-center justify-center",children:e.jsx("div",{className:"text-6xl text-estate-gray",children:""})})}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsxs(ye,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ge,{children:s.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.readTime})]}),e.jsx("h3",{className:"text-2xl font-bold",children:s.title})]}),e.jsxs(X,{children:[e.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:s.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:s.author})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(tr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:s.date})]})]}),e.jsxs(H,{children:["Read More",e.jsx(qn,{className:"w-4 h-4 ml-2"})]})]})]})]})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Latest Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(i=>e.jsxs(G,{className:"overflow-hidden hover:shadow-medium transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"h-48 bg-gradient-card flex items-center justify-center",children:e.jsx("div",{className:"text-4xl text-estate-gray",children:""})}),e.jsxs(ye,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ge,{variant:"outline",children:i.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i.readTime})]}),e.jsx("h3",{className:"text-xl font-semibold group-hover:text-estate-blue transition-colors",children:i.title})]}),e.jsxs(X,{children:[e.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:i.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:i.author})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(tr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:i.date})]})]})]})]},i.id))})]}),e.jsx("section",{className:"mt-16 py-16 bg-gradient-primary rounded-2xl text-center",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stay Updated with Real Estate Insights"}),e.jsx("p",{className:"text-white/90 mb-8",children:"Subscribe to our newsletter for the latest market trends, investment tips, and exclusive property opportunities."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg border-0 focus:outline-none focus:ring-2 focus:ring-white/30"}),e.jsx(H,{variant:"secondary",className:"whitespace-nowrap",children:"Subscribe Now"})]})]})})]})]})},G2=({selectedState:r,selectedCity:t,onStateChange:s,onCityChange:n})=>{const[i,l]=h.useState([]);return h.useEffect(()=>{if(r){const c=Ru(r);l(c),t&&!c.includes(t)&&n("")}else l([])},[r]),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"state",children:"State *"}),e.jsxs(Xe,{value:r,onValueChange:s,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select state"})}),e.jsx(Ke,{children:Ug().map(c=>e.jsx(te,{value:c,children:c},c))})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"city",children:"City *"}),e.jsxs(Xe,{value:t,onValueChange:n,disabled:!r,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:r?"Select city":"Select state first"})}),e.jsx(Ke,{children:i.map(c=>e.jsx(te,{value:c,children:c},c))})]})]})]})},Fn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/webp,application/pdf",VITE_API_URL:"https://milkatpost.com/api",VITE_APP_DESCRIPTION:"Real Estate Management Platform",VITE_APP_NAME:"Milkat Post",VITE_APP_VERSION:"1.0.0",VITE_CSP_NONCE:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG:"false",VITE_ENABLE_PRECACHING:"true",VITE_ENABLE_SERVICE_WORKER:"true",VITE_GA_TRACKING_ID:"your-production-google-analytics-id",VITE_MAX_FILE_SIZE:"10485760",VITE_NODE_ENV:"production",VITE_SUPPORT_EMAIL:"support@milkatpost.com",VITE_WS_URL:"wss://milkatpost.com"},FO=()=>{const{user:r}=Ft(),t=hr(),{toast:s}=it(),n=h.useRef(null),i=h.useRef(null),[l,c]=h.useState(!1),[d,m]=h.useState(!1),[f,y]=h.useState({title:"",description:"",price:"",area:"",location:"",city:"",state:"",country:"India",property_type:"",listing_type:"",images:[],videos:[],amenities:[]}),[g,x]=h.useState(""),[v,b]=h.useState(null),w=["Swimming Pool","Gym/Fitness Center","Parking","Security","24/7 Power Backup","Elevator/Lift","Garden/Landscaping","Playground","Club House","Internet/Wi-Fi","Air Conditioning","Balcony","Furnished","Semi-Furnished"],N=["Apartment","Villa","Independent House","Duplex","Penthouse","Studio","Farmhouse","Row House","Bungalow","Residential Land","Commercial Space","Office Space","Retail Shop","Warehouse","Industrial Land"],C=["For Sale","For Rent","Redevelopment"];if(!r)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsxs(X,{className:"p-8 text-center",children:[e.jsx(Et,{className:"w-16 h-16 text-estate-gray mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to post your property listing."}),e.jsx(H,{onClick:()=>t("/auth"),className:"w-full",children:"Go to Login"})]})})});const E=(T,Q)=>{y(Y=>({...Y,[T]:Q}))},P=T=>{y(Q=>({...Q,state:T,city:""}))},O=T=>{y(Q=>({...Q,city:T}))},q=T=>{y(Q=>({...Q,amenities:Q.amenities.includes(T)?Q.amenities.filter(Y=>Y!==T):[...Q.amenities,T]}))},A=()=>{const T=g.trim();if(T&&!f.amenities.includes(T)){const Q=T.toLowerCase().replace(/\s+/g,"_");["parking","security","gym","swimming_pool","garden","playground","clubhouse","power_backup","water_supply","elevator","balcony","terrace","modular_kitchen","wardrobe","ac","furnished","semi_furnished"].includes(Q)?(y(F=>({...F,amenities:[...F.amenities,T]})),x("")):s({title:"Invalid amenity",description:"This amenity is not supported. Please choose from the predefined list or use a supported amenity.",variant:"destructive"})}},M=T=>{y(Q=>({...Q,amenities:Q.amenities.filter(Y=>Y!==T)}))},V=async T=>{const Q=T.target.files;if(!(!Q||!r)){m(!0);try{if(typeof import.meta<"u"&&(Fn==null?void 0:Fn.VITE_MOCK_OTP)==="true"){const F=[];let I=0;for(const D of Array.from(Q)){const W=new FileReader;W.onload=U=>{var z;(z=U.target)!=null&&z.result&&(F.push(U.target.result),I++,I===Q.length&&(y(J=>({...J,images:[...J.images,...F]})),s({title:"Success!",description:`${F.length} image(s) uploaded successfully.`}),m(!1)))},W.readAsDataURL(D)}}else{const F=Array.from(Q),I=await re.uploadPropertyImages(F);if(I.error)throw new Error(I.error);const D=I.data.images.map(W=>({url:W.url,caption:W.caption||"Property image",isPrimary:W.isPrimary||!1}));y(W=>({...W,images:[...W.images,...D]})),s({title:"Success!",description:`${D.length} image(s) uploaded successfully.`}),m(!1)}}catch(Y){console.error("Error uploading images:",Y),s({title:"Error",description:"Failed to upload images. Please try again.",variant:"destructive"}),m(!1)}}},k=async T=>{const Q=T.target.files;if(!(!Q||!r)){m(!0);try{if(typeof import.meta<"u"&&(Fn==null?void 0:Fn.VITE_MOCK_OTP)==="true"){const F=[];for(const I of Array.from(Q)){if(I.size>100*1024*1024){s({title:"File too large",description:`${I.name} is larger than 100MB. Please choose a smaller file.`,variant:"destructive"});continue}const D=`https://example.com/mock-video-${Date.now()}-${Math.random().toString(36).substring(7)}.mp4`;F.push(D)}y(I=>({...I,videos:[...I.videos,...F]})),s({title:"Success!",description:`${F.length} video(s) uploaded successfully.`}),m(!1)}else{const F=Array.from(Q),I=[];for(const D of F){if(D.size>100*1024*1024){s({title:"File too large",description:`${D.name} is larger than 100MB. Please choose a smaller file.`,variant:"destructive"});continue}try{const W=await re.uploadSingleFile(D,"property_video");if(W.error){console.error(`Error uploading ${D.name}:`,W.error),s({title:"Upload Warning",description:`Failed to upload ${D.name}. Please try again.`,variant:"destructive"});continue}const U=W.data.media.url.startsWith("http")?W.data.media.url:`http://localhost:5000${W.data.media.url}`;I.push(U)}catch(W){console.error(`Error uploading ${D.name}:`,W),s({title:"Upload Warning",description:`Failed to upload ${D.name}. Please try again.`,variant:"destructive"})}}I.length>0&&(y(D=>({...D,videos:[...D.videos,...I]})),s({title:"Success!",description:`${I.length} video(s) uploaded successfully.`})),m(!1)}}catch(Y){console.error("Error uploading videos:",Y),s({title:"Error",description:"Failed to upload videos. Please try again.",variant:"destructive"}),m(!1)}}},R=T=>{y(Q=>({...Q,images:Q.images.filter(Y=>(typeof Y=="string"?Y:Y.url)!==T)}))},B=T=>{y(Q=>({...Q,videos:Q.videos.filter(Y=>Y!==T)})),v===T&&b(null)},_=T=>{b(v===T?null:T)},$=async T=>{if(T.preventDefault(),!l){if(!f.title||f.title.length<5){s({title:"Validation Error",description:"Title must be at least 5 characters long.",variant:"destructive"});return}if(!f.description||f.description.length<10){s({title:"Validation Error",description:"Description must be at least 10 characters long.",variant:"destructive"});return}if(!f.price||parseFloat(f.price)<=0){s({title:"Validation Error",description:"Please enter a valid price.",variant:"destructive"});return}if(!f.area||parseFloat(f.area)<=0){s({title:"Validation Error",description:"Please enter a valid area.",variant:"destructive"});return}if(!f.location||f.location.length<5){s({title:"Validation Error",description:"Location must be at least 5 characters long.",variant:"destructive"});return}if(!f.city||f.city.length<2){s({title:"Validation Error",description:"Please select a valid city.",variant:"destructive"});return}if(!f.state||f.state.length<2){s({title:"Validation Error",description:"Please select a valid state.",variant:"destructive"});return}if(!f.property_type){s({title:"Validation Error",description:"Please select a property type.",variant:"destructive"});return}if(!f.listing_type){s({title:"Validation Error",description:"Please select a listing type.",variant:"destructive"});return}c(!0);try{if(typeof import.meta<"u"&&(Fn==null?void 0:Fn.VITE_MOCK_OTP)==="true")s({title:"Success!",description:"Your property listing has been posted successfully."}),t("/properties");else{const Y={Apartment:"apartment",Villa:"villa","Independent House":"house",Duplex:"house",Penthouse:"apartment",Studio:"apartment",Farmhouse:"house","Row House":"house",Bungalow:"house","Residential Land":"plot","Commercial Space":"commercial","Office Space":"office","Retail Shop":"shop",Warehouse:"warehouse","Industrial Land":"other"},F={"For Sale":"sale","For Rent":"rent",Redevelopment:"lease"},I={"Swimming Pool":"swimming_pool","Gym/Fitness Center":"gym",Parking:"parking",Security:"security","24/7 Power Backup":"power_backup","Elevator/Lift":"elevator","Garden/Landscaping":"garden",Playground:"playground","Club House":"clubhouse","Air Conditioning":"ac",Balcony:"balcony",Furnished:"furnished","Semi-Furnished":"semi_furnished"},D=["parking","security","gym","swimming_pool","garden","playground","clubhouse","power_backup","water_supply","elevator","balcony","terrace","modular_kitchen","wardrobe","ac","furnished","semi_furnished"],W={title:f.title,description:f.description,price:parseFloat(f.price),area:parseFloat(f.area),location:{address:f.location,city:f.city,state:f.state,country:f.country},propertyType:Y[f.property_type]||"other",listingType:F[f.listing_type]||"sale",images:f.images.map((z,J)=>typeof z=="string"?{url:z,caption:`Property image ${J+1}`,isPrimary:J===0}:{url:z.url,caption:z.caption||`Property image ${J+1}`,isPrimary:z.isPrimary||J===0}),videos:f.videos.map((z,J)=>({url:z,caption:`Property video ${J+1}`})),amenities:(()=>{const z=f.amenities.map(ue=>I[ue]||ue.toLowerCase().replace(/\s+/g,"_")),J=z.filter(ue=>D.includes(ue)),se=z.length-J.length;return se>0&&s({title:"Some amenities removed",description:`${se} amenity(ies) were removed as they are not supported. Only predefined amenities are allowed.`,variant:"destructive"}),J})()};console.log("Sending property data:",W);const U=await re.createProperty(W);if(U.error)throw console.error("Property creation error:",U.error),new Error(U.error);s({title:"Success!",description:"Your property listing has been posted successfully."}),t("/properties")}}catch(Q){console.error("Error posting property:",Q),s({title:"Error",description:"Failed to post property. Please try again.",variant:"destructive"})}finally{c(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx(_s,{}),e.jsx("main",{className:"container py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Post Your Property"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"List your property and connect with potential buyers, renters, and investors"})]}),e.jsxs(G,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsx(ye,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-estate-blue rounded-lg flex items-center justify-center",children:e.jsx(Et,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(be,{className:"text-2xl font-bold text-slate-900",children:"Property Details"}),e.jsx("p",{className:"text-slate-600",children:"Complete all sections to create your listing"})]})]})}),e.jsx(X,{children:e.jsxs("form",{onSubmit:$,className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Et,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"title",children:"Title *"}),e.jsx(Se,{id:"title",placeholder:"Enter property title",value:f.title,onChange:T=>E("title",T.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"description",children:"Description *"}),e.jsx(rr,{id:"description",placeholder:"Describe your property",value:f.description,onChange:T=>E("description",T.target.value),required:!0,className:"min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"price",children:"Price (INR) *"}),e.jsx(Se,{id:"price",type:"number",placeholder:"Enter price",value:f.price,onChange:T=>E("price",T.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"area",children:"Area (sqft) *"}),e.jsx(Se,{id:"area",type:"number",placeholder:"Enter area in sqft",value:f.area,onChange:T=>E("area",T.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-8 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Location Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"location",children:"Location *"}),e.jsx(Se,{id:"location",placeholder:"Enter detailed location",value:f.location,onChange:T=>E("location",T.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"State & City *"}),e.jsx(G2,{selectedState:f.state,selectedCity:f.city,onStateChange:P,onCityChange:O})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"property_type",children:"Property Type *"}),e.jsxs(Xe,{value:f.property_type,onValueChange:T=>E("property_type",T),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select property type"})}),e.jsx(Ke,{children:N.map(T=>e.jsx(te,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"listing_type",children:"Listing Type *"}),e.jsxs(Xe,{value:f.listing_type,onValueChange:T=>E("listing_type",T),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select listing type"})}),e.jsx(Ke,{children:C.map(T=>e.jsx(te,{value:T,children:T},T))})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-8 border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Amenities & Features"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.map(T=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${f.amenities.includes(T)?"border-primary bg-primary/10":"border-input hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($a,{id:T,checked:f.amenities.includes(T),onCheckedChange:()=>q(T),className:"rounded-full"}),e.jsx(ne,{htmlFor:T,className:"text-sm font-medium cursor-pointer",children:T})]})},T))}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ne,{htmlFor:"other-amenity",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{id:"other-amenity",value:g,onChange:T=>x(T.target.value),placeholder:"e.g., terrace, wardrobe, modular kitchen",onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),A())}),e.jsx(H,{type:"button",onClick:A,disabled:!g.trim(),variant:"outline",className:"whitespace-nowrap",children:"Add Amenity"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported amenities: terrace, wardrobe, modular kitchen, water supply"})]}),f.amenities.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Selected Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.amenities.map((T,Q)=>e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 py-2 px-3 text-sm",children:[T,e.jsx("button",{type:"button",onClick:()=>M(T),className:"ml-1 hover:text-destructive",children:e.jsx(Rt,{className:"w-3 h-3"})})]},Q))})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-8 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(bp,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Photos & Videos"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"block mb-2",children:"Images"}),e.jsxs(H,{type:"button",variant:"outline",onClick:()=>{var T;return(T=n.current)==null?void 0:T.click()},disabled:d,className:"w-full h-12 border-2 border-dashed border-orange-300 hover:border-orange-400 hover:bg-orange-50 transition-all duration-200",children:[e.jsx(bp,{className:"mr-2 h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:d?"Uploading...":"Upload Images"})]}),e.jsx("input",{ref:n,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:V})]}),f.images.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[f.images.length," image",f.images.length!==1?"s":""," uploaded"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:f.images.map((T,Q)=>{const Y=typeof T=="string"?T:T.url;return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-xl border-2 border-orange-200 hover:border-orange-300 transition-colors",children:e.jsx("img",{src:Y,alt:`Property ${Q+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:F=>{console.error("Image failed to load:",Y),F.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSIjOWNhM2FmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgRXJyb3I8L3RleHQ+PC9zdmc+"}})}),e.jsx("button",{type:"button",onClick:()=>R(Y),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-lg",children:e.jsx(Rt,{className:"w-3 h-3"})})]},Q)})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"block mb-2",children:"Videos"}),e.jsxs(H,{type:"button",variant:"outline",onClick:()=>{var T;return(T=i.current)==null?void 0:T.click()},disabled:d,className:"w-full h-12 border-2 border-dashed border-orange-300 hover:border-orange-400 hover:bg-orange-50 transition-all duration-200",children:[e.jsx(jp,{className:"mr-2 h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:d?"Uploading...":"Upload Videos"})]}),e.jsx("input",{ref:i,type:"file",accept:"video/*",multiple:!0,className:"hidden",onChange:k})]}),f.videos.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4",children:f.videos.map((T,Q)=>e.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[v===T?e.jsx("video",{src:T,className:"w-full h-32 object-cover",controls:!0,autoPlay:!0,onEnded:()=>b(null)}):e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:T,className:"w-full h-32 object-cover",muted:!0}),e.jsx("button",{type:"button",onClick:()=>_(T),className:"absolute inset-0 flex items-center justify-center bg-black/50 hover:bg-black/70 transition-colors",children:e.jsx(Qj,{className:"w-8 h-8 text-white"})})]}),e.jsx("button",{type:"button",onClick:()=>B(T),className:"absolute top-1 right-1 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-md",children:e.jsx(Rt,{className:"w-3 h-3"})})]},Q))})]})]})]}),e.jsx("div",{className:"flex justify-center pt-8",children:e.jsx(H,{type:"submit",className:"w-full md:w-auto px-12 py-4 bg-gradient-to-r from-estate-blue to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",disabled:l||d,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting Property..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"w-5 h-5"}),"Post Property"]})})})]})})]})]})}),e.jsx(bn,{})]})},Uf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/webp,application/pdf",VITE_API_URL:"https://milkatpost.com/api",VITE_APP_DESCRIPTION:"Real Estate Management Platform",VITE_APP_NAME:"Milkat Post",VITE_APP_VERSION:"1.0.0",VITE_CSP_NONCE:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG:"false",VITE_ENABLE_PRECACHING:"true",VITE_ENABLE_SERVICE_WORKER:"true",VITE_GA_TRACKING_ID:"your-production-google-analytics-id",VITE_MAX_FILE_SIZE:"10485760",VITE_NODE_ENV:"production",VITE_SUPPORT_EMAIL:"support@milkatpost.com",VITE_WS_URL:"wss://milkatpost.com"},LO=()=>{const{id:r}=tc(),{user:t}=Ft(),s=hr(),{toast:n}=it(),i=h.useRef(null),[l,c]=h.useState(!1),[d,m]=h.useState(!0),[f,y]=h.useState(!1),[g,x]=h.useState({title:"",description:"",price:"",area:"",location:"",city:"",state:"",country:"India",property_type:"",listing_type:"",images:[],amenities:[]}),[v,b]=h.useState(""),w=["Swimming Pool","Gym/Fitness Center","Parking","Security","24/7 Power Backup","Elevator/Lift","Garden/Landscaping","Playground","Club House","Internet/Wi-Fi","Air Conditioning","Balcony","Furnished","Semi-Furnished"],N={swimming_pool:"Swimming Pool",gym:"Gym/Fitness Center",parking:"Parking",security:"Security",power_backup:"24/7 Power Backup",elevator:"Elevator/Lift",garden:"Garden/Landscaping",playground:"Playground",clubhouse:"Club House",water_supply:"Internet/Wi-Fi",ac:"Air Conditioning",balcony:"Balcony",furnished:"Furnished",semi_furnished:"Semi-Furnished"},C={"Swimming Pool":"swimming_pool","Gym/Fitness Center":"gym",Parking:"parking",Security:"security","24/7 Power Backup":"power_backup","Elevator/Lift":"elevator","Garden/Landscaping":"garden",Playground:"playground","Club House":"clubhouse","Internet/Wi-Fi":"water_supply","Air Conditioning":"ac",Balcony:"balcony",Furnished:"furnished","Semi-Furnished":"semi_furnished"};if(h.useEffect(()=>{(async()=>{var R,B,_,$,T,Q;if(!r||!t){console.log("Missing id or user:",{id:r,user:t});return}console.log("Fetching property with ID:",r);try{m(!0);const{data:Y,error:F}=await re.getProperty(r);if(console.log("Property API response:",{data:Y,error:F}),F)throw F;if(Y){const I=Y.property||Y;console.log("Setting form data with property:",I),x({title:I.title||"",description:I.description||"",price:((R=I.price)==null?void 0:R.toString())||"",area:((B=I.area)==null?void 0:B.toString())||"",location:((_=I.location)==null?void 0:_.address)||I.location||"",city:(($=I.location)==null?void 0:$.city)||I.city||"",state:((T=I.location)==null?void 0:T.state)||I.state||"",country:((Q=I.location)==null?void 0:Q.country)||I.country||"India",property_type:I.propertyType||I.property_type||"",listing_type:I.listingType||I.listing_type||"",images:I.images||[],amenities:(I.amenities||[]).map(D=>N[D]||D)}),console.log("Form data set successfully")}else console.log("No data received from API")}catch(Y){console.error("Error fetching property:",Y),n({title:"Error",description:"Failed to load property data",variant:"destructive"}),s("/buyer-seller/dashboard")}finally{m(!1)}})()},[r,t,s,n]),!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsxs(X,{className:"p-8 text-center",children:[e.jsx(Et,{className:"w-16 h-16 text-estate-gray mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to edit your property listing."}),e.jsx(H,{onClick:()=>s("/auth"),className:"w-full",children:"Go to Login"})]})})});if(d)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const E=(k,R)=>{x(B=>({...B,[k]:R}))},P=k=>{x(R=>({...R,amenities:R.amenities.includes(k)?R.amenities.filter(B=>B!==k):[...R.amenities,k]}))},O=()=>{v.trim()&&!g.amenities.includes(v.trim())&&(x(k=>({...k,amenities:[...k.amenities,v.trim()]})),b(""))},q=k=>{x(R=>({...R,amenities:R.amenities.filter(B=>B!==k)}))},A=async k=>{const R=k.target.files;if(!(!R||!t)){y(!0);try{if(typeof import.meta<"u"&&(Uf==null?void 0:Uf.VITE_MOCK_OTP)==="true"){const _=[];let $=0;for(const T of Array.from(R)){const Q=new FileReader;Q.onload=Y=>{var F;(F=Y.target)!=null&&F.result&&(_.push(Y.target.result),$++,$===R.length&&(x(I=>({...I,images:[...I.images,..._]})),n({title:"Success!",description:`${_.length} image(s) uploaded successfully.`}),y(!1)))},Q.readAsDataURL(T)}}else{const _=Array.from(R),$=await re.uploadPropertyImages(_);if($.error)throw new Error($.error);const T=$.data.images.map(Q=>({url:Q.url,caption:Q.caption||"Property image",isPrimary:Q.isPrimary||!1}));x(Q=>({...Q,images:[...Q.images,...T]})),n({title:"Success!",description:`${T.length} image(s) uploaded successfully.`}),y(!1)}}catch(B){console.error("Error uploading images:",B),n({title:"Error",description:"Failed to upload images. Please try again.",variant:"destructive"}),y(!1)}}},M=k=>{x(R=>({...R,images:R.images.filter(B=>(typeof B=="string"?B:B.url)!==k)}))},V=async k=>{if(k.preventDefault(),!(!t||!r)){c(!0);try{const{error:R}=await re.updateProperty(r,{title:g.title,description:g.description,price:parseFloat(g.price),area:parseInt(g.area),location:{address:g.location,city:g.city,state:g.state,country:g.country},propertyType:g.property_type,listingType:g.listing_type,images:g.images,amenities:g.amenities.map(B=>C[B]||B.toLowerCase().replace(/\s+/g,"_"))});if(R)throw R;if(n({title:"Property Updated Successfully!",description:"Your property listing has been updated."}),!r||r==="undefined"||r==="null"||r.trim()===""){console.error("Invalid property ID for navigation:",r),n({title:"Navigation Error",description:"Invalid property ID. Redirecting to properties page.",variant:"destructive"}),s("/properties");return}s(`/property/${r}`)}catch(R){console.error("Error updating property:",R),n({title:"Error",description:"Failed to update property. Please try again.",variant:"destructive"})}finally{c(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-hero py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsxs(H,{variant:"ghost",onClick:()=>s("/buyer-seller/dashboard"),className:"text-white hover:text-white/80 p-0 h-auto",children:[e.jsx(Ri,{className:"w-6 h-6 mr-2"}),"Back to Dashboard"]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Edit Your Property"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto",children:"Update your property details to keep your listing current and attract the right buyers."})]})}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("form",{onSubmit:V,className:"space-y-8",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Basic Information"})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"title",children:"Property Title *"}),e.jsx(Se,{id:"title",placeholder:"e.g. Spacious 3BHK Apartment in Prime Location",value:g.title,onChange:k=>E("title",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"description",children:"Description"}),e.jsx(rr,{id:"description",placeholder:"Describe your property, its features, and surroundings...",rows:4,value:g.description,onChange:k=>E("description",k.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"property_type",children:"Property Type *"}),e.jsxs(Xe,{value:g.property_type,onValueChange:k=>E("property_type",k),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select property type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"industrial",children:"Industrial"}),e.jsx(te,{value:"land",children:"Land"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"listing_type",children:"Listing Type *"}),e.jsxs(Xe,{value:g.listing_type,onValueChange:k=>E("listing_type",k),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select listing type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"sale",children:"For Sale"}),e.jsx(te,{value:"rent",children:"For Rent"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"price",children:"Price () *"}),e.jsx(Se,{id:"price",type:"number",placeholder:"5000000",value:g.price,onChange:k=>E("price",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"area",children:"Area (sq.ft) *"}),e.jsx(Se,{id:"area",type:"number",placeholder:"1200",value:g.area,onChange:k=>E("area",k.target.value),required:!0})]})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Location Details"})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"location",children:"Address/Location *"}),e.jsx(Se,{id:"location",placeholder:"e.g. Sector 21, Near Metro Station",value:g.location,onChange:k=>E("location",k.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"city",children:"City *"}),e.jsx(Se,{id:"city",placeholder:"Mumbai",value:g.city,onChange:k=>E("city",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"state",children:"State *"}),e.jsx(Se,{id:"state",placeholder:"Maharashtra",value:g.state,onChange:k=>E("state",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"country",children:"Country *"}),e.jsxs(Xe,{value:g.country,onValueChange:k=>E("country",k),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"India",children:"India"}),e.jsx(te,{value:"USA",children:"USA"}),e.jsx(te,{value:"UAE",children:"UAE"}),e.jsx(te,{value:"Canada",children:"Canada"}),e.jsx(te,{value:"Kenya",children:"Kenya"})]})]})]})]})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Amenities"})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-3 block",children:"Select Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:w.map(k=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($a,{id:k,checked:g.amenities.includes(k),onCheckedChange:()=>P(k)}),e.jsx(ne,{htmlFor:k,className:"text-sm font-normal cursor-pointer",children:k})]},k))})]}),e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Other Amenities"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{placeholder:"Add custom amenity",value:v,onChange:k=>b(k.target.value),onKeyPress:k=>k.key==="Enter"&&(k.preventDefault(),O())}),e.jsx(H,{type:"button",onClick:O,variant:"outline",children:"Add"})]})]}),g.amenities.length>0&&e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Selected Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.amenities.map((k,R)=>e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1",children:[k,e.jsx("button",{type:"button",onClick:()=>q(k),className:"ml-1 hover:text-destructive",children:e.jsx(Rt,{className:"w-3 h-3"})})]},R))})]})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Property Images"})}),e.jsxs(X,{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{var k;return(k=i.current)==null?void 0:k.click()},children:f?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading images..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(bp,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"Click to upload more property images"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Support: JPG, PNG, WEBP (Max 5MB per image)"})]})}),e.jsx("input",{ref:i,type:"file",accept:"image/*",multiple:!0,onChange:A,className:"hidden"}),g.images.length>0&&e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Current Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.images.map((k,R)=>{const B=typeof k=="string"?k:k.url;return e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:B,alt:`Property ${R+1}`,className:"w-full h-32 object-cover rounded-lg border"}),e.jsx("button",{type:"button",onClick:()=>M(B),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Rt,{className:"w-4 h-4"})})]},R)})})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>s("/buyer-seller/dashboard"),className:"flex-1",children:"Cancel"}),e.jsx(H,{type:"submit",disabled:l,className:"flex-1",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating Property..."]}):"Update Property"})]})]})})})]})},Bf={},$O=()=>{const{user:r}=Ft(),{profile:t}=Qa(),s=hr(),{toast:n}=it(),i=typeof import.meta<"u"&&(Bf==null?void 0:Bf.VITE_MOCK_OTP)==="true",[l,c]=h.useState(!1),[d,m]=h.useState({purpose:"",budget:{min:"",max:"",currency:"INR"},propertyType:"",location:{city:"",state:"",area:"",pincode:""},area:{min:"",max:"",unit:"sqft"},description:"",preferences:{furnished:"any",age:"any",floor:"any",facing:"any"},amenities:[],contact:{phone:"",email:"",preferredTime:"any"},priority:"medium",timeline:"flexible"});if(!r)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsxs(X,{className:"p-8 text-center",children:[e.jsx(Hr,{className:"w-16 h-16 text-estate-gray mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to submit your property requirements."}),e.jsx(H,{onClick:()=>s("/auth"),className:"w-full",children:"Go to Login"})]})})});const f=v=>{switch(v){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/"}},y=v=>{m({...d,location:{...d.location,state:v,city:""}})},g=v=>{m({...d,location:{...d.location,city:v}})},x=async v=>{if(v.preventDefault(),console.log("SubmitRequirement form submitted:",{user:r==null?void 0:r.id,formData:d}),!(r!=null&&r.id)){console.error("No authenticated user found during requirement submission"),n({title:"Authentication Required",description:"Please login to submit requirements.",variant:"destructive"});return}const w=[{field:"purpose",value:d.purpose,label:"Purpose"},{field:"propertyType",value:d.propertyType,label:"Property Type"},{field:"city",value:d.location.city,label:"City"},{field:"state",value:d.location.state,label:"State"},{field:"phone",value:d.contact.phone,label:"Phone Number"}].filter(N=>!N.value||N.value.trim()==="");if(w.length>0){const N=w.map(C=>C.label).join(", ");n({title:"Missing Required Fields",description:`Please fill in the following required fields: ${N}`,variant:"destructive"});return}c(!0);try{console.log("Attempting to create requirement with data:",d);let N;if(i){const E=JSON.parse(localStorage.getItem("mock_requirements")||"[]"),P={id:`req_${Date.now()}`,user_id:r.id,purpose:d.purpose,budget:d.budget,propertyType:d.propertyType,location:d.location,description:d.description,created_at:new Date().toISOString()};E.push(P),localStorage.setItem("mock_requirements",JSON.stringify(E)),N=null}else N=(await re.createRequirement({purpose:d.purpose,budget:{min:d.budget.min?parseInt(d.budget.min):void 0,max:d.budget.max?parseInt(d.budget.max):void 0,currency:d.budget.currency},propertyType:d.propertyType,location:{city:d.location.city,state:d.location.state,area:d.location.area,pincode:d.location.pincode},area:{min:d.area.min?parseInt(d.area.min):void 0,max:d.area.max?parseInt(d.area.max):void 0,unit:d.area.unit},description:d.description,preferences:d.preferences,amenities:d.amenities,contact:{phone:d.contact.phone,email:d.contact.email,preferredTime:d.contact.preferredTime},priority:d.priority,timeline:d.timeline})).error;if(N)throw console.error("Error during requirement creation:",N),N;console.log("Requirement created successfully"),n({title:"Requirement Submitted Successfully!",description:"Your property requirement has been submitted. Our team will contact you soon."});const C=f((t==null?void 0:t.role)||"buyer");s(C)}catch(N){if(console.error("Error submitting requirement:",N),N!=null&&N.errors&&Array.isArray(N.errors)){const C=N.errors.map(E=>`${E.field}: ${E.message}`).join(", ");n({title:"Validation Error",description:`Please fix the following issues: ${C}`,variant:"destructive"})}else N!=null&&N.message?n({title:"Error submitting requirement",description:N.message,variant:"destructive"}):n({title:"Error submitting requirement",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsxs("section",{className:"bg-gradient-hero py-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"container mx-auto px-6 text-center relative z-10",children:e.jsxs("div",{className:"animate-slide-in-down",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Submit Your Property Requirement"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto animate-fade-in-up",style:{animationDelay:"200ms"},children:"Tell us what you're looking for and we'll help you find the perfect property."})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent"})]}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-6 max-w-6xl",children:e.jsxs(G,{className:"animate-fade-in-up",style:{animationDelay:"400ms"},children:[e.jsx(ye,{className:"bg-gradient-to-r from-estate-blue to-estate-blue-light text-white",children:e.jsxs(be,{className:"text-2xl flex items-center gap-2",children:[e.jsx(Hr,{className:"w-6 h-6"}),"Property Requirements"]})}),e.jsx(X,{className:"p-8",children:e.jsxs("form",{onSubmit:x,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"purpose",className:"text-sm font-medium",children:"Purpose *"}),e.jsxs(Xe,{value:d.purpose,onValueChange:v=>m({...d,purpose:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{placeholder:"Select purpose"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"buy",children:"Buy"}),e.jsx(te,{value:"rent",children:"Rent"}),e.jsx(te,{value:"invest",children:"Invest"}),e.jsx(te,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"propertyType",className:"text-sm font-medium",children:"Property Type *"}),e.jsxs(Xe,{value:d.propertyType,onValueChange:v=>m({...d,propertyType:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{placeholder:"Select property type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"house",children:"House"}),e.jsx(te,{value:"plot",children:"Plot"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"office",children:"Office"}),e.jsx(te,{value:"shop",children:"Shop"}),e.jsx(te,{value:"warehouse",children:"Warehouse"}),e.jsx(te,{value:"other",children:"Other"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Budget Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"budgetMin",className:"text-sm font-medium",children:"Minimum Budget ()"}),e.jsx(Se,{id:"budgetMin",type:"number",placeholder:"e.g., 5000000",value:d.budget.min,onChange:v=>m({...d,budget:{...d.budget,min:v.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"budgetMax",className:"text-sm font-medium",children:"Maximum Budget ()"}),e.jsx(Se,{id:"budgetMax",type:"number",placeholder:"e.g., 10000000",value:d.budget.max,onChange:v=>m({...d,budget:{...d.budget,max:v.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"currency",className:"text-sm font-medium",children:"Currency"}),e.jsxs(Xe,{value:d.budget.currency,onValueChange:v=>m({...d,budget:{...d.budget,currency:v}}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"INR",children:"INR ()"}),e.jsx(te,{value:"USD",children:"USD ($)"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"State & City *"}),e.jsx(G2,{selectedState:d.location.state,selectedCity:d.location.city,onStateChange:y,onCityChange:g})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"area",className:"text-sm font-medium",children:"Area/Locality"}),e.jsx(Se,{id:"area",placeholder:"e.g., Bandra West",value:d.location.area,onChange:v=>m({...d,location:{...d.location,area:v.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"pincode",className:"text-sm font-medium",children:"Pincode"}),e.jsx(Se,{id:"pincode",placeholder:"e.g., 400050",value:d.location.pincode,onChange:v=>m({...d,location:{...d.location,pincode:v.target.value}}),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number *"}),e.jsx(Se,{id:"phone",type:"tel",placeholder:"e.g., +91 9876543210",value:d.contact.phone,onChange:v=>m({...d,contact:{...d.contact,phone:v.target.value}}),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),e.jsx(Se,{id:"email",type:"email",placeholder:"e.g., john@example.com",value:d.contact.email,onChange:v=>m({...d,contact:{...d.contact,email:v.target.value}}),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Additional Information"}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"description",className:"text-sm font-medium",children:"Detailed Description"}),e.jsx(rr,{id:"description",placeholder:"Describe your requirements in detail... (e.g., specific amenities, preferred floor, facing, etc.)",value:d.description,onChange:v=>m({...d,description:v.target.value}),rows:4,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priority",className:"text-sm font-medium",children:"Priority"}),e.jsxs(Xe,{value:d.priority,onValueChange:v=>m({...d,priority:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"low",children:"Low"}),e.jsx(te,{value:"medium",children:"Medium"}),e.jsx(te,{value:"high",children:"High"}),e.jsx(te,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"timeline",className:"text-sm font-medium",children:"Timeline"}),e.jsxs(Xe,{value:d.timeline,onValueChange:v=>m({...d,timeline:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"immediate",children:"Immediate"}),e.jsx(te,{value:"1_month",children:"1 Month"}),e.jsx(te,{value:"3_months",children:"3 Months"}),e.jsx(te,{value:"6_months",children:"6 Months"}),e.jsx(te,{value:"1_year",children:"1 Year"}),e.jsx(te,{value:"flexible",children:"Flexible"})]})]})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-border",children:e.jsx(H,{type:"submit",className:"w-full bg-estate-blue hover:bg-estate-blue-dark text-white smooth-transition hover:scale-105 hover:shadow-lg",disabled:l,size:"lg",children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting Requirement..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hr,{className:"w-5 h-5"}),"Submit Requirement"]})})})]})})]})})}),e.jsx(bn,{})]})},VO=()=>{const{toast:r}=it(),[t,s]=h.useState(!1),[n,i]=h.useState({name:"",email:"",phone:"",subject:"",message:"",office:""}),l=(d,m)=>{i(f=>({...f,[d]:m}))},c=async d=>{d.preventDefault(),s(!0);try{const m=await re.submitContactForm({name:n.name,email:n.email,phone:n.phone,subject:n.subject,message:n.message});m.error?r({title:"Error",description:m.error,variant:"destructive"}):(r({title:"Message Sent!",description:"Thank you for contacting us. We'll get back to you within 24 hours."}),i({name:"",email:"",phone:"",subject:"",message:"",office:""}))}catch(m){console.error("Contact form submission error:",m),r({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}s(!1)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(G,{className:"shadow-soft",children:[e.jsxs(ye,{className:"bg-gradient-primary text-white",children:[e.jsxs(be,{className:"flex items-center gap-3 text-xl",children:[e.jsx(bc,{className:"w-6 h-6"}),"Contact Us"]}),e.jsx("p",{className:"text-white/90 text-sm",children:"We'll get back to you within 24 hours"})]}),e.jsx(X,{className:"p-8",children:e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),e.jsx(Se,{id:"name",value:n.name,onChange:d=>l("name",d.target.value),className:"h-11",placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),e.jsx(Se,{id:"email",type:"email",value:n.email,onChange:d=>l("email",d.target.value),className:"h-11",placeholder:"Enter your email address",required:!0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number"}),e.jsx(Se,{id:"phone",value:n.phone,onChange:d=>l("phone",d.target.value),className:"h-11",placeholder:"Enter your phone number"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"subject",className:"text-sm font-medium",children:"Subject *"}),e.jsxs(Xe,{value:n.subject,onValueChange:d=>l("subject",d),children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Select subject"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"buying",children:"Property Buying Inquiry"}),e.jsx(te,{value:"selling",children:"Property Selling Inquiry"}),e.jsx(te,{value:"renting",children:"Property Rental Inquiry"}),e.jsx(te,{value:"investment",children:"Investment Consultation"}),e.jsx(te,{value:"nri",children:"NRI Services"}),e.jsx(te,{value:"commercial",children:"Commercial Properties"}),e.jsx(te,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"message",className:"text-sm font-medium",children:"Message *"}),e.jsx(rr,{id:"message",placeholder:"Tell us about your requirements or questions...",rows:6,value:n.message,onChange:d=>l("message",d.target.value),className:"resize-none",required:!0})]}),e.jsx(H,{type:"submit",className:"w-full h-12 bg-estate-blue hover:bg-estate-blue-light text-white font-medium",disabled:t,children:t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4"}),"Send Message"]})})]})})]})})}),e.jsx(bn,{})]})},UO=()=>{var q;hr();const{user:r,refreshUser:t}=Ft(),{profile:s,updateProfile:n}=Qa(),{toast:i}=it(),[l,c]=h.useState(""),[d,m]=h.useState(""),[f,y]=h.useState(""),[g,x]=h.useState(""),[v,b]=h.useState(!1),[w,N]=h.useState(!1),[C,E]=h.useState({});h.useEffect(()=>{var A;(s||r)&&(c((s==null?void 0:s.fullName)||""),m(((A=s==null?void 0:s.user)==null?void 0:A.email)||(r==null?void 0:r.email)||""),y((r==null?void 0:r.phone)||(s==null?void 0:s.phone)||""),x((s==null?void 0:s.address)||""))},[s,r]),h.useEffect(()=>{var A;if(s){const M=l!==(s.fullName||"")||d!==(((A=s==null?void 0:s.user)==null?void 0:A.email)||(r==null?void 0:r.email)||"")||g!==(s.address||"");N(M)}},[l,d,g,s,r]);const P=()=>{const A={};return l.trim()||(A.fullName="Full name is required"),d.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)||(A.email="Please enter a valid email address"):A.email="Email is required",g&&g.length>500&&(A.address="Address must be less than 500 characters"),E(A),Object.keys(A).length===0},O=async()=>{if(r){if(!P()){i({title:"Validation Error",description:"Please fix the errors before saving.",variant:"destructive"});return}b(!0),E({});try{const{error:A}=await n({fullName:l.trim(),email:d.trim(),phone:f.trim(),address:g.trim()});A?i({title:"Error",description:String(A),variant:"destructive"}):(i({title:"Profile Updated",description:"Your changes have been saved successfully.",action:e.jsx(Ks,{className:"h-4 w-4 text-green-600"})}),N(!1))}catch{i({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{b(!1)}}};return r?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-estate-blue to-estate-blue-light bg-clip-text text-transparent",children:"Personal Profile"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Manage your personal information"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(G,{className:"shadow-soft",children:[e.jsx(ye,{className:"pb-4",children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(ir,{className:"h-5 w-5 text-estate-blue"}),"Personal Information",s&&e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full ml-auto",children:" Saved"})]})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name *"}),e.jsx(Se,{id:"fullName",value:l,onChange:A=>c(A.target.value),placeholder:s!=null&&s.fullName?"":"Enter your full name",className:C.fullName?"border-destructive":""}),C.fullName&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(Jt,{className:"h-3 w-3"}),C.fullName]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{id:"email",type:"email",value:d,onChange:A=>m(A.target.value),placeholder:(q=s==null?void 0:s.user)!=null&&q.email||r!=null&&r.email?"":"Enter your email",className:`pl-10 ${C.email?"border-destructive":""}`})]}),C.email&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(Jt,{className:"h-3 w-3"}),C.email]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Registered Mobile Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{value:f||"Not registered",disabled:!0,className:"pl-10 bg-muted/50"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile number cannot be changed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Current Role"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"w-3 h-3 bg-estate-blue rounded-full"})}),e.jsx(Se,{value:r!=null&&r.role?r.role.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase()):s!=null&&s.role?s.role.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase()):"Not assigned",disabled:!0,className:"pl-10 bg-muted/50 font-medium"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your current system role"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(rr,{id:"address",rows:4,value:g,onChange:A=>x(A.target.value),placeholder:s!=null&&s.address?"":"Enter your complete address...",className:`pl-10 ${C.address?"border-destructive":""}`})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[C.address&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(Jt,{className:"h-3 w-3"}),C.address]}),e.jsxs("p",{className:"text-xs text-muted-foreground ml-auto",children:[g.length,"/500 characters"]})]})]})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(H,{onClick:O,disabled:v||!w,className:"min-w-32 bg-estate-blue hover:bg-estate-blue-light",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gR,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})})]})}),e.jsx(bn,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(_s,{}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto text-center",children:e.jsxs("div",{className:"bg-muted/50 rounded-lg p-12",children:[e.jsx(ir,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to manage your profile settings."}),e.jsx(H,{asChild:!0,children:e.jsx("a",{href:"/auth",children:"Sign In"})})]})})}),e.jsx(bn,{})]})},Q2=({phone:r,onVerify:t,onResend:s,onBack:n,loading:i,resendLoading:l})=>{const[c,d]=h.useState(""),[m,f]=h.useState(0),y=h.useRef([]),{toast:g}=it(),x=P=>P.startsWith("+")?P:`+${P}`,v=(P,O)=>{var M;if(P.length>1)return;const q=c.split("");q[O]=P;const A=q.join("");d(A),P&&O<5&&((M=y.current[O+1])==null||M.focus())},b=(P,O)=>{var q;P.key==="Backspace"&&!c[O]&&O>0&&((q=y.current[O-1])==null||q.focus())},w=P=>{var A;P.preventDefault();const O=P.clipboardData.getData("text").slice(0,6);d(O);const q=Math.min(O.length-1,5);(A=y.current[q])==null||A.focus()},N=()=>{f(60);const P=setInterval(()=>{f(O=>O<=1?(clearInterval(P),0):O-1)},1e3)},C=async()=>{try{await s(),N(),g({title:"OTP Sent",description:"A new OTP has been sent to your phone number."})}catch{g({title:"Resend Failed",description:"Failed to resend OTP. Please try again.",variant:"destructive"})}},E=async()=>{if(c.length!==6){g({title:"Invalid OTP",description:"Please enter a complete 6-digit OTP.",variant:"destructive"});return}await t(c)};return h.useEffect(()=>{N()},[]),e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ye,{className:"space-y-1 text-center pb-6",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(be,{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Verify Your Phone"}),e.jsxs(Qe,{className:"text-sm sm:text-base",children:["We've sent a 6-digit verification code to"," ",e.jsx("span",{className:"font-semibold text-foreground",children:x(r)})]})]}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{htmlFor:"otp",className:"text-center block text-sm font-medium text-foreground",children:"Enter verification code"}),e.jsx("div",{className:"flex justify-center gap-2 sm:gap-3",children:Array.from({length:6}).map((P,O)=>e.jsx(Se,{ref:q=>y.current[O]=q,type:"text",inputMode:"numeric",maxLength:1,value:c[O]||"",onChange:q=>v(q.target.value,O),onKeyDown:q=>b(q,O),onPaste:O===0?w:void 0,className:"w-10 h-10 sm:w-14 sm:h-14 text-center text-lg sm:text-xl font-bold border-2 focus:border-estate-blue rounded-lg",disabled:i},O))})]}),e.jsx(H,{className:"w-full h-11 bg-estate-blue hover:bg-estate-blue-light text-white font-medium",onClick:E,disabled:i||c.length!==6,children:i?"Verifying...":"Verify Code"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Didn't receive the code? "}),e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-estate-blue hover:text-estate-blue-light text-sm",onClick:C,disabled:m>0||l,children:l?"Sending...":m>0?`Resend in ${m}s`:e.jsxs(e.Fragment,{children:[e.jsx(pR,{className:"w-4 h-4 mr-1"}),"Resend Code"]})})]}),e.jsx("div",{children:e.jsxs(H,{variant:"link",className:"p-0 h-auto font-medium text-estate-blue hover:text-estate-blue-light text-sm",onClick:n,children:[e.jsx(Ri,{className:"w-4 h-4 mr-1"}),"Change Phone Number"]})})]})]})]})};var ym="Popover",[X2]=jr(ym,[Ga]),Ec=Ga(),[BO,Za]=X2(ym),J2=r=>{const{__scopePopover:t,children:s,open:n,defaultOpen:i,onOpenChange:l,modal:c=!1}=r,d=Ec(t),m=h.useRef(null),[f,y]=h.useState(!1),[g,x]=xs({prop:n,defaultProp:i??!1,onChange:l,caller:ym});return e.jsx(yg,{...d,children:e.jsx(BO,{scope:t,contentId:br(),triggerRef:m,open:g,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(v=>!v),[x]),hasCustomAnchor:f,onCustomAnchorAdd:h.useCallback(()=>y(!0),[]),onCustomAnchorRemove:h.useCallback(()=>y(!1),[]),modal:c,children:s})})};J2.displayName=ym;var Z2="PopoverAnchor",zO=h.forwardRef((r,t)=>{const{__scopePopover:s,...n}=r,i=Za(Z2,s),l=Ec(s),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return h.useEffect(()=>(c(),()=>d()),[c,d]),e.jsx(wc,{...l,...n,ref:t})});zO.displayName=Z2;var eS="PopoverTrigger",tS=h.forwardRef((r,t)=>{const{__scopePopover:s,...n}=r,i=Za(eS,s),l=Ec(s),c=rt(t,i.triggerRef),d=e.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oS(i.open),...n,ref:c,onClick:Ce(r.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:e.jsx(wc,{asChild:!0,...l,children:d})});tS.displayName=eS;var Gg="PopoverPortal",[qO,WO]=X2(Gg,{forceMount:void 0}),rS=r=>{const{__scopePopover:t,forceMount:s,children:n,container:i}=r,l=Za(Gg,t);return e.jsx(qO,{scope:t,forceMount:s,children:e.jsx(wr,{present:s||l.open,children:e.jsx(qi,{asChild:!0,container:i,children:n})})})};rS.displayName=Gg;var Fi="PopoverContent",sS=h.forwardRef((r,t)=>{const s=WO(Fi,r.__scopePopover),{forceMount:n=s.forceMount,...i}=r,l=Za(Fi,r.__scopePopover);return e.jsx(wr,{present:n||l.open,children:l.modal?e.jsx(YO,{...i,ref:t}):e.jsx(KO,{...i,ref:t})})});sS.displayName=Fi;var HO=Ua("PopoverContent.RemoveScroll"),YO=h.forwardRef((r,t)=>{const s=Za(Fi,r.__scopePopover),n=h.useRef(null),i=rt(t,n),l=h.useRef(!1);return h.useEffect(()=>{const c=n.current;if(c)return rm(c)},[]),e.jsx(kc,{as:HO,allowPinchZoom:!0,children:e.jsx(nS,{...r,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(r.onCloseAutoFocus,c=>{var d;c.preventDefault(),l.current||(d=s.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Ce(r.onPointerDownOutside,c=>{const d=c.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,f=d.button===2||m;l.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(r.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),KO=h.forwardRef((r,t)=>{const s=Za(Fi,r.__scopePopover),n=h.useRef(!1),i=h.useRef(!1);return e.jsx(nS,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=r.onCloseAutoFocus)==null||c.call(r,l),l.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var m,f;(m=r.onInteractOutside)==null||m.call(r,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),nS=h.forwardRef((r,t)=>{const{__scopePopover:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:y,...g}=r,x=Za(Fi,s),v=Ec(s);return em(),e.jsx(Nc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:y,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:e.jsx(Qu,{"data-state":oS(x.open),role:"dialog",id:x.contentId,...v,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aS="PopoverClose",GO=h.forwardRef((r,t)=>{const{__scopePopover:s,...n}=r,i=Za(aS,s);return e.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ce(r.onClick,()=>i.onOpenChange(!1))})});GO.displayName=aS;var QO="PopoverArrow",XO=h.forwardRef((r,t)=>{const{__scopePopover:s,...n}=r,i=Ec(s);return e.jsx(Xu,{...i,...n,ref:t})});XO.displayName=QO;function oS(r){return r?"open":"closed"}var JO=J2,ZO=tS,eF=rS,iS=sS;const lS=JO,cS=ZO,Qg=h.forwardRef(({className:r,align:t="center",sideOffset:s=4,...n},i)=>e.jsx(eF,{children:e.jsx(iS,{ref:i,align:t,sideOffset:s,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})}));Qg.displayName=iS.displayName;var Sb=1,tF=.9,rF=.8,sF=.17,zf=.1,qf=.999,nF=.9999,aF=.99,oF=/[\\\/_+.#"@\[\(\{&]/,iF=/[\\\/_+.#"@\[\(\{&]/g,lF=/[\s-]/,dS=/[\s-]/g;function Wp(r,t,s,n,i,l,c){if(l===t.length)return i===r.length?Sb:aF;var d=`${i},${l}`;if(c[d]!==void 0)return c[d];for(var m=n.charAt(l),f=s.indexOf(m,i),y=0,g,x,v,b;f>=0;)g=Wp(r,t,s,n,f+1,l+1,c),g>y&&(f===i?g*=Sb:oF.test(r.charAt(f-1))?(g*=rF,v=r.slice(i,f-1).match(iF),v&&i>0&&(g*=Math.pow(qf,v.length))):lF.test(r.charAt(f-1))?(g*=tF,b=r.slice(i,f-1).match(dS),b&&i>0&&(g*=Math.pow(qf,b.length))):(g*=sF,i>0&&(g*=Math.pow(qf,f-i))),r.charAt(f)!==t.charAt(l)&&(g*=nF)),(g<zf&&s.charAt(f-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&s.charAt(f-1)!==n.charAt(l))&&(x=Wp(r,t,s,n,f+1,l+2,c),x*zf>g&&(g=x*zf)),g>y&&(y=g),f=s.indexOf(m,f+1);return c[d]=y,y}function kb(r){return r.toLowerCase().replace(dS," ")}function cF(r,t,s){return r=s&&s.length>0?`${r+" "+s.join(" ")}`:r,Wp(r,t,kb(r),kb(t),0,0,{})}var bm="Dialog",[uS,mS]=jr(bm),[dF,sn]=uS(bm),hS=r=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:l,modal:c=!0}=r,d=h.useRef(null),m=h.useRef(null),[f,y]=xs({prop:n,defaultProp:i??!1,onChange:l,caller:bm});return e.jsx(dF,{scope:t,triggerRef:d,contentRef:m,contentId:br(),titleId:br(),descriptionId:br(),open:f,onOpenChange:y,onOpenToggle:h.useCallback(()=>y(g=>!g),[y]),modal:c,children:s})};hS.displayName=bm;var fS="DialogTrigger",pS=h.forwardRef((r,t)=>{const{__scopeDialog:s,...n}=r,i=sn(fS,s),l=rt(t,i.triggerRef);return e.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Zg(i.open),...n,ref:l,onClick:Ce(r.onClick,i.onOpenToggle)})});pS.displayName=fS;var Xg="DialogPortal",[uF,gS]=uS(Xg,{forceMount:void 0}),xS=r=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=r,l=sn(Xg,t);return e.jsx(uF,{scope:t,forceMount:s,children:h.Children.map(n,c=>e.jsx(wr,{present:s||l.open,children:e.jsx(qi,{asChild:!0,container:i,children:c})}))})};xS.displayName=Xg;var Du="DialogOverlay",vS=h.forwardRef((r,t)=>{const s=gS(Du,r.__scopeDialog),{forceMount:n=s.forceMount,...i}=r,l=sn(Du,r.__scopeDialog);return l.modal?e.jsx(wr,{present:n||l.open,children:e.jsx(hF,{...i,ref:t})}):null});vS.displayName=Du;var mF=Ua("DialogOverlay.RemoveScroll"),hF=h.forwardRef((r,t)=>{const{__scopeDialog:s,...n}=r,i=sn(Du,s);return e.jsx(kc,{as:mF,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Me.div,{"data-state":Zg(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ro="DialogContent",yS=h.forwardRef((r,t)=>{const s=gS(Ro,r.__scopeDialog),{forceMount:n=s.forceMount,...i}=r,l=sn(Ro,r.__scopeDialog);return e.jsx(wr,{present:n||l.open,children:l.modal?e.jsx(fF,{...i,ref:t}):e.jsx(pF,{...i,ref:t})})});yS.displayName=Ro;var fF=h.forwardRef((r,t)=>{const s=sn(Ro,r.__scopeDialog),n=h.useRef(null),i=rt(t,s.contentRef,n);return h.useEffect(()=>{const l=n.current;if(l)return rm(l)},[]),e.jsx(bS,{...r,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(r.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ce(r.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ce(r.onFocusOutside,l=>l.preventDefault())})}),pF=h.forwardRef((r,t)=>{const s=sn(Ro,r.__scopeDialog),n=h.useRef(!1),i=h.useRef(!1);return e.jsx(bS,{...r,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=r.onCloseAutoFocus)==null||c.call(r,l),l.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),l.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:l=>{var m,f;(m=r.onInteractOutside)==null||m.call(r,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),bS=h.forwardRef((r,t)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=r,d=sn(Ro,s),m=h.useRef(null),f=rt(t,m);return em(),e.jsxs(e.Fragment,{children:[e.jsx(Nc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:e.jsx(Ao,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Zg(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(xF,{titleId:d.titleId}),e.jsx(yF,{contentRef:m,descriptionId:d.descriptionId})]})]})}),Jg="DialogTitle",jS=h.forwardRef((r,t)=>{const{__scopeDialog:s,...n}=r,i=sn(Jg,s);return e.jsx(Me.h2,{id:i.titleId,...n,ref:t})});jS.displayName=Jg;var wS="DialogDescription",NS=h.forwardRef((r,t)=>{const{__scopeDialog:s,...n}=r,i=sn(wS,s);return e.jsx(Me.p,{id:i.descriptionId,...n,ref:t})});NS.displayName=wS;var SS="DialogClose",kS=h.forwardRef((r,t)=>{const{__scopeDialog:s,...n}=r,i=sn(SS,s);return e.jsx(Me.button,{type:"button",...n,ref:t,onClick:Ce(r.onClick,()=>i.onOpenChange(!1))})});kS.displayName=SS;function Zg(r){return r?"open":"closed"}var CS="DialogTitleWarning",[gF,PS]=hE(CS,{contentName:Ro,titleName:Jg,docsSlug:"dialog"}),xF=({titleId:r})=>{const t=PS(CS),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{r&&(document.getElementById(r)||console.error(s))},[s,r]),null},vF="DialogDescriptionWarning",yF=({contentRef:r,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PS(vF).contentName}}.`;return h.useEffect(()=>{var l;const i=(l=r.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,r,t]),null},ex=hS,_S=pS,tx=xS,jm=vS,wm=yS,rx=jS,sx=NS,nx=kS,Ll='[cmdk-group=""]',Wf='[cmdk-group-items=""]',bF='[cmdk-group-heading=""]',ES='[cmdk-item=""]',Cb=`${ES}:not([aria-disabled="true"])`,Hp="cmdk-item-select",mi="data-value",jF=(r,t,s)=>cF(r,t,s),RS=h.createContext(void 0),Rc=()=>h.useContext(RS),TS=h.createContext(void 0),ax=()=>h.useContext(TS),DS=h.createContext(void 0),AS=h.forwardRef((r,t)=>{let s=hi(()=>{var z,J;return{search:"",value:(J=(z=r.value)!=null?z:r.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=hi(()=>new Set),i=hi(()=>new Map),l=hi(()=>new Map),c=hi(()=>new Set),d=MS(r),{label:m,children:f,value:y,onValueChange:g,filter:x,shouldFilter:v,loop:b,disablePointerSelection:w=!1,vimBindings:N=!0,...C}=r,E=br(),P=br(),O=br(),q=h.useRef(null),A=DF();To(()=>{if(y!==void 0){let z=y.trim();s.current.value=z,M.emit()}},[y]),To(()=>{A(6,$)},[]);let M=h.useMemo(()=>({subscribe:z=>(c.current.add(z),()=>c.current.delete(z)),snapshot:()=>s.current,setState:(z,J,se)=>{var ue,xe,oe,de;if(!Object.is(s.current[z],J)){if(s.current[z]=J,z==="search")_(),R(),A(1,B);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(O);le?le.focus():(ue=document.getElementById(E))==null||ue.focus()}if(A(7,()=>{var le;s.current.selectedItemId=(le=T())==null?void 0:le.id,M.emit()}),se||A(5,$),((xe=d.current)==null?void 0:xe.value)!==void 0){let le=J??"";(de=(oe=d.current).onValueChange)==null||de.call(oe,le);return}}M.emit()}},emit:()=>{c.current.forEach(z=>z())}}),[]),V=h.useMemo(()=>({value:(z,J,se)=>{var ue;J!==((ue=l.current.get(z))==null?void 0:ue.value)&&(l.current.set(z,{value:J,keywords:se}),s.current.filtered.items.set(z,k(J,se)),A(2,()=>{R(),M.emit()}))},item:(z,J)=>(n.current.add(z),J&&(i.current.has(J)?i.current.get(J).add(z):i.current.set(J,new Set([z]))),A(3,()=>{_(),R(),s.current.value||B(),M.emit()}),()=>{l.current.delete(z),n.current.delete(z),s.current.filtered.items.delete(z);let se=T();A(4,()=>{_(),(se==null?void 0:se.getAttribute("id"))===z&&B(),M.emit()})}),group:z=>(i.current.has(z)||i.current.set(z,new Set),()=>{l.current.delete(z),i.current.delete(z)}),filter:()=>d.current.shouldFilter,label:m||r["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:E,inputId:O,labelId:P,listInnerRef:q}),[]);function k(z,J){var se,ue;let xe=(ue=(se=d.current)==null?void 0:se.filter)!=null?ue:jF;return z?xe(z,s.current.search,J):0}function R(){if(!s.current.search||d.current.shouldFilter===!1)return;let z=s.current.filtered.items,J=[];s.current.filtered.groups.forEach(ue=>{let xe=i.current.get(ue),oe=0;xe.forEach(de=>{let le=z.get(de);oe=Math.max(le,oe)}),J.push([ue,oe])});let se=q.current;Q().sort((ue,xe)=>{var oe,de;let le=ue.getAttribute("id"),he=xe.getAttribute("id");return((oe=z.get(he))!=null?oe:0)-((de=z.get(le))!=null?de:0)}).forEach(ue=>{let xe=ue.closest(Wf);xe?xe.appendChild(ue.parentElement===xe?ue:ue.closest(`${Wf} > *`)):se.appendChild(ue.parentElement===se?ue:ue.closest(`${Wf} > *`))}),J.sort((ue,xe)=>xe[1]-ue[1]).forEach(ue=>{var xe;let oe=(xe=q.current)==null?void 0:xe.querySelector(`${Ll}[${mi}="${encodeURIComponent(ue[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function B(){let z=Q().find(se=>se.getAttribute("aria-disabled")!=="true"),J=z==null?void 0:z.getAttribute(mi);M.setState("value",J||void 0)}function _(){var z,J,se,ue;if(!s.current.search||d.current.shouldFilter===!1){s.current.filtered.count=n.current.size;return}s.current.filtered.groups=new Set;let xe=0;for(let oe of n.current){let de=(J=(z=l.current.get(oe))==null?void 0:z.value)!=null?J:"",le=(ue=(se=l.current.get(oe))==null?void 0:se.keywords)!=null?ue:[],he=k(de,le);s.current.filtered.items.set(oe,he),he>0&&xe++}for(let[oe,de]of i.current)for(let le of de)if(s.current.filtered.items.get(le)>0){s.current.filtered.groups.add(oe);break}s.current.filtered.count=xe}function $(){var z,J,se;let ue=T();ue&&(((z=ue.parentElement)==null?void 0:z.firstChild)===ue&&((se=(J=ue.closest(Ll))==null?void 0:J.querySelector(bF))==null||se.scrollIntoView({block:"nearest"})),ue.scrollIntoView({block:"nearest"}))}function T(){var z;return(z=q.current)==null?void 0:z.querySelector(`${ES}[aria-selected="true"]`)}function Q(){var z;return Array.from(((z=q.current)==null?void 0:z.querySelectorAll(Cb))||[])}function Y(z){let J=Q()[z];J&&M.setState("value",J.getAttribute(mi))}function F(z){var J;let se=T(),ue=Q(),xe=ue.findIndex(de=>de===se),oe=ue[xe+z];(J=d.current)!=null&&J.loop&&(oe=xe+z<0?ue[ue.length-1]:xe+z===ue.length?ue[0]:ue[xe+z]),oe&&M.setState("value",oe.getAttribute(mi))}function I(z){let J=T(),se=J==null?void 0:J.closest(Ll),ue;for(;se&&!ue;)se=z>0?RF(se,Ll):TF(se,Ll),ue=se==null?void 0:se.querySelector(Cb);ue?M.setState("value",ue.getAttribute(mi)):F(z)}let D=()=>Y(Q().length-1),W=z=>{z.preventDefault(),z.metaKey?D():z.altKey?I(1):F(1)},U=z=>{z.preventDefault(),z.metaKey?Y(0):z.altKey?I(-1):F(-1)};return h.createElement(Me.div,{ref:t,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:z=>{var J;(J=C.onKeyDown)==null||J.call(C,z);let se=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||se))switch(z.key){case"n":case"j":{N&&z.ctrlKey&&W(z);break}case"ArrowDown":{W(z);break}case"p":case"k":{N&&z.ctrlKey&&U(z);break}case"ArrowUp":{U(z);break}case"Home":{z.preventDefault(),Y(0);break}case"End":{z.preventDefault(),D();break}case"Enter":{z.preventDefault();let ue=T();if(ue){let xe=new Event(Hp);ue.dispatchEvent(xe)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:V.inputId,id:V.labelId,style:MF},m),Nm(r,z=>h.createElement(TS.Provider,{value:M},h.createElement(RS.Provider,{value:V},z))))}),wF=h.forwardRef((r,t)=>{var s,n;let i=br(),l=h.useRef(null),c=h.useContext(DS),d=Rc(),m=MS(r),f=(n=(s=m.current)==null?void 0:s.forceMount)!=null?n:c==null?void 0:c.forceMount;To(()=>{if(!f)return d.item(i,c==null?void 0:c.id)},[f]);let y=IS(i,l,[r.value,r.children,l],r.keywords),g=ax(),x=Ya(A=>A.value&&A.value===y.current),v=Ya(A=>f||d.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);h.useEffect(()=>{let A=l.current;if(!(!A||r.disabled))return A.addEventListener(Hp,b),()=>A.removeEventListener(Hp,b)},[v,r.onSelect,r.disabled]);function b(){var A,M;w(),(M=(A=m.current).onSelect)==null||M.call(A,y.current)}function w(){g.setState("value",y.current,!0)}if(!v)return null;let{disabled:N,value:C,onSelect:E,forceMount:P,keywords:O,...q}=r;return h.createElement(Me.div,{ref:Gn(l,t),...q,id:i,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!x,"data-disabled":!!N,"data-selected":!!x,onPointerMove:N||d.getDisablePointerSelection()?void 0:w,onClick:N?void 0:b},r.children)}),NF=h.forwardRef((r,t)=>{let{heading:s,children:n,forceMount:i,...l}=r,c=br(),d=h.useRef(null),m=h.useRef(null),f=br(),y=Rc(),g=Ya(v=>i||y.filter()===!1?!0:v.search?v.filtered.groups.has(c):!0);To(()=>y.group(c),[]),IS(c,d,[r.value,r.heading,m]);let x=h.useMemo(()=>({id:c,forceMount:i}),[i]);return h.createElement(Me.div,{ref:Gn(d,t),...l,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},s&&h.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:f},s),Nm(r,v=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?f:void 0},h.createElement(DS.Provider,{value:x},v))))}),SF=h.forwardRef((r,t)=>{let{alwaysRender:s,...n}=r,i=h.useRef(null),l=Ya(c=>!c.search);return!s&&!l?null:h.createElement(Me.div,{ref:Gn(i,t),...n,"cmdk-separator":"",role:"separator"})}),kF=h.forwardRef((r,t)=>{let{onValueChange:s,...n}=r,i=r.value!=null,l=ax(),c=Ya(f=>f.search),d=Ya(f=>f.selectedItemId),m=Rc();return h.useEffect(()=>{r.value!=null&&l.setState("search",r.value)},[r.value]),h.createElement(Me.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":d,id:m.inputId,type:"text",value:i?r.value:c,onChange:f=>{i||l.setState("search",f.target.value),s==null||s(f.target.value)}})}),CF=h.forwardRef((r,t)=>{let{children:s,label:n="Suggestions",...i}=r,l=h.useRef(null),c=h.useRef(null),d=Ya(f=>f.selectedItemId),m=Rc();return h.useEffect(()=>{if(c.current&&l.current){let f=c.current,y=l.current,g,x=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let v=f.offsetHeight;y.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return x.observe(f),()=>{cancelAnimationFrame(g),x.unobserve(f)}}},[]),h.createElement(Me.div,{ref:Gn(l,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:m.listId},Nm(r,f=>h.createElement("div",{ref:Gn(c,m.listInnerRef),"cmdk-list-sizer":""},f)))}),PF=h.forwardRef((r,t)=>{let{open:s,onOpenChange:n,overlayClassName:i,contentClassName:l,container:c,...d}=r;return h.createElement(ex,{open:s,onOpenChange:n},h.createElement(tx,{container:c},h.createElement(jm,{"cmdk-overlay":"",className:i}),h.createElement(wm,{"aria-label":r.label,"cmdk-dialog":"",className:l},h.createElement(AS,{ref:t,...d}))))}),_F=h.forwardRef((r,t)=>Ya(s=>s.filtered.count===0)?h.createElement(Me.div,{ref:t,...r,"cmdk-empty":"",role:"presentation"}):null),EF=h.forwardRef((r,t)=>{let{progress:s,children:n,label:i="Loading...",...l}=r;return h.createElement(Me.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Nm(r,c=>h.createElement("div",{"aria-hidden":!0},c)))}),ls=Object.assign(AS,{List:CF,Item:wF,Input:kF,Group:NF,Separator:SF,Dialog:PF,Empty:_F,Loading:EF});function RF(r,t){let s=r.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function TF(r,t){let s=r.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function MS(r){let t=h.useRef(r);return To(()=>{t.current=r}),t}var To=typeof window>"u"?h.useEffect:h.useLayoutEffect;function hi(r){let t=h.useRef();return t.current===void 0&&(t.current=r()),t}function Ya(r){let t=ax(),s=()=>r(t.snapshot());return h.useSyncExternalStore(t.subscribe,s,s)}function IS(r,t,s,n=[]){let i=h.useRef(),l=Rc();return To(()=>{var c;let d=(()=>{var f;for(let y of s){if(typeof y=="string")return y.trim();if(typeof y=="object"&&"current"in y)return y.current?(f=y.current.textContent)==null?void 0:f.trim():i.current}})(),m=n.map(f=>f.trim());l.value(r,d,m),(c=t.current)==null||c.setAttribute(mi,d),i.current=d}),i}var DF=()=>{let[r,t]=h.useState(),s=hi(()=>new Map);return To(()=>{s.current.forEach(n=>n()),s.current=new Map},[r]),(n,i)=>{s.current.set(n,i),t({})}};function AF(r){let t=r.type;return typeof t=="function"?t(r.props):"render"in t?t.render(r.props):r}function Nm({asChild:r,children:t},s){return r&&h.isValidElement(t)?h.cloneElement(AF(t),{ref:t.ref},s(t.props.children)):s(t)}var MF={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Va=ex,Ql=_S,IF=tx,OS=h.forwardRef(({className:r,...t},s)=>e.jsx(jm,{ref:s,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t}));OS.displayName=jm.displayName;const Hn=h.forwardRef(({className:r,children:t,...s},n)=>e.jsxs(IF,{children:[e.jsx(OS,{}),e.jsxs(wm,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s,children:[t,e.jsxs(nx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Rt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hn.displayName=wm.displayName;const Yn=({className:r,...t})=>e.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",r),...t});Yn.displayName="DialogHeader";const Kn=h.forwardRef(({className:r,...t},s)=>e.jsx(rx,{ref:s,className:Re("text-lg font-semibold leading-none tracking-tight",r),...t}));Kn.displayName=rx.displayName;const Xl=h.forwardRef(({className:r,...t},s)=>e.jsx(sx,{ref:s,className:Re("text-sm text-muted-foreground",r),...t}));Xl.displayName=sx.displayName;const FS=h.forwardRef(({className:r,...t},s)=>e.jsx(ls,{ref:s,className:Re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...t}));FS.displayName=ls.displayName;const LS=h.forwardRef(({className:r,...t},s)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Hr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(ls.Input,{ref:s,className:Re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...t})]}));LS.displayName=ls.Input.displayName;const $S=h.forwardRef(({className:r,...t},s)=>e.jsx(ls.List,{ref:s,className:Re("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...t}));$S.displayName=ls.List.displayName;const VS=h.forwardRef((r,t)=>e.jsx(ls.Empty,{ref:t,className:"py-6 text-center text-sm",...r}));VS.displayName=ls.Empty.displayName;const US=h.forwardRef(({className:r,...t},s)=>e.jsx(ls.Group,{ref:s,className:Re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...t}));US.displayName=ls.Group.displayName;const OF=h.forwardRef(({className:r,...t},s)=>e.jsx(ls.Separator,{ref:s,className:Re("-mx-1 h-px bg-border",r),...t}));OF.displayName=ls.Separator.displayName;const BS=h.forwardRef(({className:r,...t},s)=>e.jsx(ls.Item,{ref:s,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",r),...t}));BS.displayName=ls.Item.displayName;const fu=[{code:"IN",name:"India",flag:"",dialCode:"+91"},{code:"US",name:"United States",flag:"",dialCode:"+1"},{code:"GB",name:"United Kingdom",flag:"",dialCode:"+44"},{code:"CA",name:"Canada",flag:"",dialCode:"+1"},{code:"AU",name:"Australia",flag:"",dialCode:"+61"},{code:"DE",name:"Germany",flag:"",dialCode:"+49"},{code:"FR",name:"France",flag:"",dialCode:"+33"},{code:"IT",name:"Italy",flag:"",dialCode:"+39"},{code:"ES",name:"Spain",flag:"",dialCode:"+34"},{code:"JP",name:"Japan",flag:"",dialCode:"+81"},{code:"KR",name:"South Korea",flag:"",dialCode:"+82"},{code:"CN",name:"China",flag:"",dialCode:"+86"},{code:"SG",name:"Singapore",flag:"",dialCode:"+65"},{code:"MY",name:"Malaysia",flag:"",dialCode:"+60"},{code:"TH",name:"Thailand",flag:"",dialCode:"+66"},{code:"ID",name:"Indonesia",flag:"",dialCode:"+62"},{code:"PH",name:"Philippines",flag:"",dialCode:"+63"},{code:"VN",name:"Vietnam",flag:"",dialCode:"+84"},{code:"BR",name:"Brazil",flag:"",dialCode:"+55"},{code:"MX",name:"Mexico",flag:"",dialCode:"+52"},{code:"AR",name:"Argentina",flag:"",dialCode:"+54"},{code:"ZA",name:"South Africa",flag:"",dialCode:"+27"},{code:"EG",name:"Egypt",flag:"",dialCode:"+20"},{code:"NG",name:"Nigeria",flag:"",dialCode:"+234"},{code:"KE",name:"Kenya",flag:"",dialCode:"+254"},{code:"RU",name:"Russia",flag:"",dialCode:"+7"},{code:"TR",name:"Turkey",flag:"",dialCode:"+90"},{code:"SA",name:"Saudi Arabia",flag:"",dialCode:"+966"},{code:"AE",name:"United Arab Emirates",flag:"",dialCode:"+971"},{code:"IL",name:"Israel",flag:"",dialCode:"+972"}],FF=({selectedCountry:r,onCountryChange:t,className:s})=>{const[n,i]=h.useState(!1);return e.jsxs(lS,{open:n,onOpenChange:i,children:[e.jsx(cS,{asChild:!0,children:e.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":n,className:Re("justify-between min-w-[120px] h-10 px-3",s),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:r.flag}),e.jsx("span",{className:"font-mono text-sm",children:r.dialCode})]}),e.jsx(Wi,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Qg,{className:"w-[300px] p-0",align:"start",children:e.jsxs(FS,{children:[e.jsx(LS,{placeholder:"Search country..."}),e.jsxs($S,{children:[e.jsx(VS,{children:"No country found."}),e.jsx(US,{children:fu.map(l=>e.jsxs(BS,{value:`${l.name} ${l.dialCode}`,onSelect:()=>{t(l),i(!1)},className:"flex items-center gap-3 px-3 py-2",children:[e.jsx("span",{className:"text-lg",children:l.flag}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.dialCode})]}),e.jsx(yc,{className:Re("ml-auto h-4 w-4",r.code===l.code?"opacity-100":"opacity-0")})]},l.code))})]})]})})]})},zS=({value:r,onChange:t,placeholder:s="Phone number",disabled:n=!1,className:i})=>{const[l,c]=h.useState(fu[0]),[d,m]=h.useState("");h.useEffect(()=>{if(!r){m("");return}if(r.startsWith("+")){const g=fu.find(v=>r.startsWith(v.dialCode))||fu[0];g.code!==l.code&&c(g);const x=r.replace(g.dialCode,"").replace(/\D/g,"");m(x.slice(0,10))}},[r]);const f=g=>{const x=g.target.value.replace(/\D/g,"");x.length<=10&&(m(x),t(`${l.dialCode}${x}`))},y=g=>{c(g),t(`${g.dialCode}${d}`)};return e.jsxs("div",{className:Re("flex gap-2",i),children:[e.jsx(FF,{selectedCountry:l,onCountryChange:y,className:"shrink-0"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{type:"tel",placeholder:s,value:d,onChange:f,disabled:n,className:"pl-10 h-10",maxLength:10}),e.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-muted-foreground",children:[d.length,"/10"]})]})]})},Hf={},LF=()=>{console.log("[Auth] Component initializing");const[r]=dj(),t=r.get("mode"),[s,n]=h.useState(t!=="register"),[i,l]=h.useState(""),[c,d]=h.useState(""),[m,f]=h.useState(""),[y,g]=h.useState(!1),[x,v]=h.useState(!1),[b,w]=h.useState(!1),[N,C]=h.useState(!1),[E,P]=h.useState([]),[O,q]=h.useState(""),[A,M]=h.useState(!1),[V,k]=h.useState([]),[R,B]=h.useState(!1),_=hr(),{toast:$}=it(),{user:T,sendOTP:Q,verifyOTP:Y,signUpWithSMSForNewRole:F}=Ft(),{profile:I,loading:D,createProfile:W}=Qa(),U=typeof import.meta<"u"&&(Hf==null?void 0:Hf.VITE_MOCK_OTP)==="true";console.log("[Auth] Initial state:",{user:!!T,userId:T==null?void 0:T.id,profile:!!I,profileLoading:D,isLogin:s,mode:t});const z=[{value:"buyer_seller",label:"Property Buyer & Seller",description:"Buy, sell, or rent properties - all in one place",icon:ir,color:"text-blue-600"},{value:"broker",label:"Real Estate Broker",description:"Licensed real estate professional",icon:Wl,color:"text-purple-600"},{value:"developer",label:"Property Developer",description:"Builder & redevelopment specialist",icon:jt,color:"text-orange-600"},{value:"society_owner",label:"Society Owner/Secretary",description:"Managing society redevelopment",icon:Bn,color:"text-red-600"},{value:"society_member",label:"Society Member",description:"Flat owner in housing society",icon:Pt,color:"text-indigo-600"}];h.useEffect(()=>{const fe=r.get("mode");n(fe!=="register")},[r]),h.useEffect(()=>{if(console.log("[Auth] Auth redirect effect triggered",{user:!!T,userId:T==null?void 0:T.id,profileLoading:D,showOTPVerification:b,showRoleSelection:N,pathname:window.location.pathname}),T&&!D){console.log("[Auth] User authenticated, checking redirect conditions",{pathname:window.location.pathname,showOTPVerification:b,showRoleSelection:N});const fe=window.location.pathname.includes("/auth");if(console.log("[Auth] Is on auth page:",fe),fe&&!b&&!N)if(I!=null&&I.role){const we=J(I.role);console.log("[Auth] Redirecting to dashboard:",we),_(we,{replace:!0})}else console.log("[Auth] No profile role found, redirecting to home"),_("/",{replace:!0})}},[T,I,D,b,N,_]),h.useEffect(()=>{if(s&&i&&i.length>=10){const fe=setTimeout(()=>{se(i)},500);return()=>clearTimeout(fe)}else k([]),M(!1)},[i,s]);const J=fe=>{switch(fe){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/"}},se=async fe=>{if(!fe||fe.length<10){k([]);return}try{B(!0);const we=await re.getAvailableRoles(fe);we.data&&we.data.roles?(k(we.data.roles),we.data.roles.length>0&&M(!0)):(k([]),M(!1))}catch(we){console.error("Error fetching available roles:",we),k([]),M(!1)}finally{B(!1)}},ue=fe=>({buyer_seller:"Property Buyer & Seller",broker:"Real Estate Broker",developer:"Property Developer",society_owner:"Society Owner/Secretary",society_member:"Society Member",admin:"Administrator"})[fe]||fe;if(T&&D)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-estate-blue"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});const xe=async fe=>{if(fe.preventDefault(),N){console.log("[Auth] Form submission blocked - role selection is active");return}if(console.log("[Auth] handleSubmit called, isLogin:",s,"selectedLoginRole:",O),U){if(!i){$({title:"Phone required",description:"Enter any phone to receive the mock OTP (123456).",variant:"destructive"});return}}else if(!/^\+[1-9]\d{7,14}$/.test(i)){$({title:"Invalid phone number",description:"Enter a valid phone in international format, e.g. +919876543210.",variant:"destructive"});return}g(!0);try{if(s)console.log("[Auth] Proceeding with login for role:",O),await de();else{if(!c||!m){$({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}console.log("[Auth] Attempting signup with:",{phone:i,fullName:c,selectedRole:m});const{error:we}=await F(i,c,m);if(console.log("[Auth] Signup response error:",we),we){const Oe=we.message||we||"Failed to send OTP";if(console.log("[Auth] Error message:",Oe),Oe.includes("already have this role")||Oe.includes("ROLE_EXISTS")){$({title:"Role already exists",description:"You already have this role. Please login instead.",variant:"destructive"});return}if(Oe.includes("Validation failed")||Oe.includes("Invalid")){$({title:"Invalid information",description:Oe,variant:"destructive"});return}$({title:"Failed to send OTP",description:/provider|phone auth|sms/i.test(Oe)?"SMS provider not enabled. For development, set VITE_MOCK_OTP=true and use code 123456.":Oe,variant:"destructive"})}else{w(!0);const Oe=U?sessionStorage.getItem(`mock_otp_${i}`)||"123456":null;$({title:"OTP Sent!",description:U?`Development OTP: ${Oe}`:"Please check your phone for the verification code."})}}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{g(!1)}},oe=async fe=>{if(console.log("[Auth] Role selected:",fe),console.log("[Auth] Current state - showRoleSelection:",N,"showOTPVerification:",b),!N){console.log("[Auth] Role selection called but not in role selection mode");return}g(!0),q(fe),console.log("[Auth] selectedLoginRole set to:",fe);try{await de(fe)}catch(we){console.error("[Auth] Error in handleRoleSelection:",we)}finally{g(!1)}},de=async fe=>{console.log("[Auth] proceedWithLogin called, passed role:",fe,"selectedLoginRole:",O);try{const we=fe||O||(E.length===1?E[0].role:null);if(console.log("[Auth] roleToUse:",we),!we){$({title:"No role selected",description:"Please select a role to continue.",variant:"destructive"});return}const{error:Oe}=await Q(i,we);if(Oe){const Te=Oe.message||"Failed to send OTP";$({title:"Failed to send OTP",description:/provider|phone auth|sms/i.test(Te)?"SMS provider not enabled. For development, set VITE_MOCK_OTP=true and use code 123456.":Te,variant:"destructive"})}else{C(!1),w(!0);const Te=U?sessionStorage.getItem(`mock_otp_${i}`)||"123456":null;$({title:"OTP Sent!",description:U?`Development OTP: ${Te}`:"Please check your phone for the verification code."})}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}},le=async fe=>{g(!0);try{const we=s?O:m,{data:Oe,error:Te}=await Y(i,fe,we);if(Te)$({title:"Verification failed",description:Te.message,variant:"destructive"});else{!s&&(Oe!=null&&Oe.user)&&await W({role:m,full_name:c,phone:i}),$({title:"Success!",description:s?"You've been successfully logged in.":"Your account has been created successfully."});const Lt=J(s?O:m);console.log("[Auth] OTP verification successful, redirecting to dashboard:",Lt),_(Lt,{replace:!0})}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{g(!1)}},he=async()=>{v(!0);try{const{error:fe}=s?await Q(i,O):await F(i,c,m);if(fe)$({title:"Failed to resend OTP",description:fe.message,variant:"destructive"});else{const we=U?sessionStorage.getItem(`mock_otp_${i}`)||"123456":null;U&&$({title:"OTP Sent",description:`Development OTP: ${we}`})}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{v(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-estate-blue-lighter to-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:b?e.jsx(Q2,{phone:i,onVerify:le,onResend:he,onBack:()=>w(!1),loading:y,resendLoading:x}):N?e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ye,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(be,{className:"text-2xl font-bold text-foreground",children:"Select Your Role"}),e.jsx(Qe,{children:"You have multiple roles. Please select which one you want to sign in as."})]}),e.jsxs(X,{className:"space-y-4",children:[E.map((fe,we)=>{const Oe=z.find(gt=>gt.value===fe.role),Te=(Oe==null?void 0:Oe.icon)||ir;return e.jsx("button",{className:"w-full h-auto p-4 justify-start rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground text-left",onClick:gt=>{gt.preventDefault(),gt.stopPropagation(),oe(fe.role)},disabled:y,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:`h-5 w-5 ${(Oe==null?void 0:Oe.color)||"text-gray-600"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:(Oe==null?void 0:Oe.label)||fe.role}),e.jsx("div",{className:"text-sm text-muted-foreground",children:fe.full_name})]}),y&&O===fe.role&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-estate-blue border-t-transparent"})})]})},we)}),e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-muted-foreground hover:text-foreground",onClick:()=>{C(!1),P([]),q("")},children:" Back to login"})})]})]}):e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ye,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(be,{className:"text-2xl font-bold text-foreground",children:s?"Welcome back":"Create account"}),e.jsx(Qe,{children:s?"Sign in to your account to continue":"Sign up to start exploring properties"})]}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fullName",className:"text-sm font-medium text-foreground",children:"Full Name"}),e.jsx(Se,{id:"fullName",placeholder:"Enter your full name",type:"text",value:c,onChange:fe=>d(fe.target.value),required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"role",className:"text-sm font-medium text-foreground",children:"Select Your Role"}),e.jsxs(Xe,{value:m,onValueChange:f,required:!0,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Choose your role in real estate"})}),e.jsx(Ke,{children:z.map(fe=>{const we=fe.icon;return e.jsx(te,{value:fe.value,children:e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx(we,{className:`h-4 w-4 ${fe.color}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:fe.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:fe.description})]})]})},fe.value)})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:"Phone Number"}),e.jsx(zS,{value:i,onChange:l,placeholder:"Enter your phone number",disabled:y}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send you a verification code via SMS"})]}),s&&A&&V.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium text-foreground",children:"Select Role to Login"}),e.jsxs(Xe,{value:O,onValueChange:q,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Choose your role"})}),e.jsx(Ke,{children:V.map(fe=>e.jsx(te,{value:fe.role,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:ue(fe.role)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",fe.status,"  ",fe.verificationStatus,")"]})]})})},fe.role))})]}),R&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading available roles..."})]}),s&&i&&i.length>=10&&!R&&V.length===0&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No registered roles found for this phone number. Please register first."})}),e.jsx(H,{className:"w-full h-11 bg-estate-blue hover:bg-estate-blue-light text-white font-medium",type:"submit",disabled:y,children:y?"Sending...":s?"Send Verification Code":"Create Account"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:s?"Don't have an account?":"Already have an account?"}),e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-estate-blue hover:text-estate-blue-light",onClick:()=>{s?(n(!1),_("/auth?mode=register")):(n(!0),_("/auth")),l(""),d(""),f(""),q(""),C(!1),M(!1),P([])},children:s?"Create new account":"Sign in instead"})]}),e.jsx("div",{className:"text-center",children:e.jsx(He,{to:"/",className:"text-sm text-muted-foreground hover:text-estate-blue transition-colors",children:" Back to home"})})]})]})})})},$F=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState("created_at"),[m,f]=h.useState("all"),[y,g]=h.useState("all"),[x,v]=h.useState([0,1e5]),[b,w]=h.useState([]),[N,C]=h.useState("all"),E=hr(),{toast:P}=it(),O=["Furnished","Semi-Furnished","Parking","Security","Gym","Swimming Pool","Garden","Elevator","Power Backup","Water Supply","Air Conditioning","Balcony","Modular Kitchen","Internet/WiFi"],q=[{value:"all",label:"Any Duration"},{value:"1 month",label:"Monthly"},{value:"3 months",label:"Quarterly"},{value:"6 months",label:"6 Months"},{value:"11 months",label:"11 Months"},{value:"1 year",label:"1 Year"},{value:"2 years",label:"2+ Years"}];h.useEffect(()=>{A()},[c,m,y,i,x,b,N]);const A=async()=>{try{b.length>0;const k=await re.getProperties();if(k.error)throw k.error;t(k.data||[])}catch(k){console.error("Error fetching rental properties:",k),P({title:"Error",description:"Failed to load rental properties. Please try again.",variant:"destructive"})}finally{n(!1)}},M=k=>{w(R=>R.includes(k)?R.filter(B=>B!==k):[...R,k])},V=()=>{l(""),f("all"),g("all"),v([0,1e5]),w([]),C("all")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-green-600 via-green-700 to-green-800 py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Properties for Rent"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto mb-8",children:"Find your perfect rental home with flexible lease terms and great amenities"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx(Et,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:r.length}),e.jsx("div",{className:"text-white/90 text-sm",children:"Available Rentals"})]})}),e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx(Qn,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"15K+"}),e.jsx("div",{className:"text-white/90 text-sm",children:"Starting From"})]})}),e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx(Ot,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"25+"}),e.jsx("div",{className:"text-white/90 text-sm",children:"Locations"})]})}),e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx(tr,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"Flexible"}),e.jsx("div",{className:"text-white/90 text-sm",children:"Lease Terms"})]})})]})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Find Your Perfect Rental"}),e.jsx(Qe,{children:"Use our advanced filters to find rentals that match your needs and budget"})]}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search location or property...",value:i,onChange:k=>l(k.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:m,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Property Type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Types"}),e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"pg",children:"PG/Hostel"})]})]}),e.jsxs(Xe,{value:y,onValueChange:g,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Furnishing"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"Any Furnishing"}),e.jsx(te,{value:"furnished",children:"Furnished"}),e.jsx(te,{value:"semi_furnished",children:"Semi-Furnished"}),e.jsx(te,{value:"unfurnished",children:"Unfurnished"})]})]}),e.jsxs(Xe,{value:c,onValueChange:d,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"created_at",children:"Newest First"}),e.jsx(te,{value:"rent_asc",children:"Rent: Low to High"}),e.jsx(te,{value:"rent_desc",children:"Rent: High to Low"}),e.jsx(te,{value:"area",children:"Area"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Monthly Rent Range ()"}),e.jsx(Tu,{value:x,onValueChange:v,max:1e5,min:0,step:5e3,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["",x[0].toLocaleString()]}),e.jsxs("span",{children:["",x[1].toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Preferred Lease Term"}),e.jsxs(Xe,{value:N,onValueChange:C,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Any Duration"})}),e.jsx(Ke,{children:q.map(k=>e.jsx(te,{value:k.value,children:k.label},k.value))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:O.slice(0,8).map(k=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($a,{id:k,checked:b.includes(k),onCheckedChange:()=>M(k)}),e.jsx(ne,{htmlFor:k,className:"text-xs",children:k})]},k))})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{variant:"ghost",onClick:V,children:"Clear All Filters"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:A,variant:"outline",children:"Apply Filters"}),e.jsx(H,{onClick:()=>E("/post-property"),className:"bg-green-600 hover:bg-green-700",children:"List Your Property"})]})]})]})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(9)].map((k,R)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},R))}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(k=>e.jsxs("div",{className:"relative",children:[e.jsx(pm,{id:k.id,title:k.title,location:`${k.location}, ${k.city}`,price:`${k.monthly_rent.toLocaleString()}/month`,area:`${k.area} sq ft`,image:k.images[0]||"/placeholder.svg",type:k.property_type,status:"For Rent"}),e.jsxs("div",{className:"absolute top-2 right-2 space-y-1",children:[k.furnished_status&&e.jsx(ge,{className:"bg-green-100 text-green-800 text-xs",children:k.furnished_status.replace("_"," ")}),k.security_deposit&&e.jsxs(ge,{variant:"outline",className:"text-xs bg-white",children:["Deposit: ",k.security_deposit.toLocaleString()]})]})]},k.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Et,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No Rental Properties Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search criteria or filters to find more rental options."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{onClick:V,variant:"outline",children:"Clear Filters"}),e.jsx(H,{onClick:()=>E("/post-property"),className:"bg-green-600 hover:bg-green-700",children:"List Your Rental Property"})]})]})})})]})};var Yf={exports:{}},Kf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function VF(){if(Pb)return Kf;Pb=1;var r=$u();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var s=typeof Object.is=="function"?Object.is:t,n=r.useState,i=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function d(g,x){var v=x(),b=n({inst:{value:v,getSnapshot:x}}),w=b[0].inst,N=b[1];return l(function(){w.value=v,w.getSnapshot=x,m(w)&&N({inst:w})},[g,v,x]),i(function(){return m(w)&&N({inst:w}),g(function(){m(w)&&N({inst:w})})},[g]),c(v),v}function m(g){var x=g.getSnapshot;g=g.value;try{var v=x();return!s(g,v)}catch{return!0}}function f(g,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Kf.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:y,Kf}var _b;function UF(){return _b||(_b=1,Yf.exports=VF()),Yf.exports}var BF=UF();function zF(){return BF.useSyncExternalStore(qF,()=>!0,()=>!1)}function qF(){return()=>{}}var ox="Avatar",[WF]=jr(ox),[HF,qS]=WF(ox),WS=h.forwardRef((r,t)=>{const{__scopeAvatar:s,...n}=r,[i,l]=h.useState("idle");return e.jsx(HF,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:e.jsx(Me.span,{...n,ref:t})})});WS.displayName=ox;var HS="AvatarImage",YS=h.forwardRef((r,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:i=()=>{},...l}=r,c=qS(HS,s),d=YF(n,l),m=or(f=>{i(f),c.onImageLoadingStatusChange(f)});return lr(()=>{d!=="idle"&&m(d)},[d,m]),d==="loaded"?e.jsx(Me.img,{...l,ref:t,src:n}):null});YS.displayName=HS;var KS="AvatarFallback",GS=h.forwardRef((r,t)=>{const{__scopeAvatar:s,delayMs:n,...i}=r,l=qS(KS,s),[c,d]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const m=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(m)}},[n]),c&&l.imageLoadingStatus!=="loaded"?e.jsx(Me.span,{...i,ref:t}):null});GS.displayName=KS;function Eb(r,t){return r?t?(r.src!==t&&(r.src=t),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YF(r,{referrerPolicy:t,crossOrigin:s}){const n=zF(),i=h.useRef(null),l=n?(i.current||(i.current=new window.Image),i.current):null,[c,d]=h.useState(()=>Eb(l,r));return lr(()=>{d(Eb(l,r))},[l,r]),lr(()=>{const m=g=>()=>{d(g)};if(!l)return;const f=m("loaded"),y=m("error");return l.addEventListener("load",f),l.addEventListener("error",y),t&&(l.referrerPolicy=t),typeof s=="string"&&(l.crossOrigin=s),()=>{l.removeEventListener("load",f),l.removeEventListener("error",y)}},[l,s,t]),c}var QS=WS,XS=YS,JS=GS;const ZS=h.forwardRef(({className:r,...t},s)=>e.jsx(QS,{ref:s,className:Re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...t}));ZS.displayName=QS.displayName;const ek=h.forwardRef(({className:r,...t},s)=>e.jsx(XS,{ref:s,className:Re("aspect-square h-full w-full",r),...t}));ek.displayName=XS.displayName;const tk=h.forwardRef(({className:r,...t},s)=>e.jsx(JS,{ref:s,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...t}));tk.displayName=JS.displayName;const KF=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState("all"),[m,f]=h.useState("experience"),{toast:y}=it(),g=["Residential Properties","Commercial Properties","Luxury Real Estate","Investment Properties","Rental Management","Land Development","Industrial Properties","Agricultural Land","NRI Investments"];h.useEffect(()=>{x()},[i,c,m]);const x=async()=>{try{const w=await re.getBrokers();if(w.error)throw w.error;t(w.data||[])}catch(w){console.error("Error fetching brokers:",w),y({title:"Error",description:"Failed to load broker profiles. Please try again.",variant:"destructive"})}finally{n(!1)}},v=w=>w.split(" ").map(N=>N[0]).join("").toUpperCase(),b=()=>{l(""),d("all")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800 py-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Professional Real Estate Brokers"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-8",children:"Connect with certified brokers who can help you buy, sell, or invest in properties with confidence"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{asChild:!0,size:"lg",className:"bg-white text-purple-700 hover:bg-white/90",children:e.jsxs(He,{to:"/auth?mode=register",children:[e.jsx(Kj,{className:"w-5 h-5 mr-2"}),"Become a Broker"]})}),e.jsx(H,{asChild:!0,variant:"outline",size:"lg",className:"border-white text-white hover:bg-white/10",children:e.jsx(He,{to:"/contact",children:"Contact Us"})})]})]})})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Hr,{className:"h-5 w-5"}),"Find the Right Broker"]}),e.jsx(Qe,{children:"Search by name, specialization, or location to find brokers that match your needs"})]}),e.jsx(X,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search brokers...",value:i,onChange:w=>l(w.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:c,onValueChange:d,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Specialization"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Specializations"}),g.map(w=>e.jsx(te,{value:w,children:w},w))]})]}),e.jsxs(Xe,{value:m,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"experience",children:"Most Experienced"}),e.jsx(te,{value:"commission",children:"Best Commission"}),e.jsx(te,{value:"newest",children:"Newest First"})]})]}),e.jsxs(H,{onClick:b,variant:"outline",children:[e.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]})})]})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Available Brokers"}),e.jsxs("p",{className:"text-muted-foreground",children:[r.length," brokers found ",i&&`for "${i}"`]})]})}),s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((w,N)=>e.jsx("div",{className:"animate-pulse",children:e.jsx(G,{className:"h-80",children:e.jsxs(X,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})},N))}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(w=>e.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(ZS,{className:"h-12 w-12",children:[e.jsx(ek,{src:w.profiles.profile_picture||void 0}),e.jsx(tk,{children:v(w.profiles.full_name)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:w.profiles.full_name}),w.profiles.company_name&&e.jsx("p",{className:"text-sm text-muted-foreground",children:w.profiles.company_name})]})]}),w.profiles.verification_status==="verified"&&e.jsxs(ge,{className:"bg-green-100 text-green-800",children:[e.jsx(Un,{className:"w-3 h-3 mr-1"}),"Verified"]})]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Specializations:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.specialization.slice(0,2).map((N,C)=>e.jsx(ge,{variant:"outline",className:"text-xs",children:N},C)),w.specialization.length>2&&e.jsxs(ge,{variant:"outline",className:"text-xs",children:["+",w.specialization.length-2," more"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[w.years_experience&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Co,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[w.years_experience," years"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[w.commission_rate,"% commission"]})]})]}),w.office_address&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{className:"text-muted-foreground line-clamp-2",children:w.office_address})]}),w.profiles.bio&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:w.profiles.bio}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(H,{asChild:!0,className:"flex-1",children:e.jsxs(He,{to:`/contact?broker=${w.id}`,children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),"Contact"]})}),w.profiles.phone&&e.jsx(H,{variant:"outline",asChild:!0,children:e.jsx("a",{href:`tel:${w.profiles.phone}`,children:e.jsx(Dr,{className:"w-4 h-4"})})}),w.profiles.website&&e.jsx(H,{variant:"outline",asChild:!0,children:e.jsx("a",{href:w.profiles.website,target:"_blank",rel:"noopener noreferrer",children:e.jsx(yr,{className:"w-4 h-4"})})})]})]})]},w.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Pt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No Brokers Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:i||c!=="all"?"Try adjusting your search criteria to find more brokers.":"No verified brokers are available at the moment."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{onClick:b,variant:"outline",children:"Clear Filters"}),e.jsx(H,{asChild:!0,children:e.jsx(He,{to:"/auth?mode=register",children:"Become a Broker"})})]})]})]})}),e.jsx("section",{className:"bg-muted/30 py-16",children:e.jsxs("div",{className:"container mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Your Real Estate Journey?"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Whether you're looking to buy, sell, or invest, our network of professional brokers is here to guide you every step of the way."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{asChild:!0,size:"lg",children:e.jsx(He,{to:"/properties",children:"Browse Properties"})}),e.jsx(H,{asChild:!0,variant:"outline",size:"lg",children:e.jsx(He,{to:"/auth?mode=register",children:"Join Our Network"})})]})]})})]})};var nn="Accordion",GF=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ix,QF,XF]=zi(nn),[Sm]=jr(nn,[XF,B2]),lx=B2(),rk=ke.forwardRef((r,t)=>{const{type:s,...n}=r,i=n,l=n;return e.jsx(ix.Provider,{scope:r.__scopeAccordion,children:s==="multiple"?e.jsx(tL,{...l,ref:t}):e.jsx(eL,{...i,ref:t})})});rk.displayName=nn;var[sk,JF]=Sm(nn),[nk,ZF]=Sm(nn,{collapsible:!1}),eL=ke.forwardRef((r,t)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},collapsible:l=!1,...c}=r,[d,m]=xs({prop:s,defaultProp:n??"",onChange:i,caller:nn});return e.jsx(sk,{scope:r.__scopeAccordion,value:ke.useMemo(()=>d?[d]:[],[d]),onItemOpen:m,onItemClose:ke.useCallback(()=>l&&m(""),[l,m]),children:e.jsx(nk,{scope:r.__scopeAccordion,collapsible:l,children:e.jsx(ak,{...c,ref:t})})})}),tL=ke.forwardRef((r,t)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},...l}=r,[c,d]=xs({prop:s,defaultProp:n??[],onChange:i,caller:nn}),m=ke.useCallback(y=>d((g=[])=>[...g,y]),[d]),f=ke.useCallback(y=>d((g=[])=>g.filter(x=>x!==y)),[d]);return e.jsx(sk,{scope:r.__scopeAccordion,value:c,onItemOpen:m,onItemClose:f,children:e.jsx(nk,{scope:r.__scopeAccordion,collapsible:!0,children:e.jsx(ak,{...l,ref:t})})})}),[rL,km]=Sm(nn),ak=ke.forwardRef((r,t)=>{const{__scopeAccordion:s,disabled:n,dir:i,orientation:l="vertical",...c}=r,d=ke.useRef(null),m=rt(d,t),f=QF(s),g=Mo(i)==="ltr",x=Ce(r.onKeyDown,v=>{var V;if(!GF.includes(v.key))return;const b=v.target,w=f().filter(k=>{var R;return!((R=k.ref.current)!=null&&R.disabled)}),N=w.findIndex(k=>k.ref.current===b),C=w.length;if(N===-1)return;v.preventDefault();let E=N;const P=0,O=C-1,q=()=>{E=N+1,E>O&&(E=P)},A=()=>{E=N-1,E<P&&(E=O)};switch(v.key){case"Home":E=P;break;case"End":E=O;break;case"ArrowRight":l==="horizontal"&&(g?q():A());break;case"ArrowDown":l==="vertical"&&q();break;case"ArrowLeft":l==="horizontal"&&(g?A():q());break;case"ArrowUp":l==="vertical"&&A();break}const M=E%C;(V=w[M].ref.current)==null||V.focus()});return e.jsx(rL,{scope:s,disabled:n,direction:i,orientation:l,children:e.jsx(ix.Slot,{scope:s,children:e.jsx(Me.div,{...c,"data-orientation":l,ref:m,onKeyDown:n?void 0:x})})})}),Au="AccordionItem",[sL,cx]=Sm(Au),ok=ke.forwardRef((r,t)=>{const{__scopeAccordion:s,value:n,...i}=r,l=km(Au,s),c=JF(Au,s),d=lx(s),m=br(),f=n&&c.value.includes(n)||!1,y=l.disabled||r.disabled;return e.jsx(sL,{scope:s,open:f,disabled:y,triggerId:m,children:e.jsx(H2,{"data-orientation":l.orientation,"data-state":mk(f),...d,...i,ref:t,disabled:y,open:f,onOpenChange:g=>{g?c.onItemOpen(n):c.onItemClose(n)}})})});ok.displayName=Au;var ik="AccordionHeader",lk=ke.forwardRef((r,t)=>{const{__scopeAccordion:s,...n}=r,i=km(nn,s),l=cx(ik,s);return e.jsx(Me.h3,{"data-orientation":i.orientation,"data-state":mk(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:t})});lk.displayName=ik;var Yp="AccordionTrigger",ck=ke.forwardRef((r,t)=>{const{__scopeAccordion:s,...n}=r,i=km(nn,s),l=cx(Yp,s),c=ZF(Yp,s),d=lx(s);return e.jsx(ix.ItemSlot,{scope:s,children:e.jsx(SO,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId,...d,...n,ref:t})})});ck.displayName=Yp;var dk="AccordionContent",uk=ke.forwardRef((r,t)=>{const{__scopeAccordion:s,...n}=r,i=km(nn,s),l=cx(dk,s),c=lx(s);return e.jsx(kO,{role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation,...c,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});uk.displayName=dk;function mk(r){return r?"open":"closed"}var nL=rk,aL=ok,oL=lk,hk=ck,fk=uk;const iL=nL,pk=h.forwardRef(({className:r,...t},s)=>e.jsx(aL,{ref:s,className:Re("border-b",r),...t}));pk.displayName="AccordionItem";const gk=h.forwardRef(({className:r,children:t,...s},n)=>e.jsx(oL,{className:"flex",children:e.jsxs(hk,{ref:n,className:Re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...s,children:[t,e.jsx(Wi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));gk.displayName=hk.displayName;const xk=h.forwardRef(({className:r,children:t,...s},n)=>e.jsx(fk,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:Re("pb-4 pt-0",r),children:t})}));xk.displayName=fk.displayName;var Cm="Tabs",[lL]=jr(Cm,[tm]),vk=tm(),[cL,dx]=lL(Cm),yk=h.forwardRef((r,t)=>{const{__scopeTabs:s,value:n,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:m="automatic",...f}=r,y=Mo(d),[g,x]=xs({prop:n,onChange:i,defaultProp:l??"",caller:Cm});return e.jsx(cL,{scope:s,baseId:br(),value:g,onValueChange:x,orientation:c,dir:y,activationMode:m,children:e.jsx(Me.div,{dir:y,"data-orientation":c,...f,ref:t})})});yk.displayName=Cm;var bk="TabsList",jk=h.forwardRef((r,t)=>{const{__scopeTabs:s,loop:n=!0,...i}=r,l=dx(bk,s),c=vk(s);return e.jsx(Gw,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:e.jsx(Me.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});jk.displayName=bk;var wk="TabsTrigger",Nk=h.forwardRef((r,t)=>{const{__scopeTabs:s,value:n,disabled:i=!1,...l}=r,c=dx(wk,s),d=vk(s),m=Ck(c.baseId,n),f=Pk(c.baseId,n),y=n===c.value;return e.jsx(Qw,{asChild:!0,...d,focusable:!i,active:y,children:e.jsx(Me.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":f,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...l,ref:t,onMouseDown:Ce(r.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:Ce(r.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:Ce(r.onFocus,()=>{const g=c.activationMode!=="manual";!y&&!i&&g&&c.onValueChange(n)})})})});Nk.displayName=wk;var Sk="TabsContent",kk=h.forwardRef((r,t)=>{const{__scopeTabs:s,value:n,forceMount:i,children:l,...c}=r,d=dx(Sk,s),m=Ck(d.baseId,n),f=Pk(d.baseId,n),y=n===d.value,g=h.useRef(y);return h.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(wr,{present:i||y,children:({present:x})=>e.jsx(Me.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!x,id:f,tabIndex:0,...c,ref:t,style:{...r.style,animationDuration:g.current?"0s":void 0},children:x&&l})})});kk.displayName=Sk;function Ck(r,t){return`${r}-trigger-${t}`}function Pk(r,t){return`${r}-content-${t}`}var dL=yk,_k=jk,Ek=Nk,Rk=kk;const gs=dL,os=h.forwardRef(({className:r,...t},s)=>e.jsx(_k,{ref:s,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t}));os.displayName=_k.displayName;const Ge=h.forwardRef(({className:r,...t},s)=>e.jsx(Ek,{ref:s,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t}));Ge.displayName=Ek.displayName;const nt=h.forwardRef(({className:r,...t},s)=>e.jsx(Rk,{ref:s,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t}));nt.displayName=Rk.displayName;const uL=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState("all"),{toast:m}=it(),f=[{value:"all",label:"All Categories"},{value:"general",label:"General"},{value:"buyer",label:"For Buyers"},{value:"seller",label:"For Sellers"},{value:"broker",label:"For Brokers"},{value:"developer",label:"For Developers"},{value:"nri",label:"NRI Services"},{value:"investment",label:"Investment"}];h.useEffect(()=>{y()},[i,c]);const y=async()=>{try{const b=await re.getSupportTickets();if(b.error)throw b.error;t(b.data||[])}catch(b){console.error("Error fetching FAQs:",b),m({title:"Error",description:"Failed to load FAQs. Please try again.",variant:"destructive"})}finally{n(!1)}},g=()=>{l(""),d("all")},x=r.filter(b=>{const w=i===""||b.question.toLowerCase().includes(i.toLowerCase())||b.answer.toLowerCase().includes(i.toLowerCase())||b.tags.some(C=>C.toLowerCase().includes(i.toLowerCase())),N=c==="all"||b.category===c;return w&&N}),v=b=>r.filter(w=>w.category===b);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 py-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(wf,{className:"h-16 w-16 text-white mx-auto mb-6"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-8",children:"Get instant answers to common questions about buying, selling, and investing in real estate"}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Se,{placeholder:"Search FAQs...",value:i,onChange:b=>l(b.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/60"})]})})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsx("div",{className:"mb-8",children:e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search questions, answers, or topics...",value:i,onChange:b=>l(b.target.value),className:"pl-9"})]}),e.jsx("div",{className:"flex gap-2",children:i||c!=="all"?e.jsx(H,{variant:"ghost",onClick:g,children:"Clear Search"}):null})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:f.map(b=>e.jsxs(ge,{variant:c===b.value?"default":"outline",className:"cursor-pointer",onClick:()=>d(b.value),children:[b.label,b.value!=="all"&&e.jsxs("span",{className:"ml-1",children:["(",v(b.value).length,")"]})]},b.value))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(gs,{value:c,onValueChange:d,className:"space-y-6",children:[e.jsxs(os,{className:"grid grid-cols-3 lg:grid-cols-4 w-full",children:[e.jsx(Ge,{value:"all",children:"All"}),e.jsx(Ge,{value:"buyer",children:"Buyers"}),e.jsx(Ge,{value:"seller",children:"Sellers"}),e.jsx(Ge,{value:"nri",children:"NRI"})]}),e.jsx("div",{className:"space-y-6",children:s?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((b,w)=>e.jsx(G,{className:"animate-pulse",children:e.jsxs(X,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})},w))}):x.length>0?e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsx(iL,{type:"single",collapsible:!0,className:"space-y-2",children:x.map((b,w)=>e.jsxs(pk,{value:`item-${w}`,className:"border rounded-lg px-4",children:[e.jsx(gk,{className:"text-left hover:no-underline",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(wf,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:b.question})]})}),e.jsxs(xk,{className:"pl-8 pb-4",children:[e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-line",children:b.answer})}),b.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:b.tags.map((N,C)=>e.jsx(ge,{variant:"outline",className:"text-xs",children:N},C))})]})]},b.id))})})}):e.jsx(G,{children:e.jsxs(X,{className:"p-12 text-center",children:[e.jsx(wf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No FAQs Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:i?`No questions match "${i}". Try different keywords or browse by category.`:"No FAQs available for this category."}),e.jsx(H,{variant:"outline",onClick:g,children:"Clear Search"})]})})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Browse by Category"}),e.jsx("div",{className:"space-y-2",children:f.filter(b=>b.value!=="all").map(b=>{const w=v(b.value).length;return e.jsxs(H,{variant:c===b.value?"default":"ghost",className:"w-full justify-between",onClick:()=>d(b.value),children:[e.jsx("span",{children:b.label}),e.jsx(ge,{variant:"outline",children:w})]},b.value)})})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Still Need Help?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Can't find what you're looking for? Our support team is here to help."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(H,{className:"w-full",variant:"outline",children:[e.jsx(bc,{className:"w-4 h-4 mr-2"}),"Live Chat"]}),e.jsxs(H,{className:"w-full",variant:"outline",children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),"Email Support"]}),e.jsxs(H,{className:"w-full",variant:"outline",children:[e.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Call Us"]})]})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Popular Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["platform","about","search","properties","listing","sell","commission","earnings","nri","investment","legal"].map(b=>e.jsx(ge,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground",onClick:()=>l(b),children:b},b))})]})})]})]})]})]})},mL=()=>{const r=Sn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},hL=()=>{const[r]=dj(),t=r.get("invitation"),s=r.get("society"),[n,i]=h.useState(null),[l,c]=h.useState(!0),[d,m]=h.useState(!1),[f,y]=h.useState(!1),[g,x]=h.useState(!1),[v,b]=h.useState(""),[w,N]=h.useState(""),[C,E]=h.useState(""),[P,O]=h.useState(!1),{toast:q}=it(),{user:A}=Ft();h.useEffect(()=>{t&&s&&M()},[t,s]);const M=async()=>{try{const{data:B,error:_}=await re.select(`
          *,
          societies (
            name,
            address,
            city,
            state
          )
        `).maybeSingle();if(_)throw _;if(!B){q({title:"Invalid Invitation",description:"This invitation link is invalid or does not exist",variant:"destructive"});return}if(B.status!=="pending"){q({title:"Invalid Invitation",description:"This invitation has already been used or expired",variant:"destructive"});return}if(new Date(B.expires_at)<new Date){q({title:"Expired Invitation",description:"This invitation has expired",variant:"destructive"});return}i(B),b(B.phone||""),N(B.name||"")}catch(B){q({title:"Error",description:B.message,variant:"destructive"})}finally{c(!1)}},V=async B=>{B.preventDefault(),m(!0);try{if(!/^\+[1-9]\d{7,14}$/.test(v)){q({title:"Invalid phone number",description:"Enter a valid phone in international format, e.g. +919876543210.",variant:"destructive"});return}const{error:$}=await re.sendOTP(v);if($){q({title:"Failed to send OTP",description:$.message,variant:"destructive"});return}x(!0),q({title:"OTP Sent!",description:"Please check your phone for the verification code."})}catch(_){q({title:"Error",description:_.message,variant:"destructive"})}finally{m(!1)}},k=async B=>{m(!0);try{const{data:_,error:$}=await re.verifyOTP(v,B);if($){q({title:"Verification failed",description:$.message,variant:"destructive"});return}_.user&&(await re({full_name:n==null?void 0:n.name,phone:n==null?void 0:n.phone,role:"society_member"}),await re({society_id:s,user_id:_.user.id,flat_number:n==null?void 0:n.flat_number,status:"active"}),await re({status:"accepted"}),y(!0),q({title:"Registration Successful!",description:"You are now a member of the society."}))}catch(_){q({title:"Registration Failed",description:_.message,variant:"destructive"})}finally{m(!1)}},R=async()=>{O(!0);try{const{error:B}=await re.sendOTP({phone:v});q(B?{title:"Failed to resend OTP",description:B.message,variant:"destructive"}:{title:"OTP Sent",description:"A new OTP has been sent to your phone number."})}catch{q({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{O(!1)}};return!t||!s?e.jsx(xu,{to:"/auth"}):A?e.jsx(xu,{to:"/society-member/dashboard"}):l?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading invitation details..."})]})}):n?f?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ye,{className:"text-center",children:[e.jsx(wt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx(be,{className:"text-green-600",children:"Registration Complete!"}),e.jsxs(Qe,{children:["Welcome to ",n.societies.name]})]}),e.jsxs(X,{className:"text-center space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Flat Number:"})," ",n.flat_number]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Society:"})," ",n.societies.name]})]}),e.jsx(H,{onClick:()=>window.location.href="/society-member/dashboard",className:"w-full",children:"Go to Member Dashboard"})]})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(G,{className:"w-full max-w-2xl",children:[e.jsxs(ye,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"h-8 w-8 text-primary"}),e.jsx(Pt,{className:"h-6 w-6 text-primary"})]})}),e.jsx(be,{children:"Society Member Registration"}),e.jsxs(Qe,{children:["Complete your registration to join ",n.societies.name]})]}),e.jsxs(X,{className:"space-y-6",children:[g?e.jsx(Q2,{phone:v,onVerify:k,onResend:R,onBack:()=>x(!1),loading:d,resendLoading:P}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Invitation Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{className:"ml-2 font-medium",children:n.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Flat:"}),e.jsx(ge,{variant:"secondary",className:"ml-2",children:n.flat_number})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{className:"ml-2",children:n.phone})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Society:"}),e.jsx("span",{className:"ml-2",children:n.societies.name})]})]})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fullName",children:"Full Name"}),e.jsx(Se,{id:"fullName",value:w,onChange:B=>N(B.target.value),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),e.jsx(zS,{value:v,onChange:b,placeholder:"Enter your phone number",disabled:d}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send you a verification code via SMS"})]}),e.jsx(H,{type:"submit",disabled:d,className:"w-full",children:d?"Sending OTP...":"Send Verification Code"})]})]}),e.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["By registering, you agree to become a member of ",n.societies.name]})]})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ye,{className:"text-center",children:[e.jsx(be,{className:"text-destructive",children:"Invalid Invitation"}),e.jsx(Qe,{children:"The invitation link is invalid or has expired."})]}),e.jsx(X,{className:"text-center",children:e.jsx(H,{onClick:()=>window.location.href="/auth",children:"Go to Login"})})]})})},fi=h.forwardRef(({className:r,...t},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Re("w-full caption-bottom text-sm",r),...t})}));fi.displayName="Table";const pi=h.forwardRef(({className:r,...t},s)=>e.jsx("thead",{ref:s,className:Re("[&_tr]:border-b",r),...t}));pi.displayName="TableHeader";const gi=h.forwardRef(({className:r,...t},s)=>e.jsx("tbody",{ref:s,className:Re("[&_tr:last-child]:border-0",r),...t}));gi.displayName="TableBody";const fL=h.forwardRef(({className:r,...t},s)=>e.jsx("tfoot",{ref:s,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...t}));fL.displayName="TableFooter";const qs=h.forwardRef(({className:r,...t},s)=>e.jsx("tr",{ref:s,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...t}));qs.displayName="TableRow";const ut=h.forwardRef(({className:r,...t},s)=>e.jsx("th",{ref:s,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...t}));ut.displayName="TableHead";const mt=h.forwardRef(({className:r,...t},s)=>e.jsx("td",{ref:s,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...t}));mt.displayName="TableCell";const pL=h.forwardRef(({className:r,...t},s)=>e.jsx("caption",{ref:s,className:Re("mt-4 text-sm text-muted-foreground",r),...t}));pL.displayName="TableCaption";const gL=()=>{const[r,t]=h.useState({totalUsers:0,totalProperties:0,totalInquiries:0,totalTickets:0,pendingApprovals:0,totalProjects:0,totalBrokers:0,totalDevelopers:0,monthlyRevenue:0}),[s,n]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState([]),[x,v]=h.useState({userGrowth:[],propertyViews:[],inquiries:[]}),[b,w]=h.useState(!0),[N,C]=h.useState("all"),[E,P]=h.useState(""),[O,q]=h.useState(null),[A,M]=h.useState(""),{toast:V}=it();h.useEffect(()=>{k()},[]);const k=async()=>{var D,W,U,z,J,se,ue,xe;try{w(!0);const[oe,de,le,he,fe,we,Oe,Te]=await Promise.all([re.getUsers(),re.getProperties(),re.getInquiries(),re.getSupportTickets(),re.getUsers({status:"pending_verification"}),re.getProjects(),re.getBrokers(),re.getDevelopers()]),gt=((D=oe.data)==null?void 0:D.length)||0,Lt=((W=de.data)==null?void 0:W.length)||0,Qt=((U=le.data)==null?void 0:U.length)||0,cr=((z=he.data)==null?void 0:z.length)||0,qt=((J=fe.data)==null?void 0:J.length)||0,sr=((se=we.data)==null?void 0:se.length)||0,ae=((ue=Oe.data)==null?void 0:ue.length)||0,Le=((xe=Te.data)==null?void 0:xe.length)||0,ie=de.data||[],_e=(ie==null?void 0:ie.reduce((We,Nt)=>We+(Nt.price||0),0))||0;t({totalUsers:gt||0,totalProperties:Lt||0,totalInquiries:Qt||0,totalTickets:cr||0,pendingApprovals:qt||0,totalProjects:sr||0,totalBrokers:ae||0,totalDevelopers:Le||0,monthlyRevenue:_e});const{data:Ae}=await re.getUsers();n(Ae||[]);const{data:Ie}=await re.getProperties(),{data:Ze}=await re.getUsers(),ft=(Ze||[]).reduce((We,Nt)=>(We[Nt.id]=Nt.full_name,We),{});l((Ie||[]).map(We=>({...We,owner_name:ft[We.owner_id]||"Unknown Owner"})));const{data:St}=await re.getProjects();d(St||[]);const{data:qe}=await re.getDevelopers();f((qe||[]).map(We=>({...We,user_name:ft[We.user_id]||"Unknown User"})));const{data:vt}=await re.getSupportTickets();g((vt||[]).map(We=>({...We,user_name:ft[We.user_id]||"Unknown User"})))}catch(oe){console.error("Error fetching dashboard data:",oe),V({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{w(!1)}},R=async(D,W,U)=>{try{const z=U==="status"?"status":"verification_status",{error:J}=await re.updateUser(D,{[z]:W});if(J)throw J;V({title:"Success",description:`User ${U} updated successfully`}),k()}catch{V({title:"Error",description:`Failed to update user ${U}`,variant:"destructive"})}},B=async(D,W)=>{try{const{error:U}=await re.updateProperty(D,{status:W});if(U)throw U;V({title:"Success",description:"Property status updated successfully"}),k()}catch{V({title:"Error",description:"Failed to update property status",variant:"destructive"})}},_=async D=>{try{const{error:W}=await re.deleteProperty(D);if(W)throw W;V({title:"Success",description:"Property deleted successfully"}),k()}catch{V({title:"Error",description:"Failed to delete property",variant:"destructive"})}},$=async(D,W)=>{try{const{error:U}=await re.updateProject(D,{status:W});if(U)throw U;V({title:"Success",description:"Project status updated successfully"}),k()}catch{V({title:"Error",description:"Failed to update project status",variant:"destructive"})}},T=async(D,W,U)=>{try{console.log(`Updating developer ${D} ${U} to ${W}`);const z=U==="status"?"status":"verification_status",{error:J}=await re.updateDeveloper(D,{[z]:W});if(J)throw console.error("Database update error:",J),J;console.log(`Successfully updated developer ${U}`),V({title:"Success",description:`Developer ${U} updated successfully`}),k()}catch(z){console.error("Error updating developer status:",z),V({title:"Error",description:`Failed to update developer ${U}`,variant:"destructive"})}},Q=async(D,W)=>{try{const{error:U}=await re.updateSupportTicket(D,{status:W});if(U)throw U;V({title:"Success",description:"Ticket status updated successfully"}),k(),q(null)}catch{V({title:"Error",description:"Failed to update ticket status",variant:"destructive"})}},Y=s.filter(D=>{var z;const W=N==="all"||D.role===N,U=(z=D.full_name)==null?void 0:z.toLowerCase().includes(E.toLowerCase());return W&&U}),F=D=>{switch(D){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=D=>{switch(D){case"verified":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your MilkatPost platform"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{asChild:!0,variant:"outline",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(yr,{className:"w-4 h-4 mr-2"}),"List Property"]})}),e.jsxs(H,{onClick:k,children:[e.jsx(Di,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),e.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers})]})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(yr,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Properties"}),e.jsx("div",{className:"text-2xl font-bold",children:r.totalProperties})]})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bt,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Projects"}),e.jsx("div",{className:"text-2xl font-bold",children:r.totalProjects})]})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hl,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"}),e.jsxs("div",{className:"text-2xl font-bold",children:["",(r.monthlyRevenue/1e5).toFixed(1),"L"]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Inquiries"}),e.jsx("div",{className:"text-lg font-semibold",children:r.totalInquiries})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Support Tickets"}),e.jsx("div",{className:"text-lg font-semibold",children:r.totalTickets})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approvals"}),e.jsx("div",{className:"text-lg font-semibold text-orange-600",children:r.pendingApprovals})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Brokers"}),e.jsx("div",{className:"text-lg font-semibold",children:r.totalBrokers})]})})})]}),e.jsxs(gs,{defaultValue:"users",className:"space-y-4",children:[e.jsxs(os,{className:"grid w-full grid-cols-6",children:[e.jsx(Ge,{value:"users",children:"Users"}),e.jsx(Ge,{value:"properties",children:"Properties"}),e.jsx(Ge,{value:"projects",children:"Projects"}),e.jsx(Ge,{value:"developers",children:"Developers"}),e.jsx(Ge,{value:"support",children:"Support"}),e.jsx(Ge,{value:"analytics",children:"Analytics"})]}),e.jsx(nt,{value:"users",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"User Management"}),e.jsx(Qe,{children:"Manage user accounts, roles, and verification status"})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx(Se,{placeholder:"Search users...",value:E,onChange:D=>P(D.target.value),className:"max-w-sm"}),e.jsxs(Xe,{value:N,onValueChange:C,children:[e.jsx(Ye,{className:"w-48",children:e.jsx(Je,{placeholder:"Filter by role"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Roles"}),e.jsx(te,{value:"buyer",children:"Buyers"}),e.jsx(te,{value:"seller",children:"Sellers"}),e.jsx(te,{value:"broker",children:"Brokers"}),e.jsx(te,{value:"developer",children:"Developers"}),e.jsx(te,{value:"admin",children:"Admins"})]})]})]}),e.jsx("div",{className:"space-y-4",children:Y.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium",children:D.full_name||"No Name"}),e.jsx(ge,{variant:"outline",className:"capitalize",children:D.role})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ge,{className:F(D.status),children:D.status}),e.jsx(ge,{className:I(D.verification_status),children:D.verification_status})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Joined: ",new Date(D.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[D.status==="active"?e.jsx(H,{variant:"outline",size:"sm",onClick:()=>R(D.id,"suspended","status"),children:e.jsx(NR,{className:"w-4 h-4"})}):e.jsx(H,{variant:"outline",size:"sm",onClick:()=>R(D.id,"active","status"),children:e.jsx(wR,{className:"w-4 h-4"})}),D.verification_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",onClick:()=>R(D.id,"verified","verification"),children:"Approve"}),e.jsx(H,{variant:"destructive",size:"sm",onClick:()=>R(D.id,"rejected","verification"),children:"Reject"})]}),e.jsx(H,{variant:"ghost",size:"sm",children:e.jsx(Wr,{className:"w-4 h-4"})})]})]},D.id))})]})]})}),e.jsx(nt,{value:"properties",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Property Management"}),e.jsx(Qe,{children:"Manage all property listings on the platform"})]}),e.jsx(X,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Se,{placeholder:"Search properties...",value:E,onChange:D=>P(D.target.value),className:"max-w-sm"}),e.jsxs(Xe,{defaultValue:"all",children:[e.jsx(Ye,{className:"w-48",children:e.jsx(Je,{placeholder:"Filter by status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Properties"}),e.jsx(te,{value:"available",children:"Available"}),e.jsx(te,{value:"pending",children:"Pending"}),e.jsx(te,{value:"sold",children:"Sold"}),e.jsx(te,{value:"rented",children:"Rented"}),e.jsx(te,{value:"suspended",children:"Suspended"})]})]})]}),e.jsxs(fi,{children:[e.jsx(pi,{children:e.jsxs(qs,{children:[e.jsx(ut,{children:"Title"}),e.jsx(ut,{children:"Owner"}),e.jsx(ut,{children:"Type"}),e.jsx(ut,{children:"Price"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Location"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(gi,{children:i.filter(D=>D.title.toLowerCase().includes(E.toLowerCase())).map(D=>{var W;return e.jsxs(qs,{children:[e.jsx(mt,{className:"font-medium",children:D.title}),e.jsx(mt,{children:D.owner_name}),e.jsx(mt,{className:"capitalize",children:D.property_type}),e.jsxs(mt,{children:["",(W=D.price)==null?void 0:W.toLocaleString()]}),e.jsx(mt,{children:e.jsx(ge,{variant:D.status==="available"?"default":D.status==="suspended"?"destructive":D.status==="pending"?"outline":"secondary",children:D.status})}),e.jsx(mt,{children:D.location}),e.jsx(mt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/property/${D.id}`,"_blank"),children:e.jsx(Wr,{className:"w-4 h-4"})}),D.status==="pending"?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(H,{size:"sm",onClick:()=>B(D.id,"available"),children:[e.jsx(wt,{className:"w-3 h-3 mr-1"}),"Approve"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>B(D.id,"suspended"),children:[e.jsx(Xs,{className:"w-3 h-3 mr-1"}),"Reject"]})]}):e.jsxs(Xe,{onValueChange:U=>B(D.id,U),children:[e.jsx(Ye,{className:"w-24",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"available",children:"Available"}),e.jsx(te,{value:"sold",children:"Sold"}),e.jsx(te,{value:"rented",children:"Rented"}),e.jsx(te,{value:"suspended",children:"Suspend"})]})]}),e.jsx(H,{size:"sm",variant:"destructive",onClick:()=>_(D.id),children:e.jsx(Js,{className:"w-4 h-4"})})]})})]},D.id)})})]})]})})]})}),e.jsx(nt,{value:"projects",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Project Management"}),e.jsx(Qe,{children:"Manage all development projects"})]}),e.jsx(X,{children:e.jsxs(fi,{children:[e.jsx(pi,{children:e.jsxs(qs,{children:[e.jsx(ut,{children:"Project Name"}),e.jsx(ut,{children:"Builder"}),e.jsx(ut,{children:"Location"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Units"}),e.jsx(ut,{children:"Available"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(gi,{children:c.map(D=>e.jsxs(qs,{children:[e.jsx(mt,{className:"font-medium",children:D.name}),e.jsx(mt,{children:D.builder}),e.jsx(mt,{children:D.location}),e.jsx(mt,{children:e.jsx(ge,{variant:D.status==="completed"?"default":"secondary",children:D.status})}),e.jsx(mt,{children:D.total_units}),e.jsx(mt,{children:D.available_units}),e.jsx(mt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/project/${D.id}`,"_blank"),children:e.jsx(Wr,{className:"w-4 h-4"})}),D.status==="pending"?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(H,{size:"sm",onClick:()=>$(D.id,"ongoing"),children:[e.jsx(wt,{className:"w-3 h-3 mr-1"}),"Approve"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>$(D.id,"suspended"),children:[e.jsx(Xs,{className:"w-3 h-3 mr-1"}),"Reject"]})]}):e.jsxs(Xe,{onValueChange:W=>$(D.id,W),children:[e.jsx(Ye,{className:"w-28",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"ongoing",children:"Ongoing"}),e.jsx(te,{value:"completed",children:"Completed"}),e.jsx(te,{value:"suspended",children:"Suspend"})]})]}),e.jsx(H,{size:"sm",variant:"outline",children:e.jsx(nc,{className:"w-4 h-4"})})]})})]},D.id))})]})})]})}),e.jsx(nt,{value:"developers",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Developer Management"}),e.jsx(Qe,{children:"Manage developer accounts and verification status"})]}),e.jsx(X,{children:e.jsxs(fi,{children:[e.jsx(pi,{children:e.jsxs(qs,{children:[e.jsx(ut,{children:"Company Name"}),e.jsx(ut,{children:"Contact Person"}),e.jsx(ut,{children:"Established"}),e.jsx(ut,{children:"Website"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Verification"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(gi,{children:m.map(D=>e.jsxs(qs,{children:[e.jsx(mt,{className:"font-medium",children:D.company_name}),e.jsx(mt,{children:D.user_name}),e.jsx(mt,{children:D.established_year||"N/A"}),e.jsx(mt,{children:D.website?e.jsx("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Site"}):"N/A"}),e.jsx(mt,{children:e.jsx(ge,{className:F(D.status),children:D.status})}),e.jsx(mt,{children:e.jsx(ge,{className:I(D.verification_status),children:D.verification_status})}),e.jsx(mt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/developer/${D.id}`,"_blank"),children:e.jsx(Wr,{className:"w-4 h-4"})}),D.verification_status==="pending"?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(H,{size:"sm",onClick:()=>T(D.id,"verified","verification"),children:[e.jsx(wt,{className:"w-3 h-3 mr-1"}),"Approve"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>T(D.id,"rejected","verification"),children:[e.jsx(Xs,{className:"w-3 h-3 mr-1"}),"Reject"]})]}):e.jsxs(Xe,{onValueChange:W=>T(D.id,W,"verification"),children:[e.jsx(Ye,{className:"w-28",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"verified",children:"Verified"}),e.jsx(te,{value:"pending",children:"Pending"}),e.jsx(te,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(Xe,{onValueChange:W=>T(D.id,W,"status"),children:[e.jsx(Ye,{className:"w-24",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"active",children:"Active"}),e.jsx(te,{value:"inactive",children:"Inactive"})]})]})]})})]},D.id))})]})})]})}),e.jsx(nt,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(G,{children:[e.jsx(ye,{className:"pb-3",children:e.jsx(be,{className:"text-base",children:"Active Users (Last 30 Days)"})}),e.jsxs(X,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(G,{children:[e.jsx(ye,{className:"pb-3",children:e.jsx(be,{className:"text-base",children:"Property Views"})}),e.jsxs(X,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"12.4K"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),e.jsxs(G,{children:[e.jsx(ye,{className:"pb-3",children:e.jsx(be,{className:"text-base",children:"Conversion Rate"})}),e.jsxs(X,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"3.2%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"-0.1% from last month"})]})]})]}),e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Revenue Analytics"}),e.jsx(Qe,{children:"Platform revenue insights and trends"})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",(r.monthlyRevenue/1e5).toFixed(1),"L"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(r.monthlyRevenue*.85/1e5).toFixed(1),"L"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Month"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"+18%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Growth Rate"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(r.monthlyRevenue*12/1e5).toFixed(1),"L"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Projected Annual"})]})]}),e.jsx("div",{className:"text-center text-muted-foreground",children:"Revenue analytics chart would be displayed here"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"User Distribution"})}),e.jsx(X,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Buyers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-3/4 h-full bg-blue-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"75%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Sellers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-1/2 h-full bg-green-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"50%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Brokers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-1/4 h-full bg-orange-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"25%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Developers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-1/5 h-full bg-purple-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"20%"})]})]})]})})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Top Performance"})}),e.jsx(X,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Most Viewed Property Type"}),e.jsx("span",{className:"font-medium",children:"Apartments"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Top Location"}),e.jsx("span",{className:"font-medium",children:"Mumbai"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average Property Price"}),e.jsx("span",{className:"font-medium",children:"85L"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Properties Listed Today"}),e.jsx("span",{className:"font-medium text-green-600",children:"+24"})]})})]})})]})]}),e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Data Export"}),e.jsx(Qe,{children:"Export platform data for analysis"})]}),e.jsx(X,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(H,{variant:"outline",children:[e.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Export Users"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Export Properties"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Export Analytics"]})]})})]})]})}),e.jsx(nt,{value:"support",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Support Tickets"}),e.jsx(Qe,{children:"Manage customer support tickets and inquiries"})]}),e.jsx(X,{children:e.jsxs(fi,{children:[e.jsx(pi,{children:e.jsxs(qs,{children:[e.jsx(ut,{children:"Subject"}),e.jsx(ut,{children:"User"}),e.jsx(ut,{children:"Category"}),e.jsx(ut,{children:"Priority"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Created"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(gi,{children:y.map(D=>e.jsxs(qs,{children:[e.jsx(mt,{className:"font-medium",children:D.subject}),e.jsx(mt,{children:D.user_name}),e.jsx(mt,{className:"capitalize",children:D.category}),e.jsx(mt,{children:e.jsx(ge,{variant:D.priority==="high"?"destructive":D.priority==="medium"?"default":"secondary",children:D.priority})}),e.jsx(mt,{children:e.jsx(ge,{variant:D.status==="open"?"destructive":D.status==="in_progress"?"default":"secondary",children:D.status.replace("_"," ")})}),e.jsx(mt,{children:new Date(D.created_at).toLocaleDateString()}),e.jsx(mt,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs(Va,{children:[e.jsx(Ql,{asChild:!0,children:e.jsx(H,{size:"sm",variant:"outline",onClick:()=>q(D),children:e.jsx(Wr,{className:"w-4 h-4"})})}),e.jsxs(Hn,{className:"max-w-2xl",children:[e.jsx(Yn,{children:e.jsx(Kn,{children:D.subject})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"User"}),e.jsx("p",{className:"font-medium",children:D.user_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),e.jsx("p",{className:"font-medium capitalize",children:D.category})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:D.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Reply"}),e.jsx(rr,{placeholder:"Type your response...",value:A,onChange:W=>M(W.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:()=>Q(D.id,"resolved"),className:"flex-1",children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Resolve"]}),e.jsxs(H,{variant:"outline",onClick:()=>Q(D.id,"in_progress"),children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"In Progress"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(Kl,{className:"w-4 h-4 mr-2"}),"Reply"]})]})]})]})]})})})]},D.id))})]})})]})})]})]})})},Es=()=>{const r=hr(),{signOut:t,user:s}=Ft(),{profile:n}=Qa(),{toast:i}=it(),l=async()=>{try{localStorage.removeItem("selectedRole");const{error:d}=await t();d?i({title:"Error",description:"Failed to sign out",variant:"error"}):(r("/"),i({title:"Signed out",description:"You have been successfully signed out",variant:"success"}))}catch{i({title:"Error",description:"Something went wrong",variant:"error"})}},c=d=>{switch(d){case"admin":return"bg-red-100 text-red-800";case"buyer_seller":return"bg-blue-100 text-blue-800";case"broker":return"bg-purple-100 text-purple-800";case"developer":return"bg-orange-100 text-orange-800";case"society_owner":return"bg-teal-100 text-teal-800";case"society_member":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("nav",{className:"bg-white border-b border-border sticky top-0 z-50 shadow-soft",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0",children:[e.jsxs(He,{to:"/",className:"text-lg sm:text-xl font-bold text-estate-blue shrink-0",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(H,{asChild:!0,variant:"ghost",size:"sm",className:"hidden sm:flex",children:e.jsxs(He,{to:"/",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Home"]})})]}),e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 shrink-0",children:n&&n.role&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:`${c(n.role)} text-xs sm:text-sm hidden sm:inline-flex`,children:n.role.replace("_"," ").replace(/\b\w/g,d=>d.toUpperCase())}),e.jsxs(JN,{children:[e.jsx(ZN,{asChild:!0,children:e.jsxs(H,{variant:"ghost",className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3",children:[e.jsx(ir,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline max-w-[100px] lg:max-w-[150px] truncate",children:n.fullName||"User"}),e.jsx(Wi,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})}),e.jsxs(_g,{align:"end",className:"w-56",children:[e.jsx(bi,{asChild:!0,children:e.jsxs(He,{to:"/profile",className:"flex items-center",children:[e.jsx(Di,{className:"w-4 h-4 mr-2"}),"Profile Settings"]})}),e.jsxs(bi,{className:"text-red-600 focus:text-red-600 cursor-pointer",onClick:l,children:[e.jsx(Gj,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})})]})})})},xL=({inquiry:r,isOpen:t,onClose:s,onResponseSent:n})=>{var w,N,C,E,P,O,q,A,M,V;const[i,l]=h.useState(""),[c,d]=h.useState(!1),[m,f]=h.useState((r==null?void 0:r.status)||"pending"),{toast:y}=it(),g=async k=>{if(k.preventDefault(),!i.trim()){y({title:"Response Required",description:"Please enter a response message",variant:"destructive"});return}d(!0);try{const R=await re.respondToInquiry(r._id,i);if(R.error)throw new Error(R.error);y({title:"Response Sent Successfully",description:"Your response has been sent to the buyer"}),n(),s(),l("")}catch(R){console.error("Error sending response:",R),y({title:"Error",description:(R==null?void 0:R.message)||"Failed to send response. Please try again.",variant:"destructive"})}finally{d(!1)}},x=async k=>{try{const R=await re.updateInquiryStatus(r._id,k);if(R.error)throw new Error(R.error);f(k),y({title:"Status Updated",description:`Inquiry marked as ${k}`}),n()}catch(R){console.error("Error updating status:",R),y({title:"Error",description:(R==null?void 0:R.message)||"Failed to update status",variant:"destructive"})}},v=k=>{switch(k){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"responded":return"bg-blue-100 text-blue-800 border-blue-200";case"closed":return"bg-green-100 text-green-800 border-green-200";case"spam":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=k=>{switch(k){case"pending":return e.jsx(Gt,{className:"h-4 w-4"});case"responded":return e.jsx(wt,{className:"h-4 w-4"});case"closed":return e.jsx(Xs,{className:"h-4 w-4"});case"spam":return e.jsx(Jt,{className:"h-4 w-4"});default:return e.jsx(Gt,{className:"h-4 w-4"})}};return!t||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Bt,{className:"h-6 w-6 text-blue-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Inquiry Response"})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(ir,{className:"h-5 w-5"}),"Buyer Information"]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx(ir,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:((w=r.inquirer)==null?void 0:w.phone)||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Buyer"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-full",children:e.jsx(Dr,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:((N=r.inquirer)==null?void 0:N.phone)||"Not provided"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Contact Number"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-full",children:e.jsx(pr,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:((C=r.inquirer)==null?void 0:C.email)||"Not provided"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Address"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-full",children:e.jsx(Bt,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 capitalize",children:r.contactPreference||"phone"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preferred Contact"})]})]})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),"Property Details"]})}),e.jsx(X,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:((E=r.property)==null?void 0:E.title)||"Property"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),((O=(P=r.property)==null?void 0:P.location)==null?void 0:O.city)||((A=(q=r.property)==null?void 0:q.location)==null?void 0:A.address)||"Location not specified"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Qn,{className:"h-4 w-4"}),"",((V=(M=r.property)==null?void 0:M.price)==null?void 0:V.toLocaleString())||"Price not specified"]})]})})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"Inquiry Details"]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Subject"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 mt-1",children:r.subject})]}),e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Message"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 mt-1 whitespace-pre-wrap",children:r.message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(r.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Status Management"]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ge,{className:v(m),children:[b(m),e.jsx("span",{className:"ml-1 capitalize",children:m})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:()=>x("responded"),disabled:m==="responded",children:"Mark as Responded"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>x("closed"),disabled:m==="closed",children:"Mark as Closed"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>x("pending"),disabled:m==="pending",children:"Mark as Pending"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>x("spam"),disabled:m==="spam",className:"text-red-600 hover:text-red-700",children:"Mark as Spam"})]})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"h-5 w-5"}),"Send Response"]})}),e.jsx(X,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"response",children:"Your Response *"}),e.jsx(rr,{id:"response",placeholder:"Type your response to the buyer here...",value:i,onChange:k=>l(k.target.value),rows:6,required:!0,className:"mt-1"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length,"/2000 characters"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{type:"submit",disabled:c||!i.trim(),className:"flex-1",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Send Response"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:s,disabled:c,children:"Cancel"})]})]})})]}),r.response&&e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"h-5 w-5 text-green-500"}),"Previous Response"]})}),e.jsx(X,{children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap mb-3",children:r.response.message}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(tr,{className:"h-4 w-4"}),e.jsxs("span",{children:["Sent on ",new Date(r.response.respondedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})})]})]})]})]})})})},Jl=({inquiries:r,onRefresh:t,type:s})=>{const[n,i]=h.useState(null),[l,c]=h.useState(!1);it();const d=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"responded":return"bg-blue-100 text-blue-800 border-blue-200";case"closed":return"bg-green-100 text-green-800 border-green-200";case"spam":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},m=v=>{switch(v){case"pending":return e.jsx(Gt,{className:"h-4 w-4"});case"responded":return e.jsx(wt,{className:"h-4 w-4"});case"closed":return e.jsx(Xs,{className:"h-4 w-4"});case"spam":return e.jsx(Jt,{className:"h-4 w-4"});default:return e.jsx(Gt,{className:"h-4 w-4"})}},f=v=>{i(v),c(!0)},y=()=>{t()},g=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=(v,b=100)=>v.length<=b?v:v.substring(0,b)+"...";return r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-800 w-fit mx-auto mb-4",children:e.jsx(Bt,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No inquiries yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:s==="received"?"Inquiries from potential buyers about your properties will appear here.":"Your inquiries to property owners will appear here."})]}):e.jsxs("div",{className:"space-y-4",children:[r.map(v=>{var b,w,N,C,E,P,O,q;return e.jsx(G,{className:"hover:shadow-md transition-shadow",children:e.jsxs(X,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-100 mb-1",children:v.subject}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:x(v.message)})]}),e.jsxs(ge,{className:d(v.status),children:[m(v.status),e.jsx("span",{className:"ml-1 capitalize",children:v.status})]})]}),v.property&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:v.property.title})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:((b=v.property.location)==null?void 0:b.city)||((w=v.property.location)==null?void 0:w.address)||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qn,{className:"h-4 w-4"}),e.jsxs("span",{children:["",(N=v.property.price)==null?void 0:N.toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:s==="received"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{children:((C=v.inquirer)==null?void 0:C.phone)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Dr,{className:"h-4 w-4"}),e.jsx("span",{children:((E=v.inquirer)==null?void 0:E.phone)||"Not provided"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx("span",{children:((P=v.inquirer)==null?void 0:P.email)||"Not provided"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{children:((O=v.propertyOwner)==null?void 0:O.phone)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Dr,{className:"h-4 w-4"}),e.jsx("span",{children:((q=v.propertyOwner)==null?void 0:q.phone)||"Not provided"})]})]})}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[e.jsx(tr,{className:"h-4 w-4"}),e.jsx("span",{children:g(v.createdAt)}),v.response&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Responded ",g(v.response.respondedAt)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>f(v),className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"h-4 w-4"}),"View Details"]}),s==="received"&&v.status!=="closed"&&e.jsxs(H,{variant:"default",size:"sm",onClick:()=>f(v),className:"flex items-center gap-2",children:[e.jsx(Kl,{className:"h-4 w-4"}),v.response?"Reply":"Respond"]})]})]}),v.response&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Your Response"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:x(v.response.message,150)})]})})]})},v._id)}),e.jsx(xL,{inquiry:n,isOpen:l,onClose:()=>{c(!1),i(null)},onResponseSent:y})]})},vL=({userId:r,onInquiryUpdate:t})=>{const[s,n]=h.useState([]),[i,l]=h.useState(!1),{toast:c}=it();h.useEffect(()=>{const f=async()=>{var g;try{const x=await re.getMyInquiries();if(!x.error&&((g=x.data)!=null&&g.inquiries)){const v=x.data.inquiries.filter(b=>b.status==="responded"&&b.response&&!b.notificationShown);v.length>0&&(n(v),l(!0),c({title:"New Response Received!",description:`You have ${v.length} new response${v.length>1?"s":""} to your inquiries.`}))}}catch(x){console.error("Error checking for responses:",x)}};f();const y=setInterval(f,3e4);return()=>clearInterval(y)},[r,c]);const d=()=>{l(!1),n([])},m=f=>{n(y=>y.filter(g=>g._id!==f._id)),s.length===1&&l(!1),t==null||t()};return!i||s.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md w-full",children:e.jsx(G,{className:"shadow-lg border-l-4 border-l-blue-500",children:e.jsxs(X,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx(Ma,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["New Response",s.length>1?"s":""]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.length," new response",s.length>1?"s":""," to your inquiries"]})]})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:d,className:"text-gray-500 hover:text-gray-700",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[s.slice(0,3).map(f=>{var y,g;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>m(f),children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:((y=f.property)==null?void 0:y.title)||"Property Inquiry"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Response from ",((g=f.propertyOwner)==null?void 0:g.phone)||"Property Owner"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ge,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(wt,{className:"h-3 w-3 mr-1"}),"Responded"]})})]},f._id)}),s.length>3&&e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",s.length-3," more response",s.length-3>1?"s":""]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(H,{size:"sm",className:"flex-1",onClick:()=>{d(),t==null||t()},children:"View All"}),e.jsx(H,{size:"sm",variant:"outline",onClick:d,children:"Dismiss"})]})]})})})},yL=()=>{const[r,t]=h.useState([]),[s,n]=h.useState(!0),[i,l]=h.useState(!1),[c,d]=h.useState(null),{toast:m}=it(),{profile:f}=Ft();h.useEffect(()=>{(f!=null&&f.id||f!=null&&f.user)&&y()},[f==null?void 0:f.id,f==null?void 0:f.user]);const y=async(v=!1)=>{var w;const b=(f==null?void 0:f.id)||(f==null?void 0:f.user);if(!b){n(!1);return}try{v?l(!0):n(!0),d(null);const N=await re.getSavedProjects(b);if(N.error)throw new Error(N.error);const E=(((w=N.data)==null?void 0:w.projects)||[]).map(P=>{var O;return{id:P._id||P.id,name:P.name,location:P.location?`${P.location.address||""}, ${P.location.city||""}, ${P.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:P.priceRange?`${P.priceRange.min}${P.priceRange.unit==="lakh"?"L":P.priceRange.unit==="crore"?"Cr":""} - ${P.priceRange.max}${P.priceRange.unit==="lakh"?"L":P.priceRange.unit==="crore"?"Cr":""}`:"Price on request",completion_date:P.completionDate,images:((O=P.images)==null?void 0:O.map(q=>q?typeof q=="string"?q:(q==null?void 0:q.url)||null:null).filter(q=>q!==null&&q!==""))||[],status:P.status==="under_construction"?"ongoing":P.status==="ready_to_move"?"completed":P.status==="planning"?"planned":P.status,project_type:P.projectType||"residential",total_units:P.totalUnits,available_units:P.availableUnits}});t(E)}catch(N){console.error("Error fetching saved projects:",N);const C=(N==null?void 0:N.message)||"Failed to load saved projects";d(C),m({title:"Error",description:C,variant:"destructive"}),t([])}finally{n(!1),l(!1)}},g=(v,b)=>{b||(t(w=>w.filter(N=>N.id!==v)),m({title:"Project Removed",description:"Project removed from your saved list"}))},x=()=>{y(!0)};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Saved Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Projects you've saved for later"})]})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading saved projects..."})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Saved Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Projects you've saved for later"})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:x,disabled:i,className:"flex items-center gap-2",children:[e.jsx(Ba,{className:`h-4 w-4 ${i?"animate-spin":""}`}),i?"Refreshing...":"Refresh"]})]}),c?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(yp,{className:"h-16 w-16 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Error Loading Saved Projects"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c})]}),e.jsxs(H,{onClick:x,disabled:i,children:[e.jsx(Ba,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Try Again"]})]}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yp,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No saved projects yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start exploring projects and save the ones you like to view them here later."}),e.jsx(H,{asChild:!0,children:e.jsx("a",{href:"/projects",children:"Browse Projects"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>e.jsx(fm,{id:v.id,name:v.name,location:v.location,price_range:v.price_range,completion_date:v.completion_date,images:v.images||[],status:v.status,total_units:v.total_units,available_units:v.available_units,project_type:v.project_type,showSaveButton:!0,isSaved:!0,onSaveToggle:g},v.id))})]})},bL=()=>{const[r,t]=h.useState([]),[s,n]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState(!0),[x,v]=h.useState(!1),{user:b,profile:w}=Ft(),{toast:N}=it();h.useEffect(()=>{b&&C()},[b]);const C=async()=>{var A,M,V,k,R;try{g(!0),console.log(" Fetching buyer-seller dashboard data...");const[B,_,$,T,Q]=await Promise.allSettled([re.getLikes(),b!=null&&b.id?re.getSavedProjects(b.id):Promise.resolve({error:!0,data:[]}),b!=null&&b.id?re.getProperties({owner_id:b.id}):Promise.resolve({error:!0,data:[]}),re.getMyInquiries().catch(()=>({error:!0,data:[]})),re.getMyPropertyInquiries().catch(()=>({error:!0,data:[]}))]);if(B.status==="fulfilled"&&!B.value.error){const Y=((A=B.value.data)==null?void 0:A.likes)||[];console.log(" Saved properties loaded:",Y.length),t(Y)}else console.log(" Failed to load saved properties"),t([]);if(_.status==="fulfilled"&&!_.value.error){const Y=((M=_.value.data)==null?void 0:M.projects)||[];console.log(" Saved projects loaded:",Y.length),n(Y)}else console.log(" Failed to load saved projects"),n([]);if($.status==="fulfilled"&&!$.value.error){const Y=((V=$.value.data)==null?void 0:V.properties)||$.value.data||[];console.log(" My properties loaded:",Y.length),l(Y)}else console.log(" Failed to load my properties"),l([]);if(T.status==="fulfilled"&&!T.value.error){const Y=((k=T.value.data)==null?void 0:k.inquiries)||[];console.log(" My inquiries loaded:",Y.length),d(Y)}else console.log(" My inquiries not available"),d([]);if(Q.status==="fulfilled"&&!Q.value.error){const Y=((R=Q.value.data)==null?void 0:R.inquiries)||[];console.log(" Property inquiries loaded:",Y.length),f(Y)}else console.log(" Property inquiries not available"),f([])}catch(B){console.error(" Dashboard fetch error:",B),N({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"}),t([]),l([]),d([]),f([])}finally{g(!1)}},E=async()=>{v(!0),await C(),v(!1),N({title:"Success",description:"Dashboard data refreshed successfully!"})},P=async A=>{try{const{error:M}=await re.unlikeProperty(A);if(M)throw M;N({title:"Success",description:"Property removed from saved list"}),t(V=>Array.isArray(V)?V.filter(k=>k.property._id!==A):[])}catch(M){console.error("Error removing saved property:",M),N({title:"Error",description:"Failed to remove property",variant:"destructive"})}},O=async A=>{if(window.confirm("Are you sure you want to delete this property? This action cannot be undone."))try{const{error:M}=await re.deleteProperty(A);if(M)throw M;l(V=>Array.isArray(V)?V.filter(k=>k._id!==A):[]),N({title:"Success",description:"Property deleted successfully"})}catch(M){console.error("Error deleting property:",M),N({title:"Error",description:"Failed to delete property",variant:"destructive"})}},q=A=>{switch(A){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return y?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(Es,{}),e.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your property dashboard..."})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(Es,{}),(b==null?void 0:b.id)&&e.jsx(vL,{userId:b.id,onInquiryUpdate:C}),e.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 dark:from-blue-900/10 dark:to-purple-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx("div",{className:"relative p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-gray-800 to-blue-600 dark:from-white dark:to-blue-400 bg-clip-text text-transparent",children:["Welcome back, ",(w==null?void 0:w.fullName)||"Property Owner"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Manage your properties, track inquiries, and discover new opportunities"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[e.jsx(H,{asChild:!0,variant:"outline",className:"w-full sm:w-auto bg-white/80 backdrop-blur-sm border-gray-300 hover:bg-white hover:border-blue-400 transition-all duration-200",children:e.jsxs(He,{to:"/properties",children:[e.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Browse Properties"]})}),e.jsx(H,{asChild:!0,className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"List New Property"]})}),e.jsxs(H,{variant:"outline",size:"sm",onClick:E,disabled:x,className:"w-full sm:w-auto",children:[e.jsx(Ba,{className:`w-4 h-4 mr-2 ${x?"animate-spin":""}`}),"Refresh"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-red-50 dark:from-gray-800 dark:to-red-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 dark:from-red-900/10 dark:to-pink-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Saved Properties"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:r.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Properties you love"})]}),e.jsx("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-900/30",children:e.jsx(yo,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-orange-50 dark:from-gray-800 dark:to-orange-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-yellow-500/5 dark:from-orange-900/10 dark:to-yellow-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Saved Projects"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:s.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Projects you saved"})]}),e.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/30",children:e.jsx(jt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 dark:from-blue-900/10 dark:to-cyan-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"My Properties"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:i.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total listings"})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Et,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-indigo-500/5 dark:from-purple-900/10 dark:to-indigo-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"New Queries"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:m.filter(A=>A.status==="pending").length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Awaiting response"})]}),e.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Bt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]})]}),e.jsxs(gs,{defaultValue:"saved",className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(os,{className:"relative grid w-full grid-cols-5 bg-transparent p-2 h-auto",children:[e.jsxs(Ge,{value:"saved",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(yo,{className:"w-4 h-4 mr-2"}),"Saved Properties"]}),e.jsxs(Ge,{value:"saved-projects",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Saved Projects"]}),e.jsxs(Ge,{value:"my-properties",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"My Properties"]}),e.jsxs(Ge,{value:"my-inquiries",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(Bt,{className:"w-4 h-4 mr-2"}),"My Inquiries"]}),e.jsxs(Ge,{value:"property-inquiries",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"}),"Property Inquiries"]})]})]}),e.jsx(nt,{value:"saved",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-red-50 dark:from-gray-800 dark:to-red-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 dark:from-red-900/10 dark:to-pink-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(yo,{className:"h-6 w-6 text-red-500"}),"Saved Properties"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Properties you've saved for later viewing"})]}),e.jsxs(ge,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[r.length," saved"]})]})}),e.jsx(X,{className:"relative p-6",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-red-100 dark:bg-red-900/30 w-fit mx-auto mb-4",children:e.jsx(yo,{className:"h-12 w-12 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No saved properties yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Start browsing properties and save the ones you like! Your saved properties will appear here."}),e.jsx(H,{asChild:!0,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600",children:e.jsxs(He,{to:"/properties",children:[e.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Browse Properties"]})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>{var V,k;const M=A.property;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700",children:(k=(V=M.images)==null?void 0:V[0])!=null&&k.url?e.jsx("img",{src:M.images[0].url,alt:M.title,className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src="/placeholder.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Et,{className:"h-12 w-12 text-gray-400"})})}),e.jsx(X,{className:"relative p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1 text-gray-800 dark:text-gray-100",children:M.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"line-clamp-1",children:[M.location.address,", ",M.location.city]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-blue-600 dark:text-blue-400",children:[e.jsx(Qn,{className:"w-4 h-4"}),e.jsx("span",{children:M.price.toLocaleString()})]}),e.jsx(ge,{variant:"outline",className:"capitalize",children:M.propertyType})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{asChild:!0,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:e.jsxs(He,{to:`/property/${M._id}`,children:[e.jsx(Wr,{className:"w-4 h-4 mr-1"}),"View Details"]})}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>P(M._id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Js,{className:"w-4 h-4"})})]})]})})]},A._id)})})})]})}),e.jsx(nt,{value:"saved-projects",className:"space-y-6",children:e.jsx(yL,{})}),e.jsx(nt,{value:"my-properties",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 dark:from-blue-900/10 dark:to-cyan-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(Et,{className:"h-6 w-6 text-blue-500"}),"My Properties"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your property listings and track their performance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[i.length," total"]}),e.jsx(H,{asChild:!0,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"Add Property"]})})]})]})}),e.jsx(X,{className:"relative p-6",children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-blue-100 dark:bg-blue-900/30 w-fit mx-auto mb-4",children:e.jsx(Et,{className:"h-12 w-12 text-blue-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No properties listed yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Start by listing your first property! You can manage all your listings from this dashboard."}),e.jsx(H,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"List Your First Property"]})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(A=>{var M,V;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700",children:[(V=(M=A.images)==null?void 0:M[0])!=null&&V.url?e.jsx("img",{src:A.images[0].url,alt:A.title,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.src="/placeholder.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Et,{className:"h-12 w-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(ge,{className:q(A.status),children:A.status})})]}),e.jsx(X,{className:"relative p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1 text-gray-800 dark:text-gray-100",children:A.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"line-clamp-1",children:[A.location.address,", ",A.location.city]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-blue-600 dark:text-blue-400",children:[e.jsx(Qn,{className:"w-4 h-4"}),e.jsx("span",{children:A.price.toLocaleString()})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[A.area," sq ft"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ge,{variant:"outline",className:"capitalize text-xs",children:A.propertyType}),e.jsxs(ge,{variant:"outline",className:"capitalize text-xs",children:["For ",A.listingType]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1",children:e.jsxs(He,{to:`/property/${A._id}`,children:[e.jsx(Wr,{className:"w-4 h-4 mr-1"}),"View"]})}),e.jsx(H,{asChild:!0,size:"sm",variant:"outline",children:e.jsx(He,{to:`/edit-property/${A._id}`,children:e.jsx(nc,{className:"w-4 h-4"})})}),e.jsx(H,{size:"sm",variant:"outline",onClick:()=>O(A._id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Js,{className:"w-4 h-4"})})]})]})})]},A._id)})})})]})}),e.jsx(nt,{value:"my-inquiries",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-green-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 dark:from-green-900/10 dark:to-emerald-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(Bt,{className:"h-6 w-6 text-green-500"}),"My Inquiries"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Track inquiries you've made to property owners and their responses"})]}),e.jsxs(ge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[c.length," inquiries"]})]})}),e.jsx(X,{className:"relative p-6",children:e.jsx(Jl,{inquiries:c,onRefresh:C,type:"sent"})})]})}),e.jsx(nt,{value:"property-inquiries",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-indigo-500/5 dark:from-purple-900/10 dark:to-indigo-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(Pt,{className:"h-6 w-6 text-purple-500"}),"Property Inquiries"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Respond to inquiries from potential buyers about your listed properties"})]}),e.jsxs(ge,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[m.filter(A=>A.status==="pending").length," pending"]})]})}),e.jsx(X,{className:"relative p-6",children:e.jsx(Jl,{inquiries:m,onRefresh:C,type:"received"})})]})})]})]})]})},jL=()=>{const[r,t]=h.useState(null),[s,n]=h.useState([]),[i,l]=h.useState({totalListings:0,activeClients:0,totalCommission:0,pendingInquiries:0}),[c,d]=h.useState(!0),{profile:m}=Ft(),{toast:f}=it();h.useEffect(()=>{m&&y()},[m==null?void 0:m.id,m==null?void 0:m.user]);const y=async()=>{var b;const v=(m==null?void 0:m.id)||(m==null?void 0:m.user);if(!(!m||!v))try{d(!0);const w=new AbortController,N=setTimeout(()=>w.abort(),3e3);try{const[C,E]=await Promise.allSettled([re.getBrokers({user_id:v}),re.getProperties({owner_id:v})]);clearTimeout(N),C.status==="fulfilled"&&!C.value.error?t((b=C.value.data)==null?void 0:b[0]):t(null),E.status==="fulfilled"&&!E.value.error?n(E.value.data||[]):n([]),l({totalListings:E.status==="fulfilled"?(E.value.data||[]).length:0,activeClients:0,totalCommission:0,pendingInquiries:0})}catch(C){clearTimeout(N),console.error("Broker dashboard fetch error:",C),t(null),n([]),l({totalListings:0,activeClients:0,totalCommission:0,pendingInquiries:0})}}catch(w){console.error("Error fetching broker dashboard data:",w),t(null),n([]),l({totalListings:0,activeClients:0,totalCommission:0,pendingInquiries:0})}finally{d(!1)}},g=v=>{switch(v){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=async()=>{f({title:"Info",description:"Broker profile creation will be available soon"})};return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Es,{}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Broker Dashboard"}),e.jsxs("p",{className:"text-muted-foreground mt-3",children:["Welcome back, ",m==null?void 0:m.fullName,r.status==="pending"&&e.jsx(ge,{className:"ml-2 bg-yellow-100 text-yellow-800",children:"Pending Approval"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(H,{asChild:!0,children:e.jsxs(He,{to:"/post-property",children:[e.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Listing"]})})})]}),r.status==="pending"&&e.jsx(G,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Un,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Profile Under Review"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Your broker profile is being reviewed by our team. Full features will be available once approved."})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(yr,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Listings"}),e.jsx("div",{className:"text-2xl font-bold",children:i.totalListings})]})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pt,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Clients"}),e.jsx("div",{className:"text-2xl font-bold",children:i.activeClients})]})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hl,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"}),e.jsxs("div",{className:"text-2xl font-bold",children:["",i.totalCommission.toLocaleString()]})]})]})})}),e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bt,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"New Inquiries"}),e.jsx("div",{className:"text-2xl font-bold",children:i.pendingInquiries})]})]})})})]}),e.jsxs(gs,{defaultValue:"listings",className:"space-y-4",children:[e.jsxs(os,{children:[e.jsx(Ge,{value:"listings",children:"My Listings"}),e.jsx(Ge,{value:"clients",children:"Clients"}),e.jsx(Ge,{value:"leads",children:"Leads"}),e.jsx(Ge,{value:"commissions",children:"Commissions"}),e.jsx(Ge,{value:"profile",children:"Broker Profile"})]}),e.jsx(nt,{value:"listings",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Property Listings"}),e.jsx(Qe,{children:"Manage properties you're representing"})]}),e.jsx(X,{children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(yr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No listings yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by adding properties for your clients"}),e.jsx(H,{asChild:!0,children:e.jsx(He,{to:"/post-property",children:"Add First Listing"})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(v=>{var b;return e.jsxs(G,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-muted relative",children:(b=v.images)!=null&&b[0]?e.jsx("img",{src:v.images[0],alt:v.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(yr,{className:"h-12 w-12 text-muted-foreground"})})}),e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:v.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"line-clamp-1",children:[v.location,", ",v.city]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-primary",children:[e.jsx(Qn,{className:"w-4 h-4"}),e.jsx("span",{children:v.price.toLocaleString()})]}),e.jsx(ge,{className:g(v.status),children:v.status})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(ge,{variant:"outline",className:"capitalize text-xs",children:v.property_type}),e.jsxs(ge,{variant:"outline",className:"capitalize text-xs",children:["For ",v.listing_type]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1",children:e.jsxs(He,{to:`/property/${v.id}`,children:[e.jsx(Wr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"hidden xs:inline",children:"View"})]})}),e.jsx(H,{asChild:!0,size:"sm",variant:"outline",children:e.jsx(He,{to:`/edit-property/${v.id}`,children:e.jsx(nc,{className:"w-4 h-4"})})})]})]})})]},v.id)})})})]})}),e.jsx(nt,{value:"clients",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Client Management"}),e.jsx(Qe,{children:"Manage your buyer and seller clients"})]}),e.jsx(X,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Pt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Client management features coming soon"})]})})]})}),e.jsx(nt,{value:"leads",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Lead Management"}),e.jsx(Qe,{children:"Track and convert your property leads"})]}),e.jsx(X,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(za,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No leads yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Lead tracking features coming soon"})]})})]})}),e.jsx(nt,{value:"commissions",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Commission Tracking"}),e.jsx(Qe,{children:"Monitor your earnings and payments"})]}),e.jsx(X,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Hl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No commission data"}),e.jsx("p",{className:"text-muted-foreground",children:"Commission tracking coming soon"})]})})]})}),e.jsx(nt,{value:"profile",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Broker Profile"}),e.jsx(Qe,{children:"Manage your professional information and specializations"})]}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.specialization.map((v,b)=>e.jsx(ge,{variant:"outline",children:v},b))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Commission Rate"}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:[r.commission_rate,"%"]})]}),r.years_experience&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Experience"}),e.jsxs("p",{children:[r.years_experience," years"]})]}),r.license_number&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"License Number"}),e.jsx("p",{className:"font-mono",children:r.license_number})]})]}),e.jsx(H,{variant:"outline",disabled:!0,children:"Update Profile (Coming Soon)"})]})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Es,{}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(G,{className:"text-center py-12",children:[e.jsxs(ye,{children:[e.jsx(Kj,{className:"h-16 w-16 text-primary mx-auto mb-4"}),e.jsx(be,{className:"text-3xl",children:"Welcome to Your Broker Dashboard"}),e.jsx(Qe,{className:"text-lg mt-2",children:"Complete your broker profile to start managing listings and clients"})]}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-left",children:[e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsx(yr,{className:"h-8 w-8 text-blue-500 mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Manage Listings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"List properties for your clients and manage multiple listings efficiently"})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsx(Pt,{className:"h-8 w-8 text-green-500 mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Client Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep track of buyers, sellers, and their property requirements"})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-6",children:[e.jsx(Hl,{className:"h-8 w-8 text-purple-500 mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Commission Tracking"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor your earnings and commission payments automatically"})]})})]}),e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs(H,{onClick:x,size:"lg",disabled:c,children:[e.jsx(Gl,{className:"w-5 h-5 mr-2"}),c?"Creating Profile...":"Set Up Broker Profile"]})})]})]})})})]})},wL=({onUpdate:r,existingProfile:t})=>{const{profile:s}=Qa(),{toast:n}=it(),[i,l]=h.useState(!1),[c,d]=h.useState({companyName:"",companyDescription:"",establishedYear:null,contactInfo:{phone:"",email:"",alternatePhone:"",address:"",city:"",state:"",pincode:""},businessType:"private_limited",registrationNumber:"",panNumber:"",gstNumber:"",reraRegistration:[],specializations:[],serviceAreas:[],languages:[],certifications:[],awards:[],team:[],status:"active",verificationStatus:"unverified",verificationDocuments:[]});h.useEffect(()=>{var g,x,v,b,w,N,C,E,P,O,q,A,M,V,k,R,B,_;t&&d({companyName:t.companyName||t.company_name||"",companyDescription:t.companyDescription||t.company_description||"",establishedYear:t.establishedYear||t.established_year||null,contactInfo:{phone:((g=t.contactInfo)==null?void 0:g.phone)||((x=t.contact_info)==null?void 0:x.phone)||"",email:((v=t.contactInfo)==null?void 0:v.email)||((b=t.contact_info)==null?void 0:b.email)||"",alternatePhone:((w=t.contactInfo)==null?void 0:w.alternatePhone)||"",address:((N=t.contactInfo)==null?void 0:N.address)||((C=t.contact_info)==null?void 0:C.address)||"",city:((E=t.contactInfo)==null?void 0:E.city)||"",state:((P=t.contactInfo)==null?void 0:P.state)||"",pincode:((O=t.contactInfo)==null?void 0:O.pincode)||""},socialMedia:{facebook:((q=t.socialMedia)==null?void 0:q.facebook)||((A=t.social_media)==null?void 0:A.facebook)||"",twitter:((M=t.socialMedia)==null?void 0:M.twitter)||((V=t.social_media)==null?void 0:V.twitter)||"",linkedin:((k=t.socialMedia)==null?void 0:k.linkedin)||((R=t.social_media)==null?void 0:R.linkedin)||"",instagram:((B=t.socialMedia)==null?void 0:B.instagram)||"",youtube:((_=t.socialMedia)==null?void 0:_.youtube)||""},businessType:t.businessType||"private_limited",registrationNumber:t.registrationNumber||"",panNumber:t.panNumber||"",gstNumber:t.gstNumber||"",reraRegistration:t.reraRegistration||[],specializations:t.specializations||[],serviceAreas:t.serviceAreas||[],languages:t.languages||[],certifications:t.certifications||[],awards:t.awards||[],team:t.team||[],status:t.status||"active",verificationStatus:t.verificationStatus||"unverified",verificationDocuments:t.verificationDocuments||[]})},[t]);const m=(g,x)=>{d(v=>({...v,[g]:x}))},f=(g,x)=>{d(v=>({...v,contactInfo:{...v.contactInfo,[g]:x}}))},y=async g=>{var x,v,b,w;if(g.preventDefault(),!!s){l(!0);try{if(!c.companyName||c.companyName.trim().length<2){n({title:"Validation Error",description:"Company name is required and must be at least 2 characters long.",variant:"destructive"});return}const N={companyName:c.companyName.trim(),...c.companyDescription&&{companyDescription:c.companyDescription.trim()},...c.establishedYear&&{establishedYear:parseInt(c.establishedYear.toString())},...c.contactInfo&&Object.keys(c.contactInfo).length>0&&{contactInfo:c.contactInfo},...c.socialMedia&&Object.keys(c.socialMedia).length>0&&{socialMedia:c.socialMedia},...c.businessType&&{businessType:c.businessType},...c.registrationNumber&&{registrationNumber:c.registrationNumber},...c.panNumber&&{panNumber:c.panNumber},...c.gstNumber&&{gstNumber:c.gstNumber},...c.specializations&&c.specializations.length>0&&{specializations:c.specializations},...c.serviceAreas&&c.serviceAreas.length>0&&{serviceAreas:c.serviceAreas},...c.languages&&c.languages.length>0&&{languages:c.languages}};console.log("Sending developer data:",N),console.log("Existing profile:",t);const C=(t==null?void 0:t.id)||(t==null?void 0:t._id);if(C){console.log("Updating existing profile with ID:",C);const{error:E}=await re.updateDeveloper(C,N);if(E)throw E}else{console.log("Creating new profile");const{error:E}=await re.createDeveloper(N);if(E)throw E}n({title:"Success",description:"Developer profile updated successfully!"}),r()}catch(N){console.error("Error updating developer profile:",N);let C="Failed to update developer profile. Please try again.";(v=(x=N==null?void 0:N.response)==null?void 0:x.data)!=null&&v.errors?C=`Validation failed: ${N.response.data.errors.map(P=>P.msg).join(", ")}`:(w=(b=N==null?void 0:N.response)==null?void 0:b.data)!=null&&w.message&&(C=N.response.data.message),n({title:"Error",description:C,variant:"destructive"})}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 dark:from-blue-900/10 dark:to-indigo-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(yr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs(be,{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Company Profile",c.verificationStatus==="verified"&&e.jsxs(ge,{className:"px-2 py-1 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md",children:[e.jsx(wt,{className:"w-3 h-3 mr-1"}),"Verified"]}),c.verificationStatus==="pending"&&e.jsxs(ge,{className:"px-2 py-1 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 shadow-md",children:[e.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Pending"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Complete your company information to build trust with potential clients"})]})]})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-green-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 dark:from-green-900/10 dark:to-emerald-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative",children:e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Oa,{className:"h-5 w-5 text-green-500"}),"Basic Information"]})}),e.jsxs(X,{className:"relative space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"companyName",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Company Name *"}),e.jsx(Se,{id:"companyName",value:c.companyName,onChange:g=>m("companyName",g.target.value),required:!0,className:"mt-1",placeholder:"Enter your company name"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"establishedYear",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Established Year"}),e.jsx(Se,{id:"establishedYear",type:"number",min:"1900",max:new Date().getFullYear(),value:c.establishedYear||"",onChange:g=>m("establishedYear",parseInt(g.target.value)||null),className:"mt-1",placeholder:"e.g., 2010"}),c.establishedYear&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Experience: ",new Date().getFullYear()-c.establishedYear," years"]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"companyDescription",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Company Description"}),e.jsx(rr,{id:"companyDescription",placeholder:"Tell us about your company, specialization, and experience...",className:"min-h-[120px] mt-1",value:c.companyDescription,onChange:g=>m("companyDescription",g.target.value)})]})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 dark:from-purple-900/10 dark:to-pink-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative",children:e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Dr,{className:"h-5 w-5 text-purple-500"}),"Contact Information"]})}),e.jsxs(X,{className:"relative space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactEmail",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Email"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Se,{id:"contactEmail",type:"email",value:c.contactInfo.email||"",onChange:g=>f("email",g.target.value),className:"pl-10",placeholder:"contact@yourcompany.com"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactPhone",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Phone"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Se,{id:"contactPhone",value:c.contactInfo.phone||"",onChange:g=>f("phone",g.target.value),className:"pl-10",placeholder:"+91 98765 43210"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactCity",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"City"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Se,{id:"contactCity",value:c.contactInfo.city||"",onChange:g=>f("city",g.target.value),className:"pl-10",placeholder:"Mumbai"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactState",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"State"}),e.jsx(Se,{id:"contactState",value:c.contactInfo.state||"",onChange:g=>f("state",g.target.value),className:"mt-1",placeholder:"Maharashtra"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactPincode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pincode"}),e.jsx(Se,{id:"contactPincode",value:c.contactInfo.pincode||"",onChange:g=>f("pincode",g.target.value),className:"mt-1",placeholder:"400001"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactAddress",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Complete Address"}),e.jsx(rr,{id:"contactAddress",placeholder:"Complete business address...",className:"min-h-[100px] mt-1",value:c.contactInfo.address||"",onChange:g=>f("address",g.target.value)})]})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-teal-50 dark:from-gray-800 dark:to-teal-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/5 to-cyan-500/5 dark:from-teal-900/10 dark:to-cyan-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"relative",children:[e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Bn,{className:"h-5 w-5 text-teal-500"}),"Business Information"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Legal and registration details for verification"})]}),e.jsxs(X,{className:"relative space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"businessType",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Type"}),e.jsxs(Xe,{value:c.businessType,onValueChange:g=>m("businessType",g),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{placeholder:"Select business type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"private_limited",children:"Private Limited"}),e.jsx(te,{value:"public_limited",children:"Public Limited"}),e.jsx(te,{value:"partnership",children:"Partnership"}),e.jsx(te,{value:"sole_proprietorship",children:"Sole Proprietorship"}),e.jsx(te,{value:"llp",children:"LLP"}),e.jsx(te,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"registrationNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Registration Number"}),e.jsx(Se,{id:"registrationNumber",value:c.registrationNumber,onChange:g=>m("registrationNumber",g.target.value),className:"mt-1",placeholder:"Company registration number"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"panNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PAN Number"}),e.jsx(Se,{id:"panNumber",value:c.panNumber,onChange:g=>m("panNumber",g.target.value.toUpperCase()),className:"mt-1",placeholder:"ABCDE1234F",maxLength:10})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"gstNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"GST Number"}),e.jsx(Se,{id:"gstNumber",value:c.gstNumber,onChange:g=>m("gstNumber",g.target.value.toUpperCase()),className:"mt-1",placeholder:"22ABCDE1234F1Z5"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{type:"submit",disabled:i,className:"px-8 py-3 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group text-lg font-semibold",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Update Profile"]})})})]})]})},NL=({onSuccess:r,onCancel:t,existingProject:s})=>{const{profile:n}=Qa(),{toast:i}=it(),[l,c]=h.useState(!1),[d,m]=h.useState(null),[f,y]=h.useState([]),g=[{label:"Parking",value:"parking"},{label:"Security",value:"security"},{label:"Gym",value:"gym"},{label:"Swimming Pool",value:"swimming_pool"},{label:"Garden",value:"garden"},{label:"Playground",value:"playground"},{label:"Club House",value:"clubhouse"},{label:"Power Backup",value:"power_backup"},{label:"Water Supply",value:"water_supply"},{label:"Elevator",value:"elevator"},{label:"Balcony",value:"balcony"},{label:"Terrace",value:"terrace"},{label:"Modular Kitchen",value:"modular_kitchen"},{label:"Wardrobe",value:"wardrobe"},{label:"Air Conditioning",value:"ac"},{label:"Furnished",value:"furnished"},{label:"Semi Furnished",value:"semi_furnished"},{label:"Conference Room",value:"conference_room"},{label:"Business Center",value:"business_center"},{label:"Retail Shops",value:"retail_shops"},{label:"Restaurant",value:"restaurant"},{label:"Spa",value:"spa"},{label:"Tennis Court",value:"tennis_court"},{label:"Basketball Court",value:"basketball_court"},{label:"Badminton Court",value:"badminton_court"},{label:"Cricket Net",value:"cricket_net"},{label:"Jogging Track",value:"jogging_track"},{label:"Cycling Track",value:"cycling_track"},{label:"Amphitheater",value:"amphitheater"},{label:"Library",value:"library"},{label:"Kids Play Area",value:"kids_play_area"}],[x,v]=h.useState({name:"",description:"",projectType:"residential",status:"planning",location:{address:"",city:"",state:"",country:"India"},priceRange:{min:"",max:"",unit:"lakh"},totalUnits:"",availableUnits:"",completionDate:"",possessionDate:"",launchDate:"",amenities:[],images:[],videos:[],brochures:[],reraNumber:""}),[b,w]=h.useState({images:!1,videos:!1,brochures:!1}),[N,C]=h.useState([]);h.useEffect(()=>{var _,$,T,Q,Y,F,I,D,W,U,z,J,se,ue,xe;E(),s&&(v({name:s.name||"",description:s.description||"",projectType:s.projectType||"residential",status:s.status||"planning",location:{address:((_=s.location)==null?void 0:_.address)||"",city:(($=s.location)==null?void 0:$.city)||"",state:((T=s.location)==null?void 0:T.state)||"",country:((Q=s.location)==null?void 0:Q.country)||"India"},priceRange:{min:((F=(Y=s.priceRange)==null?void 0:Y.min)==null?void 0:F.toString())||"",max:((D=(I=s.priceRange)==null?void 0:I.max)==null?void 0:D.toString())||"",unit:((W=s.priceRange)==null?void 0:W.unit)||"lakh"},totalUnits:((U=s.totalUnits)==null?void 0:U.toString())||"",availableUnits:((z=s.availableUnits)==null?void 0:z.toString())||"",completionDate:s.completionDate?new Date(s.completionDate).toISOString().split("T")[0]:"",possessionDate:s.possessionDate?new Date(s.possessionDate).toISOString().split("T")[0]:"",launchDate:s.launchDate?new Date(s.launchDate).toISOString().split("T")[0]:"",amenities:s.amenities||[],images:((J=s.images)==null?void 0:J.map(oe=>typeof oe=="string"?{url:oe,caption:"",isPrimary:!1}:oe))||[],videos:((se=s.videos)==null?void 0:se.map(oe=>typeof oe=="string"?{url:oe,caption:"",thumbnail:""}:oe))||[],brochures:((ue=s.brochures)==null?void 0:ue.map(oe=>typeof oe=="string"?{url:oe,name:"Brochure"}:oe))||[],reraNumber:s.reraNumber||""}),(xe=s.location)!=null&&xe.state&&C(Ru(s.location.state)),y(s.amenities||[]))},[s,n]);const E=async()=>{if(console.log("fetchDeveloperProfile called, profile:",n),!n){console.log("No profile found, returning");return}try{console.log("Fetching developer profile for user_id:",n.id);const{data:_,error:$}=await re.getMyDeveloperProfile();if(console.log("Developer profile query result:",{data:_,error:$}),$)throw console.error("Database error:",$),$;_!=null&&_.developer?(console.log("Developer profile found:",_.developer),m(_.developer)):(console.log("No developer profile found for user"),i({title:"Developer Profile Required",description:"Please complete your developer profile setup first",variant:"destructive"}))}catch(_){console.error("Error fetching developer profile:",_),i({title:"Error",description:"Failed to load developer profile",variant:"destructive"})}},P=(_,$)=>{v(T=>({...T,[_]:$}))},O=(_,$)=>{v(T=>{const Q={...T.location,[_]:$};return _==="state"&&(Q.city="",C(Ru($))),{...T,location:Q}})},q=(_,$)=>{v(T=>({...T,priceRange:{...T.priceRange,[_]:$}}))},A=_=>{const T=f.includes(_)?f.filter(Q=>Q!==_):[...f,_];y(T),v(Q=>({...Q,amenities:T}))},M=_=>{const $=f.filter(T=>T!==_);y($),v(T=>({...T,amenities:$}))},V=async(_,$)=>{if(_){if($==="images"&&!_.type.startsWith("image/")){i({title:"Invalid File Type",description:"Please select an image file",variant:"destructive"});return}if($==="videos"&&!_.type.startsWith("video/")){i({title:"Invalid File Type",description:"Please select a video file",variant:"destructive"});return}if($==="brochures"&&_.type!=="application/pdf"){i({title:"Invalid File Type",description:"Please select a PDF file",variant:"destructive"});return}if(_.size>10*1024*1024){i({title:"File Too Large",description:"File size must be less than 10MB",variant:"destructive"});return}w(T=>({...T,[$]:!0}));try{let T,Q;if($==="brochures"){console.log(" Uploading PDF locally:",_.name);const Y=await re.uploadSingleFile(_,"project_brochure","nestly_estate/project_brochures");T=Y.data,Q=Y.error}else if($==="images"){console.log(" Uploading images to Cloudinary:",_.name);const Y=await re.uploadProjectImages([_]);T=Y.data,Q=Y.error}else{console.log(` Uploading ${$} to Cloudinary:`,_.name);const Y=await re.uploadSingleFile(_,`project_${$}`,`nestly_estate/project_${$}`);T=Y.data,Q=Y.error}if(Q)throw Q;console.log("Upload response data structure:",T),v(Y=>{var D;let F="";if($==="images"&&T.images&&T.images.length>0)F=T.images[0].url;else if((D=T.media)!=null&&D.url)F=T.media.url;else if(T.url)F=T.url;else if(typeof T=="string")F=T;else throw console.error("Could not extract URL from upload response:",T),console.error("Available keys in data:",Object.keys(T)),new Error("Invalid upload response: no URL found");if(!F||F.trim()==="")throw console.error("Empty URL extracted from upload response:",T),new Error("Invalid upload response: empty URL");if(!F.startsWith("http")&&!F.startsWith("/"))throw console.error("Invalid URL format:",F),new Error("Invalid upload response: malformed URL");const I={url:F,...$==="images"&&{caption:"",isPrimary:Y[$].length===0},...$==="videos"&&{caption:"",thumbnail:""},...$==="brochures"&&{name:_.name},uploadedAt:new Date().toISOString()};return console.log("Created media object:",I),{...Y,[$]:[...Y[$],I]}}),i({title:"Upload Successful",description:`${$.charAt(0).toUpperCase()+$.slice(1)} uploaded successfully ${$==="brochures"?"locally":"to Cloudinary"}`})}catch(T){console.error("Upload error:",T),i({title:"Upload Failed",description:T instanceof Error?T.message:"Failed to upload file. Please try again.",variant:"destructive"})}finally{w(T=>({...T,[$]:!1}))}}},k=(_,$)=>{v(T=>({...T,[_]:T[_].filter((Q,Y)=>Y!==$)}))},R=()=>{v(_=>({..._,images:_.images.filter($=>$&&$.url&&$.url.trim()!==""),videos:_.videos.filter($=>$&&$.url&&$.url.trim()!==""),brochures:_.brochures.filter($=>$&&$.url&&$.url.trim()!=="")}))},B=async _=>{var I,D,W,U,z,J,se,ue,xe,oe,de,le;if(_.preventDefault(),!n){i({title:"Error",description:"User not authenticated",variant:"destructive"});return}if(!d){i({title:"Developer Profile Required",description:"Please complete your developer profile setup before adding projects. Go to the Company Profile tab to set up your profile.",variant:"destructive"});return}if(!x.name||x.name.trim().length<5){i({title:"Validation Error",description:"Project name must be at least 5 characters long",variant:"destructive"});return}if(!x.location.address||x.location.address.trim().length<5){i({title:"Validation Error",description:"Address must be at least 5 characters long",variant:"destructive"});return}if(!x.location.city||x.location.city.trim().length<2){i({title:"Validation Error",description:"City must be at least 2 characters long",variant:"destructive"});return}if(!x.location.state||x.location.state.trim().length<2){i({title:"Validation Error",description:"State must be at least 2 characters long",variant:"destructive"});return}const $=parseFloat(x.priceRange.min),T=parseFloat(x.priceRange.max);if(isNaN($)||$<=0){i({title:"Validation Error",description:"Minimum price must be a positive number",variant:"destructive"});return}if(isNaN(T)||T<=0){i({title:"Validation Error",description:"Maximum price must be a positive number",variant:"destructive"});return}if(T<=$){i({title:"Validation Error",description:"Maximum price must be greater than minimum price",variant:"destructive"});return}const Q=(I=x.images)==null?void 0:I.filter(he=>!he||!he.url||he.url.trim()===""),Y=(D=x.videos)==null?void 0:D.filter(he=>!he||!he.url||he.url.trim()===""),F=(W=x.brochures)==null?void 0:W.filter(he=>!he||!he.url||he.url.trim()==="");if(Q&&Q.length>0){i({title:"Validation Error",description:"Some images have invalid URLs. Please remove them or re-upload.",variant:"destructive"});return}if(Y&&Y.length>0){i({title:"Validation Error",description:"Some videos have invalid URLs. Please remove them or re-upload.",variant:"destructive"});return}if(F&&F.length>0){i({title:"Validation Error",description:"Some brochures have invalid URLs. Please remove them or re-upload.",variant:"destructive"});return}R(),c(!0);try{const he={name:x.name.trim(),description:((U=x.description)==null?void 0:U.trim())||void 0,projectType:x.projectType,status:x.status,location:{address:x.location.address.trim(),city:x.location.city.trim(),state:x.location.state.trim(),country:x.location.country||"India"},priceRange:{min:$,max:T,unit:x.priceRange.unit||"lakh"},totalUnits:x.totalUnits?parseInt(x.totalUnits):void 0,availableUnits:x.availableUnits?parseInt(x.availableUnits):void 0,completionDate:x.completionDate||void 0,possessionDate:x.possessionDate||void 0,launchDate:x.launchDate||void 0,amenities:x.amenities||[],images:((z=x.images)==null?void 0:z.map(Te=>typeof Te=="string"?{url:Te,caption:"",isPrimary:!1}:Te).filter(Te=>Te&&Te.url&&Te.url.trim()!==""))||[],videos:((J=x.videos)==null?void 0:J.map(Te=>typeof Te=="string"?{url:Te,caption:"",thumbnail:""}:Te).filter(Te=>Te&&Te.url&&Te.url.trim()!==""))||[],brochures:((se=x.brochures)==null?void 0:se.map(Te=>typeof Te=="string"?{url:Te,name:"Brochure"}:Te).filter(Te=>Te&&Te.url&&Te.url.trim()!==""))||[],reraNumber:((ue=x.reraNumber)==null?void 0:ue.trim())||void 0};console.log("Project data being sent to backend:",{...he,images:he.images,videos:he.videos,brochures:he.brochures});const fe=he.images.filter(Te=>!Te||!Te.url||Te.url.trim()===""),we=he.videos.filter(Te=>!Te||!Te.url||Te.url.trim()===""),Oe=he.brochures.filter(Te=>!Te||!Te.url||Te.url.trim()==="");if(fe.length>0||we.length>0||Oe.length>0)throw console.error("Invalid media objects found:",{invalidImages:fe,invalidVideos:we,invalidBrochures:Oe}),new Error("Invalid media objects detected. Please clean up and try again.");if(s){console.log("Existing project data:",s);const Te=s.id||s._id;if(console.log("Project ID:",Te),!Te)throw new Error("Project ID is required for updating");const{error:gt}=await re.updateProject(Te,he);if(gt)throw gt}else{const{error:Te}=await re.createProject(he);if(Te)throw Te}i({title:"Success",description:`Project ${s?"updated":"created"} successfully!`}),r()}catch(he){console.error("Error saving project:",he);let fe="Failed to save project. Please try again.";(oe=(xe=he==null?void 0:he.response)==null?void 0:xe.data)!=null&&oe.errors?fe=`Validation failed: ${he.response.data.errors.map(Oe=>Oe.msg).join(", ")}`:(le=(de=he==null?void 0:he.response)==null?void 0:de.data)!=null&&le.message?fe=he.response.data.message:he!=null&&he.message&&(fe=he.message),i({title:"Error",description:fe,variant:"destructive"})}finally{c(!1)}};return!d&&n?e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Developer Profile Required"})}),e.jsx(X,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to complete your developer profile setup before you can add projects."}),e.jsx(H,{onClick:t,variant:"outline",children:"Go to Company Profile"})]})})]}):e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:s?"Edit Project":"Add New Project"})}),e.jsx(X,{children:e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"name",children:"Project Name"}),e.jsx(Se,{id:"name",value:x.name,onChange:_=>P("name",_.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"description",children:"Project Description"}),e.jsx(rr,{id:"description",value:x.description,onChange:_=>P("description",_.target.value),className:"min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Location Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"address",children:"Address"}),e.jsx(Se,{id:"address",value:x.location.address,onChange:_=>O("address",_.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"state",children:"State"}),e.jsxs(Xe,{value:x.location.state,onValueChange:_=>O("state",_),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select State"})}),e.jsx(Ke,{children:Ug().map(_=>e.jsx(te,{value:_,children:_},_))})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"city",children:"City"}),e.jsxs(Xe,{value:x.location.city,onValueChange:_=>O("city",_),disabled:!x.location.state,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:x.location.state?"Select City":"Select State first"})}),e.jsx(Ke,{children:N.map(_=>e.jsx(te,{value:_,children:_},_))})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"projectType",children:"Project Type"}),e.jsxs(Xe,{value:x.projectType,onValueChange:_=>P("projectType",_),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"residential",children:"Residential"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"mixed_use",children:"Mixed Use"}),e.jsx(te,{value:"industrial",children:"Industrial"}),e.jsx(te,{value:"hospitality",children:"Hospitality"}),e.jsx(te,{value:"retail",children:"Retail"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"status",children:"Status"}),e.jsxs(Xe,{value:x.status,onValueChange:_=>P("status",_),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"planning",children:"Planning"}),e.jsx(te,{value:"under_construction",children:"Under Construction"}),e.jsx(te,{value:"ready_to_move",children:"Ready to Move"}),e.jsx(te,{value:"completed",children:"Completed"}),e.jsx(te,{value:"sold_out",children:"Sold Out"}),e.jsx(te,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"reraNumber",children:"RERA Number"}),e.jsx(Se,{id:"reraNumber",value:x.reraNumber,onChange:_=>P("reraNumber",_.target.value),placeholder:"e.g., P51700012345"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Price Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priceMin",children:"Minimum Price"}),e.jsx(Se,{id:"priceMin",type:"number",value:x.priceRange.min,onChange:_=>q("min",_.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priceMax",children:"Maximum Price"}),e.jsx(Se,{id:"priceMax",type:"number",value:x.priceRange.max,onChange:_=>q("max",_.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priceUnit",children:"Price Unit"}),e.jsxs(Xe,{value:x.priceRange.unit,onValueChange:_=>q("unit",_),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"lakh",children:"Lakh"}),e.jsx(te,{value:"crore",children:"Crore"}),e.jsx(te,{value:"sqft",children:"Per Sq Ft"}),e.jsx(te,{value:"sqm",children:"Per Sq M"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"totalUnits",children:"Total Units"}),e.jsx(Se,{id:"totalUnits",type:"number",value:x.totalUnits,onChange:_=>P("totalUnits",_.target.value)})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"availableUnits",children:"Available Units"}),e.jsx(Se,{id:"availableUnits",type:"number",value:x.availableUnits,onChange:_=>P("availableUnits",_.target.value)})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"completionDate",children:"Expected Completion"}),e.jsx(Se,{id:"completionDate",type:"date",value:x.completionDate,onChange:_=>P("completionDate",_.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"possessionDate",children:"Possession Date"}),e.jsx(Se,{id:"possessionDate",type:"date",value:x.possessionDate,onChange:_=>P("possessionDate",_.target.value)})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"launchDate",children:"Launch Date"}),e.jsx(Se,{id:"launchDate",type:"date",value:x.launchDate,onChange:_=>P("launchDate",_.target.value)})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Project Media"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:R,className:"text-xs",children:"Clean Invalid Media"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Brochures (PDF)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:_=>{var T;const $=(T=_.target.files)==null?void 0:T[0];$&&V($,"brochures"),_.target.value=""},className:"hidden",id:"brochure-upload"}),e.jsx("label",{htmlFor:"brochure-upload",className:"cursor-pointer flex flex-col items-center",children:b.brochures?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Click to upload PDF brochure"})]})})]}),x.brochures.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.brochures.map((_,$)=>e.jsx("div",{className:"relative group border rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:typeof _=="object"&&_?_.name||`Brochure ${$+1}`:`Brochure ${$+1}`}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:typeof _=="string"?_:(_==null?void 0:_.url)||"#",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm",onClick:T=>T.stopPropagation(),children:"View"}),e.jsx(Rt,{className:"h-4 w-4 text-gray-400 cursor-pointer hover:text-red-500",onClick:T=>{T.preventDefault(),T.stopPropagation(),k("brochures",$)}})]})]})},$))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var T;const $=(T=_.target.files)==null?void 0:T[0];$&&V($,"images"),_.target.value=""},className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:b.images?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uR,{className:"h-4 w-4"}),e.jsx("span",{children:"Click to upload project images"})]})})]}),x.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:x.images.map((_,$)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:typeof _=="string"?_:(_==null?void 0:_.url)||"",alt:`Project image ${$+1}`,className:"w-full h-24 object-cover rounded-lg border"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsx(Rt,{className:"h-4 w-4 text-white cursor-pointer",onClick:T=>{T.preventDefault(),T.stopPropagation(),k("images",$)}})}),typeof _=="object"&&_&&(_==null?void 0:_.isPrimary)&&e.jsx(ge,{className:"absolute top-1 left-1 text-xs",children:"Primary"})]},$))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Videos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:"video/*",onChange:_=>{var T;const $=(T=_.target.files)==null?void 0:T[0];$&&V($,"videos"),_.target.value=""},className:"hidden",id:"video-upload"}),e.jsx("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center",children:b.videos?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jp,{className:"h-4 w-4"}),e.jsx("span",{children:"Click to upload project videos"})]})})]}),x.videos.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.videos.map((_,$)=>e.jsxs("div",{className:"relative group",children:[e.jsx("video",{src:typeof _=="string"?_:(_==null?void 0:_.url)||"",className:"w-full h-32 object-cover rounded-lg border",controls:!1,muted:!0}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsx(Rt,{className:"h-4 w-4 text-white cursor-pointer",onClick:T=>{T.preventDefault(),T.stopPropagation(),k("videos",$)}})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(jp,{className:"h-6 w-6 text-white"})})})]},$))})]})]}),e.jsxs("div",{children:[e.jsx(ne,{children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mt-2",children:g.map(_=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${f.includes(_.value)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,onClick:()=>A(_.value),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:f.includes(_.value),onChange:()=>A(_.value),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm font-medium",children:_.label})]})},_.value))}),f.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs(ne,{className:"text-sm font-medium mb-2 block",children:["Selected Amenities (",f.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(_=>{var T;const $=((T=g.find(Q=>Q.value===_))==null?void 0:T.label)||_;return e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1",children:[$,e.jsx(Rt,{className:"h-3 w-3 cursor-pointer",onClick:()=>M(_)})]},_)})})]})]}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(H,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),e.jsx(H,{type:"submit",disabled:l,children:l?"Saving...":s?"Update Project":"Create Project"})]})]})})]})},SL=({requirementId:r,onSuccess:t,proposal:s,isEditing:n=!1})=>{var I;const[i,l]=h.useState((s==null?void 0:s.title)||""),[c,d]=h.useState((s==null?void 0:s.description)||""),[m,f]=h.useState((s==null?void 0:s.timeline)||""),[y,g]=h.useState(((I=s==null?void 0:s.budget_estimate)==null?void 0:I.toString())||""),[x,v]=h.useState((s==null?void 0:s.terms_conditions)||""),[b,w]=h.useState((s==null?void 0:s.attachments)||[]),[N,C]=h.useState(""),[E,P]=h.useState((s==null?void 0:s.brochures)||[]),[O,q]=h.useState(!1),[A,M]=h.useState(!1),[V,k]=h.useState(null),{toast:R}=it(),{user:B}=Ft();h.useEffect(()=>{_()},[]);const _=async()=>{var D,W;try{if(!B)return;const{data:U,error:z}=await re.getMyDeveloperProfile();if(z)throw z;k(((D=U==null?void 0:U.developer)==null?void 0:D.id)||((W=U==null?void 0:U.developer)==null?void 0:W._id))}catch{R({title:"Error",description:"You need to create a developer profile first",variant:"destructive"})}},$=()=>{N.trim()&&!b.includes(N.trim())&&(w([...b,N.trim()]),C(""))},T=D=>{w(b.filter(W=>W!==D))},Q=async D=>{var z;const W=(z=D.target.files)==null?void 0:z[0];if(!W)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(W.type)){R({title:"Invalid file type",description:"Please upload PDF, JPEG, or PNG files only",variant:"destructive"});return}if(W.size>10*1024*1024){R({title:"File too large",description:"Please upload files smaller than 10MB",variant:"destructive"});return}q(!0);try{const J=new FormData;J.append("file",W);const se=await re.uploadSingleFile(J);if(se.error)throw new Error(se.error);P([...E,se.data.url]),R({title:"Brochure uploaded!",description:"Your brochure has been uploaded successfully."})}catch(J){R({title:"Upload failed",description:J.message||"Failed to upload brochure",variant:"destructive"})}finally{q(!1),D.target.value=""}},Y=D=>{P(E.filter(W=>W!==D))},F=async D=>{if(D.preventDefault(),!V){R({title:"Error",description:"Developer profile not found",variant:"destructive"});return}M(!0);try{const W={requirement_id:r,developer_id:V,title:i,description:c,timeline:m,budget_estimate:parseFloat(y),terms_conditions:x,attachments:b,brochures:E};if(n&&s){const{error:U}=await re.updateProposal(s.id,W);if(U)throw U;R({title:"Proposal updated!",description:"Your proposal has been updated successfully."})}else{const{error:U}=await re.createDeveloperProposal(W);if(U)throw U;R({title:"Proposal submitted!",description:"Your proposal has been submitted successfully."})}t==null||t()}catch(W){R({title:"Error",description:W.message,variant:"destructive"})}finally{M(!1)}};return e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:n?"Edit Proposal":"Submit Proposal"}),e.jsx(Qe,{children:n?"Update your proposal details":"Submit your proposal for this redevelopment requirement"})]}),e.jsx(X,{children:e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"title",children:"Proposal Title"}),e.jsx(Se,{id:"title",value:i,onChange:D=>l(D.target.value),placeholder:"Enter proposal title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"description",children:"Description"}),e.jsx(rr,{id:"description",value:c,onChange:D=>d(D.target.value),placeholder:"Describe your proposal in detail...",rows:4,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"timeline",children:"Timeline"}),e.jsx(Se,{id:"timeline",value:m,onChange:D=>f(D.target.value),placeholder:"e.g., 24 months",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"budget",children:"Budget Estimate ()"}),e.jsx(Se,{id:"budget",type:"number",value:y,onChange:D=>g(D.target.value),placeholder:"Enter budget in rupees",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"terms",children:"Terms & Conditions"}),e.jsx(rr,{id:"terms",value:x,onChange:D=>v(D.target.value),placeholder:"Enter terms and conditions...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Brochures"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",id:"brochure-upload",accept:".pdf,.jpg,.jpeg,.png",onChange:Q,className:"hidden",disabled:O}),e.jsx("label",{htmlFor:"brochure-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(Ai,{className:"h-8 w-8 text-gray-400"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:O?e.jsx("span",{className:"text-blue-600",children:"Uploading brochure..."}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Click to upload brochures"}),e.jsx("p",{className:"text-xs",children:"PDF, JPEG, PNG (max 10MB)"})]})})]})})]}),E.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Uploaded Brochures:"}),e.jsx("div",{className:"space-y-2",children:E.map((D,W)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xt,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:["Brochure ",W+1]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>window.open(D,"_blank"),className:"text-blue-600 hover:text-blue-700",children:"View"}),e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(D),className:"text-red-600 hover:text-red-700",children:e.jsx(Js,{className:"h-4 w-4"})})]})]},W))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Additional Attachments"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{value:N,onChange:D=>C(D.target.value),placeholder:"Add attachment URL or document name",onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),$())}),e.jsx(H,{type:"button",onClick:$,variant:"outline",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b.map(D=>e.jsxs(ge,{variant:"secondary",className:"pr-1",children:[D,e.jsx("button",{type:"button",onClick:()=>T(D),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:e.jsx(Rt,{className:"h-3 w-3"})})]},D))})]}),e.jsx(H,{type:"submit",disabled:A,className:"w-full",children:A?"Submitting...":n?"Update Proposal":"Submit Proposal"})]})})]})},kL=({requirementId:r})=>{const[t,s]=h.useState(null),[n,i]=h.useState(null),[l,c]=h.useState(null),[d,m]=h.useState([]),[f,y]=h.useState({}),[g,x]=h.useState({}),[v,b]=h.useState(!0),{toast:w}=it();h.useEffect(()=>{N()},[r]);const N=async()=>{try{b(!0);const{data:C,error:E}=await re;if(E)throw E;if(s(C),C!=null&&C.society_id){const{data:P,error:O}=await re;if(O)throw O;if(i(P),P!=null&&P.owner_id){const{data:M,error:V}=await re;V&&V.code!=="PGRST116"?console.warn("Could not fetch owner profile:",V):M&&c(M)}const{data:q,error:A}=await re;if(A)throw A;if(m(q||[]),q&&q.length>0){const M=q.map($=>$.user_id),{data:V,error:k}=await re;if(k)console.warn("Could not fetch member profiles:",k);else if(V){const $={};V.forEach(T=>{$[T.id]={user_id:T.id,full_name:T.full_name,phone:T.phone}}),y($)}const R=q.map($=>$.id),{data:B,error:_}=await re;if(_)console.warn("Could not fetch flat details:",_);else if(B){const $={};B.forEach(T=>{$[T.society_member_id]=T}),x($)}}}}catch(C){console.error("Error fetching redevelopment details:",C),w({title:"Error",description:"Failed to load redevelopment details",variant:"destructive"})}finally{b(!1)}};return v?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!t||!n?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"Redevelopment requirement not found"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-5 w-5"}),"Society Information"]})}),e.jsx(X,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Society Details"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-lg",children:n.name}),e.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[n.address,", ",n.city,", ",n.state]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(ge,{variant:"outline",children:[n.total_flats," Flats"]}),n.year_built&&e.jsxs(ge,{variant:"outline",children:["Built ",n.year_built]}),n.society_type&&e.jsx(ge,{variant:"outline",children:n.society_type}),n.condition_status&&e.jsxs(ge,{variant:"secondary",children:[n.condition_status," condition"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Contact Person"}),e.jsxs("div",{className:"space-y-1",children:[(l==null?void 0:l.full_name)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsx("span",{children:l.full_name})]}),(l==null?void 0:l.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Dr,{className:"h-4 w-4"}),e.jsx("span",{children:l.phone})]}),n.contact_email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx("span",{children:n.contact_email})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.amenities&&n.amenities.length>0?n.amenities.map((C,E)=>e.jsx(ge,{variant:"outline",className:"text-xs",children:C},E)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No amenities listed"})})]})]})})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),"Redevelopment Requirement"]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Type"}),e.jsx(ge,{children:t.requirement_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Budget Range"}),e.jsx("p",{className:"text-sm",children:t.budget_range||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Timeline"}),e.jsx("p",{className:"text-sm",children:t.timeline_expectation||"Not specified"})]})]}),t.description&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),e.jsx("p",{className:"text-sm",children:t.description})]}),t.special_needs&&t.special_needs.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Special Requirements"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.special_needs.map((C,E)=>e.jsx(ge,{variant:"outline",className:"text-xs",children:C},E))})]})]})]}),e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-5 w-5"}),"Society Members Details (",d.length," Members)"]}),e.jsx(Qe,{children:"Detailed information about all society members and their flats"})]}),e.jsx(X,{children:d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Pt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No member details available"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(fi,{children:[e.jsx(pi,{children:e.jsxs(qs,{children:[e.jsx(ut,{children:"Flat No."}),e.jsx(ut,{children:"Member Name"}),e.jsx(ut,{children:"Contact"}),e.jsx(ut,{children:"Flat Type"}),e.jsx(ut,{children:"Floor"}),e.jsx(ut,{children:"Carpet Area (sq ft)"}),e.jsx(ut,{children:"Built-up Area (sq ft)"}),e.jsx(ut,{children:"Condition"}),e.jsx(ut,{children:"Ownership Type"}),e.jsx(ut,{children:"Additional Details"})]})}),e.jsx(gi,{children:d.map(C=>{const E=f[C.user_id],P=g[C.id];return e.jsxs(qs,{children:[e.jsx(mt,{className:"font-medium",children:C.flat_number}),e.jsx(mt,{children:(E==null?void 0:E.full_name)||"N/A"}),e.jsx(mt,{children:(E==null?void 0:E.phone)||"N/A"}),e.jsx(mt,{children:(P==null?void 0:P.flat_type)||"N/A"}),e.jsx(mt,{children:(P==null?void 0:P.floor_number)||"N/A"}),e.jsx(mt,{children:P!=null&&P.carpet_area?`${P.carpet_area} sq ft`:"N/A"}),e.jsx(mt,{children:P!=null&&P.built_up_area?`${P.built_up_area} sq ft`:"N/A"}),e.jsx(mt,{children:P!=null&&P.flat_condition?e.jsx(ge,{variant:"outline",className:"capitalize",children:P.flat_condition}):"N/A"}),e.jsx(mt,{children:P!=null&&P.ownership_type?e.jsx(ge,{variant:"secondary",className:"capitalize",children:P.ownership_type}):"N/A"}),e.jsx(mt,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:(P==null?void 0:P.additional_details)||"",children:(P==null?void 0:P.additional_details)||"N/A"})})]},C.id)})})]})})})]})]})},CL=r=>{if(!r||r==="null"||r==="undefined"||r==="")return"N/A";try{const t=new Date(r);return isNaN(t.getTime())?"N/A":t.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch(t){return console.error("Error formatting date:",r,t),"N/A"}},PL=({className:r})=>{var T,Q,Y;const[t,s]=h.useState([]),[n,i]=h.useState(!0),[l,c]=h.useState({status:"",city:"",state:"",minFlats:"",maxFlats:"",sortBy:"createdAt",sortOrder:"desc"}),[d,m]=h.useState(1),[f,y]=h.useState(!0),[g,x]=h.useState(!1),[v,b]=h.useState(null),[w,N]=h.useState({title:"",description:"",corpusAmount:"",rentAmount:"",timeline:"",terms:"",documents:[]}),[C,E]=h.useState(!1),[P,O]=h.useState(!1),q=hr(),A=async(F=1,I=!1)=>{var D;try{const W=new URLSearchParams({page:F.toString(),limit:"12"});l.status&&l.status!=="all"&&W.append("status",l.status),l.city&&W.append("city",l.city),l.state&&W.append("state",l.state),l.minFlats&&W.append("minFlats",l.minFlats),l.maxFlats&&W.append("maxFlats",l.maxFlats),l.sortBy&&W.append("sortBy",l.sortBy),l.sortOrder&&W.append("sortOrder",l.sortOrder);const U=await re.get(`/global-redevelopment/projects?${W}`);console.log("Redevelopment projects API response:",U);const z=((D=U==null?void 0:U.data)==null?void 0:D.projects)||[];console.log("New projects data:",z),z.forEach((se,ue)=>{var xe;console.log(`Project ${ue}:`,{_id:se._id,title:se.title,idType:typeof se._id,idLength:(xe=se._id)==null?void 0:xe.length,isUndefined:se._id==="undefined",isNull:se._id==="null"})});const J=z.filter(se=>{const ue=se._id&&se._id!=="undefined"&&se._id!=="null"&&se._id.trim()!=="";return ue||console.warn("Filtering out project with invalid ID:",se),ue});console.log(`Filtered ${z.length-J.length} projects with invalid IDs`),s(F===1||I?J:se=>[...se,...J]),y(z.length===12)}catch(W){console.error("Error fetching projects:",W),Ue({title:"Error",description:"Failed to fetch redevelopment projects. Please try again.",variant:"destructive"})}finally{i(!1)}};h.useEffect(()=>{A()},[l]);const M=(F,I)=>{c(D=>({...D,[F]:I})),m(1)},V=()=>{const F=d+1;m(F),A(F)},k=F=>{if(F.hasProposal){Ue({title:"Proposal Already Submitted",description:"You have already submitted a proposal for this project.",variant:"destructive"});return}b(F),N({title:`Proposal for ${F.title}`,description:"",corpusAmount:"",rentAmount:"",timeline:"",terms:"",documents:[]}),x(!0)},R=async F=>{const I=F.target.files;if(!(!I||I.length===0)){E(!0);try{const D=Array.from(I).map(async U=>{if(U.type!=="application/pdf")throw new Error(`${U.name} is not a PDF file. Please upload only PDF documents.`);const z=await re.uploadFile(U);if(z.error)throw new Error(z.error);return{name:U.name,type:"proposal",url:z.data.url}}),W=await Promise.all(D);N(U=>({...U,documents:[...U.documents,...W]})),Ue({title:"Documents Uploaded",description:`${W.length} document(s) uploaded successfully.`})}catch(D){console.error("Error uploading documents:",D),Ue({title:"Upload Error",description:D.message||"Failed to upload documents. Please try again.",variant:"destructive"})}finally{E(!1),F.target.value=""}}},B=async()=>{var F,I,D;if(v){O(!0);try{const W={title:w.title,description:w.description,fsi:((F=v.society)==null?void 0:F.fsi)||1,corpus:parseFloat(w.corpusAmount)||0,rent:parseFloat(w.rentAmount)||0,timeline:w.timeline,additionalTerms:w.terms,documents:w.documents};await re.post(`/global-redevelopment/projects/${v._id}/proposals`,W),Ue({title:"Proposal Submitted",description:"Your proposal has been submitted successfully!"}),x(!1),b(null),N({title:"",description:"",corpusAmount:"",rentAmount:"",timeline:"",terms:"",documents:[]}),A(1,!0)}catch(W){console.error("Error submitting proposal:",W),Ue({title:"Error",description:((D=(I=W.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to submit proposal. Please try again.",variant:"destructive"})}finally{O(!1)}}},_=F=>({planning:"bg-blue-500/20 text-blue-800 border-blue-500",tender_open:"bg-yellow-500/20 text-yellow-800 border-yellow-500",proposals_received:"bg-purple-500/20 text-purple-800 border-purple-500",voting:"bg-orange-500/20 text-orange-800 border-orange-500",developer_selected:"bg-green-500/20 text-green-800 border-green-500",construction:"bg-indigo-500/20 text-indigo-800 border-indigo-500",completed:"bg-emerald-500/20 text-emerald-800 border-emerald-500",cancelled:"bg-red-500/20 text-red-800 border-red-500"})[F]||"bg-gray-500/20 text-gray-800 border-gray-500",$=F=>!F||isNaN(F)?"N/A":`${F.toLocaleString("en-IN")}`;return n&&t.length===0?e.jsxs(G,{className:`rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 ${r}`,children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(jt,{className:"h-5 w-5 text-blue-500"}),"Global Redevelopment Projects"]})}),e.jsx(X,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})})]}):e.jsxs("div",{className:`space-y-6 ${r}`,children:[e.jsx(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(jt,{className:"h-5 w-5 text-blue-500"}),"Global Redevelopment Projects"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover redevelopment opportunities from societies across the platform"})]})}),e.jsxs(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(Wu,{className:"h-4 w-4 text-blue-500"}),"Filters"]})}),e.jsxs(X,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Status"}),e.jsxs(Xe,{value:l.status,onValueChange:F=>M("status",F),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"All Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"planning",children:"Planning"}),e.jsx(te,{value:"tender_open",children:"Tender Open"}),e.jsx(te,{value:"proposals_received",children:"Proposals Received"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"City"}),e.jsx(Se,{placeholder:"Enter city",value:l.city,onChange:F=>M("city",F.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"State"}),e.jsx(Se,{placeholder:"Enter state",value:l.state,onChange:F=>M("state",F.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Sort By"}),e.jsxs(Xe,{value:l.sortBy,onValueChange:F=>M("sortBy",F),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"createdAt",children:"Date Created"}),e.jsx(te,{value:"totalFlats",children:"Total Flats"}),e.jsx(te,{value:"title",children:"Title"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Min Flats"}),e.jsx(Se,{type:"number",placeholder:"Minimum flats",value:l.minFlats,onChange:F=>M("minFlats",F.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Max Flats"}),e.jsx(Se,{type:"number",placeholder:"Maximum flats",value:l.maxFlats,onChange:F=>M("maxFlats",F.target.value)})]})]})]})]}),t.length===0?e.jsx(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:e.jsxs(X,{className:"text-center py-12",children:[e.jsx(jt,{className:"h-16 w-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No projects found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No redevelopment projects match your current filters."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(F=>{var I,D;return e.jsxs(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[e.jsx(ye,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs(be,{className:"text-lg font-bold text-gray-800 dark:text-gray-100 line-clamp-2",children:[F.title,F.hasProposal&&e.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Proposal Sent)"})]}),e.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[e.jsx(ge,{className:`border ${_(F.status)} text-xs px-2 py-1`,children:F.status.replace("_"," ")}),(F.status==="voting"||F.status==="developer_selected"||F.status==="construction"||F.status==="completed"||F.status==="cancelled")&&e.jsx(ge,{variant:"outline",className:"text-xs px-2 py-1 bg-orange-50 text-orange-700 border-orange-200",children:"Submission Closed"})]})]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(jt,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:F.society.name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ot,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{children:[F.society.city,", ",F.society.state]})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3",children:F.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[F.society.totalFlats||0," Flats"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(za,{className:"h-4 w-4 text-purple-500"}),e.jsxs("span",{children:["FSI: ",((I=F.society)==null?void 0:I.fsi)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:CL(F.expectedCompletion)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{children:["Status: ",F.status.replace("_"," ")]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 mb-2",children:"Requirements"}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:["Corpus: ",$(F.corpusAmount)]}),e.jsxs("div",{children:["Rent: ",F.rentAmount?`${$(F.rentAmount)}/month`:"N/A"]}),e.jsxs("div",{children:["Amenities: ",(D=F.society)!=null&&D.amenities&&F.society.amenities.length>0?F.society.amenities.slice(0,2).join(", ")+(F.society.amenities.length>2?"...":""):"N/A"]})]})]}),F.hasProposal&&e.jsx("div",{className:`border rounded-lg p-2 ${F.proposalStatus==="submitted"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":F.proposalStatus==="shortlisted"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":F.proposalStatus==="selected"?"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800":F.proposalStatus==="rejected"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}`,children:e.jsxs("div",{className:`text-xs ${F.proposalStatus==="submitted"?"text-blue-700 dark:text-blue-300":F.proposalStatus==="shortlisted"?"text-green-700 dark:text-green-300":F.proposalStatus==="selected"?"text-purple-700 dark:text-purple-300":F.proposalStatus==="rejected"?"text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300"}`,children:[e.jsx("strong",{children:"Your Proposal:"})," ",F.proposalStatus==="submitted"?"Submitted ":F.proposalStatus==="shortlisted"?"Shortlisted ":F.proposalStatus==="selected"?"Selected ":F.proposalStatus==="rejected"?"Not Selected":"Under Review"]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{var W;if(console.log("View Details clicked for project:",F),console.log("Project _id:",F._id),console.log("Project keys:",Object.keys(F)),console.log("Project type:",typeof F._id),console.log("Project _id length:",(W=F._id)==null?void 0:W.length),!F._id||F._id==="undefined"||F._id==="null"||F._id.trim()===""){console.error("Project _id is invalid:",F._id),Ue({title:"Invalid Project",description:"This project has an invalid ID and cannot be viewed.",variant:"destructive"});return}console.log("Navigating to project:",F._id),q(`/project/${F._id}`)},className:"flex-1",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Details"]}),(()=>{const W=F.status==="voting"||F.status==="developer_selected"||F.status==="construction"||F.status==="completed"||F.status==="cancelled";return F.hasProposal?e.jsxs(H,{size:"sm",disabled:!0,className:`flex-1 ${F.proposalStatus==="submitted"?"bg-blue-100 text-blue-700 border-blue-200":F.proposalStatus==="shortlisted"?"bg-green-100 text-green-700 border-green-200":F.proposalStatus==="selected"?"bg-purple-100 text-purple-700 border-purple-200":F.proposalStatus==="rejected"?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"}`,title:"You have already submitted a proposal for this project",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),F.proposalStatus==="submitted"?"Already Sent ":F.proposalStatus==="shortlisted"?"Shortlisted ":F.proposalStatus==="selected"?"Selected ":F.proposalStatus==="rejected"?"Not Selected":"Under Review"]}):W?e.jsxs(H,{size:"sm",disabled:!0,className:"flex-1 bg-gray-100 text-gray-600 border-gray-200",title:F.status==="voting"?"Proposal submission closed - voting has started":F.status==="developer_selected"?"Developer has already been selected":F.status==="construction"?"Project is under construction":F.status==="completed"?"Project is completed":F.status==="cancelled"?"Project has been cancelled":"Submission deadline has passed",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),F.status==="voting"?"Voting Active":F.status==="developer_selected"?"Developer Selected":F.status==="construction"?"Under Construction":F.status==="completed"?"Completed":F.status==="cancelled"?"Cancelled":"Submission Closed"]}):e.jsxs(H,{size:"sm",onClick:()=>{console.log("Submit Proposal clicked for project:",F._id),k(F)},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Submit Proposal"]})})()]})]})]},F._id)})}),f&&e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"outline",onClick:V,disabled:n,className:"px-8 py-2",children:n?"Loading...":"Load More Projects"})}),g&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Submit Proposal"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:v.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),(T=v.society)==null?void 0:T.city,", ",(Q=v.society)==null?void 0:Q.state]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(jt,{className:"h-4 w-4"}),(Y=v.society)==null?void 0:Y.totalFlats," Flats"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"proposal-title",children:"Proposal Title"}),e.jsx(Se,{id:"proposal-title",value:w.title,onChange:F=>N(I=>({...I,title:F.target.value})),placeholder:"Enter proposal title"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"proposal-description",children:"Description"}),e.jsx(rr,{id:"proposal-description",value:w.description,onChange:F=>N(I=>({...I,description:F.target.value})),placeholder:"Describe your proposal in detail...",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"corpus-amount",children:"Corpus Amount ()"}),e.jsx(Se,{id:"corpus-amount",type:"number",value:w.corpusAmount,onChange:F=>N(I=>({...I,corpusAmount:F.target.value})),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"rent-amount",children:"Rent Amount ()"}),e.jsx(Se,{id:"rent-amount",type:"number",value:w.rentAmount,onChange:F=>N(I=>({...I,rentAmount:F.target.value})),placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"timeline",children:"Timeline"}),e.jsx(Se,{id:"timeline",value:w.timeline,onChange:F=>N(I=>({...I,timeline:F.target.value})),placeholder:"e.g., 24 months"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"terms",children:"Terms & Conditions"}),e.jsx(rr,{id:"terms",value:w.terms,onChange:F=>N(I=>({...I,terms:F.target.value})),placeholder:"Enter any specific terms and conditions...",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Supporting Documents (PDF only)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:".pdf",multiple:!0,onChange:R,disabled:C,className:"hidden",id:"document-upload"}),e.jsxs("label",{htmlFor:"document-upload",className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 p-4 rounded-lg transition-colors",children:[e.jsx(Ai,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:C?"Uploading...":"Click to upload PDF documents"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Upload proposal documents, certificates, or other supporting materials"})]})]}),w.documents.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Uploaded Documents:"}),e.jsx("div",{className:"space-y-2",children:w.documents.map((F,I)=>e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-3 rounded-lg",children:[e.jsx(xt,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:F.name}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[F.type," Document"]})]})]},I))})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t",children:[e.jsx(H,{variant:"outline",onClick:()=>x(!1),disabled:P,children:"Cancel"}),e.jsx(H,{onClick:B,disabled:P||!w.title||!w.description,className:"bg-blue-500 hover:bg-blue-600",children:P?"Submitting...":"Submit Proposal"})]})]})})]})},_L=({url:r,name:t})=>{const[s,n]=h.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),t]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5 text-red-500"}),t]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>window.open(r,"_blank"),className:"gap-2",children:[e.jsx(cR,{className:"h-4 w-4"}),"Open in New Tab"]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>n(!1),children:e.jsx(Rt,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"p-4 h-[calc(90vh-120px)]",children:e.jsx("iframe",{src:r,className:"w-full h-full border rounded",title:t})})]})})]})},EL=()=>{const[r,t]=h.useState(null),[s,n]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState([]),[x,v]=h.useState({totalProjects:0,activeProjects:0,totalProperties:0,totalInquiries:0,completedProjects:0,totalProposals:0,acceptedProposals:0}),[b,w]=h.useState([]),[N,C]=h.useState([]),[E,P]=h.useState(!1),[O,q]=h.useState(null),[A,M]=h.useState(null),[V,k]=h.useState(!0),[R,B]=h.useState(!1),[_,$]=h.useState(!1),[T,Q]=h.useState(null),{profile:Y}=Ft(),{toast:F}=it();h.useEffect(()=>{Y&&I()},[Y==null?void 0:Y.id,Y==null?void 0:Y.user]);const I=async(de=!1)=>{var he,fe,we,Oe,Te,gt,Lt;const le=(Y==null?void 0:Y.id)||(Y==null?void 0:Y.user);if(!Y||!le){k(!1);return}try{de?B(!0):k(!0);const Qt=new AbortController,cr=setTimeout(()=>Qt.abort(),5e3),[qt,sr,ae,Le,ie,_e]=await Promise.allSettled([re.getMyDeveloperProfile(),re.getMyProjects(),re.getProperties({owner_id:le}),re.getMyInquiries(),re.getMyPropertyInquiries(),re.getDeveloperProposals()]);if(clearTimeout(cr),qt.status==="fulfilled"&&!qt.value.error?t(((he=qt.value.data)==null?void 0:he.developer)||null):t(null),sr.status==="fulfilled"&&!sr.value.error){const Ie=(((fe=sr.value.data)==null?void 0:fe.projects)||[]).map(St=>({...St,id:St._id||St.id}));n(Ie);const Ze=Ie.filter(St=>["planning","under_construction","ready_to_move"].includes(St.status)).length,ft=Ie.filter(St=>St.status==="completed").length;v(St=>({...St,totalProjects:Ie.length,activeProjects:Ze,completedProjects:ft}))}else n([]);if(ae.status==="fulfilled"&&!ae.value.error){const Ae=((we=ae.value.data)==null?void 0:we.properties)||[];l(Ae),v(Ie=>({...Ie,totalProperties:Ae.length}))}else l([]);if(Le.status==="fulfilled"&&!Le.value.error){const Ae=((Oe=Le.value.data)==null?void 0:Oe.inquiries)||[];d(Ae),v(Ie=>({...Ie,totalInquiries:Ae.length}))}else d([]);if(ie.status==="fulfilled"&&!ie.value.error){const Ae=((Te=ie.value.data)==null?void 0:Te.inquiries)||[];f(Ae),v(Ie=>({...Ie,totalInquiries:Ie.totalInquiries+Ae.length}))}else f([]);try{const Ae=await re.getMyProjectInquiries();if(Ae.error)g([]);else{const Ie=((gt=Ae.data)==null?void 0:gt.inquiries)||[];g(Ie),v(Ze=>({...Ze,totalInquiries:Ze.totalInquiries+Ie.length}))}}catch(Ae){console.error("Error fetching project inquiries:",Ae),g([])}if(_e.status==="fulfilled"&&!_e.value.error){const Ae=((Lt=_e.value.data)==null?void 0:Lt.proposals)||[];C(Ae);const Ie=Ae.length,Ze=Ae.filter(ft=>ft.status==="selected").length;v(ft=>({...ft,totalProposals:Ie,acceptedProposals:Ze}))}else C([])}catch(Qt){console.error("Error fetching developer dashboard data:",Qt),t(null),n([]),l([]),d([]),f([]),g([]),C([]),w([]),v({totalProjects:0,totalProperties:0,activeProjects:0,completedProjects:0,totalInquiries:0,totalProposals:0,acceptedProposals:0})}finally{k(!1),B(!1)}},D=()=>{I(!0)},W=()=>{Q(null),$(!0)},U=de=>{Q(de),$(!0)},z=async de=>{if(confirm("Are you sure you want to delete this project?"))try{const le=await re.deleteProject(de);le.error?F({title:"Error",description:le.error||"Failed to delete project",variant:"destructive"}):(F({title:"Success",description:"Project deleted successfully"}),I(!0))}catch(le){console.error("Error deleting project:",le),F({title:"Error",description:"Failed to delete project",variant:"destructive"})}},J=()=>{$(!1),Q(null),I(!0)},se=async()=>{if(Y)try{const{data:de,error:le}=await re.createDeveloper({companyName:Y.companyName||"My Development Company",companyDescription:"A professional development company",establishedYear:new Date().getFullYear()});if(le)throw le;t(de),F({title:"Success",description:"Developer profile created! Please complete your company information."})}catch{F({title:"Error",description:"Failed to create developer profile",variant:"destructive"})}},ue=de=>{switch(de){case"ongoing":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"planned":return"bg-yellow-100 text-yellow-800";case"on_hold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},xe=de=>{switch(de){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},oe=async de=>{if(window.confirm("Are you sure you want to delete this property? This action cannot be undone."))try{const{error:le}=await re.deleteProperty(de);if(le)throw le;l(he=>he.filter(fe=>fe.id!==de)),F({title:"Success",description:"Property deleted successfully"})}catch(le){console.error("Error deleting property:",le),F({title:"Error",description:"Failed to delete property",variant:"destructive"})}};return V?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"}),e.jsx(Oa,{className:"h-6 w-6 text-blue-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-6 text-lg font-medium",children:"Loading your developer dashboard..."})]})})})]}):r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 text-gray-900 dark:text-gray-100",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight lg:text-5xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 flex items-center gap-3",children:[e.jsx(Oa,{className:"h-10 w-10 text-blue-500 animate-pulse"}),"Developer Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium",children:r.company_name}),r.verification_status==="pending"&&e.jsxs(ge,{className:"px-3 py-1 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 shadow-md",children:[e.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Pending Verification"]}),r.verification_status==="verified"&&e.jsxs(ge,{className:"px-3 py-1 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md",children:[e.jsx(Un,{className:"w-3 h-3 mr-1"}),"Verified"]}),r.verification_status==="rejected"&&e.jsxs(ge,{className:"px-3 py-1 rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-white border-0 shadow-md",children:[e.jsx(Jt,{className:"w-3 h-3 mr-1"}),"Verification Rejected"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:D,disabled:R,className:"px-4 py-2 rounded-full bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm shadow-lg hover:bg-white/70 dark:hover:bg-gray-700/70 transition-all duration-300 group disabled:opacity-50",children:[R?e.jsx(Tr,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ba,{className:"h-4 w-4 mr-2 group-hover:rotate-180 transition-transform duration-500"}),R?"Refreshing...":"Refresh Data"]}),e.jsx(H,{asChild:!0,className:"px-4 py-2 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-green-500/30 transition-all duration-300 group",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(fs,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform"}),"Post New Property"]})}),e.jsxs(H,{onClick:W,className:"px-4 py-2 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group",children:[e.jsx(fs,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform"}),"Add Project"]})]})]}),r.verification_status==="pending"&&e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-950 dark:to-orange-950",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 dark:from-yellow-900/20 dark:to-orange-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-yellow-500/20 dark:bg-yellow-700/30 backdrop-blur-sm",children:e.jsx(Gt,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Profile Under Verification"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Your developer profile is being verified by our team. This helps build trust with potential customers."})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-950 dark:to-indigo-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-indigo-500/40",children:[e.jsx("div",{className:"absolute -top-8 -left-8 h-24 w-24 rounded-full bg-indigo-400/20 dark:bg-indigo-600/20 blur-xl animate-pulse-slow delay-200"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-800 dark:text-indigo-200",children:"Properties Listed"}),e.jsx("div",{className:"p-2 rounded-full bg-indigo-500/20 dark:bg-indigo-700/30 backdrop-blur-sm",children:e.jsx(Et,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-indigo-900 dark:text-indigo-100 leading-none",children:x.totalProperties}),e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 mt-2",children:"Properties listed"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-purple-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -right-8 h-24 w-24 rounded-full bg-purple-400/20 dark:bg-purple-600/20 blur-xl animate-pulse-slow delay-300"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Project Listed"}),e.jsx("div",{className:"p-2 rounded-full bg-purple-500/20 dark:bg-purple-700/30 backdrop-blur-sm",children:e.jsx(Bt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-purple-900 dark:text-purple-100 leading-none",children:x.totalProjects}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:"Projects Listed"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950 dark:to-teal-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-teal-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -left-8 h-24 w-24 rounded-full bg-teal-400/20 dark:bg-teal-600/20 blur-xl animate-pulse-slow delay-500"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-teal-800 dark:text-teal-200",children:"Total Proposals"}),e.jsx("div",{className:"p-2 rounded-full bg-teal-500/20 dark:bg-teal-700/30 backdrop-blur-sm",children:e.jsx(My,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-teal-900 dark:text-teal-100 leading-none",children:x.totalProposals}),e.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300 mt-2",children:"Proposals submitted"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-emerald-500/40",children:[e.jsx("div",{className:"absolute -top-8 -left-8 h-24 w-24 rounded-full bg-emerald-400/20 dark:bg-emerald-600/20 blur-xl animate-pulse-slow delay-600"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-emerald-800 dark:text-emerald-200",children:"Accepted Proposals"}),e.jsx("div",{className:"p-2 rounded-full bg-emerald-500/20 dark:bg-emerald-700/30 backdrop-blur-sm",children:e.jsx(wt,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-emerald-900 dark:text-emerald-100 leading-none",children:x.acceptedProposals}),e.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-2",children:"Successfully accepted"})]})]})]}),e.jsxs(gs,{defaultValue:"company",className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full grid-cols-5 h-auto p-1 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 dark:from-gray-700/20 dark:to-gray-800/20 rounded-xl shadow-inner border border-gray-200 dark:border-gray-700",children:[e.jsxs(Ge,{value:"company",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-indigo-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-blue-400 dark:data-[state=active]:border-blue-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-300 text-xs md:text-sm",children:[e.jsx(yr,{className:"h-3 w-3 mr-1 md:mr-2"})," Company"]}),e.jsxs(Ge,{value:"projects",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-green-400 dark:data-[state=active]:border-green-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-300 text-xs md:text-sm",children:[e.jsx(au,{className:"h-3 w-3 mr-1 md:mr-2"})," Projects"]}),e.jsxs(Ge,{value:"properties",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-indigo-400 dark:data-[state=active]:border-indigo-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-300 text-xs md:text-sm",children:[e.jsx(Et,{className:"h-3 w-3 mr-1 md:mr-2"})," Properties"]}),e.jsxs(Ge,{value:"redevelopment",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-orange-400 dark:data-[state=active]:border-orange-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-orange-600 dark:hover:text-orange-300 text-xs md:text-sm",children:[e.jsx(My,{className:"h-3 w-3 mr-1 md:mr-2"})," Redevelopment"]}),e.jsxs(Ge,{value:"inquiries",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-purple-400 dark:data-[state=active]:border-purple-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-300 text-xs md:text-sm",children:[e.jsx(Bt,{className:"h-3 w-3 mr-1 md:mr-2"})," Inquiries"]})]}),e.jsx(nt,{value:"projects",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Development Projects"}),e.jsx(Qe,{children:"Manage your residential and commercial projects"})]}),e.jsx(X,{children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(yr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start showcasing your development projects"}),e.jsx(H,{onClick:W,children:"Add First Project"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((de,le)=>{var he,fe,we,Oe;return e.jsxs(G,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-blue-500/20 group",children:[e.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 relative overflow-hidden",children:[(fe=(he=de.images)==null?void 0:he[0])!=null&&fe.url?e.jsx("img",{src:de.images[0].url,alt:de.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:Te=>{Te.currentTarget.src="/placeholder.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(yr,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-xl line-clamp-1 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:de.name}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"line-clamp-1",children:typeof de.location=="object"?`${((we=de.location)==null?void 0:we.city)||""}${(Oe=de.location)!=null&&Oe.state?", "+de.location.state:""}`.trim()||"Location not specified":de.location||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:de.price_range}),e.jsx(ge,{className:ue(de.status),children:de.status.replace("_"," ")})]}),de.completion_date&&e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(tr,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Completion: ",new Date(de.completion_date).toLocaleDateString()]})]}),de.documents&&de.documents.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-medium",children:["Documents (",de.documents.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:de.documents.map((Te,gt)=>e.jsx(_L,{url:Te.url,name:Te.name},gt))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-200 hover:border-blue-300 text-blue-700 hover:text-blue-800 transition-all duration-300",children:e.jsxs(He,{to:`/project/${de.id}`,children:[e.jsx(Wr,{className:"w-4 h-4 mr-1"}),"View"]})}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>U(de),className:"bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 hover:border-green-300 text-green-700 hover:text-green-800 transition-all duration-300",children:[e.jsx(nc,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>z(de.id),className:"bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border-red-200 hover:border-red-300 text-red-700 hover:text-red-800 transition-all duration-300",children:[e.jsx(Js,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})]},de.id||de._id||`project-${le}`)})})})]})}),e.jsx(nt,{value:"properties",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"My Properties"}),e.jsx(Qe,{children:"Manage your property listings"})]}),e.jsx(X,{children:i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No properties listed yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by listing your first property!"}),e.jsx(H,{asChild:!0,children:e.jsx(He,{to:"/post-property",children:"List Property"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((de,le)=>{var he,fe,we;return e.jsxs(G,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-indigo-500/20 group",children:[e.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 relative overflow-hidden",children:[(he=de.images)!=null&&he[0]?e.jsx("img",{src:de.images[0],alt:de.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Et,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-xl line-clamp-1 text-gray-900 dark:text-gray-100 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:de.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"line-clamp-1",children:typeof de.location=="object"?`${((fe=de.location)==null?void 0:fe.address)||""}${(we=de.location)!=null&&we.city?", "+de.location.city:""}`.trim()||de.city||"Location not specified":`${de.location||""}${de.city?", "+de.city:""}`.trim()||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-primary",children:[e.jsx(Qn,{className:"w-4 h-4"}),e.jsx("span",{children:de.price.toLocaleString()})]}),e.jsx(ge,{className:xe(de.status),children:de.status})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(ge,{variant:"outline",className:"capitalize text-xs",children:de.property_type}),e.jsxs(ge,{variant:"outline",className:"capitalize text-xs",children:["For ",de.listing_type]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 bg-gradient-to-r from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 border-indigo-200 hover:border-indigo-300 text-indigo-700 hover:text-indigo-800 transition-all duration-300",children:e.jsxs(He,{to:`/property/${de.id}`,children:[e.jsx(Wr,{className:"w-4 h-4 mr-1"}),"View"]})}),e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 hover:border-green-300 text-green-700 hover:text-green-800 transition-all duration-300",children:e.jsx(He,{to:`/edit-property/${de.id}`,children:e.jsx(nc,{className:"w-4 h-4"})})}),e.jsx(H,{size:"sm",variant:"outline",onClick:()=>oe(de.id),className:"bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border-red-200 hover:border-red-300 text-red-700 hover:text-red-800 transition-all duration-300",children:e.jsx(Js,{className:"w-4 h-4"})})]})]})})]},de.id||de._id||`property-${le}`)})})})]})}),e.jsx(nt,{value:"redevelopment",className:"space-y-4",children:e.jsx(PL,{})}),e.jsx(nt,{value:"inquiries",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"My Inquiries"]}),e.jsx(Qe,{children:"Inquiries you've made to property owners"})]}),e.jsx(X,{children:e.jsx(Jl,{inquiries:c,type:"sent",onRefresh:I})})]}),e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),"Property Inquiries"]}),e.jsx(Qe,{children:"Inquiries about your listed properties"})]}),e.jsx(X,{children:e.jsx(Jl,{inquiries:m,type:"received",onRefresh:I})})]}),e.jsxs(G,{className:"lg:col-span-2",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-5 w-5"}),"Project Inquiries"]}),e.jsx(Qe,{children:"Inquiries about your development projects"})]}),e.jsx(X,{children:e.jsx(Jl,{inquiries:y,type:"received",onRefresh:I})})]})]})}),e.jsx(nt,{value:"company",className:"space-y-4",children:e.jsx(wL,{onUpdate:I,existingProfile:r})})]}),E&&O&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Submit Proposal"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{P(!1),q(null)},children:e.jsx(Rt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(SL,{requirementId:O,onSuccess:()=>{P(!1),q(null),I()}})})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-7xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-background z-10",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Redevelopment Details"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>M(null),children:e.jsx(Rt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(kL,{requirementId:A})})]})}),_&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsx(NL,{onSuccess:J,onCancel:()=>{$(!1),Q(null)},existingProject:T})})})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 text-gray-900 dark:text-gray-100",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"text-center p-12",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(yr,{className:"h-20 w-20 text-blue-500 mx-auto animate-bounce-slow"}),e.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Oa,{className:"h-3 w-3 text-yellow-800 animate-pulse"})})]}),e.jsx(be,{className:"text-4xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"Welcome to Your Developer Dashboard"}),e.jsx(Qe,{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Set up your developer profile to showcase your projects, manage inquiries, and connect with potential clients in the real estate market."})]}),e.jsxs(X,{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx(yr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:"Project Showcase"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Display your residential and commercial development projects with stunning visuals and detailed information."})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-gray-900 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-500/20 dark:bg-green-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx(Bt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:"Inquiry Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Handle customer inquiries and project interest efficiently with our integrated communication tools."})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 dark:from-purple-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-500/20 dark:bg-purple-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx(za,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:"Performance Analytics"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track project views, inquiries, and customer engagement with detailed analytics and insights."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(H,{onClick:se,size:"lg",className:"px-8 py-4 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group text-lg font-semibold",children:[e.jsx(Gl,{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform"}),"Set Up Developer Profile",e.jsx(qn,{className:"h-5 w-5 ml-3 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]}),e.jsx(H,{asChild:!0,variant:"outline",size:"lg",className:"px-8 py-4 rounded-full border-blue-400 dark:border-blue-600 bg-blue-50/50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-800/50 shadow-lg transition-all duration-300 group text-lg font-semibold",children:e.jsxs(He,{to:"/projects",children:[e.jsx(Wr,{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform"}),"View All Projects",e.jsx(qn,{className:"h-5 w-5 ml-3 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})})]})]})]})})})]})};function Li(r){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(r)}function Pr(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function st(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function ht(r){st(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||Li(r)==="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zr(r,t){st(2,arguments);var s=ht(r),n=Pr(t);return isNaN(n)?new Date(NaN):(n&&s.setDate(s.getDate()+n),s)}function tn(r,t){st(2,arguments);var s=ht(r),n=Pr(t);if(isNaN(n))return new Date(NaN);if(!n)return s;var i=s.getDate(),l=new Date(s.getTime());l.setMonth(s.getMonth()+n+1,0);var c=l.getDate();return i>=c?l:(s.setFullYear(l.getFullYear(),l.getMonth(),i),s)}function RL(r,t){st(2,arguments);var s=ht(r).getTime(),n=Pr(t);return new Date(s+n)}var TL={};function eo(){return TL}function Nn(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=eo(),g=Pr((s=(n=(i=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&i!==void 0?i:y.weekStartsOn)!==null&&n!==void 0?n:(m=y.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ht(r),v=x.getDay(),b=(v<g?7:0)+v-g;return x.setDate(x.getDate()-b),x.setHours(0,0,0,0),x}function Do(r){return st(1,arguments),Nn(r,{weekStartsOn:1})}function DL(r){st(1,arguments);var t=ht(r),s=t.getFullYear(),n=new Date(0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);var i=Do(n),l=new Date(0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);var c=Do(l);return t.getTime()>=i.getTime()?s+1:t.getTime()>=c.getTime()?s:s-1}function AL(r){st(1,arguments);var t=DL(r),s=new Date(0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);var n=Do(s);return n}function mc(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}function $i(r){st(1,arguments);var t=ht(r);return t.setHours(0,0,0,0),t}var ML=864e5;function zn(r,t){st(2,arguments);var s=$i(r),n=$i(t),i=s.getTime()-mc(s),l=n.getTime()-mc(n);return Math.round((i-l)/ML)}function Kp(r,t){st(2,arguments);var s=Pr(t),n=s*7;return zr(r,n)}function IL(r,t){st(2,arguments);var s=Pr(t);return tn(r,s*12)}function OL(r){st(1,arguments);var t;if(r&&typeof r.forEach=="function")t=r;else if(Li(r)==="object"&&r!==null)t=Array.prototype.slice.call(r);else return new Date(NaN);var s;return t.forEach(function(n){var i=ht(n);(s===void 0||s<i||isNaN(Number(i)))&&(s=i)}),s||new Date(NaN)}function FL(r){st(1,arguments);var t;if(r&&typeof r.forEach=="function")t=r;else if(Li(r)==="object"&&r!==null)t=Array.prototype.slice.call(r);else return new Date(NaN);var s;return t.forEach(function(n){var i=ht(n);(s===void 0||s>i||isNaN(i.getDate()))&&(s=i)}),s||new Date(NaN)}function as(r,t){st(2,arguments);var s=$i(r),n=$i(t);return s.getTime()===n.getTime()}function ux(r){return st(1,arguments),r instanceof Date||Li(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function LL(r){if(st(1,arguments),!ux(r)&&typeof r!="number")return!1;var t=ht(r);return!isNaN(Number(t))}function hc(r,t){st(2,arguments);var s=ht(r),n=ht(t),i=s.getFullYear()-n.getFullYear(),l=s.getMonth()-n.getMonth();return i*12+l}var $L=6048e5;function VL(r,t,s){st(2,arguments);var n=Nn(r,s),i=Nn(t,s),l=n.getTime()-mc(n),c=i.getTime()-mc(i);return Math.round((l-c)/$L)}function mx(r){st(1,arguments);var t=ht(r),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function is(r){st(1,arguments);var t=ht(r);return t.setDate(1),t.setHours(0,0,0,0),t}function UL(r){st(1,arguments);var t=ht(r),s=new Date(0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function hx(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=eo(),g=Pr((s=(n=(i=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&i!==void 0?i:y.weekStartsOn)!==null&&n!==void 0?n:(m=y.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ht(r),v=x.getDay(),b=(v<g?-7:0)+6-(v-g);return x.setDate(x.getDate()+b),x.setHours(23,59,59,999),x}function Tk(r){return st(1,arguments),hx(r,{weekStartsOn:1})}function BL(r,t){st(2,arguments);var s=Pr(t);return RL(r,-s)}var zL=864e5;function qL(r){st(1,arguments);var t=ht(r),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=s-n;return Math.floor(i/zL)+1}function Mu(r){st(1,arguments);var t=1,s=ht(r),n=s.getUTCDay(),i=(n<t?7:0)+n-t;return s.setUTCDate(s.getUTCDate()-i),s.setUTCHours(0,0,0,0),s}function Dk(r){st(1,arguments);var t=ht(r),s=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(s+1,0,4),n.setUTCHours(0,0,0,0);var i=Mu(n),l=new Date(0);l.setUTCFullYear(s,0,4),l.setUTCHours(0,0,0,0);var c=Mu(l);return t.getTime()>=i.getTime()?s+1:t.getTime()>=c.getTime()?s:s-1}function WL(r){st(1,arguments);var t=Dk(r),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var n=Mu(s);return n}var HL=6048e5;function YL(r){st(1,arguments);var t=ht(r),s=Mu(t).getTime()-WL(t).getTime();return Math.round(s/HL)+1}function Iu(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=eo(),g=Pr((s=(n=(i=(l=t==null?void 0:t.weekStartsOn)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&i!==void 0?i:y.weekStartsOn)!==null&&n!==void 0?n:(m=y.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=ht(r),v=x.getUTCDay(),b=(v<g?7:0)+v-g;return x.setUTCDate(x.getUTCDate()-b),x.setUTCHours(0,0,0,0),x}function Ak(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=ht(r),g=y.getUTCFullYear(),x=eo(),v=Pr((s=(n=(i=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:x.firstWeekContainsDate)!==null&&n!==void 0?n:(m=x.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,v),b.setUTCHours(0,0,0,0);var w=Iu(b,t),N=new Date(0);N.setUTCFullYear(g,0,v),N.setUTCHours(0,0,0,0);var C=Iu(N,t);return y.getTime()>=w.getTime()?g+1:y.getTime()>=C.getTime()?g:g-1}function KL(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=eo(),g=Pr((s=(n=(i=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&n!==void 0?n:(m=y.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1),x=Ak(r,t),v=new Date(0);v.setUTCFullYear(x,0,g),v.setUTCHours(0,0,0,0);var b=Iu(v,t);return b}var GL=6048e5;function QL(r,t){st(1,arguments);var s=ht(r),n=Iu(s,t).getTime()-KL(s,t).getTime();return Math.round(n/GL)+1}function At(r,t){for(var s=r<0?"-":"",n=Math.abs(r).toString();n.length<t;)n="0"+n;return s+n}var Sa={y:function(t,s){var n=t.getUTCFullYear(),i=n>0?n:1-n;return At(s==="yy"?i%100:i,s.length)},M:function(t,s){var n=t.getUTCMonth();return s==="M"?String(n+1):At(n+1,2)},d:function(t,s){return At(t.getUTCDate(),s.length)},a:function(t,s){var n=t.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,s){return At(t.getUTCHours()%12||12,s.length)},H:function(t,s){return At(t.getUTCHours(),s.length)},m:function(t,s){return At(t.getUTCMinutes(),s.length)},s:function(t,s){return At(t.getUTCSeconds(),s.length)},S:function(t,s){var n=s.length,i=t.getUTCMilliseconds(),l=Math.floor(i*Math.pow(10,n-3));return At(l,s.length)}},ui={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XL={G:function(t,s,n){var i=t.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,s,n){if(s==="yo"){var i=t.getUTCFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return Sa.y(t,s)},Y:function(t,s,n,i){var l=Ak(t,i),c=l>0?l:1-l;if(s==="YY"){var d=c%100;return At(d,2)}return s==="Yo"?n.ordinalNumber(c,{unit:"year"}):At(c,s.length)},R:function(t,s){var n=Dk(t);return At(n,s.length)},u:function(t,s){var n=t.getUTCFullYear();return At(n,s.length)},Q:function(t,s,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"Q":return String(i);case"QQ":return At(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,s,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"q":return String(i);case"qq":return At(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,s,n){var i=t.getUTCMonth();switch(s){case"M":case"MM":return Sa.M(t,s);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,s,n){var i=t.getUTCMonth();switch(s){case"L":return String(i+1);case"LL":return At(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,s,n,i){var l=QL(t,i);return s==="wo"?n.ordinalNumber(l,{unit:"week"}):At(l,s.length)},I:function(t,s,n){var i=YL(t);return s==="Io"?n.ordinalNumber(i,{unit:"week"}):At(i,s.length)},d:function(t,s,n){return s==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Sa.d(t,s)},D:function(t,s,n){var i=qL(t);return s==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):At(i,s.length)},E:function(t,s,n){var i=t.getUTCDay();switch(s){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,s,n,i){var l=t.getUTCDay(),c=(l-i.weekStartsOn+8)%7||7;switch(s){case"e":return String(c);case"ee":return At(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(t,s,n,i){var l=t.getUTCDay(),c=(l-i.weekStartsOn+8)%7||7;switch(s){case"c":return String(c);case"cc":return At(c,s.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(t,s,n){var i=t.getUTCDay(),l=i===0?7:i;switch(s){case"i":return String(l);case"ii":return At(l,s.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,s,n){var i=t.getUTCHours(),l=i/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,s,n){var i=t.getUTCHours(),l;switch(i===12?l=ui.noon:i===0?l=ui.midnight:l=i/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,s,n){var i=t.getUTCHours(),l;switch(i>=17?l=ui.evening:i>=12?l=ui.afternoon:i>=4?l=ui.morning:l=ui.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,s,n){if(s==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Sa.h(t,s)},H:function(t,s,n){return s==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Sa.H(t,s)},K:function(t,s,n){var i=t.getUTCHours()%12;return s==="Ko"?n.ordinalNumber(i,{unit:"hour"}):At(i,s.length)},k:function(t,s,n){var i=t.getUTCHours();return i===0&&(i=24),s==="ko"?n.ordinalNumber(i,{unit:"hour"}):At(i,s.length)},m:function(t,s,n){return s==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Sa.m(t,s)},s:function(t,s,n){return s==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Sa.s(t,s)},S:function(t,s){return Sa.S(t,s)},X:function(t,s,n,i){var l=i._originalDate||t,c=l.getTimezoneOffset();if(c===0)return"Z";switch(s){case"X":return Tb(c);case"XXXX":case"XX":return vo(c);case"XXXXX":case"XXX":default:return vo(c,":")}},x:function(t,s,n,i){var l=i._originalDate||t,c=l.getTimezoneOffset();switch(s){case"x":return Tb(c);case"xxxx":case"xx":return vo(c);case"xxxxx":case"xxx":default:return vo(c,":")}},O:function(t,s,n,i){var l=i._originalDate||t,c=l.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Rb(c,":");case"OOOO":default:return"GMT"+vo(c,":")}},z:function(t,s,n,i){var l=i._originalDate||t,c=l.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Rb(c,":");case"zzzz":default:return"GMT"+vo(c,":")}},t:function(t,s,n,i){var l=i._originalDate||t,c=Math.floor(l.getTime()/1e3);return At(c,s.length)},T:function(t,s,n,i){var l=i._originalDate||t,c=l.getTime();return At(c,s.length)}};function Rb(r,t){var s=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),l=n%60;if(l===0)return s+String(i);var c=t;return s+String(i)+c+At(l,2)}function Tb(r,t){if(r%60===0){var s=r>0?"-":"+";return s+At(Math.abs(r)/60,2)}return vo(r,t)}function vo(r,t){var s=t||"",n=r>0?"-":"+",i=Math.abs(r),l=At(Math.floor(i/60),2),c=At(i%60,2);return n+l+s+c}var Db=function(t,s){switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Mk=function(t,s){switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},JL=function(t,s){var n=t.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return Db(t,s);var c;switch(i){case"P":c=s.dateTime({width:"short"});break;case"PP":c=s.dateTime({width:"medium"});break;case"PPP":c=s.dateTime({width:"long"});break;case"PPPP":default:c=s.dateTime({width:"full"});break}return c.replace("{{date}}",Db(i,s)).replace("{{time}}",Mk(l,s))},ZL={p:Mk,P:JL},e8=["D","DD"],t8=["YY","YYYY"];function r8(r){return e8.indexOf(r)!==-1}function s8(r){return t8.indexOf(r)!==-1}function Ab(r,t,s){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var n8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a8=function(t,s,n){var i,l=n8[t];return typeof l=="string"?i=l:s===1?i=l.one:i=l.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Gf(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):r.defaultWidth,n=r.formats[s]||r.formats[r.defaultWidth];return n}}var o8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c8={date:Gf({formats:o8,defaultWidth:"full"}),time:Gf({formats:i8,defaultWidth:"full"}),dateTime:Gf({formats:l8,defaultWidth:"full"})},d8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u8=function(t,s,n,i){return d8[t]};function $l(r){return function(t,s){var n=s!=null&&s.context?String(s.context):"standalone",i;if(n==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,c=s!=null&&s.width?String(s.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{var d=r.defaultWidth,m=s!=null&&s.width?String(s.width):r.defaultWidth;i=r.values[m]||r.values[d]}var f=r.argumentCallback?r.argumentCallback(t):t;return i[f]}}var m8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v8=function(t,s){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},y8={ordinalNumber:v8,era:$l({values:m8,defaultWidth:"wide"}),quarter:$l({values:h8,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:$l({values:f8,defaultWidth:"wide"}),day:$l({values:p8,defaultWidth:"wide"}),dayPeriod:$l({values:g8,defaultWidth:"wide",formattingValues:x8,defaultFormattingWidth:"wide"})};function Vl(r){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],l=t.match(i);if(!l)return null;var c=l[0],d=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(d)?j8(d,function(g){return g.test(c)}):b8(d,function(g){return g.test(c)}),f;f=r.valueCallback?r.valueCallback(m):m,f=s.valueCallback?s.valueCallback(f):f;var y=t.slice(c.length);return{value:f,rest:y}}}function b8(r,t){for(var s in r)if(r.hasOwnProperty(s)&&t(r[s]))return s}function j8(r,t){for(var s=0;s<r.length;s++)if(t(r[s]))return s}function w8(r){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(r.matchPattern);if(!n)return null;var i=n[0],l=t.match(r.parsePattern);if(!l)return null;var c=r.valueCallback?r.valueCallback(l[0]):l[0];c=s.valueCallback?s.valueCallback(c):c;var d=t.slice(i.length);return{value:c,rest:d}}}var N8=/^(\d+)(th|st|nd|rd)?/i,S8=/\d+/i,k8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C8={any:[/^b/i,/^(a|c)/i]},P8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_8={any:[/1/i,/2/i,/3/i,/4/i]},E8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},A8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I8={ordinalNumber:w8({matchPattern:N8,parsePattern:S8,valueCallback:function(t){return parseInt(t,10)}}),era:Vl({matchPatterns:k8,defaultMatchWidth:"wide",parsePatterns:C8,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:P8,defaultMatchWidth:"wide",parsePatterns:_8,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Vl({matchPatterns:E8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any"}),day:Vl({matchPatterns:T8,defaultMatchWidth:"wide",parsePatterns:D8,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:A8,defaultMatchWidth:"any",parsePatterns:M8,defaultParseWidth:"any"})},Ik={code:"en-US",formatDistance:a8,formatLong:c8,formatRelative:u8,localize:y8,match:I8,options:{weekStartsOn:0,firstWeekContainsDate:1}},O8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L8=/^'([^]*?)'?$/,$8=/''/g,V8=/[a-zA-Z]/;function Fo(r,t,s){var n,i,l,c,d,m,f,y,g,x,v,b,w,N,C,E,P,O;st(2,arguments);var q=String(t),A=eo(),M=(n=(i=s==null?void 0:s.locale)!==null&&i!==void 0?i:A.locale)!==null&&n!==void 0?n:Ik,V=Pr((l=(c=(d=(m=s==null?void 0:s.firstWeekContainsDate)!==null&&m!==void 0?m:s==null||(f=s.locale)===null||f===void 0||(y=f.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&d!==void 0?d:A.firstWeekContainsDate)!==null&&c!==void 0?c:(g=A.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Pr((v=(b=(w=(N=s==null?void 0:s.weekStartsOn)!==null&&N!==void 0?N:s==null||(C=s.locale)===null||C===void 0||(E=C.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&w!==void 0?w:A.weekStartsOn)!==null&&b!==void 0?b:(P=A.locale)===null||P===void 0||(O=P.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&v!==void 0?v:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var R=ht(r);if(!LL(R))throw new RangeError("Invalid time value");var B=mc(R),_=BL(R,B),$={firstWeekContainsDate:V,weekStartsOn:k,locale:M,_originalDate:R},T=q.match(F8).map(function(Q){var Y=Q[0];if(Y==="p"||Y==="P"){var F=ZL[Y];return F(Q,M.formatLong)}return Q}).join("").match(O8).map(function(Q){if(Q==="''")return"'";var Y=Q[0];if(Y==="'")return U8(Q);var F=XL[Y];if(F)return!(s!=null&&s.useAdditionalWeekYearTokens)&&s8(Q)&&Ab(Q,t,String(r)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&r8(Q)&&Ab(Q,t,String(r)),F(_,Q,M.localize,$);if(Y.match(V8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return Q}).join("");return T}function U8(r){var t=r.match(L8);return t?t[1].replace($8,"'"):r}function B8(r){st(1,arguments);var t=ht(r),s=t.getFullYear(),n=t.getMonth(),i=new Date(0);return i.setFullYear(s,n+1,0),i.setHours(0,0,0,0),i.getDate()}var z8=6048e5;function q8(r){st(1,arguments);var t=ht(r),s=Do(t).getTime()-AL(t).getTime();return Math.round(s/z8)+1}function W8(r){st(1,arguments);var t=ht(r),s=t.getTime();return s}function H8(r){return st(1,arguments),Math.floor(W8(r)/1e3)}function Y8(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=ht(r),g=y.getFullYear(),x=eo(),v=Pr((s=(n=(i=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:x.firstWeekContainsDate)!==null&&n!==void 0?n:(m=x.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setFullYear(g+1,0,v),b.setHours(0,0,0,0);var w=Nn(b,t),N=new Date(0);N.setFullYear(g,0,v),N.setHours(0,0,0,0);var C=Nn(N,t);return y.getTime()>=w.getTime()?g+1:y.getTime()>=C.getTime()?g:g-1}function K8(r,t){var s,n,i,l,c,d,m,f;st(1,arguments);var y=eo(),g=Pr((s=(n=(i=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:y.firstWeekContainsDate)!==null&&n!==void 0?n:(m=y.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1),x=Y8(r,t),v=new Date(0);v.setFullYear(x,0,g),v.setHours(0,0,0,0);var b=Nn(v,t);return b}var G8=6048e5;function Q8(r,t){st(1,arguments);var s=ht(r),n=Nn(s,t).getTime()-K8(s,t).getTime();return Math.round(n/G8)+1}function X8(r){st(1,arguments);var t=ht(r),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(0,0,0,0),t}function J8(r,t){return st(1,arguments),VL(X8(r),is(r),t)+1}function Gp(r,t){st(2,arguments);var s=ht(r),n=ht(t);return s.getTime()>n.getTime()}function Ok(r,t){st(2,arguments);var s=ht(r),n=ht(t);return s.getTime()<n.getTime()}function fx(r,t){st(2,arguments);var s=ht(r),n=ht(t);return s.getFullYear()===n.getFullYear()&&s.getMonth()===n.getMonth()}function Z8(r,t){st(2,arguments);var s=ht(r),n=ht(t);return s.getFullYear()===n.getFullYear()}function Qf(r,t){st(2,arguments);var s=Pr(t);return zr(r,-s)}function Xf(r,t){st(2,arguments);var s=ht(r),n=Pr(t),i=s.getFullYear(),l=s.getDate(),c=new Date(0);c.setFullYear(i,n,15),c.setHours(0,0,0,0);var d=B8(c);return s.setMonth(n,Math.min(l,d)),s}function Mb(r,t){st(2,arguments);var s=ht(r),n=Pr(t);return isNaN(s.getTime())?new Date(NaN):(s.setFullYear(n),s)}var at=function(){return at=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l])}return t},at.apply(this,arguments)};function e$(r,t){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(s[n[i]]=r[n[i]]);return s}function Fk(r,t,s){for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return r.concat(l||Array.prototype.slice.call(t))}function Tc(r){return r.mode==="multiple"}function Dc(r){return r.mode==="range"}function Pm(r){return r.mode==="single"}var t$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function r$(r,t){return Fo(r,"LLLL y",t)}function s$(r,t){return Fo(r,"d",t)}function n$(r,t){return Fo(r,"LLLL",t)}function a$(r){return"".concat(r)}function o$(r,t){return Fo(r,"cccccc",t)}function i$(r,t){return Fo(r,"yyyy",t)}var l$=Object.freeze({__proto__:null,formatCaption:r$,formatDay:s$,formatMonthCaption:n$,formatWeekNumber:a$,formatWeekdayName:o$,formatYearCaption:i$}),c$=function(r,t,s){return Fo(r,"do MMMM (EEEE)",s)},d$=function(){return"Month: "},u$=function(){return"Go to next month"},m$=function(){return"Go to previous month"},h$=function(r,t){return Fo(r,"cccc",t)},f$=function(r){return"Week n. ".concat(r)},p$=function(){return"Year: "},g$=Object.freeze({__proto__:null,labelDay:c$,labelMonthDropdown:d$,labelNext:u$,labelPrevious:m$,labelWeekNumber:f$,labelWeekday:h$,labelYearDropdown:p$});function x$(){var r="buttons",t=t$,s=Ik,n={},i={},l=1,c={},d=new Date;return{captionLayout:r,classNames:t,formatters:l$,labels:g$,locale:s,modifiersClassNames:n,modifiers:i,numberOfMonths:l,styles:c,today:d,mode:"default"}}function v$(r){var t=r.fromYear,s=r.toYear,n=r.fromMonth,i=r.toMonth,l=r.fromDate,c=r.toDate;return n?l=is(n):t&&(l=new Date(t,0,1)),i?c=mx(i):s&&(c=new Date(s,11,31)),{fromDate:l?$i(l):void 0,toDate:c?$i(c):void 0}}var Lk=h.createContext(void 0);function y$(r){var t,s=r.initialProps,n=x$(),i=v$(s),l=i.fromDate,c=i.toDate,d=(t=s.captionLayout)!==null&&t!==void 0?t:n.captionLayout;d!=="buttons"&&(!l||!c)&&(d="buttons");var m;(Pm(s)||Tc(s)||Dc(s))&&(m=s.onSelect);var f=at(at(at({},n),s),{captionLayout:d,classNames:at(at({},n.classNames),s.classNames),components:at({},s.components),formatters:at(at({},n.formatters),s.formatters),fromDate:l,labels:at(at({},n.labels),s.labels),mode:s.mode||n.mode,modifiers:at(at({},n.modifiers),s.modifiers),modifiersClassNames:at(at({},n.modifiersClassNames),s.modifiersClassNames),onSelect:m,styles:at(at({},n.styles),s.styles),toDate:c});return e.jsx(Lk.Provider,{value:f,children:r.children})}function zt(){var r=h.useContext(Lk);if(!r)throw new Error("useDayPicker must be used within a DayPickerProvider.");return r}function $k(r){var t=zt(),s=t.locale,n=t.classNames,i=t.styles,l=t.formatters.formatCaption;return e.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:r.id,children:l(r.displayMonth,{locale:s})})}function b$(r){return e.jsx("svg",at({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},r,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Vk(r){var t,s,n=r.onChange,i=r.value,l=r.children,c=r.caption,d=r.className,m=r.style,f=zt(),y=(s=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&s!==void 0?s:b$;return e.jsxs("div",{className:d,style:m,children:[e.jsx("span",{className:f.classNames.vhidden,children:r["aria-label"]}),e.jsx("select",{name:r.name,"aria-label":r["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:n,children:l}),e.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[c,e.jsx(y,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function j$(r){var t,s=zt(),n=s.fromDate,i=s.toDate,l=s.styles,c=s.locale,d=s.formatters.formatMonthCaption,m=s.classNames,f=s.components,y=s.labels.labelMonthDropdown;if(!n)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});var g=[];if(Z8(n,i))for(var x=is(n),v=n.getMonth();v<=i.getMonth();v++)g.push(Xf(x,v));else for(var x=is(new Date),v=0;v<=11;v++)g.push(Xf(x,v));var b=function(N){var C=Number(N.target.value),E=Xf(is(r.displayMonth),C);r.onChange(E)},w=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:Vk;return e.jsx(w,{name:"months","aria-label":y(),className:m.dropdown_month,style:l.dropdown_month,onChange:b,value:r.displayMonth.getMonth(),caption:d(r.displayMonth,{locale:c}),children:g.map(function(N){return e.jsx("option",{value:N.getMonth(),children:d(N,{locale:c})},N.getMonth())})})}function w$(r){var t,s=r.displayMonth,n=zt(),i=n.fromDate,l=n.toDate,c=n.locale,d=n.styles,m=n.classNames,f=n.components,y=n.formatters.formatYearCaption,g=n.labels.labelYearDropdown,x=[];if(!i)return e.jsx(e.Fragment,{});if(!l)return e.jsx(e.Fragment,{});for(var v=i.getFullYear(),b=l.getFullYear(),w=v;w<=b;w++)x.push(Mb(UL(new Date),w));var N=function(E){var P=Mb(is(s),Number(E.target.value));r.onChange(P)},C=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:Vk;return e.jsx(C,{name:"years","aria-label":g(),className:m.dropdown_year,style:d.dropdown_year,onChange:N,value:s.getFullYear(),caption:y(s,{locale:c}),children:x.map(function(E){return e.jsx("option",{value:E.getFullYear(),children:y(E,{locale:c})},E.getFullYear())})})}function N$(r,t){var s=h.useState(r),n=s[0],i=s[1],l=t===void 0?n:t;return[l,i]}function S$(r){var t=r.month,s=r.defaultMonth,n=r.today,i=t||s||n||new Date,l=r.toDate,c=r.fromDate,d=r.numberOfMonths,m=d===void 0?1:d;if(l&&hc(l,i)<0){var f=-1*(m-1);i=tn(l,f)}return c&&hc(i,c)<0&&(i=c),is(i)}function k$(){var r=zt(),t=S$(r),s=N$(t,r.month),n=s[0],i=s[1],l=function(c){var d;if(!r.disableNavigation){var m=is(c);i(m),(d=r.onMonthChange)===null||d===void 0||d.call(r,m)}};return[n,l]}function C$(r,t){for(var s=t.reverseMonths,n=t.numberOfMonths,i=is(r),l=is(tn(i,n)),c=hc(l,i),d=[],m=0;m<c;m++){var f=tn(i,m);d.push(f)}return s&&(d=d.reverse()),d}function P$(r,t){if(!t.disableNavigation){var s=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,l=i===void 0?1:i,c=n?l:1,d=is(r);if(!s)return tn(d,c);var m=hc(s,r);if(!(m<l))return tn(d,c)}}function _$(r,t){if(!t.disableNavigation){var s=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,l=i===void 0?1:i,c=n?l:1,d=is(r);if(!s)return tn(d,-c);var m=hc(d,s);if(!(m<=0))return tn(d,-c)}}var Uk=h.createContext(void 0);function E$(r){var t=zt(),s=k$(),n=s[0],i=s[1],l=C$(n,t),c=P$(n,t),d=_$(n,t),m=function(g){return l.some(function(x){return fx(g,x)})},f=function(g,x){m(g)||(x&&Ok(g,x)?i(tn(g,1+t.numberOfMonths*-1)):i(g))},y={currentMonth:n,displayMonths:l,goToMonth:i,goToDate:f,previousMonth:d,nextMonth:c,isDateDisplayed:m};return e.jsx(Uk.Provider,{value:y,children:r.children})}function Ac(){var r=h.useContext(Uk);if(!r)throw new Error("useNavigation must be used within a NavigationProvider");return r}function Ib(r){var t,s=zt(),n=s.classNames,i=s.styles,l=s.components,c=Ac().goToMonth,d=function(y){c(tn(y,r.displayIndex?-r.displayIndex:0))},m=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:$k,f=e.jsx(m,{id:r.id,displayMonth:r.displayMonth});return e.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[e.jsx("div",{className:n.vhidden,children:f}),e.jsx(j$,{onChange:d,displayMonth:r.displayMonth}),e.jsx(w$,{onChange:d,displayMonth:r.displayMonth})]})}function R$(r){return e.jsx("svg",at({width:"16px",height:"16px",viewBox:"0 0 120 120"},r,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function T$(r){return e.jsx("svg",at({width:"16px",height:"16px",viewBox:"0 0 120 120"},r,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ou=h.forwardRef(function(r,t){var s=zt(),n=s.classNames,i=s.styles,l=[n.button_reset,n.button];r.className&&l.push(r.className);var c=l.join(" "),d=at(at({},i.button_reset),i.button);return r.style&&Object.assign(d,r.style),e.jsx("button",at({},r,{ref:t,type:"button",className:c,style:d}))});function D$(r){var t,s,n=zt(),i=n.dir,l=n.locale,c=n.classNames,d=n.styles,m=n.labels,f=m.labelPrevious,y=m.labelNext,g=n.components;if(!r.nextMonth&&!r.previousMonth)return e.jsx(e.Fragment,{});var x=f(r.previousMonth,{locale:l}),v=[c.nav_button,c.nav_button_previous].join(" "),b=y(r.nextMonth,{locale:l}),w=[c.nav_button,c.nav_button_next].join(" "),N=(t=g==null?void 0:g.IconRight)!==null&&t!==void 0?t:T$,C=(s=g==null?void 0:g.IconLeft)!==null&&s!==void 0?s:R$;return e.jsxs("div",{className:c.nav,style:d.nav,children:[!r.hidePrevious&&e.jsx(Ou,{name:"previous-month","aria-label":x,className:v,style:d.nav_button_previous,disabled:!r.previousMonth,onClick:r.onPreviousClick,children:i==="rtl"?e.jsx(N,{className:c.nav_icon,style:d.nav_icon}):e.jsx(C,{className:c.nav_icon,style:d.nav_icon})}),!r.hideNext&&e.jsx(Ou,{name:"next-month","aria-label":b,className:w,style:d.nav_button_next,disabled:!r.nextMonth,onClick:r.onNextClick,children:i==="rtl"?e.jsx(C,{className:c.nav_icon,style:d.nav_icon}):e.jsx(N,{className:c.nav_icon,style:d.nav_icon})})]})}function Ob(r){var t=zt().numberOfMonths,s=Ac(),n=s.previousMonth,i=s.nextMonth,l=s.goToMonth,c=s.displayMonths,d=c.findIndex(function(b){return fx(r.displayMonth,b)}),m=d===0,f=d===c.length-1,y=t>1&&(m||!f),g=t>1&&(f||!m),x=function(){n&&l(n)},v=function(){i&&l(i)};return e.jsx(D$,{displayMonth:r.displayMonth,hideNext:y,hidePrevious:g,nextMonth:i,previousMonth:n,onPreviousClick:x,onNextClick:v})}function A$(r){var t,s=zt(),n=s.classNames,i=s.disableNavigation,l=s.styles,c=s.captionLayout,d=s.components,m=(t=d==null?void 0:d.CaptionLabel)!==null&&t!==void 0?t:$k,f;return i?f=e.jsx(m,{id:r.id,displayMonth:r.displayMonth}):c==="dropdown"?f=e.jsx(Ib,{displayMonth:r.displayMonth,id:r.id}):c==="dropdown-buttons"?f=e.jsxs(e.Fragment,{children:[e.jsx(Ib,{displayMonth:r.displayMonth,displayIndex:r.displayIndex,id:r.id}),e.jsx(Ob,{displayMonth:r.displayMonth,displayIndex:r.displayIndex,id:r.id})]}):f=e.jsxs(e.Fragment,{children:[e.jsx(m,{id:r.id,displayMonth:r.displayMonth,displayIndex:r.displayIndex}),e.jsx(Ob,{displayMonth:r.displayMonth,id:r.id})]}),e.jsx("div",{className:n.caption,style:l.caption,children:f})}function M$(r){var t=zt(),s=t.footer,n=t.styles,i=t.classNames.tfoot;return s?e.jsx("tfoot",{className:i,style:n.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function I$(r,t,s){for(var n=s?Do(new Date):Nn(new Date,{locale:r,weekStartsOn:t}),i=[],l=0;l<7;l++){var c=zr(n,l);i.push(c)}return i}function O$(){var r=zt(),t=r.classNames,s=r.styles,n=r.showWeekNumber,i=r.locale,l=r.weekStartsOn,c=r.ISOWeek,d=r.formatters.formatWeekdayName,m=r.labels.labelWeekday,f=I$(i,l,c);return e.jsxs("tr",{style:s.head_row,className:t.head_row,children:[n&&e.jsx("td",{style:s.head_cell,className:t.head_cell}),f.map(function(y,g){return e.jsx("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":m(y,{locale:i}),children:d(y,{locale:i})},g)})]})}function F$(){var r,t=zt(),s=t.classNames,n=t.styles,i=t.components,l=(r=i==null?void 0:i.HeadRow)!==null&&r!==void 0?r:O$;return e.jsx("thead",{style:n.head,className:s.head,children:e.jsx(l,{})})}function L$(r){var t=zt(),s=t.locale,n=t.formatters.formatDay;return e.jsx(e.Fragment,{children:n(r.date,{locale:s})})}var px=h.createContext(void 0);function $$(r){if(!Tc(r.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return e.jsx(px.Provider,{value:t,children:r.children})}return e.jsx(V$,{initialProps:r.initialProps,children:r.children})}function V$(r){var t=r.initialProps,s=r.children,n=t.selected,i=t.min,l=t.max,c=function(f,y,g){var x,v;(x=t.onDayClick)===null||x===void 0||x.call(t,f,y,g);var b=!!(y.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var w=!!(!y.selected&&l&&(n==null?void 0:n.length)===l);if(!w){var N=n?Fk([],n):[];if(y.selected){var C=N.findIndex(function(E){return as(f,E)});N.splice(C,1)}else N.push(f);(v=t.onSelect)===null||v===void 0||v.call(t,N,f,y,g)}}},d={disabled:[]};n&&d.disabled.push(function(f){var y=l&&n.length>l-1,g=n.some(function(x){return as(x,f)});return!!(y&&!g)});var m={selected:n,onDayClick:c,modifiers:d};return e.jsx(px.Provider,{value:m,children:s})}function gx(){var r=h.useContext(px);if(!r)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return r}function U$(r,t){var s=t||{},n=s.from,i=s.to;return n&&i?as(i,r)&&as(n,r)?void 0:as(i,r)?{from:i,to:void 0}:as(n,r)?void 0:Gp(n,r)?{from:r,to:i}:{from:n,to:r}:i?Gp(r,i)?{from:i,to:r}:{from:r,to:i}:n?Ok(r,n)?{from:r,to:n}:{from:n,to:r}:{from:r,to:void 0}}var xx=h.createContext(void 0);function B$(r){if(!Dc(r.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(xx.Provider,{value:t,children:r.children})}return e.jsx(z$,{initialProps:r.initialProps,children:r.children})}function z$(r){var t=r.initialProps,s=r.children,n=t.selected,i=n||{},l=i.from,c=i.to,d=t.min,m=t.max,f=function(v,b,w){var N,C;(N=t.onDayClick)===null||N===void 0||N.call(t,v,b,w);var E=U$(v,n);(C=t.onSelect)===null||C===void 0||C.call(t,E,v,b,w)},y={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(y.range_start=[l],c?(y.range_end=[c],as(l,c)||(y.range_middle=[{after:l,before:c}])):y.range_end=[l]):c&&(y.range_start=[c],y.range_end=[c]),d&&(l&&!c&&y.disabled.push({after:Qf(l,d-1),before:zr(l,d-1)}),l&&c&&y.disabled.push({after:l,before:zr(l,d-1)}),!l&&c&&y.disabled.push({after:Qf(c,d-1),before:zr(c,d-1)})),m){if(l&&!c&&(y.disabled.push({before:zr(l,-m+1)}),y.disabled.push({after:zr(l,m-1)})),l&&c){var g=zn(c,l)+1,x=m-g;y.disabled.push({before:Qf(l,x)}),y.disabled.push({after:zr(c,x)})}!l&&c&&(y.disabled.push({before:zr(c,-m+1)}),y.disabled.push({after:zr(c,m-1)}))}return e.jsx(xx.Provider,{value:{selected:n,onDayClick:f,modifiers:y},children:s})}function vx(){var r=h.useContext(xx);if(!r)throw new Error("useSelectRange must be used within a SelectRangeProvider");return r}function pu(r){return Array.isArray(r)?Fk([],r):r!==void 0?[r]:[]}function q$(r){var t={};return Object.entries(r).forEach(function(s){var n=s[0],i=s[1];t[n]=pu(i)}),t}var rn;(function(r){r.Outside="outside",r.Disabled="disabled",r.Selected="selected",r.Hidden="hidden",r.Today="today",r.RangeStart="range_start",r.RangeEnd="range_end",r.RangeMiddle="range_middle"})(rn||(rn={}));var W$=rn.Selected,Ln=rn.Disabled,H$=rn.Hidden,Y$=rn.Today,Jf=rn.RangeEnd,Zf=rn.RangeMiddle,ep=rn.RangeStart,K$=rn.Outside;function G$(r,t,s){var n,i=(n={},n[W$]=pu(r.selected),n[Ln]=pu(r.disabled),n[H$]=pu(r.hidden),n[Y$]=[r.today],n[Jf]=[],n[Zf]=[],n[ep]=[],n[K$]=[],n);return r.fromDate&&i[Ln].push({before:r.fromDate}),r.toDate&&i[Ln].push({after:r.toDate}),Tc(r)?i[Ln]=i[Ln].concat(t.modifiers[Ln]):Dc(r)&&(i[Ln]=i[Ln].concat(s.modifiers[Ln]),i[ep]=s.modifiers[ep],i[Zf]=s.modifiers[Zf],i[Jf]=s.modifiers[Jf]),i}var Bk=h.createContext(void 0);function Q$(r){var t=zt(),s=gx(),n=vx(),i=G$(t,s,n),l=q$(t.modifiers),c=at(at({},i),l);return e.jsx(Bk.Provider,{value:c,children:r.children})}function zk(){var r=h.useContext(Bk);if(!r)throw new Error("useModifiers must be used within a ModifiersProvider");return r}function X$(r){return!!(r&&typeof r=="object"&&"before"in r&&"after"in r)}function J$(r){return!!(r&&typeof r=="object"&&"from"in r)}function Z$(r){return!!(r&&typeof r=="object"&&"after"in r)}function eV(r){return!!(r&&typeof r=="object"&&"before"in r)}function tV(r){return!!(r&&typeof r=="object"&&"dayOfWeek"in r)}function rV(r,t){var s,n=t.from,i=t.to;if(n&&i){var l=zn(i,n)<0;l&&(s=[i,n],n=s[0],i=s[1]);var c=zn(r,n)>=0&&zn(i,r)>=0;return c}return i?as(i,r):n?as(n,r):!1}function sV(r){return ux(r)}function nV(r){return Array.isArray(r)&&r.every(ux)}function aV(r,t){return t.some(function(s){if(typeof s=="boolean")return s;if(sV(s))return as(r,s);if(nV(s))return s.includes(r);if(J$(s))return rV(r,s);if(tV(s))return s.dayOfWeek.includes(r.getDay());if(X$(s)){var n=zn(s.before,r),i=zn(s.after,r),l=n>0,c=i<0,d=Gp(s.before,s.after);return d?c&&l:l||c}return Z$(s)?zn(r,s.after)>0:eV(s)?zn(s.before,r)>0:typeof s=="function"?s(r):!1})}function yx(r,t,s){var n=Object.keys(t).reduce(function(l,c){var d=t[c];return aV(r,d)&&l.push(c),l},[]),i={};return n.forEach(function(l){return i[l]=!0}),s&&!fx(r,s)&&(i.outside=!0),i}function oV(r,t){for(var s=is(r[0]),n=mx(r[r.length-1]),i,l,c=s;c<=n;){var d=yx(c,t),m=!d.disabled&&!d.hidden;if(!m){c=zr(c,1);continue}if(d.selected)return c;d.today&&!l&&(l=c),i||(i=c),c=zr(c,1)}return l||i}var iV=365;function qk(r,t){var s=t.moveBy,n=t.direction,i=t.context,l=t.modifiers,c=t.retry,d=c===void 0?{count:0,lastFocused:r}:c,m=i.weekStartsOn,f=i.fromDate,y=i.toDate,g=i.locale,x={day:zr,week:Kp,month:tn,year:IL,startOfWeek:function(N){return i.ISOWeek?Do(N):Nn(N,{locale:g,weekStartsOn:m})},endOfWeek:function(N){return i.ISOWeek?Tk(N):hx(N,{locale:g,weekStartsOn:m})}},v=x[s](r,n==="after"?1:-1);n==="before"&&f?v=OL([f,v]):n==="after"&&y&&(v=FL([y,v]));var b=!0;if(l){var w=yx(v,l);b=!w.disabled&&!w.hidden}return b?v:d.count>iV?d.lastFocused:qk(v,{moveBy:s,direction:n,context:i,modifiers:l,retry:at(at({},d),{count:d.count+1})})}var Wk=h.createContext(void 0);function lV(r){var t=Ac(),s=zk(),n=h.useState(),i=n[0],l=n[1],c=h.useState(),d=c[0],m=c[1],f=oV(t.displayMonths,s),y=i??(d&&t.isDateDisplayed(d))?d:f,g=function(){m(i),l(void 0)},x=function(N){l(N)},v=zt(),b=function(N,C){if(i){var E=qk(i,{moveBy:N,direction:C,context:v,modifiers:s});as(i,E)||(t.goToDate(E,i),x(E))}},w={focusedDay:i,focusTarget:y,blur:g,focus:x,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return e.jsx(Wk.Provider,{value:w,children:r.children})}function bx(){var r=h.useContext(Wk);if(!r)throw new Error("useFocusContext must be used within a FocusProvider");return r}function cV(r,t){var s=zk(),n=yx(r,s,t);return n}var jx=h.createContext(void 0);function dV(r){if(!Pm(r.initialProps)){var t={selected:void 0};return e.jsx(jx.Provider,{value:t,children:r.children})}return e.jsx(uV,{initialProps:r.initialProps,children:r.children})}function uV(r){var t=r.initialProps,s=r.children,n=function(l,c,d){var m,f,y;if((m=t.onDayClick)===null||m===void 0||m.call(t,l,c,d),c.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,l,c,d);return}(y=t.onSelect)===null||y===void 0||y.call(t,l,l,c,d)},i={selected:t.selected,onDayClick:n};return e.jsx(jx.Provider,{value:i,children:s})}function Hk(){var r=h.useContext(jx);if(!r)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return r}function mV(r,t){var s=zt(),n=Hk(),i=gx(),l=vx(),c=bx(),d=c.focusDayAfter,m=c.focusDayBefore,f=c.focusWeekAfter,y=c.focusWeekBefore,g=c.blur,x=c.focus,v=c.focusMonthBefore,b=c.focusMonthAfter,w=c.focusYearBefore,N=c.focusYearAfter,C=c.focusStartOfWeek,E=c.focusEndOfWeek,P=function(F){var I,D,W,U;Pm(s)?(I=n.onDayClick)===null||I===void 0||I.call(n,r,t,F):Tc(s)?(D=i.onDayClick)===null||D===void 0||D.call(i,r,t,F):Dc(s)?(W=l.onDayClick)===null||W===void 0||W.call(l,r,t,F):(U=s.onDayClick)===null||U===void 0||U.call(s,r,t,F)},O=function(F){var I;x(r),(I=s.onDayFocus)===null||I===void 0||I.call(s,r,t,F)},q=function(F){var I;g(),(I=s.onDayBlur)===null||I===void 0||I.call(s,r,t,F)},A=function(F){var I;(I=s.onDayMouseEnter)===null||I===void 0||I.call(s,r,t,F)},M=function(F){var I;(I=s.onDayMouseLeave)===null||I===void 0||I.call(s,r,t,F)},V=function(F){var I;(I=s.onDayPointerEnter)===null||I===void 0||I.call(s,r,t,F)},k=function(F){var I;(I=s.onDayPointerLeave)===null||I===void 0||I.call(s,r,t,F)},R=function(F){var I;(I=s.onDayTouchCancel)===null||I===void 0||I.call(s,r,t,F)},B=function(F){var I;(I=s.onDayTouchEnd)===null||I===void 0||I.call(s,r,t,F)},_=function(F){var I;(I=s.onDayTouchMove)===null||I===void 0||I.call(s,r,t,F)},$=function(F){var I;(I=s.onDayTouchStart)===null||I===void 0||I.call(s,r,t,F)},T=function(F){var I;(I=s.onDayKeyUp)===null||I===void 0||I.call(s,r,t,F)},Q=function(F){var I;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),s.dir==="rtl"?d():m();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),s.dir==="rtl"?m():d();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),f();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),y();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?w():v();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?N():b();break;case"Home":F.preventDefault(),F.stopPropagation(),C();break;case"End":F.preventDefault(),F.stopPropagation(),E();break}(I=s.onDayKeyDown)===null||I===void 0||I.call(s,r,t,F)},Y={onClick:P,onFocus:O,onBlur:q,onKeyDown:Q,onKeyUp:T,onMouseEnter:A,onMouseLeave:M,onPointerEnter:V,onPointerLeave:k,onTouchCancel:R,onTouchEnd:B,onTouchMove:_,onTouchStart:$};return Y}function hV(){var r=zt(),t=Hk(),s=gx(),n=vx(),i=Pm(r)?t.selected:Tc(r)?s.selected:Dc(r)?n.selected:void 0;return i}function fV(r){return Object.values(rn).includes(r)}function pV(r,t){var s=[r.classNames.day];return Object.keys(t).forEach(function(n){var i=r.modifiersClassNames[n];if(i)s.push(i);else if(fV(n)){var l=r.classNames["day_".concat(n)];l&&s.push(l)}}),s}function gV(r,t){var s=at({},r.styles.day);return Object.keys(t).forEach(function(n){var i;s=at(at({},s),(i=r.modifiersStyles)===null||i===void 0?void 0:i[n])}),s}function xV(r,t,s){var n,i,l,c=zt(),d=bx(),m=cV(r,t),f=mV(r,m),y=hV(),g=!!(c.onDayClick||c.mode!=="default");h.useEffect(function(){var A;m.outside||d.focusedDay&&g&&as(d.focusedDay,r)&&((A=s.current)===null||A===void 0||A.focus())},[d.focusedDay,r,s,g,m.outside]);var x=pV(c,m).join(" "),v=gV(c,m),b=!!(m.outside&&!c.showOutsideDays||m.hidden),w=(l=(i=c.components)===null||i===void 0?void 0:i.DayContent)!==null&&l!==void 0?l:L$,N=e.jsx(w,{date:r,displayMonth:t,activeModifiers:m}),C={style:v,className:x,children:N,role:"gridcell"},E=d.focusTarget&&as(d.focusTarget,r)&&!m.outside,P=d.focusedDay&&as(d.focusedDay,r),O=at(at(at({},C),(n={disabled:m.disabled,role:"gridcell"},n["aria-selected"]=m.selected,n.tabIndex=P||E?0:-1,n)),f),q={isButton:g,isHidden:b,activeModifiers:m,selectedDays:y,buttonProps:O,divProps:C};return q}function vV(r){var t=h.useRef(null),s=xV(r.date,r.displayMonth,t);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(Ou,at({name:"day",ref:t},s.buttonProps)):e.jsx("div",at({},s.divProps))}function yV(r){var t=r.number,s=r.dates,n=zt(),i=n.onWeekNumberClick,l=n.styles,c=n.classNames,d=n.locale,m=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,y=f(Number(t),{locale:d});if(!i)return e.jsx("span",{className:c.weeknumber,style:l.weeknumber,children:y});var g=m(Number(t),{locale:d}),x=function(v){i(t,s,v)};return e.jsx(Ou,{name:"week-number","aria-label":g,className:c.weeknumber,style:l.weeknumber,onClick:x,children:y})}function bV(r){var t,s,n=zt(),i=n.styles,l=n.classNames,c=n.showWeekNumber,d=n.components,m=(t=d==null?void 0:d.Day)!==null&&t!==void 0?t:vV,f=(s=d==null?void 0:d.WeekNumber)!==null&&s!==void 0?s:yV,y;return c&&(y=e.jsx("td",{className:l.cell,style:i.cell,children:e.jsx(f,{number:r.weekNumber,dates:r.dates})})),e.jsxs("tr",{className:l.row,style:i.row,children:[y,r.dates.map(function(g){return e.jsx("td",{className:l.cell,style:i.cell,role:"presentation",children:e.jsx(m,{displayMonth:r.displayMonth,date:g})},H8(g))})]})}function Fb(r,t,s){for(var n=s!=null&&s.ISOWeek?Tk(t):hx(t,s),i=s!=null&&s.ISOWeek?Do(r):Nn(r,s),l=zn(n,i),c=[],d=0;d<=l;d++)c.push(zr(i,d));var m=c.reduce(function(f,y){var g=s!=null&&s.ISOWeek?q8(y):Q8(y,s),x=f.find(function(v){return v.weekNumber===g});return x?(x.dates.push(y),f):(f.push({weekNumber:g,dates:[y]}),f)},[]);return m}function jV(r,t){var s=Fb(is(r),mx(r),t);if(t!=null&&t.useFixedWeeks){var n=J8(r,t);if(n<6){var i=s[s.length-1],l=i.dates[i.dates.length-1],c=Kp(l,6-n),d=Fb(Kp(l,1),c,t);s.push.apply(s,d)}}return s}function wV(r){var t,s,n,i=zt(),l=i.locale,c=i.classNames,d=i.styles,m=i.hideHead,f=i.fixedWeeks,y=i.components,g=i.weekStartsOn,x=i.firstWeekContainsDate,v=i.ISOWeek,b=jV(r.displayMonth,{useFixedWeeks:!!f,ISOWeek:v,locale:l,weekStartsOn:g,firstWeekContainsDate:x}),w=(t=y==null?void 0:y.Head)!==null&&t!==void 0?t:F$,N=(s=y==null?void 0:y.Row)!==null&&s!==void 0?s:bV,C=(n=y==null?void 0:y.Footer)!==null&&n!==void 0?n:M$;return e.jsxs("table",{id:r.id,className:c.table,style:d.table,role:"grid","aria-labelledby":r["aria-labelledby"],children:[!m&&e.jsx(w,{}),e.jsx("tbody",{className:c.tbody,style:d.tbody,children:b.map(function(E){return e.jsx(N,{displayMonth:r.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),e.jsx(C,{displayMonth:r.displayMonth})]})}function NV(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var SV=NV()?h.useLayoutEffect:h.useEffect,tp=!1,kV=0;function Lb(){return"react-day-picker-".concat(++kV)}function CV(r){var t,s=r??(tp?Lb():null),n=h.useState(s),i=n[0],l=n[1];return SV(function(){i===null&&l(Lb())},[]),h.useEffect(function(){tp===!1&&(tp=!0)},[]),(t=r??i)!==null&&t!==void 0?t:void 0}function PV(r){var t,s,n=zt(),i=n.dir,l=n.classNames,c=n.styles,d=n.components,m=Ac().displayMonths,f=CV(n.id?"".concat(n.id,"-").concat(r.displayIndex):void 0),y=n.id?"".concat(n.id,"-grid-").concat(r.displayIndex):void 0,g=[l.month],x=c.month,v=r.displayIndex===0,b=r.displayIndex===m.length-1,w=!v&&!b;i==="rtl"&&(t=[v,b],b=t[0],v=t[1]),v&&(g.push(l.caption_start),x=at(at({},x),c.caption_start)),b&&(g.push(l.caption_end),x=at(at({},x),c.caption_end)),w&&(g.push(l.caption_between),x=at(at({},x),c.caption_between));var N=(s=d==null?void 0:d.Caption)!==null&&s!==void 0?s:A$;return e.jsxs("div",{className:g.join(" "),style:x,children:[e.jsx(N,{id:f,displayMonth:r.displayMonth,displayIndex:r.displayIndex}),e.jsx(wV,{id:y,"aria-labelledby":f,displayMonth:r.displayMonth})]},r.displayIndex)}function _V(r){var t=zt(),s=t.classNames,n=t.styles;return e.jsx("div",{className:s.months,style:n.months,children:r.children})}function EV(r){var t,s,n=r.initialProps,i=zt(),l=bx(),c=Ac(),d=h.useState(!1),m=d[0],f=d[1];h.useEffect(function(){i.initialFocus&&l.focusTarget&&(m||(l.focus(l.focusTarget),f(!0)))},[i.initialFocus,m,l.focus,l.focusTarget,l]);var y=[i.classNames.root,i.className];i.numberOfMonths>1&&y.push(i.classNames.multiple_months),i.showWeekNumber&&y.push(i.classNames.with_weeknumber);var g=at(at({},i.styles.root),i.style),x=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,w){var N;return at(at({},b),(N={},N[w]=n[w],N))},{}),v=(s=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&s!==void 0?s:_V;return e.jsx("div",at({className:y.join(" "),style:g,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:e.jsx(v,{children:c.displayMonths.map(function(b,w){return e.jsx(PV,{displayIndex:w,displayMonth:b},w)})})}))}function RV(r){var t=r.children,s=e$(r,["children"]);return e.jsx(y$,{initialProps:s,children:e.jsx(E$,{children:e.jsx(dV,{initialProps:s,children:e.jsx($$,{initialProps:s,children:e.jsx(B$,{initialProps:s,children:e.jsx(Q$,{children:e.jsx(lV,{children:t})})})})})})})}function TV(r){return e.jsx(RV,at({},r,{children:e.jsx(EV,{initialProps:r})}))}function Yk({className:r,classNames:t,showOutsideDays:s=!0,...n}){return e.jsx(TV,{showOutsideDays:s,className:Re("p-3",r),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Re(ic({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Re(ic({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>e.jsx(Hj,{className:"h-4 w-4"}),IconRight:({...i})=>e.jsx(lg,{className:"h-4 w-4"})},...n})}Yk.displayName="Calendar";const DV=["Apartment","Villa","Row House","Bungalow","Duplex","Penthouse","Studio","Independent House"],AV=["Indoor Game Room","Swimming Pool","Garden Area","Gym","Playground","Parking","Security","Club House","Power Backup","Water Supply","Elevator","CCTV","Maintenance Staff","Visitor Parking","Intercom","Fire Safety"],MV=[{value:"excellent",label:"Excellent"},{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"poor",label:"Poor"},{value:"critical",label:"Critical"}],rp=({onSuccess:r,society:t,isEditing:s=!1})=>{var cr,qt,sr,ae,Le;const{user:n}=Ft(),[i,l]=h.useState((t==null?void 0:t.name)||""),[c,d]=h.useState((t==null?void 0:t.society_type)||""),[m,f]=h.useState(((cr=t==null?void 0:t.number_of_blocks)==null?void 0:cr.toString())||""),[y,g]=h.useState(((qt=t==null?void 0:t.total_area)==null?void 0:qt.toString())||""),[x,v]=h.useState(t!=null&&t.registration_date?new Date(t.registration_date):void 0),[b,w]=h.useState((t==null?void 0:t.address)||""),[N,C]=h.useState((t==null?void 0:t.city)||""),[E,P]=h.useState((t==null?void 0:t.state)||""),[O,q]=h.useState((t==null?void 0:t.pincode)||""),[A,M]=h.useState(((sr=t==null?void 0:t.total_flats)==null?void 0:sr.toString())||""),[V,k]=h.useState(((ae=t==null?void 0:t.year_built)==null?void 0:ae.toString())||""),[R,B]=h.useState(t!=null&&t.condition_status?[t.condition_status]:[]),[_,$]=h.useState((t==null?void 0:t.amenities)||[]),[T,Q]=h.useState([{id:"1",name:"",area:"",bathrooms:"",documents:[]}]),[Y,F]=h.useState(((Le=t==null?void 0:t.fsi)==null?void 0:Le.toString())||""),[I,D]=h.useState((t==null?void 0:t.road_facing)||""),[W,U]=h.useState((t==null?void 0:t.contact_person_name)||""),[z,J]=h.useState((t==null?void 0:t.contact_phone)||""),[se,ue]=h.useState((t==null?void 0:t.contact_email)||""),[xe,oe]=h.useState(!1),[de,le]=h.useState(!1),{toast:he}=it();h.useEffect(()=>{var ie,_e,Ae,Ie,Ze;s&&t&&(console.log("Loading society data for editing:",t),console.log("Society data fields:",{name:t.name,society_type:t.society_type,total_area:t.total_area,total_flats:t.total_flats,year_built:t.year_built,contact_person_name:t.contact_person_name,contact_phone:t.contact_phone,contact_email:t.contact_email,address:t.address,city:t.city,state:t.state}),l(t.name||""),d(t.society_type||""),f(((ie=t.number_of_blocks)==null?void 0:ie.toString())||""),g(((_e=t.total_area)==null?void 0:_e.toString())||""),v(t.registration_date?new Date(t.registration_date):void 0),w(t.address||""),C(t.city||""),P(t.state||""),q(t.pincode||""),M(((Ae=t.total_flats)==null?void 0:Ae.toString())||""),k(((Ie=t.year_built)==null?void 0:Ie.toString())||""),B(t.condition_status?[t.condition_status]:[]),$(t.amenities||[]),F(((Ze=t.fsi)==null?void 0:Ze.toString())||""),D(t.road_facing||""),U(t.contact_person_name||""),J(t.contact_phone||""),ue(t.contact_email||""),console.log("Form state updated with society data:",{name:t.name,society_type:t.society_type,total_area:t.total_area,contact_person_name:t.contact_person_name,contact_phone:t.contact_phone,contact_email:t.contact_email,road_facing:t.road_facing,condition_status:t.condition_status}),t.flat_variants&&Array.isArray(t.flat_variants)&&Q(t.flat_variants.map((ft,St)=>{var qe,vt;return{id:(St+1).toString(),name:ft.name||"",area:((qe=ft.area)==null?void 0:qe.toString())||"",bathrooms:((vt=ft.bathrooms)==null?void 0:vt.toString())||"",documents:[]}})))},[s,t]),h.useEffect(()=>{s&&t&&console.log("Form state values after update:",{contactPersonName:W,contactPhone:z,contactEmail:se,roadFacing:I,conditionStatus:R})},[W,z,se,I,R,s,t]),h.useEffect(()=>{s&&t&&(console.log("Society changed, resetting form with data:",t),setTimeout(()=>{var ie,_e,Ae,Ie,Ze;l(t.name||""),d(t.society_type||""),f(((ie=t.number_of_blocks)==null?void 0:ie.toString())||""),g(((_e=t.total_area)==null?void 0:_e.toString())||""),v(t.registration_date?new Date(t.registration_date):void 0),w(t.address||""),C(t.city||""),P(t.state||""),q(t.pincode||""),M(((Ae=t.total_flats)==null?void 0:Ae.toString())||""),k(((Ie=t.year_built)==null?void 0:Ie.toString())||""),B(t.condition_status?[t.condition_status]:[]),$(t.amenities||[]),F(((Ze=t.fsi)==null?void 0:Ze.toString())||""),D(t.road_facing||""),U(t.contact_person_name||""),J(t.contact_phone||""),ue(t.contact_email||"")},100))},[t==null?void 0:t._id,t==null?void 0:t.id,s]);const fe=(ie,_e)=>{setTimeout(()=>{B(_e?[ie]:[])},0)},we=(ie,_e)=>{setTimeout(()=>{$(_e?[..._,ie]:_.filter(Ae=>Ae!==ie))},0)},Oe=()=>{const ie=(T.length+1).toString();Q([...T,{id:ie,name:"",area:"",bathrooms:"",documents:[]}])},Te=ie=>{Q(T.filter(_e=>_e.id!==ie))},gt=(ie,_e,Ae)=>{Q(T.map(Ie=>Ie.id===ie?{...Ie,[_e]:Ae}:Ie))},Lt=()=>{const ie=[];if(i.trim()||ie.push("Society name is required"),c||ie.push("Society type is required"),(!A||parseInt(A)<1)&&ie.push("Total flats must be a positive number"),b.trim()||ie.push("Address is required"),N.trim()||ie.push("City is required"),E.trim()||ie.push("State is required"),m&&parseInt(m)<1&&ie.push("Number of blocks must be a positive number"),y&&parseFloat(y)<0&&ie.push("Total area must be a positive number"),V){const Ae=parseInt(V),Ie=new Date().getFullYear();(Ae<1900||Ae>Ie)&&ie.push(`Year built must be between 1900 and ${Ie}`)}Y&&parseFloat(Y)<0&&ie.push("FSI must be a positive number");const _e=T.filter(Ae=>Ae.name.trim());return _e.length>0&&_e.forEach((Ae,Ie)=>{Ae.area&&parseFloat(Ae.area)<0&&ie.push(`Flat variant ${Ie+1}: Area must be a positive number`),Ae.bathrooms&&parseInt(Ae.bathrooms)<0&&ie.push(`Flat variant ${Ie+1}: Bathrooms must be a non-negative number`)}),se&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se)&&ie.push("Please enter a valid email address"),ie},Qt=async ie=>{var Ae,Ie,Ze,ft,St,qe,vt;ie.preventDefault();const _e=Lt();if(_e.length>0){_e.forEach(We=>{he({title:"Validation Error",description:We,variant:"destructive"})});return}if(!xe){he({title:"Declaration Required",description:"Please accept the declaration to proceed",variant:"destructive"});return}le(!0);try{const We=T.map(Wt=>({name:Wt.name,area:Wt.area?parseFloat(Wt.area):null,bathrooms:Wt.bathrooms?parseInt(Wt.bathrooms):null})).filter(Wt=>Wt.name),Nt={name:i,society_type:c,number_of_blocks:m?parseInt(m):null,total_area:y?parseFloat(y):null,registration_date:x?jb(x,"yyyy-MM-dd"):null,address:b,city:N,state:E,pincode:O||null,total_flats:parseInt(A),year_built:V?parseInt(V):null,condition_status:R.length>0?R[0]:null,amenities:_.length>0?_:null,flat_variants:We.length>0?We:null,fsi:Y?parseFloat(Y):null,road_facing:I||null,contact_person_name:W||null,contact_phone:z||null,contact_email:se||null};delete Nt._id,delete Nt.id,console.log("Submitting society data:",Nt);let Mt;if(s&&t){const Wt=t.id||t._id;console.log("Updating society:",Wt),Mt=await re.updateSociety(Wt,Nt)}else console.log("Creating new society"),Mt=await re.createSociety(Nt);if(console.log("Society API response:",Mt),Mt.error){if(console.error("Society API error:",Mt.error),Mt.errors&&Array.isArray(Mt.errors)){Mt.errors.forEach(Wt=>{he({title:"Validation Error",description:`${Wt.field}: ${Wt.message}`,variant:"destructive"})});return}throw new Error(Mt.error)}he({title:s?"Society Updated":"Society Created",description:s?"Society profile has been updated successfully.":"Society profile has been created successfully."}),r==null||r()}catch(We){console.error("Error saving society:",We);let Nt="Something went wrong. Please try again.";if((Ie=(Ae=We==null?void 0:We.response)==null?void 0:Ae.data)!=null&&Ie.errors){We.response.data.errors.forEach(Mt=>{he({title:"Validation Error",description:`${Mt.field}: ${Mt.message}`,variant:"destructive"})});return}else(ft=(Ze=We==null?void 0:We.response)==null?void 0:Ze.data)!=null&&ft.message?Nt=We.response.data.message:We!=null&&We.message&&(Nt=We.message);(St=We==null?void 0:We.message)!=null&&St.includes("Failed to fetch")||(qe=We==null?void 0:We.message)!=null&&qe.includes("NetworkError")?Nt="Cannot connect to server. Please check if the backend server is running on http://localhost:5000":(vt=We==null?void 0:We.message)!=null&&vt.includes("timeout")&&(Nt="Request timed out. Please try again."),he({title:"Error",description:Nt,variant:"destructive"})}finally{le(!1)}};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(jt,{className:"h-5 w-5 text-primary"})}),s?"Edit Society Profile":"Society Registration"]}),e.jsx(Qe,{children:s?"Update your society information and documents":"Register your society to enable member management and redevelopment features"})]}),e.jsx(X,{children:e.jsxs("form",{onSubmit:Qt,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(jt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Essential details about your society"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"name",className:"text-sm font-medium",children:"Society Name *"}),e.jsx(Se,{id:"name",value:i,onChange:ie=>l(ie.target.value),placeholder:"Enter society name",className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"societyType",className:"text-sm font-medium",children:"Society Type *"}),e.jsxs(Xe,{value:c,onValueChange:d,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Select society type"})}),e.jsx(Ke,{children:DV.map(ie=>e.jsx(te,{value:ie,children:ie},ie))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"totalFlats",className:"text-sm font-medium",children:"Total Number of Flats *"}),e.jsx(Se,{id:"totalFlats",type:"number",value:A,onChange:ie=>M(ie.target.value),placeholder:"Total flats",className:"h-11",min:"1",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"numberOfBlocks",className:"text-sm font-medium",children:"Number of Blocks"}),e.jsx(Se,{id:"numberOfBlocks",type:"number",value:m,onChange:ie=>f(ie.target.value),placeholder:"Number of blocks",className:"h-11",min:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"totalArea",className:"text-sm font-medium",children:"Total Area (sq ft)"}),e.jsx(Se,{id:"totalArea",type:"number",value:y,onChange:ie=>g(ie.target.value),placeholder:"Total area in square feet",className:"h-11",step:"0.01"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Registration Date"}),e.jsxs(lS,{children:[e.jsx(cS,{asChild:!0,children:e.jsxs(H,{variant:"outline",className:Re("w-full justify-start text-left font-normal h-11",!x&&"text-muted-foreground"),children:[e.jsx(tr,{className:"mr-2 h-4 w-4"}),x?jb(x,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(Qg,{className:"w-auto p-0",children:e.jsx(Yk,{mode:"single",selected:x,onSelect:v,initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"address",className:"text-sm font-medium",children:"Complete Address *"}),e.jsx(rr,{id:"address",value:b,onChange:ie=>w(ie.target.value),placeholder:"Enter complete society address with landmark",className:"min-h-[100px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"city",className:"text-sm font-medium",children:"City *"}),e.jsx(Se,{id:"city",value:N,onChange:ie=>C(ie.target.value),placeholder:"City",className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"state",className:"text-sm font-medium",children:"State *"}),e.jsx(Se,{id:"state",value:E,onChange:ie=>P(ie.target.value),placeholder:"State",className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"pincode",className:"text-sm font-medium",children:"Pincode"}),e.jsx(Se,{id:"pincode",value:O,onChange:ie=>q(ie.target.value),placeholder:"Pincode",className:"h-11"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"yearBuilt",className:"text-sm font-medium",children:"Year Built"}),e.jsx(Se,{id:"yearBuilt",type:"number",value:V,onChange:ie=>k(ie.target.value),placeholder:"Construction year",className:"h-11"})]})]})]}),e.jsx(Gs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Di,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Property Condition"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Assess your building's current state"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Building Condition Status"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:MV.map(ie=>e.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md ${R.includes(ie.value)?"border-primary bg-primary/5 shadow-sm":"border-border bg-background hover:border-primary/30"}`,children:[e.jsx($a,{id:`condition-${ie.value}`,checked:R.includes(ie.value),onCheckedChange:_e=>fe(ie.value,_e),className:"absolute top-3 right-3"}),e.jsxs("div",{className:"pr-8",children:[e.jsx(ne,{htmlFor:`condition-${ie.value}`,className:"text-sm font-medium cursor-pointer block",children:ie.label}),R.includes(ie.value)&&e.jsx(Ks,{className:"h-4 w-4 text-primary mt-1"})]})]},ie.value))})]})]}),e.jsx(Gs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Un,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Amenities & Facilities"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select available amenities in your society"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Available Amenities"}),e.jsxs(ge,{variant:"secondary",className:"text-xs",children:[_.length," selected"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-64 overflow-y-auto p-1",children:AV.map(ie=>e.jsxs("div",{className:`relative p-3 rounded-lg border-2 transition-all cursor-pointer hover:shadow-sm ${_.includes(ie)?"border-primary bg-primary/5 shadow-sm":"border-border bg-background hover:border-primary/30"}`,children:[e.jsx($a,{id:`amenity-${ie}`,checked:_.includes(ie),onCheckedChange:_e=>we(ie,_e),className:"absolute top-2 right-2"}),e.jsx("div",{className:"pr-6",children:e.jsx(ne,{htmlFor:`amenity-${ie}`,className:"text-sm font-medium cursor-pointer block leading-tight",children:ie})})]},ie))})]})]}),e.jsx(Gs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Pt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Flat Details"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define different types of flats in your society"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Flat Variants"}),e.jsxs(H,{type:"button",onClick:Oe,size:"sm",className:"h-8",children:[e.jsx(fs,{className:"h-4 w-4 mr-1"}),"Add Variant"]})]}),e.jsx("div",{className:"space-y-4",children:T.map(ie=>e.jsxs(G,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Flat Variant ",ie.id]}),T.length>1&&e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>Te(ie.id),children:e.jsx(vR,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-xs font-medium",children:"Flat Type Name"}),e.jsx(Se,{value:ie.name,onChange:_e=>gt(ie.id,"name",_e.target.value),placeholder:"e.g., 2BHK, 3BHK",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-xs font-medium",children:"Area (sq ft)"}),e.jsx(Se,{type:"number",value:ie.area,onChange:_e=>gt(ie.id,"area",_e.target.value),placeholder:"Area",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-xs font-medium",children:"Bathrooms"}),e.jsx(Se,{type:"number",value:ie.bathrooms,onChange:_e=>gt(ie.id,"bathrooms",_e.target.value),placeholder:"Count",className:"h-9",min:"1"})]})]})]},ie.id))})]})]}),e.jsx(Gs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Di,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Redevelopment Parameters"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Additional technical details for redevelopment"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fsi",className:"text-sm font-medium",children:"FSI (Floor Space Index)"}),e.jsx(Se,{id:"fsi",type:"number",step:"0.01",value:Y,onChange:ie=>F(ie.target.value),placeholder:"e.g., 1.33",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"roadFacing",className:"text-sm font-medium",children:"Road Facing"}),e.jsxs(Xe,{value:I,onValueChange:D,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Select road facing"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"main",children:"Main Road"}),e.jsx(te,{value:"arterial",children:"Arterial Road"}),e.jsx(te,{value:"collector",children:"Collector Road"}),e.jsx(te,{value:"local",children:"Local Road"}),e.jsx(te,{value:"corner",children:"Corner Plot"})]})]})]})]})]}),e.jsx(Gs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ot,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Primary contact details for the society"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactPersonName",className:"text-sm font-medium",children:"Contact Person Name"}),e.jsx(Se,{id:"contactPersonName",value:W,onChange:ie=>U(ie.target.value),placeholder:"Full name",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactEmail",className:"text-sm font-medium",children:"Contact Email"}),e.jsx(Se,{id:"contactEmail",type:"email",value:se,onChange:ie=>ue(ie.target.value),placeholder:"email@example.com",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactPhone",className:"text-sm font-medium",children:"Contact Phone"}),e.jsx(Se,{id:"contactPhone",type:"tel",value:z,onChange:ie=>J(ie.target.value),placeholder:"+91 98765 43210",className:"h-11"})]})]})]}),e.jsx(Gs,{className:"my-8"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-muted/50 rounded-lg",children:[e.jsx($a,{id:"declaration",checked:xe,onCheckedChange:ie=>oe(ie)}),e.jsx(ne,{htmlFor:"declaration",className:"text-sm leading-relaxed cursor-pointer",children:"I hereby declare that all the information provided above is true and accurate to the best of my knowledge. I understand that any false information may lead to rejection of this application."})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{type:"submit",size:"lg",className:"min-w-32",disabled:de||!xe,children:de?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),s?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"h-4 w-4 mr-2"}),s?"Update Society":"Create Society"]})})})]},(t==null?void 0:t._id)||(t==null?void 0:t.id)||"new")})]})})},IV=({societyId:r})=>{const[t,s]=h.useState([]),[n,i]=h.useState([]),[l,c]=h.useState(""),[d,m]=h.useState(""),[f,y]=h.useState(""),[g,x]=h.useState(""),[v,b]=h.useState(!1),[w,N]=h.useState(!1),{toast:C}=it();h.useEffect(()=>{r&&(E(),P())},[r]),h.useEffect(()=>{if(r){const M=setInterval(()=>{E(),P()},3e4);return()=>clearInterval(M)}},[r]);const E=async()=>{if(!r){console.log("No societyId provided, skipping members fetch");return}try{console.log("Fetching members for societyId:",r);const{data:M,error:V}=await re.getSocietyMembers(r);if(V)throw V;M&&M.members?s(M.members):s([])}catch(M){C({title:"Error fetching members",description:M.message,variant:"destructive"})}},P=async()=>{if(!r){console.log("No societyId provided, skipping invitations fetch");return}try{console.log("Fetching invitations for societyId:",r);const{data:M,error:V}=await re.getSentInvitations(`?society_id=${r}`);if(V)throw V;M&&M.invitations?i(M.invitations):i([])}catch(M){C({title:"Error fetching invitations",description:M.message,variant:"destructive"})}},O=async()=>{if(!l||!f||!d){C({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}b(!0);try{const M={society_id:r,invitedPhone:f,invitedName:l,invitedEmail:d,invitationType:"society_member",message:"Welcome to our society! We're excited to have you join our community."},{data:V,error:k}=await re.sendInvitation(M);if(k){if(k.includes("already been invited")||k.includes("ALREADY_INVITED"))C({title:"Already Invited",description:"This user has already been invited to the society",variant:"destructive"});else if(k.includes("already a member")||k.includes("ALREADY_MEMBER"))C({title:"Already a Member",description:"This user is already a member of the society",variant:"destructive"});else if(k.includes("previously invited")||k.includes("PREVIOUSLY_INVITED"))C({title:"Previously Invited",description:"This user has already been invited to this society before",variant:"destructive"});else if(k.includes("society owner")||k.includes("IS_OWNER"))C({title:"Cannot Invite Owner",description:"Cannot invite the society owner",variant:"destructive"});else throw k;return}C({title:"Success",description:"Invitation sent successfully"}),c(""),m(""),y(""),x(""),N(!1),P()}catch(M){C({title:"Error",description:M.message,variant:"destructive"})}finally{b(!1)}},q=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Member Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage society members and send invitations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",onClick:()=>{E(),P()},className:"flex items-center gap-2",children:[e.jsx(Ba,{className:"h-4 w-4"}),"Refresh"]}),e.jsxs(Va,{open:w,onOpenChange:N,children:[e.jsx(Ql,{asChild:!0,children:e.jsxs(H,{className:"gap-2",children:[e.jsx(Gl,{className:"h-4 w-4"}),"Invite Member"]})}),e.jsxs(Hn,{children:[e.jsxs(Yn,{children:[e.jsx(Kn,{children:"Invite New Member"}),e.jsx(Xl,{children:"Send an invitation to join your society"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"name",children:"Full Name"}),e.jsx(Se,{id:"name",value:l,onChange:M=>c(M.target.value),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),e.jsx(Se,{id:"phone",value:f,onChange:M=>y(M.target.value),placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"email",children:"Email Address"}),e.jsx(Se,{id:"email",type:"email",value:d,onChange:M=>m(M.target.value),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"flatNumber",children:"Flat Number (Optional)"}),e.jsx(Se,{id:"flatNumber",value:g,onChange:M=>x(M.target.value),placeholder:"Enter flat number"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(H,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(H,{onClick:O,disabled:v,children:v?"Sending...":"Send Invitation"})]})]})]})]})]})]}),e.jsxs(gs,{defaultValue:"members",className:"space-y-4",children:[e.jsxs(os,{children:[e.jsxs(Ge,{value:"members",children:["Members (",t.length,")"]}),e.jsxs(Ge,{value:"invitations",children:["Invitations (",n.length,")"]})]}),e.jsx(nt,{value:"members",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Society Members"}),e.jsx(Qe,{children:"Current members of your society"})]}),e.jsx(X,{children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg",children:[e.jsx(Gl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Members Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by inviting members to your society"}),e.jsxs(H,{onClick:()=>N(!0),className:"gap-2",children:[e.jsx(Gl,{className:"h-4 w-4"}),"Invite First Member"]})]}):e.jsx("div",{className:"space-y-3",children:t.map(M=>{var V;return e.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-all duration-200 hover:border-primary/50",children:e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg ${M.isOwner?"bg-gradient-to-br from-yellow-400 to-orange-500":"bg-gradient-to-br from-blue-400 to-blue-600"}`,children:((V=M.phone)==null?void 0:V.charAt(0))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("p",{className:"font-semibold text-base truncate",children:M.fullName||M.phone}),M.isOwner&&e.jsxs(ge,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 gap-1",children:[e.jsx(vp,{className:"h-3 w-3"}),"Owner"]}),e.jsx(ge,{variant:"outline",className:"text-xs",children:M.role.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Dr,{className:"h-3 w-3"}),e.jsx("span",{children:M.phone})]}),M.email&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[200px]",children:M.email})]})]})]}),e.jsxs("div",{className:"hidden md:flex flex-col items-end gap-2",children:[e.jsx(ge,{className:`${q(M.status)}`,children:M.status.toUpperCase()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",A(M.joinedAt)]})]})]})},M.id)})})})]})}),e.jsx(nt,{value:"invitations",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Sent Invitations"}),e.jsx(Qe,{children:"Track the status of your invitations (showing pending invitations only)"})]}),e.jsx(X,{children:n.filter(M=>M.status==="pending"||M.status==="sent").length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Invitations"}),e.jsx("p",{className:"text-muted-foreground",children:"All invitations have been responded to or send new invitations to grow your society"})]}):e.jsx("div",{className:"space-y-4",children:n.filter(M=>M.status==="pending"||M.status==="sent").map(M=>e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:M.invitedName||M.invitedPhone}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[M.invitedEmail&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-3 w-3"}),M.invitedEmail]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Dr,{className:"h-3 w-3"}),M.invitedPhone]})]}),M.message&&e.jsxs("div",{className:"text-sm italic text-muted-foreground",children:['"',M.message,'"']})]}),e.jsxs("div",{className:"text-right space-y-2",children:[e.jsx(ge,{variant:"outline",children:M.invitationType.replace("_"," ").toUpperCase()}),e.jsxs("div",{className:"flex items-center gap-1",children:[M.status==="accepted"&&e.jsx(wt,{className:"h-4 w-4 text-green-600"}),M.status==="declined"&&e.jsx(Xs,{className:"h-4 w-4 text-red-600"}),M.status==="pending"&&e.jsx(Gt,{className:"h-4 w-4 text-yellow-600"}),M.status==="sent"&&e.jsx(Gt,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:M.status.toUpperCase()})]})]})]})},M._id))})})]})})]})]})},OV=({societyId:r,onClose:t,onSuccess:s,editingProject:n})=>{const{user:i}=Ft(),[l,c]=h.useState(!1),[d,m]=h.useState([]),[f,y]=h.useState({title:"",description:"",society_id:r||"",expectedAmenities:[],estimatedBudget:"",minimumApprovalPercentage:"75",timeline:{startDate:"",expectedCompletionDate:""}}),[g,x]=h.useState(""),[v,b]=h.useState([]),[w,N]=h.useState(!1);h.useEffect(()=>{var R,B,_,$,T;r||C(),n&&y({title:n.title||"",description:n.description||"",society_id:((R=n.society)==null?void 0:R._id)||"",expectedAmenities:n.expectedAmenities||[],estimatedBudget:((B=n.estimatedBudget)==null?void 0:B.toString())||"",minimumApprovalPercentage:((_=n.minimumApprovalPercentage)==null?void 0:_.toString())||"75",timeline:{startDate:(($=n.timeline)==null?void 0:$.startDate)||"",expectedCompletionDate:((T=n.timeline)==null?void 0:T.expectedCompletionDate)||""}})},[r,n]);const C=async()=>{try{const R=await re.getMySocieties();if(R.error){Ue({title:"Error",description:"Failed to fetch societies",variant:"destructive"});return}m(R.data.societies||[])}catch(R){console.error("Error fetching societies:",R)}},E=(R,B)=>{y(_=>({..._,[R]:B}))},P=(R,B)=>{y(_=>({..._,timeline:{..._.timeline,[R]:B}}))},O=()=>{g.trim()&&!f.expectedAmenities.includes(g.trim())&&(y(R=>({...R,expectedAmenities:[...R.expectedAmenities,g.trim()]})),x(""))},q=R=>{y(B=>({...B,expectedAmenities:B.expectedAmenities.filter((_,$)=>$!==R)}))},A=async R=>{const B=R.target.files;if(!(!B||!i)){N(!0);try{const _=[];for(const $ of Array.from(B)){if($.type!=="application/pdf"){Ue({title:"Invalid File Type",description:`${$.name} is not a PDF file. Please upload only PDF files.`,variant:"destructive"});continue}if($.size>10*1024*1024){Ue({title:"File Too Large",description:`${$.name} is larger than 10MB. Please choose a smaller file.`,variant:"destructive"});continue}try{const T=await re.uploadSingleFile($,"redevelopment_document");if(T.error){console.error(`Error uploading ${$.name}:`,T.error),Ue({title:"Upload Warning",description:`Failed to upload ${$.name}. Please try again.`,variant:"destructive"});continue}const Q={name:$.name,type:"other",url:T.data.media.url,uploadedBy:i.id,uploadedAt:new Date,isPublic:!1};_.push(Q)}catch(T){console.error(`Error uploading ${$.name}:`,T),Ue({title:"Upload Warning",description:`Failed to upload ${$.name}. Please try again.`,variant:"destructive"})}}_.length>0&&(b($=>[...$,..._]),Ue({title:"Success!",description:`${_.length} document(s) uploaded successfully.`}))}catch(_){console.error("Error uploading documents:",_),Ue({title:"Error",description:"Failed to upload documents. Please try again.",variant:"destructive"})}finally{N(!1)}}},M=R=>{b(B=>B.filter((_,$)=>$!==R))},V=()=>{const R=[];return f.title.trim()||R.push("Project title is required"),f.title.trim().length<5&&R.push("Project title must be at least 5 characters"),f.description.trim()||R.push("Project description is required"),f.description.trim().length<10&&R.push("Project description must be at least 10 characters"),f.society_id||R.push("Please select a society"),f.estimatedBudget&&parseFloat(f.estimatedBudget)<0&&R.push("Estimated budget must be a positive number"),f.minimumApprovalPercentage&&(parseInt(f.minimumApprovalPercentage)<50||parseInt(f.minimumApprovalPercentage)>100)&&R.push("Minimum approval percentage must be between 50 and 100"),R},k=async R=>{R.preventDefault();const B=V();if(B.length>0){B.forEach(_=>{Ue({title:"Validation Error",description:_,variant:"destructive"})});return}if(!r||r.trim()===""){Ue({title:"Error",description:"Society ID is required to create a redevelopment project.",variant:"destructive"});return}c(!0);try{const _={...f,society:r,estimatedBudget:f.estimatedBudget?parseFloat(f.estimatedBudget):void 0,minimumApprovalPercentage:parseInt(f.minimumApprovalPercentage),timeline:{startDate:f.timeline.startDate?new Date(f.timeline.startDate).toISOString():void 0,expectedCompletionDate:f.timeline.expectedCompletionDate?new Date(f.timeline.expectedCompletionDate).toISOString():void 0},documents:v};console.log("Submitting redevelopment project data:",_);let $;if(n?$=await re.updateRedevelopmentProject(n._id,_):$=await re.createRedevelopmentProject(_),console.log("API response:",$),$.error){Ue({title:"Error",description:$.error,variant:"destructive"});return}s($.data.project)}catch(_){console.error("Error saving project:",_),Ue({title:"Error",description:_.message||"Failed to save project",variant:"destructive"})}finally{c(!1)}};return e.jsx(Va,{open:!0,onOpenChange:t,children:e.jsxs(Hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Yn,{children:e.jsxs(Kn,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),n?"Edit Redevelopment Project":"Create New Redevelopment Project"]})}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{className:"text-lg",children:"Basic Information"})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"title",children:"Project Title *"}),e.jsx(Se,{id:"title",value:f.title,onChange:R=>E("title",R.target.value),placeholder:"Enter project title",required:!0})]}),!r&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"society",children:"Society *"}),e.jsxs(Xe,{value:f.society_id,onValueChange:R=>E("society_id",R),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select society"})}),e.jsx(Ke,{children:d.map(R=>e.jsx(te,{value:R._id,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:R.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.city,", ",R.state]})]})},R._id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"description",children:"Project Description *"}),e.jsx(rr,{id:"description",value:f.description,onChange:R=>E("description",R.target.value),placeholder:"Describe the redevelopment project, objectives, and expected outcomes",rows:4,required:!0})]})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"text-lg flex items-center gap-2",children:[e.jsx(Hl,{className:"h-4 w-4"}),"Financial Information"]})}),e.jsx(X,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"estimatedBudget",children:"Estimated Budget ( Cr)"}),e.jsx(Se,{id:"estimatedBudget",type:"number",step:"0.1",min:"0",value:f.estimatedBudget,onChange:R=>E("estimatedBudget",R.target.value),placeholder:"Enter estimated budget"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"minimumApprovalPercentage",children:"Minimum Approval %"}),e.jsx(Se,{id:"minimumApprovalPercentage",type:"number",min:"50",max:"100",value:f.minimumApprovalPercentage,onChange:R=>E("minimumApprovalPercentage",R.target.value),placeholder:"75"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum percentage of votes required for approval"})]})]})})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"text-lg flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4"}),"Project Timeline"]})}),e.jsx(X,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"startDate",children:"Expected Start Date"}),e.jsx(Se,{id:"startDate",type:"date",value:f.timeline.startDate,onChange:R=>P("startDate",R.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"completionDate",children:"Expected Completion Date"}),e.jsx(Se,{id:"completionDate",type:"date",value:f.timeline.expectedCompletionDate,onChange:R=>P("expectedCompletionDate",R.target.value)})]})]})})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"text-lg flex items-center gap-2",children:[e.jsx(Zj,{className:"h-4 w-4"}),"Expected Amenities"]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{value:g,onChange:R=>x(R.target.value),placeholder:"Add expected amenity",onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),O())}),e.jsx(H,{type:"button",onClick:O,variant:"outline",size:"icon",children:e.jsx(fs,{className:"h-4 w-4"})})]}),f.expectedAmenities.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:f.expectedAmenities.map((R,B)=>e.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1",children:[R,e.jsx("button",{type:"button",onClick:()=>q(B),className:"ml-1 hover:text-destructive",children:e.jsx(Rt,{className:"h-3 w-3"})})]},B))})]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"text-lg flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Project Documents"]})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Ai,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload PDF documents (max 10MB each)"}),e.jsx("input",{type:"file",accept:".pdf",multiple:!0,onChange:A,disabled:w,className:"hidden",id:"document-upload"}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>{var R;return(R=document.getElementById("document-upload"))==null?void 0:R.click()},disabled:w,className:"gap-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ai,{className:"h-4 w-4"}),"Choose PDF Files"]})})]}),v.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Uploaded Documents:"}),v.map((R,B)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium",children:R.name}),e.jsx(ge,{variant:"secondary",className:"text-xs",children:R.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>window.open(R.url,"_blank"),children:"View"}),e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(B),className:"text-red-500 hover:text-red-700",children:e.jsx(Js,{className:"h-4 w-4"})})]})]},B))]})]})]}),e.jsx(Gs,{}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(H,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),e.jsx(H,{type:"submit",disabled:l,className:"gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"h-4 w-4"}),n?"Update Project":"Create Project"]})})]})]})]})})},sp=({project:r,onQueryResponse:t,onQuerySubmit:s,canRespond:n=!1,canSubmit:i=!0})=>{const[l,c]=h.useState(!1),[d,m]=h.useState(null),[f,y]=h.useState(""),[g,x]=h.useState("all"),[v,b]=h.useState({title:"",description:""}),[w,N]=h.useState(""),[C,E]=h.useState(!1),P=B=>({open:"bg-red-100 text-red-800",in_review:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"})[B]||"bg-gray-100 text-gray-800",O=B=>({open:e.jsx(Jt,{className:"h-4 w-4"}),in_review:e.jsx(Gt,{className:"h-4 w-4"}),resolved:e.jsx(wt,{className:"h-4 w-4"}),closed:e.jsx(wt,{className:"h-4 w-4"})})[B]||e.jsx(Gt,{className:"h-4 w-4"}),q=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=r.queries.filter(B=>{const _=B.title.toLowerCase().includes(f.toLowerCase())||B.description.toLowerCase().includes(f.toLowerCase()),$=g==="all"||B.status===g;return _&&$}),M=async B=>{if(B.preventDefault(),!v.title.trim()||!v.description.trim()){Ue({title:"Validation Error",description:"Please fill in all fields",variant:"destructive"});return}E(!0);try{s==null||s(v),Ue({title:"Success",description:"Query submitted successfully"}),b({title:"",description:""}),c(!1)}catch{Ue({title:"Error",description:"Failed to submit query",variant:"destructive"})}finally{E(!1)}},V=async B=>{if(!w.trim()){Ue({title:"Validation Error",description:"Please enter a response",variant:"destructive"});return}E(!0);try{t==null||t(B,w),Ue({title:"Success",description:"Response submitted successfully"}),N(""),m(null)}catch{Ue({title:"Error",description:"Failed to submit response",variant:"destructive"})}finally{E(!1)}},R={all:r.queries.length,open:r.queries.filter(_=>_.status==="open").length,in_review:r.queries.filter(_=>_.status==="in_review").length,resolved:r.queries.filter(_=>_.status==="resolved").length,closed:r.queries.filter(_=>_.status==="closed").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Member Queries & Complaints"}),e.jsx("p",{className:"text-muted-foreground",children:"Address member concerns and questions about the project"})]}),i&&e.jsxs(H,{onClick:()=>c(!0),className:"gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Raise Query"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(G,{children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:R.all}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:R.open}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:R.in_review}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"In Review"})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:R.resolved}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})}),e.jsx(G,{children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:R.closed}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Closed"})]})})]}),e.jsx(G,{children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search queries...",value:f,onChange:B=>y(B.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex gap-2",children:Object.entries({all:"All",open:"Open",in_review:"In Review",resolved:"Resolved",closed:"Closed"}).map(([B,_])=>e.jsx(H,{variant:g===B?"default":"outline",size:"sm",onClick:()=>x(B),children:_},B))})]})})}),A.length===0?e.jsx(G,{children:e.jsxs(X,{className:"text-center py-12",children:[e.jsx(Bt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Queries Found"}),e.jsx("p",{className:"text-muted-foreground",children:r.queries.length===0?"No queries or complaints have been raised yet.":"No queries match your search criteria."}),i&&r.queries.length===0&&e.jsxs(H,{onClick:()=>c(!0),className:"mt-4 gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Raise First Query"]})]})}):e.jsx("div",{className:"space-y-4",children:A.map(B=>e.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-lg font-semibold",children:B.title}),e.jsx(ge,{className:P(B.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[O(B.status),B.status.replace("_"," ").toUpperCase()]})})]}),e.jsx("p",{className:"text-muted-foreground",children:B.description})]}),n&&B.status!=="closed"&&e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>m(B._id),className:"gap-2",children:[e.jsx(Kl,{className:"h-4 w-4"}),"Respond"]})]})}),e.jsx(X,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsxs("span",{children:["Raised by ",B.raisedBy]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4"}),e.jsx("span",{children:q(B.raisedAt)})]})]}),B.response&&e.jsxs("div",{className:"border-l-4 border-primary pl-4 bg-muted/50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Kl,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:"Official Response"})]}),e.jsx("p",{className:"text-muted-foreground",children:B.response}),B.respondedBy&&B.respondedAt&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ir,{className:"h-4 w-4"}),e.jsxs("span",{children:["By ",B.respondedBy]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4"}),e.jsx("span",{children:q(B.respondedAt)})]})]})]})]})})]},B._id))}),l&&e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Raise New Query"})}),e.jsx(X,{children:e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"queryTitle",children:"Query Title"}),e.jsx(Se,{id:"queryTitle",value:v.title,onChange:B=>b(_=>({..._,title:B.target.value})),placeholder:"Enter a brief title for your query",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"queryDescription",children:"Description"}),e.jsx(rr,{id:"queryDescription",value:v.description,onChange:B=>b(_=>({..._,description:B.target.value})),placeholder:"Describe your query or concern in detail",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{type:"submit",disabled:C,className:"gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"h-4 w-4"}),"Submit Query"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})})]}),d&&e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Respond to Query"})}),e.jsx(X,{children:e.jsxs("form",{onSubmit:B=>{B.preventDefault(),V(d)},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"responseText",children:"Response"}),e.jsx(rr,{id:"responseText",value:w,onChange:B=>N(B.target.value),placeholder:"Enter your response to the query",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{type:"submit",disabled:C,className:"gap-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Responding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Kl,{className:"h-4 w-4"}),"Submit Response"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>{m(null),N("")},children:"Cancel"})]})]})})]})]})};var wx="Progress",Nx=100,[FV]=jr(wx),[LV,$V]=FV(wx),Kk=h.forwardRef((r,t)=>{const{__scopeProgress:s,value:n=null,max:i,getValueLabel:l=VV,...c}=r;(i||i===0)&&!$b(i)&&console.error(UV(`${i}`,"Progress"));const d=$b(i)?i:Nx;n!==null&&!Vb(n,d)&&console.error(BV(`${n}`,"Progress"));const m=Vb(n,d)?n:null,f=Fu(m)?l(m,d):void 0;return e.jsx(LV,{scope:s,value:m,max:d,children:e.jsx(Me.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Fu(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":Xk(m,d),"data-value":m??void 0,"data-max":d,...c,ref:t})})});Kk.displayName=wx;var Gk="ProgressIndicator",Qk=h.forwardRef((r,t)=>{const{__scopeProgress:s,...n}=r,i=$V(Gk,s);return e.jsx(Me.div,{"data-state":Xk(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});Qk.displayName=Gk;function VV(r,t){return`${Math.round(r/t*100)}%`}function Xk(r,t){return r==null?"indeterminate":r===t?"complete":"loading"}function Fu(r){return typeof r=="number"}function $b(r){return Fu(r)&&!isNaN(r)&&r>0}function Vb(r,t){return Fu(r)&&!isNaN(r)&&r<=t&&r>=0}function UV(r,t){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nx}\`.`}function BV(r,t){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Jk=Kk,zV=Qk;const Lu=h.forwardRef(({className:r,value:t,...s},n)=>e.jsx(Jk,{ref:n,className:Re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...s,children:e.jsx(zV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Lu.displayName=Jk.displayName;const qV=vc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ss=h.forwardRef(({className:r,variant:t,...s},n)=>e.jsx("div",{ref:n,role:"alert",className:Re(qV({variant:t}),r),...s}));ss.displayName="Alert";const WV=h.forwardRef(({className:r,...t},s)=>e.jsx("h5",{ref:s,className:Re("mb-1 font-medium leading-none tracking-tight",r),...t}));WV.displayName="AlertTitle";const ns=h.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:Re("text-sm [&_p]:leading-relaxed",r),...t}));ns.displayName="AlertDescription";function np({projectId:r,userRole:t,onCloseVoting:s,showCloseButton:n=!1,onDeveloperSelected:i}){var M,V;const[l,c]=h.useState(null),[d,m]=h.useState(!0),[f,y]=h.useState(!1),[g,x]=h.useState(!1),[v,b]=h.useState(""),{toast:w}=it();h.useEffect(()=>{N()},[r]);const N=async()=>{try{m(!0);const k=await re.getFinalVotingResults(r);if(k.error)throw new Error(k.error);c(k.data)}catch(k){console.error("Error fetching voting results:",k),w({title:"Error",description:k.message||"Failed to fetch voting results",variant:"destructive"})}finally{m(!1)}},C=async()=>{if(l)try{y(!0);const k=await re.closeVoting(r);if(k.error)throw new Error(k.error);w({title:"Success",description:"Voting has been closed. Please select a developer manually."}),await N(),s==null||s()}catch(k){console.error("Error closing voting:",k),w({title:"Error",description:k.message||"Failed to close voting",variant:"destructive"})}finally{y(!1)}},E=async()=>{if(!v||!l)return;const k=l.proposalResults.find(R=>R.proposal._id===v);if(k)try{x(!0);const R=await re.selectDeveloper(r,k.proposal.developer._id,v);if(R.error)throw new Error(R.error);w({title:"Success",description:"Developer selected successfully"}),await N(),i==null||i()}catch(R){console.error("Error selecting developer:",R),w({title:"Error",description:R.message||"Failed to select developer",variant:"destructive"})}finally{x(!1)}};if(d)return e.jsx(G,{children:e.jsx(X,{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading voting results..."})]})})});if(!l)return e.jsx(G,{children:e.jsx(X,{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No voting results available"})]})})});const{project:P,finalResults:O,proposalResults:q,winningProposal:A}=l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(jR,{className:"h-5 w-5 text-yellow-500"}),"Voting Results - ",P.title]}),e.jsx(Qe,{children:"Final results after voting closure"})]}),n&&t==="society_owner"&&P.votingStatus==="open"&&e.jsx(H,{onClick:C,disabled:f,className:"bg-red-600 hover:bg-red-700",children:f?"Closing...":"Close Voting"})]})}),e.jsxs(X,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:O.totalVotes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Votes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.yesVotes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:O.noVotes}),e.jsx("div",{className:"text-sm text-gray-600",children:"No Votes"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall Approval Rate"}),e.jsxs("span",{className:"text-sm font-bold",children:[O.approvalPercentage,"%"]})]}),e.jsx(Lu,{value:O.approvalPercentage,className:"h-2"})]}),P.votingClosedAt&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Gt,{className:"h-4 w-4"}),"Voting closed on ",new Date(P.votingClosedAt).toLocaleDateString()]})]})]}),A&&e.jsxs(G,{className:"border-green-200 bg-green-50",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(vp,{className:"h-5 w-5"}),"Winner Selected!"]}),e.jsx(Qe,{className:"text-green-700",children:"The society has selected a developer for this project"})]}),e.jsx(X,{children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:A.proposal.title}),e.jsxs(ge,{variant:"secondary",className:"bg-green-100 text-green-800",children:[A.approvalPercentage,"% Approval"]})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:A.proposal.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Corpus Amount"}),e.jsxs("div",{className:"font-semibold",children:["",(M=A.proposal.corpusAmount)==null?void 0:M.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Rent Amount"}),e.jsxs("div",{className:"font-semibold",children:["",(V=A.proposal.rentAmount)==null?void 0:V.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"FSI"}),e.jsx("div",{className:"font-semibold",children:A.proposal.fsi})]})]}),A.proposal.developerInfo&&e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Developer Information"}),e.jsx("div",{className:"font-semibold",children:A.proposal.developerInfo.companyName}),e.jsxs("div",{className:"text-sm text-gray-600",children:[A.proposal.developerInfo.experience," years experience  ",A.proposal.developerInfo.completedProjects," projects completed"]})]})]})})]}),P.status==="voting_closed"&&t==="society_owner"&&!A&&e.jsxs(G,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Pt,{className:"h-5 w-5"}),"Manual Developer Selection Required"]}),e.jsx(Qe,{className:"text-blue-700",children:"Voting has been closed. Please select a developer to assign this project."})]}),e.jsx(X,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Select Developer:"}),e.jsx("div",{className:"space-y-3",children:q.map(k=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${v===k.proposal._id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>b(k.proposal._id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:k.proposal.title}),k.proposal.developerInfo&&e.jsx("p",{className:"text-sm text-gray-600",children:k.proposal.developerInfo.companyName})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[k.approvalPercentage,"% Approval"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[k.votes.yesVotes," yes, ",k.votes.noVotes," no"]})]})]})},k.proposal._id))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{onClick:E,disabled:!v||g,className:"bg-blue-600 hover:bg-blue-700",children:g?"Selecting...":"Select Developer"}),e.jsx(H,{variant:"outline",onClick:()=>b(""),disabled:g,children:"Clear Selection"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-5 w-5"}),"All Proposals Results"]}),e.jsx(Qe,{children:"Detailed voting results for each developer proposal"})]}),e.jsx(X,{children:e.jsx("div",{className:"space-y-4",children:q.map((k,R)=>{var B,_;return e.jsxs("div",{className:`p-4 rounded-lg border ${k.isWinner?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${k.isWinner?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:R+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:k.proposal.title}),k.proposal.developerInfo&&e.jsx("p",{className:"text-sm text-gray-600",children:k.proposal.developerInfo.companyName})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[k.isWinner&&e.jsxs(ge,{className:"bg-green-100 text-green-800",children:[e.jsx(vp,{className:"h-3 w-3 mr-1"}),"Winner"]}),e.jsxs(ge,{variant:"secondary",children:[k.approvalPercentage,"% Approval"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:k.votes.yesVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:k.votes.noVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"No Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-600",children:k.votes.abstainVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"Abstain"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:k.totalVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Approval Rate"}),e.jsxs("span",{className:"text-sm font-semibold",children:[k.approvalPercentage,"%"]})]}),e.jsx(Lu,{value:k.approvalPercentage,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Corpus:"}),e.jsxs("span",{className:"ml-1 font-medium",children:["",(B=k.proposal.corpusAmount)==null?void 0:B.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Rent:"}),e.jsxs("span",{className:"ml-1 font-medium",children:["",(_=k.proposal.rentAmount)==null?void 0:_.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"FSI:"}),e.jsx("span",{className:"ml-1 font-medium",children:k.proposal.fsi})]})]})]},k.proposal._id)})})})]}),!A&&P.votingStatus==="closed"&&P.status!=="voting_closed"&&e.jsxs(ss,{children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsxs(ns,{children:["No developer received the minimum required approval percentage (",O.approvalPercentage,"% achieved, minimum required not met). The society may need to restart the voting process or adjust the requirements."]})]}),P.status==="voting_closed"&&t==="society_member"&&e.jsxs(ss,{children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx(ns,{children:"Voting has been closed. The society secretary will manually select a developer based on the voting results. Please wait for the final decision."})]})]})}function HV({project:r,onVotingUpdate:t,userRole:s}){const[n,i]=h.useState(!1),[l,c]=h.useState(""),[d,m]=h.useState(null),{toast:f}=it();h.useEffect(()=>{r.status==="voting"&&y()},[r._id,r.status]);const y=async()=>{var E;try{console.log(" Fetching voting stats for project:",r._id,"session: proposal_selection");const P=await re.getVotingStatistics(r._id,"proposal_selection");console.log(" Voting stats response:",P),(E=P.data)!=null&&E.statistics?(console.log(" Setting voting stats:",P.data.statistics),m(P.data.statistics)):console.log(" No statistics found in response")}catch(P){console.error("Error fetching voting stats:",P)}},g=async()=>{if(!l){f({title:"Validation Error",description:"Please set a voting deadline",variant:"destructive"});return}i(!0);try{const E=await re.startVoting(r._id,l);if(E.error)throw new Error(E.error);f({title:"Success",description:"Voting has been started successfully"}),t()}catch(E){console.error("Error starting voting:",E),f({title:"Error",description:E.message||"Failed to start voting",variant:"destructive"})}finally{i(!1)}},x=async()=>{i(!0);try{const E=await re.closeVoting(r._id);if(E.error)throw new Error(E.error);f({title:"Success",description:"Voting has been closed and results finalized"}),t()}catch(E){console.error("Error closing voting:",E),f({title:"Error",description:E.message||"Failed to close voting",variant:"destructive"})}finally{i(!1)}},v=()=>r.status==="voting"&&r.votingStatus!=="closed",b=()=>r.status==="proposals_received"&&s==="society_owner",w=()=>v()&&s==="society_owner",N=E=>new Date(E).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=E=>{const P=new Date(E),O=new Date,q=P.getTime()-O.getTime();return Math.ceil(q/(1e3*60*60*24))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Current Voting Status"]}),e.jsx(Qe,{children:"Manage voting process for this redevelopment project"})]}),e.jsxs(X,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ge,{variant:v()?"default":r.status==="proposals_received"?"secondary":"outline",children:v()?"Voting Open":r.status==="proposals_received"?"Ready for Voting":r.status}),r.minimumApprovalPercentage&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Min. ",r.minimumApprovalPercentage,"% approval required"]})]})]})}),r.votingDeadline&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{children:v()?`Voting closes in ${C(r.votingDeadline)} days (${N(r.votingDeadline)})`:`Voting deadline: ${N(r.votingDeadline)}`})]}),d?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Voting Statistics"}),e.jsx(H,{variant:"outline",size:"sm",onClick:y,disabled:n,children:n?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):"Refresh"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[d.approvalPercentage||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Approval"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:d.totalVotes||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Votes Cast"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.yesVotes||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.noVotes||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"No Votes"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:d.totalMembers||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-purple-600",children:[d.participationRate||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Participation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-orange-600",children:[d.minimumApprovalRequired||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Required"})]})]}),d.totalVotes===0&&e.jsxs(ss,{children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx(ns,{children:"No votes have been cast yet. Members can vote once the voting period begins."})]})]}):e.jsxs(ss,{children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx(ns,{children:"Voting statistics are not available. Make sure voting has been started and members are eligible to vote."})]})]})]}),s==="society_owner"&&e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-5 w-5"}),"Voting Controls"]}),e.jsx(Qe,{children:"Start or close voting for this project"})]}),e.jsxs(X,{className:"space-y-4",children:[b()&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ss,{children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx(ns,{children:"Proposals have been received. You can now start the voting process for society members."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"votingDeadline",children:"Voting Deadline"}),e.jsx(Se,{id:"votingDeadline",type:"datetime-local",value:l,onChange:E=>c(E.target.value),min:new Date().toISOString().slice(0,16)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set when voting should close for this project"})]}),e.jsxs(H,{onClick:g,disabled:n,className:"w-full",children:[e.jsx(Qj,{className:"h-4 w-4 mr-2"}),n?"Starting Voting...":"Start Voting"]})]}),w()&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ss,{children:[e.jsx(wt,{className:"h-4 w-4"}),e.jsx(ns,{children:"Voting is currently open. You can close it to finalize results and select the winning proposal."})]}),e.jsxs(H,{onClick:x,disabled:n,variant:"destructive",className:"w-full",children:[e.jsx(xR,{className:"h-4 w-4 mr-2"}),n?"Closing Voting...":"Close Voting"]})]}),!b()&&!w()&&e.jsxs(ss,{children:[e.jsx(Xs,{className:"h-4 w-4"}),e.jsx(ns,{children:r.status==="planning"||r.status==="tender_open"?"Waiting for proposals to be submitted before voting can begin.":r.status==="developer_selected"||r.status==="construction"?"Voting has been completed and a developer has been selected.":"No voting actions available at this time."})]})]})]}),s==="society_member"&&e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-5 w-5"}),"Voting Information"]})}),e.jsx(X,{children:v()?e.jsxs(ss,{children:[e.jsx(Qs,{className:"h-4 w-4"}),e.jsxs(ns,{children:["Voting is currently open! You can cast your vote in the Overview tab. Make sure to vote before the deadline: ",r.votingDeadline?N(r.votingDeadline):"TBD"]})]}):e.jsxs(ss,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(ns,{children:r.status==="proposals_received"?"Proposals have been received. Waiting for voting to begin.":r.status==="developer_selected"?"Voting has been completed and a developer has been selected.":"Voting is not currently open."})]})})]})]})}function YV({projectId:r,proposals:t,userRole:s,votingDeadline:n,isVotingOpen:i=!0}){const[l,c]=h.useState({}),[d,m]=h.useState({}),[f,y]=h.useState(!0),{toast:g}=it();h.useEffect(()=>{x()},[r]);const x=async()=>{try{y(!0);const P=await re.getMyVotingHistory(r);if(console.log(" Fetching user votes response:",P),P.data&&P.data.votes){const O={};console.log(" Raw votes data:",P.data.votes),P.data.votes.forEach(q=>{if(console.log(" Processing vote:",q),q.votingSession==="proposal_selection"&&q.proposalId){const A=q.proposalId.toString(),M=q.vote===!0?"yes":q.vote===!1?"no":"abstain";console.log(" Vote details:",{proposalId:A,vote:q.vote,voteString:M}),M!=="abstain"&&(O[A]=M)}}),console.log(" Final parsed user votes:",O),c(O)}}catch(P){console.error("Error fetching user votes:",P)}finally{y(!1)}},v=async(P,O)=>{if(!i){g({title:"Voting Closed",description:"Voting is not currently open.",variant:"destructive"});return}const q=b();if(q!=null&&q.expired){g({title:"Voting Closed",description:"Voting deadline has passed.",variant:"destructive"});return}console.log(" Submitting vote:",{proposalId:P,vote:O,projectId:r}),m(A=>({...A,[P]:!0}));try{const A={redevelopmentProject:r,proposal:P,vote:O,votingSession:"proposal_selection"};console.log(" Vote data being sent:",A);const M=await re.submitMemberVote(A);if(console.log(" Vote submission response:",M),M.error)throw new Error(M.error);c(V=>({...V,[P]:O})),await x(),g({title:"Vote Recorded",description:`Your ${O==="yes"?"Yes":"No"} vote has been recorded for this proposal.`})}catch(A){console.error("Error submitting vote:",A),g({title:"Error",description:A.message||"Failed to submit vote. Please try again.",variant:"destructive"})}finally{m(A=>({...A,[P]:!1}))}},b=()=>{if(!n)return null;const P=new Date,q=new Date(n).getTime()-P.getTime();if(q<=0)return{expired:!0,text:"Voting Closed",variant:"destructive"};const A=Math.floor(q/(1e3*60*60)),M=Math.floor(A/24);return M>0?{expired:!1,text:`${M} days left`,variant:"default"}:A>0?{expired:!1,text:`${A} hours left`,variant:"secondary"}:{expired:!1,text:`${Math.floor(q/6e4)} minutes left`,variant:"destructive"}},w=b(),N=t.length,C=Object.keys(l).length,E=C===N&&N>0;return f?e.jsx(G,{children:e.jsx(X,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):i?E?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ss,{className:"border-green-200 bg-green-50",children:[e.jsx(Ks,{className:"h-4 w-4 text-green-600"}),e.jsxs(ns,{className:"text-green-800",children:[e.jsx("strong",{children:"Voting Complete!"})," You have successfully voted on all ",N," proposals. Thank you for participating in the voting process."]})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"h-5 w-5 text-green-600"}),"Your Voting Summary"]})}),e.jsx(X,{children:e.jsx("div",{className:"space-y-3",children:t.map(P=>{var A,M,V;const O=l[P._id],q=((A=P.developerInfo)==null?void 0:A.companyName)||((M=P.developer)==null?void 0:M.companyName)||((V=P.developerProfile)==null?void 0:V.company_name)||"Developer";return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:P.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",q]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ge,{variant:O==="yes"?"default":"secondary",className:"flex items-center gap-1",children:[O==="yes"?e.jsx(Ks,{className:"h-3 w-3"}):e.jsx(Xs,{className:"h-3 w-3"}),O==="yes"?"Yes":"No"]})})]},P._id)})})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Vote on Proposals"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vote Yes or No for each proposal (",C,"/",N," completed)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:x,disabled:f,className:"text-xs",children:f?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):"Refresh"}),w&&e.jsxs(ge,{variant:w.variant,className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"h-3 w-3"}),w.text]})]})]}),N>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[C,"/",N," proposals voted"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${C/N*100}%`}})})]}),e.jsx("div",{className:"space-y-4",children:t.map(P=>{var M,V,k;const O=l[P._id],q=d[P._id],A=((M=P.developerInfo)==null?void 0:M.companyName)||((V=P.developer)==null?void 0:V.companyName)||((k=P.developerProfile)==null?void 0:k.company_name)||"Developer";return e.jsxs(G,{className:`${O?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50"}`,children:[e.jsx(ye,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(be,{className:"text-base",children:P.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",A]})]}),O?e.jsxs(ge,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(Ks,{className:"h-3 w-3 mr-1"}),"Voted"]}):e.jsxs(ge,{variant:"outline",className:"border-blue-300 text-blue-700",children:[e.jsx(Qs,{className:"h-3 w-3 mr-1"}),"Pending"]})]})}),e.jsx(X,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[P.corpusAmount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Corpus:"}),e.jsxs("div",{className:"font-medium",children:["",P.corpusAmount.toLocaleString()]})]}),P.rentAmount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Rent:"}),e.jsxs("div",{className:"font-medium",children:["",P.rentAmount.toLocaleString()]})]}),P.fsi&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"FSI:"}),e.jsx("div",{className:"font-medium",children:P.fsi})]}),P.timeline&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:P.timeline})]})]}),O?e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Your Submitted Vote:"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l[P._id]==="yes"?e.jsx(Ks,{className:"h-5 w-5 text-green-600"}):e.jsx(Xs,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-green-800",children:["You voted: ",e.jsx("strong",{children:l[P._id]==="yes"?"Yes":"No"})]}),e.jsx("div",{className:"text-xs text-green-600",children:l[P._id]==="yes"?"You approved this proposal":"You rejected this proposal"})]}),e.jsx(ge,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200",children:"Voted"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Your Vote:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(P._id,"yes"),disabled:q||(w==null?void 0:w.expired),className:"flex items-center gap-2 hover:bg-green-50 hover:border-green-300",children:[q&&l[P._id]==="yes"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):e.jsx(Ks,{className:"h-4 w-4"}),"Yes"]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(P._id,"no"),disabled:q||(w==null?void 0:w.expired),className:"flex items-center gap-2 hover:bg-red-50 hover:border-red-300",children:[q&&l[P._id]==="no"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(Xs,{className:"h-4 w-4"}),"No"]})]})]})]})})]},P._id)})}),t.length===0&&e.jsxs(ss,{children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx(ns,{children:"No proposals available for voting."})]})]}):e.jsxs(ss,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(ns,{children:"Voting is not currently open for this project."})]})}const Zk=({societyId:r,isOwner:t=!1})=>{var cr,qt,sr;const{user:s}=Ft(),{joinProject:n,leaveProject:i,connected:l}=_1(),[c,d]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState(!0),[x,v]=h.useState(!1),[b,w]=h.useState(null),[N,C]=h.useState("overview"),[E,P]=h.useState(null),[O,q]=h.useState(null),[A,M]=h.useState(!1),[V,k]=h.useState({}),[R,B]=h.useState(!1),[_,$]=h.useState(null),[T,Q]=h.useState([]),[Y,F]=h.useState([]),[I,D]=h.useState(!1),[W,U]=h.useState({}),[z,J]=h.useState(!1);h.useEffect(()=>{w(null),f([]),F([]),B(!1),k({}),C("overview"),se()},[r]),h.useEffect(()=>{if(b&&l)return n(b._id),console.log(` Joined project room: ${b._id}`),()=>{i(b._id),console.log(` Left project room: ${b._id}`)}},[b,l,n,i]),h.useEffect(()=>{(async()=>{if(b&&m.length>0&&s){console.log(" Checking existing votes for project:",b._id,"user:",s.id);try{const Le=await re.getMyVotingHistory(b._id);if(console.log(" Vote check response:",Le),Le.data&&Le.data.length>0){console.log(" My vote documents:",Le.data);const ie=Le.data.find(_e=>_e.redevelopmentProject._id===b._id);if(ie&&ie.votes.length>0){console.log(" User votes found for project:",ie.votes);const _e={},Ae=[];ie.votes.forEach(Ie=>{if(Ie.proposalId){const Ze=m.find(ft=>ft._id===Ie.proposalId._id);Ze&&(_e[Ie.proposalId._id]={vote:Ie.vote},Ae.push({proposal:Ze,vote:Ie.vote,votedAt:Ie.votedAt}))}}),k(_e),B(!0),Q(Ae),console.log("Loaded existing votes:",_e),console.log("User submitted votes:",Ae)}}}catch(Le){console.error("Error checking existing votes:",Le)}}})()},[b,m,s]),h.useEffect(()=>{b&&(s==null?void 0:s.currentRole)==="society_member"&&he(b._id)},[b,s==null?void 0:s.currentRole]),h.useEffect(()=>{N==="voting"&&b&&xe(b._id)},[N,b]),h.useEffect(()=>{console.log(" Voting results state changed:",{votingResults:_,votingResultsData:Y,selectedProject:b==null?void 0:b._id})},[_,Y,b]);const se=async()=>{try{g(!0);const ae=r?`?society_id=${r}`:"",Le=await re.getRedevelopmentProjects(ae);if(Le.error){Ue({title:"Error",description:"Failed to fetch redevelopment projects",variant:"destructive"});return}d(Le.data.projects||[])}catch(ae){console.error("Error fetching projects:",ae),Ue({title:"Error",description:"Failed to fetch redevelopment projects",variant:"destructive"})}finally{g(!1)}},ue=async ae=>{var Le;try{console.log(" Fetching proposals for project:",ae);const ie=await re.getDeveloperProposals(`?project_id=${ae}`);if(console.log(" API Response:",ie),ie.error){console.error(" API Error:",ie.error),Ue({title:"Error",description:"Failed to fetch developer proposals",variant:"destructive"});return}const _e=((Le=ie.data)==null?void 0:Le.proposals)||[];console.log(" Proposals data for project",ae,":",_e),console.log(" Number of proposals found:",_e.length),f(_e)}catch(ie){console.error(" Error fetching proposals:",ie),Ue({title:"Error",description:"Failed to fetch developer proposals",variant:"destructive"})}},xe=async ae=>{var Le,ie;try{console.log(" Fetching voting results for project:",ae);let _e,Ae="proposal_selection";try{_e=await re.getVotingStatistics(ae,"proposal_selection"),console.log(" Voting statistics response for proposal_selection:",_e)}catch(qe){console.log(" Failed to get stats for proposal_selection, trying without session:",qe);try{_e=await re.getVotingStatistics(ae),Ae="no_session",console.log(" Voting statistics response without session:",_e)}catch(vt){throw console.log(" Failed to get stats without session:",vt),vt}}const Ie=(Le=_e.data)==null?void 0:Le.statistics;if(!Ie){console.log(" No voting statistics found"),F([]);return}console.log(" Voting stats:",{totalVotes:Ie.totalVotes,yesVotes:Ie.yesVotes,noVotes:Ie.noVotes,approvalPercentage:Ie.approvalPercentage});let Ze=[];try{const qe=await re.getProjectVotes(ae,Ae==="proposal_selection"?"proposal_selection":void 0,!0);console.log(" Detailed votes response for session:",Ae,qe),(ie=qe.data)!=null&&ie.votes&&Array.isArray(qe.data.votes)&&(Ze=qe.data.votes)}catch(qe){console.log(" Could not fetch detailed votes (might not be owner):",qe)}const ft={};Ze.length>0?Ze.forEach(qe=>{var We,Nt,Mt,Wt,Ar,Ts;const vt=((We=qe.proposalId)==null?void 0:We._id)||qe.proposalId;vt&&(ft[vt]||(ft[vt]={proposalId:vt,proposalTitle:((Nt=qe.proposalId)==null?void 0:Nt.title)||"Unknown Proposal",developerName:((Wt=(Mt=qe.proposalId)==null?void 0:Mt.developerInfo)==null?void 0:Wt.companyName)||((Ts=(Ar=qe.proposalId)==null?void 0:Ar.developer)==null?void 0:Ts.name)||"Developer",yesVotes:[],noVotes:[],totalVotes:0}),qe.vote===!0||qe.vote==="yes"?ft[vt].yesVotes.push({votedAt:qe.votedAt||new Date().toISOString()}):(qe.vote===!1||qe.vote==="no")&&ft[vt].noVotes.push({votedAt:qe.votedAt||new Date().toISOString()}),ft[vt].totalVotes++)}):m.forEach(qe=>{var vt,We,Nt;ft[qe._id]={proposalId:qe._id,proposalTitle:qe.title,developerName:((vt=qe.developerInfo)==null?void 0:vt.companyName)||((We=qe.developer)==null?void 0:We.companyName)||((Nt=qe.developerProfile)==null?void 0:Nt.company_name)||"Developer",yesVotes:[],noVotes:[],totalVotes:0}});const St=Object.values(ft).map(qe=>({...qe,yesCount:qe.yesVotes.length,noCount:qe.noVotes.length,approvalRate:qe.totalVotes>0?Math.round(qe.yesVotes.length/qe.totalVotes*100):0}));console.log(" Processed voting results:",St),console.log(" Setting voting results data:",{votingResultsData:St,overallStats:Ie}),F(St),$({totalVotes:Ie.totalVotes,results:St}),console.log(" Final voting results state set:",{totalVotes:Ie.totalVotes,resultsCount:St.length})}catch(_e){console.error("Error fetching voting results:",_e),Ue({title:"Error",description:"Failed to fetch voting results from database",variant:"destructive"})}},oe=ae=>{console.log("View proposal clicked:",ae),q(ae),M(!0)},de=async ae=>{var ie,_e;if(confirm(`Are you sure you want to select "${((ie=ae.developerInfo)==null?void 0:ie.companyName)||"Developer"}" for this project? This action cannot be undone and will notify the developer.`))try{const Ae=await re.selectProposal(ae._id);if(Ae.error){Ue({title:"Error",description:Ae.error,variant:"destructive"});return}Ue({title:"Developer Selected!",description:`${((_e=ae.developerInfo)==null?void 0:_e.companyName)||"Developer"} has been selected for the project. All developers have been notified via email.`}),b&&(ue(b._id),se())}catch(Ae){console.error("Error selecting developer:",Ae),Ue({title:"Error",description:Ae.message||"Failed to select developer",variant:"destructive"})}},le=async()=>{if(!t){Ue({title:"Unauthorized",description:"Only society owners can start voting.",variant:"destructive"});return}if(!b){Ue({title:"Error",description:"No project selected.",variant:"destructive"});return}try{const ae=await re.put(`/redevelopment-projects/${b._id}`,{status:"voting"});if(ae.error){Ue({title:"Error",description:ae.error||"Failed to start voting",variant:"destructive"});return}Ue({title:"Voting Started",description:"Voting is now open for members to vote on proposals."}),await se()}catch(ae){console.error("Error starting voting:",ae),Ue({title:"Error",description:ae.message||"Failed to start voting. Please try again.",variant:"destructive"})}},he=async ae=>{var Le;if(!(!(s!=null&&s.id)||s.currentRole!=="society_member"))try{const ie=await re.get(`/member-votes/my-votes?project=${ae}`);if((Le=ie.data)!=null&&Le.votes&&ie.data.votes.length>0){const _e={};ie.data.votes.forEach(Ae=>{if(Ae.proposal||Ae.proposalId){const Ie=Ae.proposal||Ae.proposalId;_e[Ie]={vote:Ae.vote===!0||Ae.vote==="yes"?"yes":"no"}}}),U(_e),J(!0)}}catch(ie){console.log("No existing votes found or error checking votes:",ie)}},fe=async(ae,Le)=>{if(!(!b||!(s!=null&&s.id)))try{if(W[ae]){Ue({title:"Already Voted",description:"You have already voted on this proposal.",variant:"destructive"});return}const ie=await re.post("/member-votes",{redevelopmentProject:b._id,proposal:ae,vote:Le,votingSession:"proposal_selection"});if(ie.error)throw new Error(ie.error);U(Ae=>({...Ae,[ae]:{vote:Le}})),Ue({title:"Vote Recorded",description:`Your ${Le} vote has been recorded successfully.`}),m.every(Ae=>W[Ae._id]||Ae._id===ae)&&(J(!0),Ue({title:"All Votes Submitted",description:"You have voted on all proposals. Thank you for participating!"}))}catch(ie){console.error("Error submitting vote:",ie),Ue({title:"Error",description:ie.message||"Failed to submit vote. Please try again.",variant:"destructive"})}},we=async()=>{var ae,Le;if(!t){Ue({title:"Unauthorized",description:"Only society owners can close voting.",variant:"destructive"});return}try{const ie=await re.getVotingStatistics(b==null?void 0:b._id,"proposal_selection");if(ie.error)throw new Error(ie.message||"Failed to get voting results");const _e=await Promise.all(m.map(async Ze=>{var ft,St,qe,vt,We;try{const Nt=await re.getProjectVotes(b==null?void 0:b._id,"proposal_selection");if(Nt.error)return{proposalId:Ze._id,proposalTitle:Ze.title,developerName:((ft=Ze.developerInfo)==null?void 0:ft.companyName)||"Developer",yesVotes:0,noVotes:0,approvalRate:0};const Mt=((qe=(St=Nt.data)==null?void 0:St.votes)==null?void 0:qe.filter(vs=>{var Pn;return((Pn=vs.proposal)==null?void 0:Pn._id)===Ze._id}))||[],Wt=Mt.filter(vs=>vs.vote==="yes").length,Ar=Mt.filter(vs=>vs.vote==="no").length,Ts=Wt+Ar,to=Ts>0?Math.round(Wt/Ts*100):0;return{proposalId:Ze._id,proposalTitle:Ze.title,developerName:((vt=Ze.developerInfo)==null?void 0:vt.companyName)||"Developer",yesVotes:Wt,noVotes:Ar,approvalRate:to}}catch(Nt){return console.error(`Error getting votes for proposal ${Ze._id}:`,Nt),{proposalId:Ze._id,proposalTitle:Ze.title,developerName:((We=Ze.developerInfo)==null?void 0:We.companyName)||"Developer",yesVotes:0,noVotes:0,approvalRate:0}}})),Ae={totalVotes:((Le=(ae=ie.data)==null?void 0:ae.statistics)==null?void 0:Le.totalVotes)||0,results:_e};if($(Ae),(await re.updateRedevelopmentProjectStatus(b==null?void 0:b._id,"developer_selected")).error)throw new Error("Failed to update project status");w(Ze=>Ze?{...Ze,status:"developer_selected"}:null),Ue({title:"Voting Closed",description:"Voting has been closed and results are now available."}),await xe(b._id)}catch(ie){console.error("Error closing voting:",ie),Ue({title:"Error",description:"Failed to close voting. Please try again.",variant:"destructive"})}},Oe=async ae=>{w(ae),C("overview"),D(!0),f([]),F([]),B(!1),k({}),await ue(ae._id),(ae.status==="proposals_received"||ae.status==="voting"||ae.status==="developer_selected")&&await xe(ae._id),D(!1)},Te=async(ae,Le)=>{Le.stopPropagation();const ie=E!==ae;if(P(ie?ae:null),ie){D(!0),f([]),F([]);const _e=c.find(Ae=>Ae._id===ae);_e&&(await ue(ae),(_e.status==="proposals_received"||_e.status==="voting"||_e.status==="developer_selected")&&await xe(ae)),D(!1)}},gt=async ae=>{if(confirm("Are you sure you want to delete this redevelopment project? This action cannot be undone and will permanently remove all project data, proposals, and voting records."))try{const ie=await re.deleteRedevelopmentProject(ae);if(ie.error){Ue({title:"Error",description:ie.error,variant:"destructive"});return}d(_e=>_e.filter(Ae=>Ae._id!==ae)),(b==null?void 0:b._id)===ae&&(w(null),C("overview")),Ue({title:"Project Deleted",description:"The redevelopment project has been successfully deleted."})}catch(ie){console.error("Error deleting project:",ie),Ue({title:"Error",description:"Failed to delete project. Please try again.",variant:"destructive"})}},Lt=ae=>({planning:"bg-blue-100 text-blue-800",tender_open:"bg-yellow-100 text-yellow-800",proposals_received:"bg-purple-100 text-purple-800",voting:"bg-orange-100 text-orange-800",developer_selected:"bg-green-100 text-green-800",construction:"bg-indigo-100 text-indigo-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"})[ae]||"bg-gray-100 text-gray-800",Qt=ae=>({planning:e.jsx(Zj,{className:"h-4 w-4"}),tender_open:e.jsx(tr,{className:"h-4 w-4"}),proposals_received:e.jsx(xt,{className:"h-4 w-4"}),voting:e.jsx(Qs,{className:"h-4 w-4"}),developer_selected:e.jsx(wt,{className:"h-4 w-4"}),construction:e.jsx(jt,{className:"h-4 w-4"}),completed:e.jsx(Co,{className:"h-4 w-4"}),cancelled:e.jsx(Jt,{className:"h-4 w-4"})})[ae]||e.jsx(Gt,{className:"h-4 w-4"});return y?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-3xl font-bold",children:"Redevelopment Projects"})}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(ae=>e.jsxs(G,{className:"animate-pulse",children:[e.jsxs(ye,{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsxs(X,{children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},ae))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Redevelopment Projects"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your society's redevelopment initiatives"})]}),t&&e.jsxs(H,{onClick:()=>v(!0),className:"gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Create Project"]})]}),c.length===0?e.jsx(G,{children:e.jsxs(X,{className:"text-center py-12",children:[e.jsx(jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t?"Start by creating your first redevelopment project.":"No redevelopment projects available at the moment."}),t&&e.jsxs(H,{onClick:()=>v(!0),className:"gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Create Project"]})]})}):e.jsx("div",{className:"grid gap-6",children:c.map(ae=>{var Le,ie;return e.jsxs("div",{children:[e.jsxs(G,{className:`cursor-pointer transition-all hover:shadow-lg ${(b==null?void 0:b._id)===ae._id?"ring-2 ring-primary":""}`,onClick:()=>Oe(ae),children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(be,{className:"text-xl",children:ae.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"h-4 w-4"}),ae.society.name,", ",ae.society.city]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:Lt(ae.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[Qt(ae.status),ae.status.replace("_"," ").toUpperCase()]})}),t&&e.jsx(H,{variant:"ghost",size:"sm",onClick:_e=>{_e.stopPropagation(),gt(ae._id)},className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(Js,{className:"h-4 w-4"})})]})]})}),e.jsx(X,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:ae.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ge,{variant:"outline",className:"text-xs",children:ae.status})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timeline"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tr,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:(Le=ae.timeline)!=null&&Le.expectedCompletionDate?new Date(ae.timeline.expectedCompletionDate).toLocaleDateString("en-IN"):"TBD"})]}),((ie=ae.timeline)==null?void 0:ie.startDate)&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(ae.timeline.startDate).toLocaleDateString("en-IN")]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Updates"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:ae.updates.length})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Queries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:ae.queries.length})]})]}),ae.documents&&ae.documents.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Documents"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:ae.documents.length})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(H,{variant:"outline",size:"sm",onClick:_e=>Te(ae._id,_e),className:"flex items-center gap-2",children:E===ae._id?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-4 w-4"}),"View Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(Wr,{className:"h-4 w-4"}),"View More"]})})})]})})]}),E===ae._id&&e.jsxs(G,{className:"mt-4 border-l-4 border-l-primary",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),"Project Details"]})}),e.jsx(X,{children:t?e.jsxs(gs,{value:N,onValueChange:C,className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full grid-cols-4",children:[e.jsx(Ge,{value:"overview",children:"Overview"}),e.jsx(Ge,{value:"voting",children:"Voting Management"}),e.jsx(Ge,{value:"results",children:"Voting Results"}),e.jsx(Ge,{value:"queries",children:"Queries"})]}),e.jsx(nt,{value:"overview",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading project data..."})]})}):e.jsx(ap,{project:ae,proposals:m,onViewProposal:oe,userRole:s==null?void 0:s.currentRole,votingResultsData:Y,onVote:fe,myVotes:W,hasVoted:z,votingOpen:(ae==null?void 0:ae.status)==="voting",onRefreshProposals:()=>ue(ae._id)})}),e.jsx(nt,{value:"voting",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting data..."})]})}):e.jsx(HV,{project:{_id:ae._id,title:ae.title,status:ae.status,votingDeadline:ae.votingDeadline,votingStatus:ae.votingStatus,minimumApprovalPercentage:ae.minimumApprovalPercentage||75},onVotingUpdate:async()=>{await xe(ae._id),se()},userRole:"society_owner"})}),e.jsx(nt,{value:"results",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting results..."})]})}):e.jsx(np,{projectId:ae._id,userRole:"society_owner",showCloseButton:!0,onCloseVoting:()=>{se()}})}),e.jsx(nt,{value:"queries",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading queries data..."})]})}):e.jsx(sp,{project:{_id:ae._id,title:ae.title,queries:ae.queries.map(_e=>({..._e,status:_e.status}))}})})]}):e.jsxs(gs,{value:N,onValueChange:C,className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full grid-cols-3",children:[e.jsx(Ge,{value:"overview",children:"Overview"}),e.jsx(Ge,{value:"results",children:"Voting Results"}),e.jsx(Ge,{value:"queries",children:"Queries"})]}),e.jsx(nt,{value:"overview",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading project data..."})]})}):e.jsx(ap,{project:ae,proposals:m,onViewProposal:oe,userRole:s==null?void 0:s.currentRole,votingResultsData:Y,onVote:fe,myVotes:W,hasVoted:z,votingOpen:(ae==null?void 0:ae.status)==="voting",onRefreshProposals:()=>ue(ae._id)})}),e.jsx(nt,{value:"results",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting results..."})]})}):e.jsx(np,{projectId:ae._id,userRole:"society_member",showCloseButton:!1,onCloseVoting:()=>{se()}})}),e.jsx(nt,{value:"queries",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading queries data..."})]})}):e.jsx(sp,{project:{_id:ae._id,title:ae.title,queries:ae.queries.map(_e=>({..._e,status:_e.status}))}})})]})})]})]},ae._id)})}),b&&t&&e.jsx("div",{className:"mt-8",children:e.jsxs(gs,{value:N,onValueChange:C,className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full grid-cols-4",children:[e.jsx(Ge,{value:"overview",children:"Overview"}),e.jsx(Ge,{value:"voting",children:"Voting Management"}),e.jsx(Ge,{value:"results",children:"Voting Results"}),e.jsx(Ge,{value:"queries",children:"Queries"})]}),e.jsx(nt,{value:"overview",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading project data..."})]})}):e.jsx(ap,{project:b,proposals:m,onViewProposal:oe,userRole:s==null?void 0:s.currentRole,votingResultsData:Y,onVote:fe,myVotes:W,hasVoted:z,votingOpen:(b==null?void 0:b.status)==="voting",onRefreshProposals:()=>ue(b._id)})}),t&&e.jsx(nt,{value:"voting",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting data..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Voting Management"]}),e.jsx(Qe,{children:"Manage voting sessions and view voting results for this project."})]}),e.jsxs(X,{children:[b.status==="voting"?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Voting is Currently Open"}),e.jsx("p",{className:"text-blue-600 text-sm mb-4",children:"Members can now vote on the submitted proposals. You can stop voting and select a developer when ready."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:we,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"Stop Voting"]}),e.jsxs(H,{onClick:()=>{Ue({title:"Select Developer",description:"Developer selection functionality will be implemented soon."})},className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(ir,{className:"h-4 w-4 mr-2"}),"Select Developer"]})]})]})}):b.status==="developer_selected"?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Voting Completed"}),e.jsx("p",{className:"text-green-600 text-sm",children:"Voting has been completed and a developer has been selected for this project."})]}):b.status==="proposals_received"?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Proposals Received - Ready to Start Voting"}),e.jsx("p",{className:"text-yellow-600 text-sm mb-4",children:"Proposals have been received and are ready for member voting. You can start the voting process now."}),e.jsxs(H,{onClick:le,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Start Voting"]})]})}):e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Voting Not Available"}),e.jsx("p",{className:"text-gray-600 text-sm",children:b.status==="planning"?"Voting will be available once the project moves to the proposal phase.":b.status==="tender_open"?"Voting will be available once proposals are received.":"Voting is not available for this project status."})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Anonymous Voting Results"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Voting results organized by developer proposals. Member identities are kept anonymous."}),Y.length>0?e.jsx("div",{className:"space-y-6",children:Y.map((ae,Le)=>e.jsxs(G,{className:"border-l-4 border-l-blue-500",children:[e.jsxs(ye,{children:[e.jsx(be,{className:"text-lg",children:ae.developerName}),e.jsx(Qe,{children:ae.proposalTitle})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-3 flex items-center gap-2",children:[e.jsx(wt,{className:"h-4 w-4"}),"Yes Votes (",ae.yesCount,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ae.yesVotes.length>0?ae.yesVotes.map((ie,_e)=>e.jsxs("div",{className:"bg-green-50 p-3 rounded border-l-2 border-green-200",children:[e.jsxs("p",{className:"text-sm text-green-800",children:["Vote #",_e+1]}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Vote #",_e+1]})]},_e)):e.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No yes votes yet"})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-red-700 mb-3 flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"No Votes (",ae.noCount,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ae.noVotes.length>0?ae.noVotes.map((ie,_e)=>e.jsxs("div",{className:"bg-red-50 p-3 rounded border-l-2 border-red-200",children:[e.jsxs("p",{className:"text-sm text-red-800",children:["Vote #",_e+1]}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Vote #",_e+1]})]},_e)):e.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No no votes yet"})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:ae.totalVotes}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Votes"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[ae.approvalRate,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Approval Rate"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-600",children:ae.totalVotes}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Members Voted"})]})]})})]})]},ae.proposalId||Le))}):e.jsx(G,{children:e.jsxs(X,{className:"text-center py-8",children:[e.jsx(Qs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Voting Data Available"}),e.jsx("p",{className:"text-muted-foreground",children:m.length>0?"No votes have been cast for any proposals yet.":"No proposals available to show voting results."})]})}),e.jsx("div",{className:"mt-4 flex justify-center gap-4",children:e.jsxs(H,{onClick:()=>{b&&(xe(b._id),Ue({title:"Results Refreshed",description:"Voting results have been updated."}))},variant:"outline",className:"gap-2",children:[e.jsx(Ti,{className:"h-4 w-4"}),"Refresh Results"]})}),m.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:m.some(ae=>ae.status==="selected")?"Selected Developer":"Select Developer"}),m.some(ae=>ae.status==="selected")?e.jsx("p",{className:"text-sm text-green-600 mb-4",children:" A developer has been selected for this project. The selection process is complete."}):e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose a developer from the available proposals based on voting results and your assessment."}),e.jsx("div",{className:"space-y-4",children:m.map(ae=>{var St,qe,vt;const Le=Y.find(We=>We.proposalId===ae._id),ie=(Le==null?void 0:Le.approvalRate)||0,_e=(Le==null?void 0:Le.yesCount)||0,Ae=(Le==null?void 0:Le.noCount)||0,Ie=ae.status==="selected",Ze=ae.status==="rejected",ft=Ie?"border-l-green-500":Ze?"border-l-red-500":"border-l-blue-500";return e.jsx(G,{className:`border-l-4 ${ft} ${Ie?"bg-green-50":Ze?"bg-red-50":""}`,children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-lg",children:ae.title}),e.jsx(ge,{className:Lt(ae.status),children:ae.status.replace("_"," ").toUpperCase()}),Ie&&e.jsxs(ge,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(wt,{className:"h-3 w-3 mr-1"}),"SELECTED"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["by ",((St=ae.developerInfo)==null?void 0:St.companyName)||"Developer"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Corpus Amount"}),e.jsxs("div",{className:"font-medium",children:["",((qe=ae.corpusAmount)==null?void 0:qe.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Rent Amount"}),e.jsxs("div",{className:"font-medium",children:["",((vt=ae.rentAmount)==null?void 0:vt.toLocaleString())||"N/A"]})]})]}),Le&&e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:_e}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Yes Votes"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:Ae}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"No Votes"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[ie,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Approval Rate"})]})]})})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>oe(ae),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Details"]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>oe(ae),className:"text-green-600 border-green-200 hover:bg-green-50",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Proposal"]})]}),!m.some(We=>We.status==="selected")&&ae.status!=="selected"&&ae.status!=="rejected"&&e.jsxs(H,{onClick:()=>de(ae),className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(wt,{className:"h-4 w-4 mr-1"}),"Select Developer"]}),ae.status==="selected"&&e.jsxs(ge,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(wt,{className:"h-3 w-3 mr-1"}),"Selected"]}),ae.status==="rejected"&&e.jsxs(ge,{className:"bg-red-100 text-red-800 border-red-200",children:[e.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Rejected"]})]})]})})},ae._id)})})]})]})]})]})})}),e.jsx(nt,{value:"results",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting results..."})]})}):e.jsx(np,{projectId:b._id,userRole:t?"society_owner":"society_member",showCloseButton:t&&b.status==="voting",onCloseVoting:()=>{se(),C("overview")}})}),e.jsx(nt,{value:"queries",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading queries data..."})]})}):e.jsx(sp,{project:{_id:b._id,title:b.title,queries:b.queries.map(ae=>({...ae,status:ae.status}))}})})]})}),e.jsx(Va,{open:A,onOpenChange:M,children:e.jsxs(Hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Yn,{children:e.jsx(Kn,{children:"Proposal Details"})}),O&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:O.title}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["by ",((cr=O.developerInfo)==null?void 0:cr.companyName)||"Developer"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-muted-foreground",children:O.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Corpus Amount"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",((qt=O.corpusAmount)==null?void 0:qt.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Rent Amount"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",((sr=O.rentAmount)==null?void 0:sr.toLocaleString())||"N/A","/month"]})]})]}),O.developerInfo&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Developer Information"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Company:"})," ",O.developerInfo.companyName||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Experience:"})," ",O.developerInfo.experience||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Completed Projects:"})," ",O.developerInfo.completedProjects||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",O.developerInfo.contactPerson||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Phone:"})," ",O.developerInfo.contactPhone||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Email:"})," ",O.developerInfo.contactEmail||"N/A"]}),O.developerInfo.website&&e.jsxs("div",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:O.developerInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:O.developerInfo.website})]})]})]}),O.documents&&O.documents.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Developer Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O.documents.map((ae,Le)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:ae.name}),e.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[ae.type.replace("_"," ")," Document"]})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{const ie=window.document.createElement("a");ie.href=ae.url,ie.download=ae.name,ie.target="_blank",window.document.body.appendChild(ie),ie.click(),window.document.body.removeChild(ie)},className:"text-blue-600 hover:text-blue-700",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Download PDF"]})]},Le))})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(H,{variant:"outline",onClick:()=>M(!1),children:"Close"})})]})]})}),x&&e.jsx(OV,{societyId:r,onClose:()=>v(!1),onSuccess:ae=>{v(!1),d(Le=>[...Le,ae]),Ue({title:"Success",description:"Redevelopment project has been created successfully."})}})]})},ap=({project:r,proposals:t,onViewProposal:s,userRole:n,votingResultsData:i=[],onVote:l,myVotes:c={},hasVoted:d=!1,votingOpen:m=!1,onRefreshProposals:f})=>{var y,g;return console.log(" ProjectOverview - Project:",r._id,"Status:",r.status),console.log(" ProjectOverview - Proposals received:",t.length,t),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ye,{children:e.jsx(be,{children:"Project Details"})}),e.jsxs(X,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-muted-foreground",children:r.description})]}),r.expectedAmenities.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Expected Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.expectedAmenities.map((x,v)=>e.jsx(ge,{variant:"secondary",children:x},v))})]}),r.documents&&r.documents.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Project Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.documents.map((x,v)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:x.name}),e.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[x.type.replace("_"," ")," Document"]})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{const b=window.document.createElement("a");b.href=x.url,b.download=x.name,b.target="_blank",window.document.body.appendChild(b),b.click(),window.document.body.removeChild(b)},className:"text-blue-600 hover:text-blue-700",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Download PDF"]})]},v))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Status"}),e.jsx(ge,{variant:"outline",className:"text-sm",children:r.status})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Timeline"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground",children:(y=r.timeline)!=null&&y.expectedCompletionDate?`Expected completion: ${new Date(r.timeline.expectedCompletionDate).toLocaleDateString("en-IN")}`:"TBD"}),((g=r.timeline)==null?void 0:g.startDate)&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(r.timeline.startDate).toLocaleDateString("en-IN")]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Created"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(r.createdAt).toLocaleDateString("en-IN")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(r.updatedAt).toLocaleDateString("en-IN")})]})]})]})]}),t.some(x=>x.status==="selected")&&e.jsxs(G,{className:"border-green-200 bg-green-50",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(wt,{className:"h-5 w-5"}),"Selected Developer"]})}),e.jsx(X,{children:(()=>{var v,b,w;const x=t.find(N=>N.status==="selected");return x?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-green-800",children:x.title}),e.jsxs("p",{className:"text-green-700 mb-2",children:["by ",((v=x.developerInfo)==null?void 0:v.companyName)||"Developer"]}),e.jsx("p",{className:"text-sm text-green-600",children:x.description})]}),e.jsxs(ge,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(wt,{className:"h-3 w-3 mr-1"}),"SELECTED"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-green-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-700",children:"Corpus Amount"}),e.jsxs("div",{className:"text-lg font-semibold text-green-800",children:["",((b=x.corpusAmount)==null?void 0:b.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-700",children:"Rent Amount"}),e.jsxs("div",{className:"text-lg font-semibold text-green-800",children:["",((w=x.rentAmount)==null?void 0:w.toLocaleString())||"N/A"]})]})]}),x.developerInfo&&e.jsxs("div",{className:"pt-4 border-t border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"Developer Information"}),e.jsxs("div",{className:"text-sm text-green-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Company:"})," ",x.developerInfo.companyName||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Experience:"})," ",x.developerInfo.experience||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Completed Projects:"})," ",x.developerInfo.completedProjects||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",x.developerInfo.contactPerson||"N/A"]})]})]})]}):null})()})]}),e.jsxs(G,{children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{children:["All Proposals (",t.length,")"]}),e.jsx(Qe,{children:"View all submitted proposals for this project"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{console.log(" Manual refresh proposals for project:",r._id),f&&f()},children:"Refresh"})]})}),e.jsx(X,{children:t.length>0?e.jsx("div",{className:"space-y-4",children:t.map(x=>{var v,b,w,N,C;return e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:x.title}),e.jsxs("p",{className:"text-muted-foreground mb-2",children:["by ",((v=x.developerInfo)==null?void 0:v.companyName)||((b=x.developer)==null?void 0:b.companyName)||((w=x.developerProfile)==null?void 0:w.company_name)||"Developer"]}),e.jsx("p",{className:"text-sm",children:x.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Corpus:"}),e.jsxs("div",{className:"font-medium",children:["",((N=x.corpusAmount)==null?void 0:N.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Rent:"}),e.jsxs("div",{className:"font-medium",children:["",((C=x.rentAmount)==null?void 0:C.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"FSI:"}),e.jsx("div",{className:"font-medium",children:x.fsi||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:x.timeline||"N/A"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(ge,{variant:x.status==="selected"?"default":"outline",children:x.status}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>s(x),className:"text-green-600 border-green-200 hover:bg-green-50",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Proposal"]})]})]})},x._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Proposals Yet"}),e.jsx("p",{className:"text-gray-600",children:r.status==="planning"?"This project is still in planning phase. Proposals will appear here once the tender is opened.":r.status==="tender_open"?"No proposals have been submitted yet. Check back later.":"No proposals available for this project."})]})})]}),n==="society_member"&&m&&t.length>0&&e.jsxs(G,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Cast Your Vote"]}),e.jsx(Qe,{className:"text-blue-700",children:"Vote on the developer proposals for this redevelopment project"})]}),e.jsx(X,{children:e.jsx(YV,{projectId:r._id,proposals:t,userRole:"society_member",votingDeadline:r.votingDeadline,isVotingOpen:m})})]}),n==="society_member"&&!m&&e.jsxs(G,{className:"border-gray-200",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),"Voting Status"]})}),e.jsx(X,{children:e.jsx("div",{className:"text-center py-4",children:r.status==="proposals_received"?e.jsxs("div",{className:"text-amber-700",children:[e.jsx(Jt,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Proposals received. Waiting for voting to begin."}),e.jsx("p",{className:"text-sm text-amber-600",children:"The society owner will start the voting process soon."})]}):r.status==="developer_selected"?e.jsxs("div",{className:"text-green-700",children:[e.jsx(wt,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Voting completed and developer selected."}),e.jsx("p",{className:"text-sm text-green-600",children:"Check the results below to see the final outcome."})]}):e.jsxs("div",{className:"text-gray-700",children:[e.jsx(Gt,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Voting is not currently open."}),e.jsx("p",{className:"text-sm text-gray-600",children:"Check back later for voting updates."})]})})})]}),!m&&i.length>0&&e.jsxs(G,{children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-5 w-5"}),"Voting Results"]}),e.jsx(Qe,{children:"Final voting results for all proposals"})]}),e.jsx(X,{children:e.jsx("div",{className:"space-y-4",children:i.map((x,v)=>e.jsx(G,{className:"border-l-4 border-l-purple-500",children:e.jsxs(X,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:x.title||"Proposal"}),e.jsxs("p",{className:"text-muted-foreground",children:["by ",x.developerName||"Developer"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[x.approvalRate,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Approval Rate"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:Array.isArray(x.yesVotes)?x.yesVotes.length:x.yesVotes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:Array.isArray(x.noVotes)?x.noVotes.length:x.noVotes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"No Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:x.totalVotes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Votes"})]})]})]})},x.proposalId||v))})})]})]})},KV=({societyId:r,refreshTrigger:t})=>{var B;const[s,n]=h.useState([]),[i,l]=h.useState(!0),[c,d]=h.useState(null),[m,f]=h.useState(null),[y,g]=h.useState(""),[x,v]=h.useState(!1),[b,w]=h.useState({status:"all",category:"all",priority:"all"}),{toast:N}=it(),C=async()=>{var _;try{l(!0),d(null);const $={};b.status!=="all"&&($.status=b.status),b.category!=="all"&&($.category=b.category),b.priority!=="all"&&($.priority=b.priority);const T=await re.getSocietyQueries(r,$);T.error?d(T.error):n(((_=T.data)==null?void 0:_.queries)||[])}catch($){console.error("Error fetching queries:",$),d("Failed to fetch queries")}finally{l(!1)}};h.useEffect(()=>{C()},[r,t,b]);const E=async()=>{if(!m||!y.trim()){N({title:"Error",description:"Please enter a response",variant:"destructive"});return}v(!0);try{const _=await re.respondToQuery(m._id,y.trim());_.error?N({title:"Error",description:_.error,variant:"destructive"}):(N({title:"Success",description:"Response sent successfully"}),g(""),f(null),C())}catch(_){console.error("Error responding to query:",_),N({title:"Error",description:"Failed to send response. Please try again.",variant:"destructive"})}finally{v(!1)}},P=async(_,$)=>{try{const T=await re.updateQueryStatus(_,$);T.error?N({title:"Error",description:T.error,variant:"destructive"}):(N({title:"Success",description:"Query status updated successfully"}),C())}catch(T){console.error("Error updating query status:",T),N({title:"Error",description:"Failed to update status. Please try again.",variant:"destructive"})}},O=_=>{switch(_){case"open":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"in_progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},q=_=>{switch(_){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},A=_=>{switch(_){case"maintenance":return"";case"amenities":return"";case"security":return"";case"billing":return"";case"complaint":return"";case"suggestion":return"";default:return""}},M=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=s.filter(_=>_.status==="open").length,k=s.filter(_=>_.status==="in_progress").length,R=s.filter(_=>_.status==="resolved").length;return i?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(_=>e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-4 relative",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-2/3"})]})})]},_))}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading member queries..."})]})})})]})]}):c?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-950 dark:to-pink-950",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 to-pink-500/10 dark:from-red-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Jt,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:"Error Loading Queries"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:c})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-blue-200 dark:border-blue-800 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Open Queries"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:V})]}),e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(Bt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950 dark:to-yellow-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 dark:from-yellow-900/20 dark:to-orange-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:k})]}),e.jsx("div",{className:"p-2 rounded-full bg-yellow-500/20 dark:bg-yellow-700/30 backdrop-blur-sm",children:e.jsx(Gt,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:R})]}),e.jsx("div",{className:"p-2 rounded-full bg-green-500/20 dark:bg-green-700/30 backdrop-blur-sm",children:e.jsx(wt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wu,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"})]}),e.jsxs(Xe,{value:b.status,onValueChange:_=>w($=>({...$,status:_})),children:[e.jsx(Ye,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"open",children:"Open"}),e.jsx(te,{value:"in_progress",children:"In Progress"}),e.jsx(te,{value:"resolved",children:"Resolved"}),e.jsx(te,{value:"closed",children:"Closed"})]})]}),e.jsxs(Xe,{value:b.priority,onValueChange:_=>w($=>({...$,priority:_})),children:[e.jsx(Ye,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Priority"}),e.jsx(te,{value:"urgent",children:"Urgent"}),e.jsx(te,{value:"high",children:"High"}),e.jsx(te,{value:"medium",children:"Medium"}),e.jsx(te,{value:"low",children:"Low"})]})]})]})})]}),s.length===0?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-8 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx(Bt,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No Queries Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No member queries match your current filters."})]})]}):e.jsx("div",{className:"space-y-4",children:s.map(_=>{var $;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:A(_.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 capitalize",children:_.category.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["By ",(($=_.memberProfile)==null?void 0:$.fullName)||_.member.name||_.member.phone]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:`px-3 py-1 rounded-full text-xs font-medium ${O(_.status)}`,children:_.status.replace("_"," ")}),e.jsx(ge,{className:`px-3 py-1 rounded-full text-xs font-medium ${q(_.priority)}`,children:_.priority})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:_.queryText})}),_.response&&e.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Your Response"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:_.response.text}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[e.jsx(tr,{className:"h-3 w-3"}),e.jsx("span",{children:M(_.response.respondedAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Submitted ",M(_.createdAt)]})]}),_.upvotes.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ew,{className:"h-4 w-4"}),e.jsxs("span",{children:[_.upvotes.length," upvotes"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[_.status!=="resolved"&&_.status!=="closed"&&e.jsxs(Xe,{value:_.status,onValueChange:T=>P(_._id,T),children:[e.jsx(Ye,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"open",children:"Open"}),e.jsx(te,{value:"in_progress",children:"In Progress"}),e.jsx(te,{value:"resolved",children:"Resolved"}),e.jsx(te,{value:"closed",children:"Closed"})]})]}),!_.response&&e.jsxs(H,{onClick:()=>f(_),size:"sm",className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white",children:[e.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Respond"]})]})]})]})]},_._id)})}),m&&e.jsx(G,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"relative",children:[e.jsxs(be,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(Wn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Respond to Query"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Respond to ",((B=m.memberProfile)==null?void 0:B.fullName)||m.member.name||m.member.phone,"'s query"]})]}),e.jsxs(X,{className:"relative space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 mb-2",children:"Original Query:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.queryText})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"responseText",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Response *"}),e.jsx(rr,{id:"responseText",value:y,onChange:_=>g(_.target.value),placeholder:"Enter your response to the member's query...",className:"min-h-[120px] resize-none border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx(H,{onClick:E,disabled:x||!y.trim(),className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Send Response"]})}),e.jsx(H,{onClick:()=>{f(null),g("")},variant:"outline",children:"Cancel"})]})]})]})})]})};var eC="AlertDialog",[GV]=jr(eC,[mS]),ea=mS(),tC=r=>{const{__scopeAlertDialog:t,...s}=r,n=ea(t);return e.jsx(ex,{...n,...s,modal:!0})};tC.displayName=eC;var QV="AlertDialogTrigger",rC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,...n}=r,i=ea(s);return e.jsx(_S,{...i,...n,ref:t})});rC.displayName=QV;var XV="AlertDialogPortal",sC=r=>{const{__scopeAlertDialog:t,...s}=r,n=ea(t);return e.jsx(tx,{...n,...s})};sC.displayName=XV;var JV="AlertDialogOverlay",nC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,...n}=r,i=ea(s);return e.jsx(jm,{...i,...n,ref:t})});nC.displayName=JV;var ji="AlertDialogContent",[ZV,eU]=GV(ji),tU=yj("AlertDialogContent"),aC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,children:n,...i}=r,l=ea(s),c=h.useRef(null),d=rt(t,c),m=h.useRef(null);return e.jsx(gF,{contentName:ji,titleName:oC,docsSlug:"alert-dialog",children:e.jsx(ZV,{scope:s,cancelRef:m,children:e.jsxs(wm,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Ce(i.onOpenAutoFocus,f=>{var y;f.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[e.jsx(tU,{children:n}),e.jsx(sU,{contentRef:c})]})})})});aC.displayName=ji;var oC="AlertDialogTitle",iC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,...n}=r,i=ea(s);return e.jsx(rx,{...i,...n,ref:t})});iC.displayName=oC;var lC="AlertDialogDescription",cC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,...n}=r,i=ea(s);return e.jsx(sx,{...i,...n,ref:t})});cC.displayName=lC;var rU="AlertDialogAction",dC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,...n}=r,i=ea(s);return e.jsx(nx,{...i,...n,ref:t})});dC.displayName=rU;var uC="AlertDialogCancel",mC=h.forwardRef((r,t)=>{const{__scopeAlertDialog:s,...n}=r,{cancelRef:i}=eU(uC,s),l=ea(s),c=rt(t,i);return e.jsx(nx,{...l,...n,ref:c})});mC.displayName=uC;var sU=({contentRef:r})=>{const t=`\`${ji}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ji}\` by passing a \`${lC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ji}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=r.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,r]),null},nU=tC,aU=rC,oU=sC,hC=nC,fC=aC,pC=dC,gC=mC,xC=iC,vC=cC;const iU=nU,lU=aU,cU=oU,yC=h.forwardRef(({className:r,...t},s)=>e.jsx(hC,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t,ref:s}));yC.displayName=hC.displayName;const bC=h.forwardRef(({className:r,...t},s)=>e.jsxs(cU,{children:[e.jsx(yC,{}),e.jsx(fC,{ref:s,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...t})]}));bC.displayName=fC.displayName;const jC=({className:r,...t})=>e.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",r),...t});jC.displayName="AlertDialogHeader";const wC=({className:r,...t})=>e.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t});wC.displayName="AlertDialogFooter";const NC=h.forwardRef(({className:r,...t},s)=>e.jsx(xC,{ref:s,className:Re("text-lg font-semibold",r),...t}));NC.displayName=xC.displayName;const SC=h.forwardRef(({className:r,...t},s)=>e.jsx(vC,{ref:s,className:Re("text-sm text-muted-foreground",r),...t}));SC.displayName=vC.displayName;const kC=h.forwardRef(({className:r,...t},s)=>e.jsx(pC,{ref:s,className:Re(ic(),r),...t}));kC.displayName=pC.displayName;const CC=h.forwardRef(({className:r,...t},s)=>e.jsx(gC,{ref:s,className:Re(ic({variant:"outline"}),"mt-2 sm:mt-0",r),...t}));CC.displayName=gC.displayName;const dU=({title:r,description:t,bucketName:s,folderPath:n,documents:i,onDocumentsChange:l,acceptedTypes:c=".pdf,.jpg,.jpeg,.png,.doc,.docx",maxSizeMessage:d="PDF, DOC, DOCX, JPG, PNG files up to 10MB each",className:m="",uploadButtonColor:f="primary",onUploadStart:y,onUploadComplete:g})=>{const{toast:x}=it(),v=h.useRef(null),[b,w]=h.useState(null),[N,C]=h.useState(""),P={primary:{border:"border-primary/25 hover:border-primary/40",bg:"from-primary/5",iconBg:"bg-primary/10",iconColor:"text-primary",textColor:"text-primary hover:text-primary/80"},orange:{border:"border-orange-200 hover:border-orange-300",bg:"from-orange-50",iconBg:"bg-orange-100",iconColor:"text-orange-600",textColor:"text-orange-700 hover:text-orange-600"},blue:{border:"border-blue-200 hover:border-blue-300",bg:"from-blue-50",iconBg:"bg-blue-100",iconColor:"text-blue-600",textColor:"text-blue-700 hover:text-blue-600"}}[f],O=$=>{const T=Array.from($.target.files||[]),Q=10*1024*1024,Y=["image/","video/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],F=[],I=[];if(T.forEach(W=>{if(W.size>Q){I.push(`${W.name}: File size exceeds 10MB limit`);return}if(!Y.some(z=>W.type.startsWith(z))){I.push(`${W.name}: Invalid file type. Only images, videos, and documents are allowed`);return}F.push(W)}),I.length>0&&I.forEach(W=>{x({title:"Invalid File",description:W,variant:"destructive"})}),F.length===0){v.current&&(v.current.value="");return}const D=F.map(W=>({file:W,name:W.name,size:W.size,status:"pending",uploadProgress:0}));l([...i,...D]),D.forEach((W,U)=>{W.file&&q(W,i.length+U)}),v.current&&(v.current.value="")},q=async($,T)=>{var Q,Y,F,I,D;if($.file){A(T,"uploading",0),y==null||y();try{console.log("Uploading file:",$.name,"Size:",$.size);const W=n.includes("registration")?"registration":n.includes("floor")?"floor_plan":"general",{data:U,error:z}=await re.uploadSingleFile($.file,W);if(z)throw console.error("Upload error:",z),new Error(z);console.log("Upload successful:",U);const J=[...i];J[T]={...$,url:U.media.url,mediaId:U.media.id,status:"completed",uploadProgress:100},l(J),x({title:"Upload Successful",description:`${$.name} has been uploaded successfully.`}),g==null||g()}catch(W){console.error("Upload error:",W);let U="Upload failed. Please try again.";(Q=W==null?void 0:W.message)!=null&&Q.includes("File too large")?U="File size exceeds 10MB limit. Please choose a smaller file.":(Y=W==null?void 0:W.message)!=null&&Y.includes("Invalid file type")?U="Invalid file type. Please upload images, videos, or documents only.":(F=W==null?void 0:W.message)!=null&&F.includes("Network error")||(I=W==null?void 0:W.message)!=null&&I.includes("Failed to fetch")?U="Network error. Please check your connection and try again.":(D=W==null?void 0:W.message)!=null&&D.includes("Upload service unavailable")?U="Upload service is temporarily unavailable. Please try again later.":W!=null&&W.message&&(U=W.message),A(T,"error",0,U),x({title:"Upload Failed",description:`Failed to upload ${$.name}: ${U}`,variant:"destructive"})}}},A=($,T,Q,Y)=>{const F=[...i];F[$]={...F[$],status:T,uploadProgress:Q,errorMessage:Y},l(F)},M=$=>{const T=i.filter((Q,Y)=>Y!==$);l(T)},V=async $=>{const T=i[$];if(T.url)try{if(T.mediaId){const{error:Q}=await re.deleteMedia(T.mediaId);if(Q)throw Q}M($),x({title:"Document Deleted",description:`${T.name} has been deleted successfully.`})}catch(Q){console.error("Delete error:",Q),x({title:"Delete Failed",description:`Failed to delete ${T.name}. Please try again.`,variant:"destructive"})}},k=$=>{$.url&&window.open($.url,"_blank")},R=$=>{var Q;if(!$.url)return;((Q=$.name)==null?void 0:Q.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/))?(w($.url),C($.name)):window.open($.url,"_blank")},B=$=>{switch($){case"uploading":return e.jsx(Tr,{className:"h-4 w-4 animate-spin text-blue-600"});case"completed":return e.jsx(Ks,{className:"h-4 w-4 text-green-600"});case"error":return e.jsx(Jt,{className:"h-4 w-4 text-red-600"});default:return e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})}},_=$=>{switch($){case"uploading":return"bg-blue-50 border-blue-200";case"completed":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-background border-border"}};return e.jsxs("div",{className:`space-y-4 ${m}`,children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium",children:r}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t})]}),e.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 bg-gradient-to-br to-background transition-all ${P.border} ${P.bg}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-3 ${P.iconBg}`,children:e.jsx(Ai,{className:`h-6 w-6 ${P.iconColor}`})}),e.jsxs("div",{children:[e.jsxs(ne,{htmlFor:`upload-${n}`,className:"cursor-pointer",children:[e.jsx("span",{className:`text-sm font-semibold transition-colors ${P.textColor}`,children:r}),e.jsx(Se,{ref:v,id:`upload-${n}`,type:"file",multiple:!0,accept:c,onChange:O,className:"sr-only"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d})]})]})}),i.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ne,{className:"text-sm font-medium",children:["Documents (",i.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:i.map(($,T)=>{var I;const Y=((I=$.name)==null?void 0:I.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/))&&($.url||$.file),F=$.url||($.file?URL.createObjectURL($.file):"");return e.jsxs("div",{className:`relative group border rounded-lg overflow-hidden ${_($.status)}`,children:[e.jsxs("div",{className:"aspect-square",children:[Y?e.jsx("img",{src:F,alt:$.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full bg-muted",children:e.jsx(xt,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex gap-1",children:[$.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(H,{type:"button",variant:"secondary",size:"sm",onClick:()=>R($),className:"w-8 h-8 p-0",children:e.jsx(Wr,{className:"h-3 w-3"})}),e.jsx(H,{type:"button",variant:"secondary",size:"sm",onClick:()=>k($),className:"w-8 h-8 p-0",children:e.jsx(Yl,{className:"h-3 w-3"})})]}),$.status==="completed"?e.jsxs(iU,{children:[e.jsx(lU,{asChild:!0,children:e.jsx(H,{type:"button",variant:"destructive",size:"sm",className:"w-8 h-8 p-0",children:e.jsx(Js,{className:"h-3 w-3"})})}),e.jsxs(bC,{children:[e.jsxs(jC,{children:[e.jsx(NC,{children:"Delete Document"}),e.jsxs(SC,{children:['Are you sure you want to delete "',$.name,'"? This action cannot be undone.']})]}),e.jsxs(wC,{children:[e.jsx(CC,{children:"Cancel"}),e.jsx(kC,{onClick:()=>V(T),children:"Delete"})]})]})]}):e.jsx(H,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(T),className:"w-8 h-8 p-0",children:e.jsx(Rt,{className:"h-3 w-3"})})]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[B($.status),e.jsx("p",{className:"text-xs font-medium truncate flex-1",children:$.name})]}),$.size&&e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[($.size/1024/1024).toFixed(1)," MB"]}),$.status==="uploading"&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(Lu,{value:$.uploadProgress||0,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uploading... ",$.uploadProgress||0,"%"]})]}),$.status==="error"&&e.jsx("p",{className:"text-xs text-red-600",children:$.errorMessage||"Upload failed"}),$.status==="completed"&&e.jsxs(ge,{variant:"outline",className:"border-green-300 text-green-700",children:[e.jsx(Ks,{className:"h-3 w-3 mr-1"}),"Uploaded"]})]})]},T)})})]}),e.jsx(Va,{open:!!b,onOpenChange:()=>w(null),children:e.jsxs(Hn,{className:"max-w-4xl max-h-[90vh] p-0",children:[e.jsx(Yn,{className:"px-6 py-4",children:e.jsx(Kn,{children:N})}),e.jsx("div",{className:"px-6 pb-6",children:b&&e.jsx("img",{src:b,alt:N,className:"w-full h-auto max-h-[70vh] object-contain rounded-lg"})})]})})]})},uU=()=>{const{user:r,profile:t}=Ft(),[s,n]=h.useState(null),[i,l]=h.useState([]),[c,d]=h.useState([]),[m,f]=h.useState(!1),[y,g]=h.useState(!0),[x,v]=h.useState([]),[b,w]=h.useState([]),[N,C]=h.useState(!1),[E,P]=h.useState(!1),O=k=>(k==null?void 0:k.id)||(k==null?void 0:k._id),q=async()=>{var k,R;if(!r){console.log("No user found, cannot fetch society data");return}try{console.log("Fetching society data for user:",r.id,"role:",r.currentRole);const{data:B,error:_}=await re.getMySocieties();console.log("Societies response data:",B);const $=(B==null?void 0:B.societies)||B||[];console.log("Societies array:",$);const T=$==null?void 0:$[0];if(_){console.error("Society fetch error:",_),go("Error",{description:"Failed to fetch society data. Please try again."});return}if(T){console.log("Setting society data:",T),console.log("Society data fields:",{name:T.name,society_type:T.society_type,total_area:T.total_area,total_flats:T.total_flats,year_built:T.year_built,contact_person_name:T.contact_person_name,contact_phone:T.contact_phone,contact_email:T.contact_email}),n(T);const Q=O(T);if(console.log("Society ID for members fetch:",Q),Q){const{data:I,error:D}=await re.getSocietyMembers(Q);D?(console.error("Members fetch error:",D),go("Warning",{description:"Failed to fetch member data. Please refresh the page."}),l([])):I&&I.members?(console.log("Members data received:",I.members),l(I.members)):(console.log("No members data found"),l([]))}else console.log("No society ID available for members fetch"),l([]);const Y=O(T);if(Y)try{const{data:I,error:D}=await re.getSocietyQueries(Y);if(D)console.error("Queries fetch error:",D),d([]);else{const W=Array.isArray(I)?I:I!=null&&I.data&&Array.isArray(I.data)?I.data:I!=null&&I.queries&&Array.isArray(I.queries)?I.queries:[];console.log("Queries data structure:",{queriesData:I,queriesArray:W}),d(W)}}catch(I){console.error("Queries fetch error:",I),d([])}const F=O(T);if(F)try{const I=Date.now(),{data:D,error:W}=await re.getSocietyDocuments(F,I);if(W){console.error("Documents fetch error:",W);const U=[];T.registration_documents&&T.registration_documents.length>0&&T.registration_documents.forEach((z,J)=>{const se=typeof z=="string"?z:z.url,ue=typeof z=="string"?z.split("/").pop()||`Society Document ${J+1}`:z.name||z.url.split("/").pop()||`Society Document ${J+1}`,xe=typeof z=="object"?z.mediaId:null,oe=typeof z=="object"?z.size:null;U.push({id:`doc_${J}`,name:ue,type:"society_document",url:se,mediaId:xe,uploadedAt:T.createdAt||new Date,size:oe})}),T.flat_plan_documents&&T.flat_plan_documents.length>0&&T.flat_plan_documents.forEach((z,J)=>{const se=typeof z=="string"?z:z.url,ue=typeof z=="string"?z.split("/").pop()||`Society Document ${U.length+J+1}`:z.name||z.url.split("/").pop()||`Society Document ${U.length+J+1}`,xe=typeof z=="object"?z.mediaId:null,oe=typeof z=="object"?z.size:null;U.push({id:`doc_${U.length+J}`,name:ue,type:"society_document",url:se,mediaId:xe,uploadedAt:T.createdAt||new Date,size:oe})}),v(U)}else{const U=Array.isArray(D)?D:D!=null&&D.data&&Array.isArray(D.data)?D.data:D!=null&&D.documents&&Array.isArray(D.documents)?D.documents:[];if(console.log("=== DOCUMENTS FETCH DEBUG ==="),console.log("Documents data from API:",D),console.log("Documents array:",U),console.log("Society registration_documents:",T.registration_documents),console.log("Society flat_plan_documents:",T.flat_plan_documents),U.length===0&&(((k=T.registration_documents)==null?void 0:k.length)>0||((R=T.flat_plan_documents)==null?void 0:R.length)>0)){const z=[];T.registration_documents&&T.registration_documents.length>0&&(console.log("Creating fallback docs from registration_documents"),T.registration_documents.forEach((J,se)=>{const ue=typeof J=="string"?J:J.url,xe=typeof J=="string"?J.split("/").pop()||`Society Document ${se+1}`:J.name||J.url.split("/").pop()||`Society Document ${se+1}`,oe=typeof J=="object"?J.mediaId:null,de=typeof J=="object"?J.size:null;console.log(`Registration doc ${se+1} URL:`,ue),z.push({id:`doc_${se}`,name:xe,type:"society_document",url:ue,mediaId:oe,uploadedAt:T.createdAt||new Date,size:de})})),T.flat_plan_documents&&T.flat_plan_documents.length>0&&T.flat_plan_documents.forEach((J,se)=>{const ue=typeof J=="string"?J:J.url,xe=typeof J=="string"?J.split("/").pop()||`Society Document ${z.length+se+1}`:J.name||J.url.split("/").pop()||`Society Document ${z.length+se+1}`,oe=typeof J=="object"?J.mediaId:null,de=typeof J=="object"?J.size:null;z.push({id:`doc_${z.length+se}`,name:xe,type:"society_document",url:ue,mediaId:oe,uploadedAt:T.createdAt||new Date,size:de})}),v(z)}else v(U)}}catch(I){console.error("Documents fetch error:",I);const D=[];T.registration_documents&&T.registration_documents.length>0&&T.registration_documents.forEach((W,U)=>{D.push({id:`doc_${U}`,name:W.split("/").pop()||`Society Document ${U+1}`,type:"society_document",url:W,uploadedAt:T.createdAt||new Date,size:null})}),T.flat_plan_documents&&T.flat_plan_documents.length>0&&T.flat_plan_documents.forEach((W,U)=>{D.push({id:`doc_${D.length+U}`,name:W.split("/").pop()||`Society Document ${D.length+U+1}`,type:"society_document",url:W,uploadedAt:T.createdAt||new Date,size:null})}),v(D)}else v([])}}catch(B){console.error("Fetch error:",B),go("Error",{description:"Failed to load dashboard data. Please refresh the page."})}finally{g(!1)}};h.useEffect(()=>{q()},[r]),h.useEffect(()=>{b.length>0&&M()},[b]);const A=async()=>{},M=async()=>{if(s&&b.length>0){const k=b.filter(B=>B.status==="completed"&&B.url),R=b.filter(B=>B.status==="uploading"||B.status==="pending");if(console.log("=== UPLOAD STATUS CHECK ==="),console.log("Total documents:",b.length),console.log("Completed uploads:",k.length),console.log("Pending uploads:",R.length),k.length>0&&R.length===0){console.log("All uploads completed, processing...");const B=k.map(_=>({url:_.url,mediaId:_.mediaId,name:_.name,size:_.size}));try{const _=O(s);if(_){const $=s.registration_documents||[],T=s.flat_plan_documents||[],Y=[...[...$,...T],...B];console.log("=== DOCUMENT UPLOAD DEBUG ==="),console.log("Society ID:",_),console.log("Current registration docs:",$),console.log("Current floor plan docs:",T),console.log("Uploaded documents:",B),console.log("Updated docs array:",Y),console.log("Society object before update:",s),B.forEach((D,W)=>{console.log(`Uploaded document ${W+1}:`,D),console.log("Document type:",typeof D),console.log("Document URL:",D.url),console.log("Document mediaId:",D.mediaId)});const F={registration_documents:Y,flat_plan_documents:[]};console.log("Sending update data:",F);const I=await re.updateSociety(_,F);if(console.log("Update result:",I),I.error)throw console.error("Update failed:",I.error),new Error(I.error);console.log("Society updated successfully"),C(!1),P(!1),w([]),await q(),go("Success",{description:"Documents uploaded successfully!"})}}catch(_){console.error("Error updating society documents:",_),go("Error",{description:"Failed to save documents. Please try again."})}}}},V=()=>{C(!0)};return y?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"}),e.jsx(Oa,{className:"h-6 w-6 text-blue-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-6 text-lg font-medium",children:"Loading your society dashboard..."})]})})})]}):(console.log("Dashboard render - society:",s,"showSocietyForm:",m,"loading:",y),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 text-gray-900 dark:text-gray-100",children:[e.jsx(Es,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight lg:text-5xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 flex items-center gap-3",children:[e.jsx(Oa,{className:"h-10 w-10 text-blue-500 animate-pulse"}),"Society Management Dashboard"]}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-4 animate-fade-in",children:["Welcome back, ",e.jsx("span",{className:"font-semibold",children:(t==null?void 0:t.fullName)||(r==null?void 0:r.phone)}),"! Manage your society with confidence."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:q,disabled:y,className:"px-4 py-2 rounded-full bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm shadow-lg hover:bg-white/70 dark:hover:bg-gray-700/70 transition-all duration-300 group",children:[e.jsx(Ba,{className:`h-4 w-4 mr-2 group-hover:rotate-180 transition-transform duration-500 ${y?"animate-spin":""}`}),"Refresh"]}),!s&&e.jsxs(Va,{open:m,onOpenChange:f,children:[e.jsx(Ql,{asChild:!0,children:e.jsxs(H,{onClick:()=>{console.log("Opening society form dialog"),f(!0)},className:"px-6 py-3 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group",children:[e.jsx(fs,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Create Society Profile",e.jsx(qn,{className:"h-4 w-4 ml-2 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})}),e.jsxs(Hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Yn,{children:[e.jsx(Kn,{children:"Create Society Profile"}),e.jsx(Xl,{children:"Fill out the form below to create your society profile with all the necessary details."})]}),e.jsx(rp,{onSuccess:()=>{f(!1),q()}})]})]})]})]}),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-blue-500/40",children:[e.jsx("div",{className:"absolute -top-8 -right-8 h-24 w-24 rounded-full bg-blue-400/20 dark:bg-blue-600/20 blur-xl animate-pulse-slow"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Total Flats"}),e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(jt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-blue-900 dark:text-blue-100 leading-none",children:s.total_flats}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:"Residential units"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-purple-500/40",children:[e.jsx("div",{className:"absolute -top-8 -left-8 h-24 w-24 rounded-full bg-purple-400/20 dark:bg-purple-600/20 blur-xl animate-pulse-slow delay-200"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Total Blocks"}),e.jsx("div",{className:"p-2 rounded-full bg-purple-500/20 dark:bg-purple-700/30 backdrop-blur-sm",children:e.jsx(au,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-purple-900 dark:text-purple-100 leading-none",children:s.number_of_blocks||"N/A"}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:"Building blocks"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-green-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -left-8 h-24 w-24 rounded-full bg-green-400/20 dark:bg-green-600/20 blur-xl animate-pulse-slow delay-100"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Active Members"}),e.jsx("div",{className:"p-2 rounded-full bg-green-500/20 dark:bg-green-700/30 backdrop-blur-sm",children:e.jsx(Pt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-green-900 dark:text-green-100 leading-none",children:i.length}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-2",children:"Society residents"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-orange-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -right-8 h-24 w-24 rounded-full bg-orange-400/20 dark:bg-orange-600/20 blur-xl animate-pulse-slow delay-300"}),e.jsxs(X,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Member Queries"}),e.jsx("div",{className:"p-2 rounded-full bg-orange-500/20 dark:bg-orange-700/30 backdrop-blur-sm",children:e.jsx(xt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-orange-900 dark:text-orange-100 leading-none",children:c&&Array.isArray(c)?c.length:0}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-2",children:c&&Array.isArray(c)?`${c.filter(k=>k.status==="open").length} pending`:"No queries"})]})]})]}),e.jsxs(gs,{defaultValue:"society",className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-5 h-auto p-1 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 dark:from-gray-700/20 dark:to-gray-800/20 rounded-xl shadow-inner border border-gray-200 dark:border-gray-700",children:[e.jsxs(Ge,{value:"society",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-indigo-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-blue-400 dark:data-[state=active]:border-blue-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-300",children:[e.jsx(jt,{className:"h-4 w-4 mr-2"})," Society Details"]}),e.jsxs(Ge,{value:"members",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-green-400 dark:data-[state=active]:border-green-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-300",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"})," Members (",i&&Array.isArray(i)?i.length:0,")"]}),e.jsxs(Ge,{value:"documents",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-purple-400 dark:data-[state=active]:border-purple-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-300",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Documents (",x&&Array.isArray(x)?x.length:0,")"]}),e.jsxs(Ge,{value:"redevelopment",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-emerald-400 dark:data-[state=active]:border-emerald-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-300",children:[e.jsx(za,{className:"h-4 w-4 mr-2"})," Redevelopment"]}),e.jsxs(Ge,{value:"queries",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-orange-400 dark:data-[state=active]:border-orange-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-orange-600 dark:hover:text-orange-300",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Queries"]})]}),e.jsx(nt,{value:"society",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"flex flex-col md:flex-row items-start md:items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"flex items-center gap-3 text-2xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(jt,{className:"h-7 w-7 text-blue-600 dark:text-blue-400"}),s.name]}),e.jsxs(Qe,{className:"flex items-center gap-2 mt-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Ot,{className:"h-4 w-4"}),s.address,", ",s.city,", ",s.state]})]}),e.jsxs(Va,{children:[e.jsx(Ql,{asChild:!0,children:e.jsxs(H,{variant:"outline",className:"mt-4 md:mt-0 px-6 py-2 rounded-full text-blue-600 dark:text-blue-300 border-blue-400 dark:border-blue-600 bg-blue-50/50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-800/50 shadow-lg transition-all duration-300 group",children:[e.jsx(Di,{className:"h-4 w-4 mr-2 group-hover:rotate-90 transition-transform"}),"Edit Society",e.jsx(qn,{className:"h-4 w-4 ml-2 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})}),e.jsxs(Hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Yn,{children:[e.jsx(Kn,{children:"Edit Society Profile"}),e.jsx(Xl,{children:"Update your society profile information below."})]}),e.jsx(rp,{society:s,isEditing:!0,onSuccess:q})]})]},(s==null?void 0:s._id)||(s==null?void 0:s.id)||"edit")]}),e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-4 w-4 text-blue-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Society Type"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.society_type})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(au,{className:"h-4 w-4 text-purple-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Blocks"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.number_of_blocks})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-4 w-4 text-green-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Area"})]}),e.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[s.total_area," sq ft"]})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4 text-orange-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Year Built"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.year_built})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"h-4 w-4 text-indigo-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Registration Date"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(s.registration_date).toLocaleDateString()})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(za,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"FSI"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.fsi})]})]})})]}),s.amenities&&s.amenities.length>0&&e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs(be,{className:"flex items-center gap-3 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(Et,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),"Amenities"]})}),e.jsx(X,{className:"p-6",children:e.jsx("div",{className:"flex flex-wrap gap-3",children:s.amenities.map((k,R)=>e.jsx(ge,{className:"px-4 py-2 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:k},R))})})]}),s.flat_variants&&s.flat_variants.length>0&&e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 dark:from-purple-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs(be,{className:"flex items-center gap-3 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(au,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),"Flat Variants"]})}),e.jsx(X,{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.flat_variants.map((k,R)=>e.jsxs("div",{className:"p-6 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",children:[e.jsx("h4",{className:"font-semibold text-lg text-gray-800 dark:text-gray-100 mb-3",children:k.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-4 w-4 text-purple-500"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Area: ",e.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[k.area," sq ft"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-purple-500"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Bathrooms: ",e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:k.bathrooms})]})]})]})]},R))})})]})]})}),e.jsx(nt,{value:"members",children:e.jsx(IV,{societyId:O(s)||""})}),e.jsx(nt,{value:"documents",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(xt,{className:"h-8 w-8 text-purple-500"}),"Uploaded Documents"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and view all society documents including registration papers and floor plans"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:()=>q(),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:N,children:[e.jsx(Ba,{className:`h-4 w-4 ${N?"animate-spin":""}`}),"Refresh"]}),N&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Uploading..."})]})]})]}),x&&x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((k,R)=>e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx(ye,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(xt,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(be,{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 line-clamp-2",children:k.name}),e.jsx(ge,{variant:"default",className:"mt-1 text-xs",children:"Society Document"})]})]})})}),e.jsx(X,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(tr,{className:"h-4 w-4"}),e.jsxs("span",{children:["Uploaded: ",new Date(k.uploadedAt).toLocaleDateString()]})]}),k.size&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Size: ",(k.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{console.log("Document URL:",k.url),console.log("Document name:",k.name),window.open(k.url,"_blank")},className:"flex-1 text-purple-600 hover:text-purple-700 border-purple-200 hover:border-purple-300",children:[e.jsx(Wr,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const B=document.createElement("a");B.href=k.url,B.download=k.name,B.click()},className:"flex-1 text-green-600 hover:text-green-700 border-green-200 hover:border-green-300",children:[e.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsx(H,{size:"sm",variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this document?"))try{const B=O(s);if(B){if(console.log("Deleting document:",k.url),k.mediaId)try{console.log("Deleting media from Cloudinary:",k.mediaId),await re.deleteMedia(k.mediaId),console.log("Media deleted from Cloudinary successfully")}catch(Y){console.warn("Failed to delete from Cloudinary, continuing with local deletion:",Y)}else k.url&&k.url.includes("localhost:5000/uploads/")&&console.log("Local file detected, will be removed from society documents only");const _=s.registration_documents||[],$=s.flat_plan_documents||[],Q=[..._,...$].filter(Y=>(typeof Y=="string"?Y:Y.url)!==k.url);await re.updateSociety(B,{registration_documents:Q,flat_plan_documents:[]}),await q(),go("Success",{description:"Document deleted successfully!"})}}catch(B){console.error("Error deleting document:",B),go("Error",{description:"Failed to delete document. Please try again."})}},className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:e.jsx(Js,{className:"h-4 w-4"})})]})]})})]},k.id||R))}):e.jsx(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900",children:e.jsx(X,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(xt,{className:"h-12 w-12 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Upload society documents to get started"})]})]})})}),E?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx(ye,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(be,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(xt,{className:"h-6 w-6 text-blue-500"}),"Upload Society Documents"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Upload all society-related documents including registration papers, approvals, and floor plans"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Rt,{className:"h-4 w-4"})})]})}),e.jsx(X,{className:"p-6",children:e.jsx(dU,{title:"Society Documents",description:"Upload all society-related documents including registration certificates, building approvals, NOC documents, floor plans, and other relevant papers",bucketName:"society-documents",folderPath:`${O(s)||"unknown"}/documents`,documents:b,onDocumentsChange:w,acceptedTypes:".pdf,.jpg,.jpeg,.png,.doc,.docx,.txt,.dwg,.dxf",maxSizeMessage:"PDF, DOC, DOCX, JPG, PNG, TXT, DWG, DXF files up to 10MB each",uploadButtonColor:"primary",onUploadStart:V,onUploadComplete:A})})]}):e.jsx(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:e.jsx(X,{className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(xt,{className:"h-12 w-12 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Upload Society Documents"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md",children:"Upload all society-related documents including registration papers, approvals, floor plans, and other relevant documents"}),e.jsxs(H,{onClick:()=>P(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:[e.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Upload Documents"]})]})]})})})]})}),e.jsx(nt,{value:"redevelopment",children:e.jsx(Zk,{societyId:O(s)||"",isOwner:!0})}),e.jsx(nt,{value:"queries",children:e.jsx(KV,{societyId:O(s)||""})})]})]}):e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"text-center p-12",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(jt,{className:"h-20 w-20 text-blue-500 mx-auto animate-bounce-slow"}),e.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Oa,{className:"h-3 w-3 text-yellow-800 animate-pulse"})})]}),e.jsx(be,{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"No Society Profile Found"}),e.jsx(Qe,{className:"text-lg text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Create your society profile to start managing members and redevelopment requirements with our comprehensive tools."})]}),e.jsx(X,{className:"text-center p-8",children:e.jsxs(Va,{open:m,onOpenChange:f,children:[e.jsx(Ql,{asChild:!0,children:e.jsxs(H,{size:"lg",onClick:()=>{console.log("Opening society form dialog from main content"),f(!0)},className:"px-8 py-4 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group text-lg font-semibold",children:[e.jsx(fs,{className:"h-5 w-5 mr-3 group-hover:scale-110 transition-transform"}),"Create Society Profile",e.jsx(qn,{className:"h-5 w-5 ml-3 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})}),e.jsxs(Hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Yn,{children:[e.jsx(Kn,{children:"Create Society Profile"}),e.jsx(Xl,{children:"Fill out the form below to create your society profile with all the necessary details."})]}),e.jsx(rp,{onSuccess:()=>{f(!1),q()}})]})]})})]})]})})]}))};function Ub({onInvitationAccepted:r}){const[t,s]=h.useState([]),[n,i]=h.useState(!0),[l,c]=h.useState(null),d=async()=>{i(!0);try{const{data:g,error:x}=await re.getMyInvitations();if(x){console.error("Error fetching invitations:",x),Ue({title:"Error",description:"Failed to load invitations",variant:"destructive"});return}s((g==null?void 0:g.invitations)||[])}catch(g){console.error("Error fetching invitations:",g),Ue({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{i(!1)}};h.useEffect(()=>{d()},[]);const m=async(g,x)=>{c(g);try{const{data:v,error:b}=await re.respondToInvitation(g,x);if(b){console.error(`Error ${x}ing invitation:`,b),b.includes("already been")?Ue({title:"Already Responded",description:"You have already responded to this invitation",variant:"destructive"}):b.includes("expired")?Ue({title:"Expired",description:"This invitation has expired",variant:"destructive"}):Ue({title:"Error",description:b||`Failed to ${x} invitation`,variant:"destructive"});return}Ue({title:x==="accept"?"Invitation Accepted":"Invitation Declined",description:(v==null?void 0:v.message)||`You have successfully ${x==="accept"?"joined the society":"declined the invitation"}`}),await d(),x==="accept"&&r&&r()}catch(v){console.error(`Error ${x}ing invitation:`,v),Ue({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{c(null)}},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=g=>g?new Date(g)<new Date:!1;return n?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(Tr,{className:"h-8 w-8 animate-spin text-primary"})}):t.length===0?e.jsx(G,{children:e.jsxs(X,{className:"p-8 text-center",children:[e.jsx(pr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No Pending Invitations"}),e.jsx("p",{className:"text-muted-foreground",children:"You don't have any pending society invitations at the moment"})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Society Invitations"}),e.jsxs("p",{className:"text-muted-foreground",children:["You have ",t.length," pending ",t.length===1?"invitation":"invitations"]})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:d,disabled:n,children:[e.jsx(Ba,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]}),e.jsx(Ag,{className:"h-[600px]",children:e.jsx("div",{className:"space-y-4",children:t.map(g=>{var b,w,N,C;const x=y(g.expiresAt),v=((w=(b=g.society.images)==null?void 0:b.find(E=>E.isPrimary))==null?void 0:w.url)||((C=(N=g.society.images)==null?void 0:N[0])==null?void 0:C.url);return e.jsxs(G,{className:x?"opacity-60":"",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsxs(be,{className:"text-xl flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5 text-primary"}),g.society.name]}),e.jsxs(Qe,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),g.society.address,", ",g.society.city,", ",g.society.state]})]}),e.jsx(ge,{variant:x?"secondary":"default",children:x?"Expired":"Pending"})]})}),v&&e.jsx("div",{className:"px-6",children:e.jsx("img",{src:v,alt:g.society.name,className:"w-full h-48 object-cover rounded-lg"})}),e.jsxs(X,{className:"space-y-4 pt-4",children:[g.message&&e.jsxs(ss,{children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx(ns,{children:g.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Total Flats:"}),e.jsx("span",{className:"font-medium",children:g.society.totalFlats})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Invited:"}),e.jsx("span",{className:"font-medium",children:f(g.createdAt)})]})]}),g.society.amenities&&g.society.amenities.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Amenities:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.society.amenities.slice(0,5).map((E,P)=>e.jsx(ge,{variant:"outline",className:"text-xs",children:E},P)),g.society.amenities.length>5&&e.jsxs(ge,{variant:"outline",className:"text-xs",children:["+",g.society.amenities.length-5," more"]})]})]}),e.jsx(Gs,{}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Invited by: ",g.invitedBy.fullName||g.invitedBy.phone]}),e.jsxs("p",{children:["Role: ",e.jsx("span",{className:"font-medium capitalize",children:g.invitationType.replace("_"," ")})]})]}),g.expiresAt&&!x&&e.jsxs("p",{className:"text-sm text-amber-600",children:["Expires on ",f(g.expiresAt)]})]}),e.jsxs(Bw,{className:"flex gap-2",children:[e.jsx(H,{className:"flex-1",onClick:()=>m(g._id,"accept"),disabled:x||l===g._id,children:l===g._id?e.jsxs(e.Fragment,{children:[e.jsx(Tr,{className:"h-4 w-4 mr-2 animate-spin"}),"Accepting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"Accept"]})}),e.jsxs(H,{variant:"outline",className:"flex-1",onClick:()=>m(g._id,"reject"),disabled:x||l===g._id,children:[e.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Decline"]})]})]},g._id)})})})]})}const mU=({societyId:r,onQuerySubmitted:t})=>{const[s,n]=h.useState(""),[i,l]=h.useState("other"),[c,d]=h.useState("medium"),[m,f]=h.useState(!1),{toast:y}=it(),g=[{value:"maintenance",label:"Maintenance"},{value:"amenities",label:"Amenities"},{value:"security",label:"Security"},{value:"billing",label:"Billing"},{value:"complaint",label:"Complaint"},{value:"suggestion",label:"Suggestion"},{value:"other",label:"Other"}],x=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],v=async b=>{if(b.preventDefault(),!s.trim()){y({title:"Error",description:"Please enter your query text",variant:"destructive"});return}if(s.trim().length>1e3){y({title:"Error",description:"Query text must be less than 1000 characters",variant:"destructive"});return}f(!0);try{const w=await re.submitQuery({societyId:r,queryText:s.trim(),category:i,priority:c});w.error?y({title:"Error",description:w.error,variant:"destructive"}):(y({title:"Success",description:"Your query has been submitted successfully"}),n(""),l("other"),d("medium"),t&&t())}catch(w){console.error("Error submitting query:",w),y({title:"Error",description:"Failed to submit query. Please try again.",variant:"destructive"})}finally{f(!1)}};return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"relative",children:[e.jsxs(be,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(Bt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Submit a Query"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Share your concerns, suggestions, or questions with the society management"})]}),e.jsx(X,{className:"relative",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"queryText",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Query *"}),e.jsx(rr,{id:"queryText",value:s,onChange:b=>n(b.target.value),placeholder:"Describe your query, concern, or suggestion...",className:"min-h-[120px] resize-none border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400",maxLength:1e3}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:"Be specific and clear in your description"}),e.jsxs("span",{children:[s.length,"/1000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),e.jsxs(Xe,{value:i,onValueChange:l,children:[e.jsx(Ye,{className:"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400",children:e.jsx(Je,{placeholder:"Select category"})}),e.jsx(Ke,{children:g.map(b=>e.jsx(te,{value:b.value,children:b.label},b.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"priority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Priority"}),e.jsxs(Xe,{value:c,onValueChange:d,children:[e.jsx(Ye,{className:"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400",children:e.jsx(Je,{placeholder:"Select priority"})}),e.jsx(Ke,{children:x.map(b=>e.jsx(te,{value:b.value,children:b.label},b.value))})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx(Jt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"Important:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" Your query will be visible to society management"}),e.jsx("li",{children:" You'll receive a notification when there's a response"}),e.jsx("li",{children:" Urgent queries will be prioritized for faster response"})]})]})]}),e.jsx(H,{type:"submit",disabled:m||!s.trim(),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group py-3",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Submitting Query..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform"}),"Submit Query"]})})]})})]})},hU=({societyId:r,refreshTrigger:t})=>{const[s,n]=h.useState([]),[i,l]=h.useState(!0),[c,d]=h.useState(null);it();const m=async()=>{var v;try{l(!0),d(null);const b={};r&&(b.societyId=r);const w=await re.getMyQueries(b);w.error?d(w.error):n(((v=w.data)==null?void 0:v.queries)||[])}catch(b){console.error("Error fetching queries:",b),d("Failed to fetch queries")}finally{l(!1)}};h.useEffect(()=>{m()},[r,t]);const f=v=>{switch(v){case"open":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"in_progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},y=v=>{switch(v){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},g=v=>{switch(v){case"maintenance":return"";case"amenities":return"";case"security":return"";case"billing":return"";case"complaint":return"";case"suggestion":return"";default:return""}},x=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ye,{className:"relative",children:e.jsxs(be,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(Bt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"My Queries"]})}),e.jsx(X,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your queries..."})]})})})]}):c?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-950 dark:to-pink-950",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 to-pink-500/10 dark:from-red-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Jt,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:"Error Loading Queries"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:c})]})]})})]}):s.length===0?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-8 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx(Bt,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No Queries Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You haven't submitted any queries yet. Submit your first query to get started!"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ye,{className:"relative",children:[e.jsxs(be,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(Bt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"My Queries (",s.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track the status of your submitted queries and responses"})]})]}),e.jsx("div",{className:"space-y-4",children:s.map(v=>{var b,w;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(X,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:g(v.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 capitalize",children:v.category.replace("_"," ")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((b=v.society)==null?void 0:b.name)||"Unknown Society"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:`px-3 py-1 rounded-full text-xs font-medium ${f(v.status)}`,children:v.status.replace("_"," ")}),e.jsx(ge,{className:`px-3 py-1 rounded-full text-xs font-medium ${y(v.priority)}`,children:v.priority})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:v.queryText})}),v.response&&e.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wt,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Response"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:v.response.text}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[e.jsx(ir,{className:"h-3 w-3"}),e.jsxs("span",{children:["By ",((w=v.response.respondedBy)==null?void 0:w.name)||"Society Admin"]}),e.jsx(tr,{className:"h-3 w-3 ml-2"}),e.jsx("span",{children:v.response.respondedAt?x(v.response.respondedAt):"Unknown"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Submitted ",v.createdAt?x(v.createdAt):"Unknown"]})]}),v.upvotes&&v.upvotes.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ew,{className:"h-4 w-4"}),e.jsxs("span",{children:[v.upvotes.length," upvotes"]})]})]}),v.status==="resolved"&&e.jsxs(ge,{className:"px-3 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",children:[e.jsx(wt,{className:"h-3 w-3 mr-1"}),"Resolved"]})]})]})]},v._id)})})]})},fU=()=>{const{user:r,profile:t}=Ft();hr();const[s,n]=h.useState(!0),[i,l]=h.useState([]),[c,d]=h.useState(null),[m,f]=h.useState([]),[y,g]=h.useState([]),[x,v]=h.useState({activeProjects:0,pendingVotes:0,totalUpdates:0,openQueries:0,approvalRate:0,participationRate:0}),[b,w]=h.useState("overview"),[N,C]=h.useState(0);h.useEffect(()=>{P(),q()},[]),h.useEffect(()=>{c&&O()},[c]),h.useEffect(()=>{E()},[m]);const E=()=>{const V=m.filter(Y=>Y.status!=="completed"&&Y.status!=="cancelled").length,k=m.filter(Y=>Y.status==="voting").length,R=m.reduce((Y,F)=>{var I;return Y+(((I=F.updates)==null?void 0:I.length)||0)},0),B=m.reduce((Y,F)=>{var I;return Y+(((I=F.queries)==null?void 0:I.filter(D=>D.status==="open").length)||0)},0),_=m.filter(Y=>{var F;return(F=Y.votingResults)==null?void 0:F.isApproved}).length,$=m.length>0?Math.round(_/m.length*100):0,T=m.filter(Y=>Y.votingResults&&Y.votingResults.votesCast>0).length,Q=m.length>0?Math.round(T/m.length*100):0;v({activeProjects:V,pendingVotes:k,totalUpdates:R,openQueries:B,approvalRate:$,participationRate:Q})},P=async()=>{try{n(!0),console.log("Fetching societies for user...");const V=await re.getMySocieties();if(console.log("Societies API response:",V),V.error){console.error("Error fetching societies:",V.error),Ue({title:"Error",description:"Failed to fetch societies",variant:"destructive"});return}const k=V.data.societies||[];console.log("Setting societies:",k),l(k),k.length>0&&(console.log("Setting selected society:",k[0]),d(k[0]))}catch(V){console.error("Error fetching societies:",V),Ue({title:"Error",description:"Failed to fetch societies",variant:"destructive"})}finally{n(!1)}},O=async()=>{if(c)try{const V=await re.getRedevelopmentProjects(`?society_id=${c._id}`);if(V.error){console.error("Error fetching projects:",V.error);return}f(V.data.projects||[])}catch(V){console.error("Error fetching projects:",V)}},q=async()=>{try{const V=await re.get("/notifications");if(V.error){console.error("Error fetching notifications:",V.error);return}g(V.data.notifications||[])}catch(V){console.error("Error fetching notifications:",V)}},A=async V=>{try{await re.post(`/notifications/${V}/read`,{}),q(),Ue({title:"Success",description:"Notification marked as read"})}catch(k){console.error("Error marking notification as read:",k)}},M=V=>new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl w-1/3 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(V=>e.jsx(G,{className:"animate-pulse border-0 shadow-lg",children:e.jsx(X,{className:"p-6",children:e.jsx("div",{className:"h-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})})},V))})]})})]}):i.length===0?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Society Member Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2 text-lg",children:["Welcome, ",(t==null?void 0:t.fullName)||(r==null?void 0:r.phone)]})]}),e.jsxs(gs,{defaultValue:"invitations",className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full max-w-md mx-auto grid-cols-2 h-12 bg-white shadow-md rounded-xl",children:[e.jsxs(Ge,{value:"invitations",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white",children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Invitations"]}),e.jsxs(Ge,{value:"overview",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Overview"]})]}),e.jsx(nt,{value:"invitations",children:e.jsx(Ub,{})}),e.jsx(nt,{value:"overview",children:e.jsx(G,{className:"border-0 shadow-2xl bg-gradient-to-br from-white to-gray-50",children:e.jsxs(X,{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex p-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-6",children:e.jsx(jt,{className:"h-16 w-16 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"No Society Memberships"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto text-lg",children:"You are not a member of any society yet. Check your invitations to join a society and unlock amazing features!"}),e.jsxs(H,{onClick:()=>w("invitations"),className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 px-8 py-3 rounded-xl",size:"lg",children:[e.jsx(pr,{className:"h-5 w-5 mr-2"}),"Check Invitations",e.jsx(qn,{className:"h-5 w-5 ml-2"})]})]})})})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(Es,{}),e.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-6 sm:py-8",children:e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center gap-2 sm:gap-3",children:[e.jsx(Oa,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600"}),e.jsx("span",{className:"hidden sm:inline",children:"Member Dashboard"}),e.jsx("span",{className:"sm:hidden",children:"Dashboard"})]}),e.jsxs("p",{className:"text-gray-600 mt-3 sm:mt-4 text-base sm:text-lg",children:["Welcome back, ",e.jsx("span",{className:"font-semibold text-indigo-600",children:(t==null?void 0:t.fullName)||(r==null?void 0:r.phone)})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:i.length>1&&e.jsx("select",{value:(c==null?void 0:c._id)||"",onChange:V=>{const k=i.find(R=>R._id===V.target.value);d(k||null)},className:"px-4 py-3 border-2 border-indigo-200 rounded-xl bg-white shadow-md hover:border-indigo-400 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 font-medium",children:i.map(V=>e.jsx("option",{value:V._id,children:V.name},V._id))})})]}),c&&e.jsxs(G,{className:"border-0 shadow-2xl bg-gradient-to-br from-white to-gray-50 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl"}),e.jsx(ye,{className:"relative pb-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-500 shadow-lg",children:e.jsx(jt,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx(be,{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:c.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.isMember&&!c.isOwner&&e.jsxs(ge,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md",children:[e.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Active Member"]}),c.isOwner&&e.jsxs(ge,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-0 shadow-md",children:[e.jsx(Co,{className:"h-3 w-3 mr-1"}),"Society Owner"]}),c.society_type&&e.jsx(ge,{variant:"outline",className:"border-indigo-300 text-indigo-700",children:c.society_type})]})]})]})})}),e.jsx(X,{className:"relative",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-indigo-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Address"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-lg",children:c.address})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Location"})]}),e.jsxs("p",{className:"font-bold text-gray-800 text-lg",children:[c.city,", ",c.state]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Et,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Flats"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-3xl",children:c.totalFlats})]})]})})]}),e.jsxs(gs,{value:b,onValueChange:w,className:"space-y-6 sm:space-y-8",children:[e.jsxs(os,{className:"grid w-full grid-cols-3 sm:grid-cols-5 h-12 sm:h-14 bg-white shadow-lg rounded-xl sm:rounded-2xl p-1 sm:p-2",children:[e.jsxs(Ge,{value:"overview",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(oR,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Overview"})]}),e.jsxs(Ge,{value:"invitations",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(pr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Invitations"}),e.jsx("span",{className:"sm:hidden",children:"Invites"})]}),e.jsxs(Ge,{value:"redevelopment",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(jt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Projects"}),e.jsx("span",{className:"sm:hidden",children:"Projects"})]}),e.jsxs(Ge,{value:"notifications",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 relative text-xs sm:text-sm",children:[e.jsx(Ma,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Alerts"}),e.jsx("span",{className:"sm:hidden",children:"Alerts"}),y.filter(V=>!V.isRead).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",children:y.filter(V=>!V.isRead).length})]}),e.jsxs(Ge,{value:"queries",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(Bt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Queries"}),e.jsx("span",{className:"sm:hidden",children:"Queries"})]})]}),e.jsx(nt,{value:"overview",className:"space-y-6 sm:space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(X,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-2",children:"Active Projects"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:x.activeProjects}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Currently running"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(jt,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-orange-500 to-red-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(X,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm font-semibold mb-2",children:"Pending Votes"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:x.pendingVotes}),e.jsx("p",{className:"text-orange-200 text-sm",children:"Action required"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Qs,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-500 to-pink-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(X,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-2",children:"Recent Updates"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:x.totalUpdates}),e.jsx("p",{className:"text-purple-200 text-sm",children:"New announcements"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Ma,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-green-500 to-emerald-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(X,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-semibold mb-2",children:"Approval Rate"}),e.jsxs("p",{className:"text-5xl font-bold mb-1",children:[x.approvalRate,"%"]}),e.jsx("p",{className:"text-green-200 text-sm",children:"Project success"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(za,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-yellow-500 to-orange-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(X,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm font-semibold mb-2",children:"Open Queries"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:x.openQueries}),e.jsx("p",{className:"text-yellow-200 text-sm",children:"Need attention"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Bt,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(X,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-100 text-sm font-semibold mb-2",children:"Participation"}),e.jsxs("p",{className:"text-5xl font-bold mb-1",children:[x.participationRate,"%"]}),e.jsx("p",{className:"text-indigo-200 text-sm",children:"Member engagement"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Pt,{className:"h-10 w-10"})})]})})]})]})}),e.jsx(nt,{value:"invitations",children:e.jsx(Ub,{})}),e.jsx(nt,{value:"redevelopment",children:e.jsx(Zk,{societyId:c==null?void 0:c._id,isOwner:!1})}),e.jsx(nt,{value:"notifications",className:"space-y-6",children:y.length===0?e.jsx(G,{className:"border-0 shadow-2xl bg-gradient-to-br from-white to-gray-50",children:e.jsxs(X,{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex p-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-6",children:e.jsx(Ma,{className:"h-16 w-16 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"No Notifications"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto text-lg",children:"You're all caught up! No new notifications at the moment."})]})}):e.jsx("div",{className:"space-y-4",children:y.map(V=>e.jsx(G,{className:`border-2 ${V.isRead?"border-gray-200":"border-indigo-400 bg-gradient-to-r from-indigo-50 to-purple-50"} hover:shadow-lg transition-all duration-300 overflow-hidden group`,children:e.jsx(X,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${V.isRead?"bg-gray-200":"bg-gradient-to-r from-indigo-500 to-purple-500"} group-hover:scale-110 transition-transform duration-300`,children:V.type.includes("vote")||V.type.includes("voting")?e.jsx(Qs,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):V.type.includes("update")||V.type.includes("project")?e.jsx(za,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):V.type.includes("query")||V.type.includes("message")?e.jsx(Bt,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):V.type.includes("invitation")?e.jsx(pr,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):e.jsx(Ma,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-800",children:V.title}),!V.isRead&&e.jsx(ge,{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white border-0 shadow-md animate-pulse",children:"New"}),V.priority==="urgent"&&e.jsxs(ge,{className:"bg-gradient-to-r from-red-500 to-red-600 text-white border-0 shadow-md",children:[e.jsx(Jt,{className:"h-3 w-3 mr-1"}),"Urgent"]})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:V.message}),e.jsx("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"h-4 w-4"}),M(V.createdAt)]})})]})})}),!V.isRead&&e.jsxs(H,{onClick:()=>A(V._id),variant:"outline",size:"sm",className:"border-2 border-indigo-200 hover:border-indigo-400 hover:bg-indigo-50 rounded-xl",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"Mark Read"]})]})})},V._id))})}),e.jsx(nt,{value:"queries",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(mU,{societyId:(c==null?void 0:c._id)||"",onQuerySubmitted:()=>{C(V=>V+1)}}),e.jsx(hU,{societyId:c==null?void 0:c._id,refreshTrigger:N})]})})]})]})})]})},pU=()=>{var C,E,P,O,q,A,M,V;const{id:r}=tc(),t=hr(),[s,n]=h.useState(null),[i,l]=h.useState([]),[c,d]=h.useState(!0),[m,f]=h.useState(!1),[y,g]=h.useState("overview");h.useEffect(()=>{r&&(x(),v())},[r]);const x=async()=>{d(!0);try{console.log("Fetching society details for ID:",r);const k=await re.getSociety(r);if(console.log("Society API response:",k),k.error){console.error("Society API error:",k.error),Ue({title:"Error",description:k.error,variant:"destructive"});return}console.log("Setting society data:",k.data);const R=k.data.society||k.data;if(!R){console.error("No society data found in response"),Ue({title:"Error",description:"Society not found or no data available.",variant:"destructive"});return}n(R)}catch(k){console.error("Error fetching society:",k),Ue({title:"Error",description:"Failed to load society details.",variant:"destructive"})}finally{d(!1)}},v=async()=>{if(r){f(!0);try{console.log("Fetching society members for ID:",r);const k=await re.getSocietyMembers(r);if(console.log("Society members API response:",k),k.error){console.error("Society members API error:",k.error);return}const R=k.data.members||k.data||[];console.log("Setting members data:",R),l(R)}catch(k){console.error("Error fetching society members:",k)}finally{f(!1)}}};if(c)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(_s,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}),e.jsx(bn,{})]});if(!s)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(_s,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(G,{children:e.jsxs(X,{className:"text-center py-12",children:[e.jsx(jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Society Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The society you're looking for doesn't exist or has been removed."}),e.jsxs(H,{onClick:()=>t("/"),children:[e.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})}),e.jsx(bn,{})]});const b=((E=(C=s.images)==null?void 0:C.find(k=>k.isPrimary))==null?void 0:E.url)||((O=(P=s.images)==null?void 0:P[0])==null?void 0:O.url),w=i.filter(k=>k.status==="active"),N=i.filter(k=>k.status==="pending");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(_s,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(H,{variant:"outline",onClick:()=>t(-1),className:"bg-white/80 backdrop-blur-sm border-2 border-indigo-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-300 rounded-xl px-6",children:[e.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),e.jsx("div",{className:"relative mb-16",children:b&&e.jsxs("div",{className:"relative h-[400px] md:h-[500px] rounded-2xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:b,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 text-white",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-0 shadow-lg",children:[e.jsx(Bn,{className:"h-3 w-3 mr-1"}),s.society_type]}),e.jsxs(ge,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[e.jsx(Pt,{className:"h-3 w-3 mr-1"}),w.length," Members"]})]}),e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-lg md:text-xl mb-4",children:[e.jsx(Ot,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-200"}),e.jsxs("span",{className:"text-blue-100",children:[s.city,", ",s.state]})]}),e.jsx("p",{className:"text-blue-100 text-base md:text-lg max-w-2xl",children:s.description||"A well-maintained society with modern amenities and excellent community living."})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Et,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.totalFlats}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Flats"})]})}),e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Pt,{className:"h-6 w-6 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:w.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"})]})}),e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Un,{className:"h-6 w-6 text-yellow-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:((q=s.amenities)==null?void 0:q.length)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Amenities"})]})}),e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(X,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(tr,{className:"h-6 w-6 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:new Date(s.createdAt).getFullYear()}),e.jsx("p",{className:"text-sm text-gray-600",children:"Established"})]})})]})}),e.jsx("div",{className:"pt-8",children:e.jsxs(gs,{value:y,onValueChange:g,className:"space-y-6",children:[e.jsxs(os,{className:"grid w-full grid-cols-3 h-12 md:h-14 bg-white shadow-lg rounded-2xl p-1 md:p-2",children:[e.jsxs(Ge,{value:"overview",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs md:text-sm",children:[e.jsx(jt,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Info"})]}),e.jsxs(Ge,{value:"members",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs md:text-sm",children:[e.jsx(Pt,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),e.jsxs("span",{className:"hidden sm:inline",children:["Members (",w.length,")"]}),e.jsxs("span",{className:"sm:hidden",children:["(",w.length,")"]})]}),e.jsxs(Ge,{value:"amenities",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-yellow-500 data-[state=active]:to-orange-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs md:text-sm",children:[e.jsx(Un,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Amenities"}),e.jsx("span",{className:"sm:hidden",children:"Features"})]})]}),e.jsx(nt,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[e.jsx(jt,{className:"h-6 w-6 text-indigo-600"}),"Society Information"]})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-indigo-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Complete Address"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-lg",children:s.address}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.city,", ",s.state," - ",s.pincode]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Et,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Flats"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-2xl",children:s.totalFlats})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(jt,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Society Type"})]}),e.jsx(ge,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:s.society_type})]})]})]}),s.description&&e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(tr,{className:"h-5 w-5 text-yellow-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Registration Date"})]}),e.jsx("p",{className:"font-bold text-gray-800",children:new Date(s.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Dr,{className:"h-6 w-6 text-green-600"}),"Contact Information"]})}),e.jsxs(X,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Co,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Society Owner"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-lg",children:((A=s.owner)==null?void 0:A.fullName)||"Not specified"}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[e.jsx(Dr,{className:"h-4 w-4"}),(M=s.owner)==null?void 0:M.phone]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(pr,{className:"h-5 w-5 text-blue-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Contact Methods"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Society Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Contact the owner for inquiries and support"})]})]})]})]})]})}),e.jsx(nt,{value:"members",className:"space-y-6",children:e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Pt,{className:"h-6 w-6 text-green-600"}),"Society Members (",w.length," Active)"]})}),e.jsx(X,{children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-gray-500",children:"No members have been added to this society yet."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.filter(k=>k.role==="society_owner"||k.role==="secretary"||k.role==="treasurer").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Committee"})]})]}),e.jsxs("div",{className:"space-y-4",children:[w.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(wt,{className:"h-5 w-5 text-green-600"}),"Active Members (",w.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(k=>{var R;return e.jsx(G,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-green-50 to-emerald-50",children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold text-lg",children:((R=k.fullName)==null?void 0:R.charAt(0))||k.phone.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.fullName||"Member"}),e.jsx("p",{className:"text-sm text-gray-600",children:k.flatNumber?`Flat ${k.flatNumber}`:"No flat assigned"}),k.blockNumber&&e.jsx("p",{className:"text-xs text-gray-500",children:k.blockNumber}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ge,{className:`text-xs ${k.role==="society_owner"?"bg-gradient-to-r from-purple-500 to-pink-500":k.role==="secretary"?"bg-gradient-to-r from-blue-500 to-indigo-500":k.role==="treasurer"?"bg-gradient-to-r from-yellow-500 to-orange-500":k.role==="committee_member"?"bg-gradient-to-r from-indigo-500 to-purple-500":"bg-gradient-to-r from-green-500 to-emerald-500"} text-white border-0`,children:k.role==="society_owner"?"Owner":k.role==="committee_member"?"Committee":k.role.charAt(0).toUpperCase()+k.role.slice(1)}),k.ownershipType&&e.jsx(ge,{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white border-0 text-xs",children:k.ownershipType.charAt(0).toUpperCase()+k.ownershipType.slice(1)})]})]})]})})},k.id)})})]}),N.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5 text-yellow-600"}),"Pending Members (",N.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(k=>{var R;return e.jsx(G,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-yellow-50 to-orange-50",children:e.jsx(X,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center text-white font-bold text-lg",children:((R=k.fullName)==null?void 0:R.charAt(0))||k.phone.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.fullName||"Member"}),e.jsx("p",{className:"text-sm text-gray-600",children:k.flatNumber?`Flat ${k.flatNumber}`:"No flat assigned"}),k.blockNumber&&e.jsx("p",{className:"text-xs text-gray-500",children:k.blockNumber}),e.jsxs(ge,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 text-xs mt-1",children:[e.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Pending"]})]})]})})},k.id)})})]})]})]})})]})}),e.jsx(nt,{value:"amenities",className:"space-y-6",children:e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ye,{children:e.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Un,{className:"h-6 w-6 text-yellow-600"}),"Society Amenities (",((V=s.amenities)==null?void 0:V.length)||0,")"]})}),e.jsx(X,{children:s.amenities&&s.amenities.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.amenities.map((k,R)=>e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center",children:e.jsx(Un,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-semibold text-gray-800",children:k})]})},R))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Un,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Amenities Listed"}),e.jsx("p",{className:"text-gray-500",children:"Amenities information will be updated soon."})]})})]})})]})})]})}),e.jsx(bn,{})]})},gU=h.lazy(()=>A4(()=>import("./Careers-OETc9nCq.js"),[])),xU=new iE,vU=()=>e.jsx(cE,{client:xU,children:e.jsxs(j5,{children:[e.jsx(aT,{}),e.jsx(FT,{}),e.jsx(D_,{children:e.jsx(h.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:e.jsxs(S_,{children:[e.jsx(It,{path:"/",element:e.jsx(G6,{})}),e.jsx(It,{path:"/about",element:e.jsx(Q6,{})}),e.jsx(It,{path:"/contact",element:e.jsx(VO,{})}),e.jsx(It,{path:"/profile",element:e.jsx(UO,{})}),e.jsx(It,{path:"/faq",element:e.jsx(uL,{})}),e.jsx(It,{path:"/properties",element:e.jsx(_O,{})}),e.jsx(It,{path:"/property/:id",element:e.jsx(DO,{})}),e.jsx(It,{path:"/projects",element:e.jsx(AO,{})}),e.jsx(It,{path:"/project/:id",element:e.jsx(IO,{})}),e.jsx(It,{path:"/societies/:id",element:e.jsx(pU,{})}),e.jsx(It,{path:"/rent",element:e.jsx($F,{})}),e.jsx(It,{path:"/brokers",element:e.jsx(KF,{})}),e.jsx(It,{path:"/blog",element:e.jsx(OO,{})}),e.jsx(It,{path:"/post-property",element:e.jsx(FO,{})}),e.jsx(It,{path:"/edit-property/:id",element:e.jsx(LO,{})}),e.jsx(It,{path:"/submit-requirement",element:e.jsx($O,{})}),e.jsx(It,{path:"/auth",element:e.jsx(LF,{})}),e.jsx(It,{path:"/member-registration",element:e.jsx(hL,{})}),e.jsx(It,{path:"/role-selection",element:e.jsx(P5,{})}),e.jsx(It,{path:"/careers",element:e.jsx(gU,{})}),e.jsx(It,{path:"/admin/dashboard",element:e.jsx(oi,{requiredRole:"admin",children:e.jsx(gL,{})})}),e.jsx(It,{path:"/buyer-seller/dashboard",element:e.jsx(oi,{requiredRole:"buyer_seller",children:e.jsx(bL,{})})}),e.jsx(It,{path:"/broker/dashboard",element:e.jsx(oi,{requiredRole:"broker",children:e.jsx(jL,{})})}),e.jsx(It,{path:"/developer/dashboard",element:e.jsx(oi,{requiredRole:"developer",children:e.jsx(EL,{})})}),e.jsx(It,{path:"/society-owner/dashboard",element:e.jsx(oi,{requiredRole:"society_owner",children:e.jsx(uU,{})})}),e.jsx(It,{path:"/society-member/dashboard",element:e.jsx(oi,{requiredRole:"society_member",children:e.jsx(fU,{})})}),e.jsx(It,{path:"*",element:e.jsx(mL,{})})]})})})]})});R4.createRoot(document.getElementById("root")).render(e.jsx(S5,{children:e.jsx(vU,{})}));export{yr as B,Gt as C,Hl as D,Yd as G,Se as I,ne as L,Ot as M,Xe as S,rr as T,Pt as U,G as a,X as b,De as c,ye as d,be as e,ge as f,Wl as g,H as h,Ye as i,e as j,Je as k,Ke as l,te as m,h as r,it as u};
