var qP=Object.defineProperty;var O0=t=>{throw TypeError(t)};var WP=(t,r,s)=>r in t?qP(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var Wh=(t,r,s)=>WP(t,typeof r!="symbol"?r+"":r,s),Hh=(t,r,s)=>r.has(t)||O0("Cannot "+s);var be=(t,r,s)=>(Hh(t,r,"read from private field"),s?s.call(t):r.get(t)),kt=(t,r,s)=>r.has(t)?O0("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,s),ct=(t,r,s,a)=>(Hh(t,r,"write to private field"),a?a.call(t,s):r.set(t,s),s),Ar=(t,r,s)=>(Hh(t,r,"access private method"),s);var _d=(t,r,s,a)=>({set _(i){ct(t,r,i,s)},get _(){return be(t,r,a)}});function HP(t,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function Nb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yh={exports:{}},kl={},Kh={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function YP(){if(F0)return ft;F0=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function w(B,U,J){this.props=B,this.context=U,this.refs=N,this.updater=J||v}w.prototype.isReactComponent={},w.prototype.setState=function(B,U){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,U,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=w.prototype;function _(B,U,J){this.props=B,this.context=U,this.refs=N,this.updater=J||v}var C=_.prototype=new P;C.constructor=_,j(C,w.prototype),C.isPureReactComponent=!0;var L=Array.isArray,q=Object.prototype.hasOwnProperty,A={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function V(B,U,J){var se,ue={},ge=null,oe=null;if(U!=null)for(se in U.ref!==void 0&&(oe=U.ref),U.key!==void 0&&(ge=""+U.key),U)q.call(U,se)&&!M.hasOwnProperty(se)&&(ue[se]=U[se]);var de=arguments.length-2;if(de===1)ue.children=J;else if(1<de){for(var le=Array(de),he=0;he<de;he++)le[he]=arguments[he+2];ue.children=le}if(B&&B.defaultProps)for(se in de=B.defaultProps,de)ue[se]===void 0&&(ue[se]=de[se]);return{$$typeof:t,type:B,key:ge,ref:oe,props:ue,_owner:A.current}}function k(B,U){return{$$typeof:t,type:B.type,key:U,ref:B.ref,props:B.props,_owner:B._owner}}function T(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function z(B){var U={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(J){return U[J]})}var E=/\/+/g;function $(B,U){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):U.toString(36)}function R(B,U,J,se,ue){var ge=typeof B;(ge==="undefined"||ge==="boolean")&&(B=null);var oe=!1;if(B===null)oe=!0;else switch(ge){case"string":case"number":oe=!0;break;case"object":switch(B.$$typeof){case t:case r:oe=!0}}if(oe)return oe=B,ue=ue(oe),B=se===""?"."+$(oe,0):se,L(ue)?(J="",B!=null&&(J=B.replace(E,"$&/")+"/"),R(ue,U,J,"",function(he){return he})):ue!=null&&(T(ue)&&(ue=k(ue,J+(!ue.key||oe&&oe.key===ue.key?"":(""+ue.key).replace(E,"$&/")+"/")+B)),U.push(ue)),1;if(oe=0,se=se===""?".":se+":",L(B))for(var de=0;de<B.length;de++){ge=B[de];var le=se+$(ge,de);oe+=R(ge,U,J,le,ue)}else if(le=g(B),typeof le=="function")for(B=le.call(B),de=0;!(ge=B.next()).done;)ge=ge.value,le=se+$(ge,de++),oe+=R(ge,U,J,le,ue);else if(ge==="object")throw U=String(B),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return oe}function X(B,U,J){if(B==null)return B;var se=[],ue=0;return R(B,se,"","",function(ge){return U.call(J,ge,ue++)}),se}function Y(B){if(B._status===-1){var U=B._result;U=U(),U.then(function(J){(B._status===0||B._status===-1)&&(B._status=1,B._result=J)},function(J){(B._status===0||B._status===-1)&&(B._status=2,B._result=J)}),B._status===-1&&(B._status=0,B._result=U)}if(B._status===1)return B._result.default;throw B._result}var O={current:null},I={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:I,ReactCurrentOwner:A};function W(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:X,forEach:function(B,U,J){X(B,function(){U.apply(this,arguments)},J)},count:function(B){var U=0;return X(B,function(){U++}),U},toArray:function(B){return X(B,function(U){return U})||[]},only:function(B){if(!T(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ft.Component=w,ft.Fragment=s,ft.Profiler=i,ft.PureComponent=_,ft.StrictMode=a,ft.Suspense=h,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,ft.act=W,ft.cloneElement=function(B,U,J){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var se=j({},B.props),ue=B.key,ge=B.ref,oe=B._owner;if(U!=null){if(U.ref!==void 0&&(ge=U.ref,oe=A.current),U.key!==void 0&&(ue=""+U.key),B.type&&B.type.defaultProps)var de=B.type.defaultProps;for(le in U)q.call(U,le)&&!M.hasOwnProperty(le)&&(se[le]=U[le]===void 0&&de!==void 0?de[le]:U[le])}var le=arguments.length-2;if(le===1)se.children=J;else if(1<le){de=Array(le);for(var he=0;he<le;he++)de[he]=arguments[he+2];se.children=de}return{$$typeof:t,type:B.type,key:ue,ref:ge,props:se,_owner:oe}},ft.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},ft.createElement=V,ft.createFactory=function(B){var U=V.bind(null,B);return U.type=B,U},ft.createRef=function(){return{current:null}},ft.forwardRef=function(B){return{$$typeof:u,render:B}},ft.isValidElement=T,ft.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Y}},ft.memo=function(B,U){return{$$typeof:f,type:B,compare:U===void 0?null:U}},ft.startTransition=function(B){var U=I.transition;I.transition={};try{B()}finally{I.transition=U}},ft.unstable_act=W,ft.useCallback=function(B,U){return O.current.useCallback(B,U)},ft.useContext=function(B){return O.current.useContext(B)},ft.useDebugValue=function(){},ft.useDeferredValue=function(B){return O.current.useDeferredValue(B)},ft.useEffect=function(B,U){return O.current.useEffect(B,U)},ft.useId=function(){return O.current.useId()},ft.useImperativeHandle=function(B,U,J){return O.current.useImperativeHandle(B,U,J)},ft.useInsertionEffect=function(B,U){return O.current.useInsertionEffect(B,U)},ft.useLayoutEffect=function(B,U){return O.current.useLayoutEffect(B,U)},ft.useMemo=function(B,U){return O.current.useMemo(B,U)},ft.useReducer=function(B,U,J){return O.current.useReducer(B,U,J)},ft.useRef=function(B){return O.current.useRef(B)},ft.useState=function(B){return O.current.useState(B)},ft.useSyncExternalStore=function(B,U,J){return O.current.useSyncExternalStore(B,U,J)},ft.useTransition=function(){return O.current.useTransition()},ft.version="18.3.1",ft}var L0;function ju(){return L0||(L0=1,Kh.exports=YP()),Kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function KP(){if($0)return kl;$0=1;var t=ju(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,f){var y,x={},g=null,v=null;f!==void 0&&(g=""+f),h.key!==void 0&&(g=""+h.key),h.ref!==void 0&&(v=h.ref);for(y in h)a.call(h,y)&&!l.hasOwnProperty(y)&&(x[y]=h[y]);if(u&&u.defaultProps)for(y in h=u.defaultProps,h)x[y]===void 0&&(x[y]=h[y]);return{$$typeof:r,type:u,key:g,ref:v,props:x,_owner:i.current}}return kl.Fragment=s,kl.jsx=d,kl.jsxs=d,kl}var V0;function GP(){return V0||(V0=1,Yh.exports=KP()),Yh.exports}var e=GP(),Ed={},Gh={exports:{}},Xr={},Qh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function QP(){return B0||(B0=1,(function(t){function r(I,D){var W=I.length;I.push(D);e:for(;0<W;){var B=W-1>>>1,U=I[B];if(0<i(U,D))I[B]=D,I[W]=U,W=B;else break e}}function s(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var D=I[0],W=I.pop();if(W!==D){I[0]=W;e:for(var B=0,U=I.length,J=U>>>1;B<J;){var se=2*(B+1)-1,ue=I[se],ge=se+1,oe=I[ge];if(0>i(ue,W))ge<U&&0>i(oe,ue)?(I[B]=oe,I[ge]=W,B=ge):(I[B]=ue,I[se]=W,B=se);else if(ge<U&&0>i(oe,W))I[B]=oe,I[ge]=W,B=ge;else break e}}return D}function i(I,D){var W=I.sortIndex-D.sortIndex;return W!==0?W:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var h=[],f=[],y=1,x=null,g=3,v=!1,j=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(I){for(var D=s(f);D!==null;){if(D.callback===null)a(f);else if(D.startTime<=I)a(f),D.sortIndex=D.expirationTime,r(h,D);else break;D=s(f)}}function L(I){if(N=!1,C(I),!j)if(s(h)!==null)j=!0,Y(q);else{var D=s(f);D!==null&&O(L,D.startTime-I)}}function q(I,D){j=!1,N&&(N=!1,P(V),V=-1),v=!0;var W=g;try{for(C(D),x=s(h);x!==null&&(!(x.expirationTime>D)||I&&!z());){var B=x.callback;if(typeof B=="function"){x.callback=null,g=x.priorityLevel;var U=B(x.expirationTime<=D);D=t.unstable_now(),typeof U=="function"?x.callback=U:x===s(h)&&a(h),C(D)}else a(h);x=s(h)}if(x!==null)var J=!0;else{var se=s(f);se!==null&&O(L,se.startTime-D),J=!1}return J}finally{x=null,g=W,v=!1}}var A=!1,M=null,V=-1,k=5,T=-1;function z(){return!(t.unstable_now()-T<k)}function E(){if(M!==null){var I=t.unstable_now();T=I;var D=!0;try{D=M(!0,I)}finally{D?$():(A=!1,M=null)}}else A=!1}var $;if(typeof _=="function")$=function(){_(E)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,X=R.port2;R.port1.onmessage=E,$=function(){X.postMessage(null)}}else $=function(){w(E,0)};function Y(I){M=I,A||(A=!0,$())}function O(I,D){V=w(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){j||v||(j=!0,Y(q))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return s(h)},t.unstable_next=function(I){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var W=g;g=D;try{return I()}finally{g=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=g;g=I;try{return D()}finally{g=W}},t.unstable_scheduleCallback=function(I,D,W){var B=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,I){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=W+U,I={id:y++,callback:D,priorityLevel:I,startTime:W,expirationTime:U,sortIndex:-1},W>B?(I.sortIndex=W,r(f,I),s(h)===null&&I===s(f)&&(N?(P(V),V=-1):N=!0,O(L,W-B))):(I.sortIndex=U,r(h,I),j||v||(j=!0,Y(q))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var D=g;return function(){var W=g;g=D;try{return I.apply(this,arguments)}finally{g=W}}}})(Xh)),Xh}var U0;function XP(){return U0||(U0=1,Qh.exports=QP()),Qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function JP(){if(z0)return Xr;z0=1;var t=ju(),r=XP();function s(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function l(n,o){d(n,o),d(n+"Capture",o)}function d(n,o){for(i[n]=o,n=0;n<o.length;n++)a.add(o[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function g(n){return h.call(x,n)?!0:h.call(y,n)?!1:f.test(n)?x[n]=!0:(y[n]=!0,!1)}function v(n,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,o,c,p){if(o===null||typeof o>"u"||v(n,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(n,o,c,p,b,S,F){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=b,this.mustUseProperty=c,this.propertyName=n,this.type=o,this.sanitizeURL=S,this.removeEmptyString=F}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){w[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];w[o]=new N(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){w[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){w[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){w[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){w[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){w[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){w[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){w[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function _(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(P,_);w[o]=new N(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(P,_);w[o]=new N(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(P,_);w[o]=new N(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){w[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),w.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){w[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function C(n,o,c,p){var b=w.hasOwnProperty(o)?w[o]:null;(b!==null?b.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,c,b,p)&&(c=null),p||b===null?g(o)&&(c===null?n.removeAttribute(o):n.setAttribute(o,""+c)):b.mustUseProperty?n[b.propertyName]=c===null?b.type===3?!1:"":c:(o=b.attributeName,p=b.attributeNamespace,c===null?n.removeAttribute(o):(b=b.type,c=b===3||b===4&&c===!0?"":""+c,p?n.setAttributeNS(p,o,c):n.setAttribute(o,c))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),z=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),I=Symbol.iterator;function D(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,B;function U(n){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+n}var J=!1;function se(n,o){if(!n||J)return"";J=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(pe){var p=pe}Reflect.construct(n,[],o)}else{try{o.call()}catch(pe){p=pe}n.call(o.prototype)}else{try{throw Error()}catch(pe){p=pe}n()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var b=pe.stack.split(`
`),S=p.stack.split(`
`),F=b.length-1,K=S.length-1;1<=F&&0<=K&&b[F]!==S[K];)K--;for(;1<=F&&0<=K;F--,K--)if(b[F]!==S[K]){if(F!==1||K!==1)do if(F--,K--,0>K||b[F]!==S[K]){var Z=`
`+b[F].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=F&&0<=K);break}}}finally{J=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?U(n):""}function ue(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=se(n.type,!1),n;case 11:return n=se(n.type.render,!1),n;case 1:return n=se(n.type,!0),n;default:return""}}function ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case A:return"Portal";case k:return"Profiler";case V:return"StrictMode";case $:return"Suspense";case R:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case z:return(n.displayName||"Context")+".Consumer";case T:return(n._context.displayName||"Context")+".Provider";case E:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return o=n.displayName||null,o!==null?o:ge(n.type)||"Memo";case Y:o=n._payload,n=n._init;try{return ge(n(o))}catch{}}return null}function oe(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(o);case 8:return o===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function le(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function he(n){var o=le(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),p=""+n[o];if(!n.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,S=c.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return b.call(this)},set:function(F){p=""+F,S.call(this,F)}}),Object.defineProperty(n,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function fe(n){n._valueTracker||(n._valueTracker=he(n))}function we(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return n&&(p=le(n)?n.checked?"true":"false":n.value),n=p,n!==c?(o.setValue(n),!0):!1}function Oe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Te(n,o){var c=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function pt(n,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=de(o.value!=null?o.value:c),n._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ot(n,o){o=o.checked,o!=null&&C(n,"checked",o,!1)}function Yt(n,o){Ot(n,o);var c=de(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?Bt(n,o.type,c):o.hasOwnProperty("defaultValue")&&Bt(n,o.type,de(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function or(n,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,c||o===n.value||(n.value=o),n.defaultValue=o}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Bt(n,o,c){(o!=="number"||Oe(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var er=Array.isArray;function ae(n,o,c,p){if(n=n.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<n.length;c++)b=o.hasOwnProperty("$"+n[c].value),n[c].selected!==b&&(n[c].selected=b),b&&p&&(n[c].defaultSelected=!0)}else{for(c=""+de(c),o=null,b=0;b<n.length;b++){if(n[b].value===c){n[b].selected=!0,p&&(n[b].defaultSelected=!0);return}o!==null||n[b].disabled||(o=n[b])}o!==null&&(o.selected=!0)}}function Le(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ie(n,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(s(92));if(er(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),c=o}n._wrapperState={initialValue:de(c)}}function _e(n,o){var c=de(o.value),p=de(o.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),o.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),p!=null&&(n.defaultValue=""+p)}function Ae(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Ie(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Ie(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ht,wt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,b){MSApp.execUnsafeLocalFunction(function(){return n(o,c,p,b)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ht.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function qe(n,o){if(o){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=o;return}}n.textContent=o}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},We=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(n){We.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),gt[o]=gt[n]})});function jt(n,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||gt.hasOwnProperty(n)&&gt[n]?(""+o).trim():o+"px"}function Dt(n,o){n=n.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,b=jt(c,o[c],p);c==="float"&&(c="cssFloat"),p?n.setProperty(c,b):n[c]=b}}var Ut=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(n,o){if(o){if(Ut[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(s(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(s(61))}if(o.style!=null&&typeof o.style!="object")throw Error(s(62))}}function _s(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=null;function ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kn=null,Zn=null,rn=null;function Es(n){if(n=dl(n)){if(typeof kn!="function")throw Error(s(280));var o=n.stateNode;o&&(o=zc(o),kn(n.stateNode,n.type,o))}}function bc(n){Zn?rn?rn.push(n):rn=[n]:Zn=n}function it(){if(Zn){var n=Zn,o=rn;if(rn=Zn=null,Es(n),o)for(n=0;n<o.length;n++)Es(o[n])}}function Pt(n,o){return n(o)}function Ft(){}var Ir=!1;function qr(n,o,c){if(Ir)return n(o,c);Ir=!0;try{return Pt(n,o,c)}finally{Ir=!1,(Zn!==null||rn!==null)&&(Ft(),it())}}function Wr(n,o){var c=n.stateNode;if(c===null)return null;var p=zc(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var Rs=!1;if(u)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Rs=!1}function sn(n,o,c,p,b,S,F,K,Z){var pe=Array.prototype.slice.call(arguments,3);try{o.apply(c,pe)}catch(Ne){this.onError(Ne)}}var Wi=!1,jc=null,wc=!1,dm=null,Xk={onError:function(n){Wi=!0,jc=n}};function Jk(n,o,c,p,b,S,F,K,Z){Wi=!1,jc=null,sn.apply(Xk,arguments)}function Zk(n,o,c,p,b,S,F,K,Z){if(Jk.apply(this,arguments),Wi){if(Wi){var pe=jc;Wi=!1,jc=null}else throw Error(s(198));wc||(wc=!0,dm=pe)}}function Qa(n){var o=n,c=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(c=o.return),n=o.return;while(n)}return o.tag===3?c:null}function ag(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function og(n){if(Qa(n)!==n)throw Error(s(188))}function eC(n){var o=n.alternate;if(!o){if(o=Qa(n),o===null)throw Error(s(188));return o!==n?null:n}for(var c=n,p=o;;){var b=c.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===c)return og(b),n;if(S===p)return og(b),o;S=S.sibling}throw Error(s(188))}if(c.return!==p.return)c=b,p=S;else{for(var F=!1,K=b.child;K;){if(K===c){F=!0,c=b,p=S;break}if(K===p){F=!0,p=b,c=S;break}K=K.sibling}if(!F){for(K=S.child;K;){if(K===c){F=!0,c=S,p=b;break}if(K===p){F=!0,p=S,c=b;break}K=K.sibling}if(!F)throw Error(s(189))}}if(c.alternate!==p)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?n:o}function ig(n){return n=eC(n),n!==null?lg(n):null}function lg(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=lg(n);if(o!==null)return o;n=n.sibling}return null}var cg=r.unstable_scheduleCallback,dg=r.unstable_cancelCallback,tC=r.unstable_shouldYield,rC=r.unstable_requestPaint,ir=r.unstable_now,sC=r.unstable_getCurrentPriorityLevel,um=r.unstable_ImmediatePriority,ug=r.unstable_UserBlockingPriority,Nc=r.unstable_NormalPriority,nC=r.unstable_LowPriority,mg=r.unstable_IdlePriority,Sc=null,nn=null;function aC(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Sc,n,void 0,(n.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:lC,oC=Math.log,iC=Math.LN2;function lC(n){return n>>>=0,n===0?32:31-(oC(n)/iC|0)|0}var kc=64,Cc=4194304;function Hi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pc(n,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,b=n.suspendedLanes,S=n.pingedLanes,F=c&268435455;if(F!==0){var K=F&~b;K!==0?p=Hi(K):(S&=F,S!==0&&(p=Hi(S)))}else F=c&~b,F!==0?p=Hi(F):S!==0&&(p=Hi(S));if(p===0)return 0;if(o!==0&&o!==p&&(o&b)===0&&(b=p&-p,S=o&-o,b>=S||b===16&&(S&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=p;0<o;)c=31-Ts(o),b=1<<c,p|=n[c],o&=~b;return p}function cC(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dC(n,o){for(var c=n.suspendedLanes,p=n.pingedLanes,b=n.expirationTimes,S=n.pendingLanes;0<S;){var F=31-Ts(S),K=1<<F,Z=b[F];Z===-1?((K&c)===0||(K&p)!==0)&&(b[F]=cC(K,o)):Z<=o&&(n.expiredLanes|=K),S&=~K}}function mm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function hg(){var n=kc;return kc<<=1,(kc&4194240)===0&&(kc=64),n}function hm(n){for(var o=[],c=0;31>c;c++)o.push(n);return o}function Yi(n,o,c){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-Ts(o),n[o]=c}function uC(n,o){var c=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<c;){var b=31-Ts(c),S=1<<b;o[b]=0,p[b]=-1,n[b]=-1,c&=~S}}function fm(n,o){var c=n.entangledLanes|=o;for(n=n.entanglements;c;){var p=31-Ts(c),b=1<<p;b&o|n[p]&o&&(n[p]|=o),c&=~b}}var Rt=0;function fg(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var pg,pm,xg,gg,vg,xm=!1,_c=[],ea=null,ta=null,ra=null,Ki=new Map,Gi=new Map,sa=[],mC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yg(n,o){switch(n){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Ki.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(o.pointerId)}}function Qi(n,o,c,p,b,S){return n===null||n.nativeEvent!==S?(n={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},o!==null&&(o=dl(o),o!==null&&pm(o)),n):(n.eventSystemFlags|=p,o=n.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),n)}function hC(n,o,c,p,b){switch(o){case"focusin":return ea=Qi(ea,n,o,c,p,b),!0;case"dragenter":return ta=Qi(ta,n,o,c,p,b),!0;case"mouseover":return ra=Qi(ra,n,o,c,p,b),!0;case"pointerover":var S=b.pointerId;return Ki.set(S,Qi(Ki.get(S)||null,n,o,c,p,b)),!0;case"gotpointercapture":return S=b.pointerId,Gi.set(S,Qi(Gi.get(S)||null,n,o,c,p,b)),!0}return!1}function bg(n){var o=Xa(n.target);if(o!==null){var c=Qa(o);if(c!==null){if(o=c.tag,o===13){if(o=ag(c),o!==null){n.blockedOn=o,vg(n.priority,function(){xg(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ec(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var c=vm(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var p=new c.constructor(c.type,c);Ga=p,c.target.dispatchEvent(p),Ga=null}else return o=dl(c),o!==null&&pm(o),n.blockedOn=c,!1;o.shift()}return!0}function jg(n,o,c){Ec(n)&&c.delete(o)}function fC(){xm=!1,ea!==null&&Ec(ea)&&(ea=null),ta!==null&&Ec(ta)&&(ta=null),ra!==null&&Ec(ra)&&(ra=null),Ki.forEach(jg),Gi.forEach(jg)}function Xi(n,o){n.blockedOn===o&&(n.blockedOn=null,xm||(xm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fC)))}function Ji(n){function o(b){return Xi(b,n)}if(0<_c.length){Xi(_c[0],n);for(var c=1;c<_c.length;c++){var p=_c[c];p.blockedOn===n&&(p.blockedOn=null)}}for(ea!==null&&Xi(ea,n),ta!==null&&Xi(ta,n),ra!==null&&Xi(ra,n),Ki.forEach(o),Gi.forEach(o),c=0;c<sa.length;c++)p=sa[c],p.blockedOn===n&&(p.blockedOn=null);for(;0<sa.length&&(c=sa[0],c.blockedOn===null);)bg(c),c.blockedOn===null&&sa.shift()}var Ro=L.ReactCurrentBatchConfig,Rc=!0;function pC(n,o,c,p){var b=Rt,S=Ro.transition;Ro.transition=null;try{Rt=1,gm(n,o,c,p)}finally{Rt=b,Ro.transition=S}}function xC(n,o,c,p){var b=Rt,S=Ro.transition;Ro.transition=null;try{Rt=4,gm(n,o,c,p)}finally{Rt=b,Ro.transition=S}}function gm(n,o,c,p){if(Rc){var b=vm(n,o,c,p);if(b===null)Im(n,o,p,Tc,c),yg(n,p);else if(hC(b,n,o,c,p))p.stopPropagation();else if(yg(n,p),o&4&&-1<mC.indexOf(n)){for(;b!==null;){var S=dl(b);if(S!==null&&pg(S),S=vm(n,o,c,p),S===null&&Im(n,o,p,Tc,c),S===b)break;b=S}b!==null&&p.stopPropagation()}else Im(n,o,p,null,c)}}var Tc=null;function vm(n,o,c,p){if(Tc=null,n=ps(p),n=Xa(n),n!==null)if(o=Qa(n),o===null)n=null;else if(c=o.tag,c===13){if(n=ag(o),n!==null)return n;n=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Tc=n,null}function wg(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sC()){case um:return 1;case ug:return 4;case Nc:case nC:return 16;case mg:return 536870912;default:return 16}default:return 16}}var na=null,ym=null,Dc=null;function Ng(){if(Dc)return Dc;var n,o=ym,c=o.length,p,b="value"in na?na.value:na.textContent,S=b.length;for(n=0;n<c&&o[n]===b[n];n++);var F=c-n;for(p=1;p<=F&&o[c-p]===b[S-p];p++);return Dc=b.slice(n,1<p?1-p:void 0)}function Ac(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Mc(){return!0}function Sg(){return!1}function os(n){function o(c,p,b,S,F){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=F,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(c=n[K],this[K]=c?c(S):S[K]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Mc:Sg,this.isPropagationStopped=Sg,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),o}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=os(To),Zi=W({},To,{view:0,detail:0}),gC=os(Zi),jm,wm,el,Ic=W({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==el&&(el&&n.type==="mousemove"?(jm=n.screenX-el.screenX,wm=n.screenY-el.screenY):wm=jm=0,el=n),jm)},movementY:function(n){return"movementY"in n?n.movementY:wm}}),kg=os(Ic),vC=W({},Ic,{dataTransfer:0}),yC=os(vC),bC=W({},Zi,{relatedTarget:0}),Nm=os(bC),jC=W({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),wC=os(jC),NC=W({},To,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),SC=os(NC),kC=W({},To,{data:0}),Cg=os(kC),CC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EC(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=_C[n])?!!o[n]:!1}function Sm(){return EC}var RC=W({},Zi,{key:function(n){if(n.key){var o=CC[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Ac(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(n){return n.type==="keypress"?Ac(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ac(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),TC=os(RC),DC=W({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=os(DC),AC=W({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),MC=os(AC),IC=W({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),OC=os(IC),FC=W({},Ic,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LC=os(FC),$C=[9,13,27,32],km=u&&"CompositionEvent"in window,tl=null;u&&"documentMode"in document&&(tl=document.documentMode);var VC=u&&"TextEvent"in window&&!tl,_g=u&&(!km||tl&&8<tl&&11>=tl),Eg=" ",Rg=!1;function Tg(n,o){switch(n){case"keyup":return $C.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Do=!1;function BC(n,o){switch(n){case"compositionend":return Dg(o);case"keypress":return o.which!==32?null:(Rg=!0,Eg);case"textInput":return n=o.data,n===Eg&&Rg?null:n;default:return null}}function UC(n,o){if(Do)return n==="compositionend"||!km&&Tg(n,o)?(n=Ng(),Dc=ym=na=null,Do=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _g&&o.locale!=="ko"?null:o.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!zC[n.type]:o==="textarea"}function Mg(n,o,c,p){bc(p),o=Vc(o,"onChange"),0<o.length&&(c=new bm("onChange","change",null,c,p),n.push({event:c,listeners:o}))}var rl=null,sl=null;function qC(n){Jg(n,0)}function Oc(n){var o=Fo(n);if(we(o))return n}function WC(n,o){if(n==="change")return o}var Ig=!1;if(u){var Cm;if(u){var Pm="oninput"in document;if(!Pm){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Pm=typeof Og.oninput=="function"}Cm=Pm}else Cm=!1;Ig=Cm&&(!document.documentMode||9<document.documentMode)}function Fg(){rl&&(rl.detachEvent("onpropertychange",Lg),sl=rl=null)}function Lg(n){if(n.propertyName==="value"&&Oc(sl)){var o=[];Mg(o,sl,n,ps(n)),qr(qC,o)}}function HC(n,o,c){n==="focusin"?(Fg(),rl=o,sl=c,rl.attachEvent("onpropertychange",Lg)):n==="focusout"&&Fg()}function YC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Oc(sl)}function KC(n,o){if(n==="click")return Oc(o)}function GC(n,o){if(n==="input"||n==="change")return Oc(o)}function QC(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Ds=typeof Object.is=="function"?Object.is:QC;function nl(n,o){if(Ds(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var c=Object.keys(n),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!h.call(o,b)||!Ds(n[b],o[b]))return!1}return!0}function $g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vg(n,o){var c=$g(n);n=0;for(var p;c;){if(c.nodeType===3){if(p=n+c.textContent.length,n<=o&&p>=o)return{node:c,offset:o-n};n=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$g(c)}}function Bg(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Bg(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Ug(){for(var n=window,o=Oe();o instanceof n.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)n=o.contentWindow;else break;o=Oe(n.document)}return o}function _m(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function XC(n){var o=Ug(),c=n.focusedElem,p=n.selectionRange;if(o!==c&&c&&c.ownerDocument&&Bg(c.ownerDocument.documentElement,c)){if(p!==null&&_m(c)){if(o=p.start,n=p.end,n===void 0&&(n=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(n,c.value.length);else if(n=(o=c.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var b=c.textContent.length,S=Math.min(p.start,b);p=p.end===void 0?S:Math.min(p.end,b),!n.extend&&S>p&&(b=p,p=S,S=b),b=Vg(c,S);var F=Vg(c,p);b&&F&&(n.rangeCount!==1||n.anchorNode!==b.node||n.anchorOffset!==b.offset||n.focusNode!==F.node||n.focusOffset!==F.offset)&&(o=o.createRange(),o.setStart(b.node,b.offset),n.removeAllRanges(),S>p?(n.addRange(o),n.extend(F.node,F.offset)):(o.setEnd(F.node,F.offset),n.addRange(o)))}}for(o=[],n=c;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)n=o[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JC=u&&"documentMode"in document&&11>=document.documentMode,Ao=null,Em=null,al=null,Rm=!1;function zg(n,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rm||Ao==null||Ao!==Oe(p)||(p=Ao,"selectionStart"in p&&_m(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),al&&nl(al,p)||(al=p,p=Vc(Em,"onSelect"),0<p.length&&(o=new bm("onSelect","select",null,o,c),n.push({event:o,listeners:p}),o.target=Ao)))}function Fc(n,o){var c={};return c[n.toLowerCase()]=o.toLowerCase(),c["Webkit"+n]="webkit"+o,c["Moz"+n]="moz"+o,c}var Mo={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},Tm={},qg={};u&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Lc(n){if(Tm[n])return Tm[n];if(!Mo[n])return n;var o=Mo[n],c;for(c in o)if(o.hasOwnProperty(c)&&c in qg)return Tm[n]=o[c];return n}var Wg=Lc("animationend"),Hg=Lc("animationiteration"),Yg=Lc("animationstart"),Kg=Lc("transitionend"),Gg=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(n,o){Gg.set(n,o),l(o,[n])}for(var Dm=0;Dm<Qg.length;Dm++){var Am=Qg[Dm],ZC=Am.toLowerCase(),eP=Am[0].toUpperCase()+Am.slice(1);aa(ZC,"on"+eP)}aa(Wg,"onAnimationEnd"),aa(Hg,"onAnimationIteration"),aa(Yg,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(Kg,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Xg(n,o,c){var p=n.type||"unknown-event";n.currentTarget=c,Zk(p,o,void 0,n),n.currentTarget=null}function Jg(n,o){o=(o&4)!==0;for(var c=0;c<n.length;c++){var p=n[c],b=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var F=p.length-1;0<=F;F--){var K=p[F],Z=K.instance,pe=K.currentTarget;if(K=K.listener,Z!==S&&b.isPropagationStopped())break e;Xg(b,K,pe),S=Z}else for(F=0;F<p.length;F++){if(K=p[F],Z=K.instance,pe=K.currentTarget,K=K.listener,Z!==S&&b.isPropagationStopped())break e;Xg(b,K,pe),S=Z}}}if(wc)throw n=dm,wc=!1,dm=null,n}function zt(n,o){var c=o[Bm];c===void 0&&(c=o[Bm]=new Set);var p=n+"__bubble";c.has(p)||(Zg(o,n,2,!1),c.add(p))}function Mm(n,o,c){var p=0;o&&(p|=4),Zg(c,n,p,o)}var $c="_reactListening"+Math.random().toString(36).slice(2);function il(n){if(!n[$c]){n[$c]=!0,a.forEach(function(c){c!=="selectionchange"&&(tP.has(c)||Mm(c,!1,n),Mm(c,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[$c]||(o[$c]=!0,Mm("selectionchange",!1,o))}}function Zg(n,o,c,p){switch(wg(o)){case 1:var b=pC;break;case 4:b=xC;break;default:b=gm}c=b.bind(null,o,c,n),b=void 0,!Rs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?n.addEventListener(o,c,{capture:!0,passive:b}):n.addEventListener(o,c,!0):b!==void 0?n.addEventListener(o,c,{passive:b}):n.addEventListener(o,c,!1)}function Im(n,o,c,p,b){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var K=p.stateNode.containerInfo;if(K===b||K.nodeType===8&&K.parentNode===b)break;if(F===4)for(F=p.return;F!==null;){var Z=F.tag;if((Z===3||Z===4)&&(Z=F.stateNode.containerInfo,Z===b||Z.nodeType===8&&Z.parentNode===b))return;F=F.return}for(;K!==null;){if(F=Xa(K),F===null)return;if(Z=F.tag,Z===5||Z===6){p=S=F;continue e}K=K.parentNode}}p=p.return}qr(function(){var pe=S,Ne=ps(c),Pe=[];e:{var je=Gg.get(n);if(je!==void 0){var Fe=bm,Ve=n;switch(n){case"keypress":if(Ac(c)===0)break e;case"keydown":case"keyup":Fe=TC;break;case"focusin":Ve="focus",Fe=Nm;break;case"focusout":Ve="blur",Fe=Nm;break;case"beforeblur":case"afterblur":Fe=Nm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=yC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=MC;break;case Wg:case Hg:case Yg:Fe=wC;break;case Kg:Fe=OC;break;case"scroll":Fe=gC;break;case"wheel":Fe=LC;break;case"copy":case"cut":case"paste":Fe=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Pg}var Ue=(o&4)!==0,lr=!Ue&&n==="scroll",ce=Ue?je!==null?je+"Capture":null:je;Ue=[];for(var ee=pe,me;ee!==null;){me=ee;var Ee=me.stateNode;if(me.tag===5&&Ee!==null&&(me=Ee,ce!==null&&(Ee=Wr(ee,ce),Ee!=null&&Ue.push(ll(ee,Ee,me)))),lr)break;ee=ee.return}0<Ue.length&&(je=new Fe(je,Ve,null,c,Ne),Pe.push({event:je,listeners:Ue}))}}if((o&7)===0){e:{if(je=n==="mouseover"||n==="pointerover",Fe=n==="mouseout"||n==="pointerout",je&&c!==Ga&&(Ve=c.relatedTarget||c.fromElement)&&(Xa(Ve)||Ve[Cn]))break e;if((Fe||je)&&(je=Ne.window===Ne?Ne:(je=Ne.ownerDocument)?je.defaultView||je.parentWindow:window,Fe?(Ve=c.relatedTarget||c.toElement,Fe=pe,Ve=Ve?Xa(Ve):null,Ve!==null&&(lr=Qa(Ve),Ve!==lr||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Fe=null,Ve=pe),Fe!==Ve)){if(Ue=kg,Ee="onMouseLeave",ce="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(Ue=Pg,Ee="onPointerLeave",ce="onPointerEnter",ee="pointer"),lr=Fe==null?je:Fo(Fe),me=Ve==null?je:Fo(Ve),je=new Ue(Ee,ee+"leave",Fe,c,Ne),je.target=lr,je.relatedTarget=me,Ee=null,Xa(Ne)===pe&&(Ue=new Ue(ce,ee+"enter",Ve,c,Ne),Ue.target=me,Ue.relatedTarget=lr,Ee=Ue),lr=Ee,Fe&&Ve)t:{for(Ue=Fe,ce=Ve,ee=0,me=Ue;me;me=Io(me))ee++;for(me=0,Ee=ce;Ee;Ee=Io(Ee))me++;for(;0<ee-me;)Ue=Io(Ue),ee--;for(;0<me-ee;)ce=Io(ce),me--;for(;ee--;){if(Ue===ce||ce!==null&&Ue===ce.alternate)break t;Ue=Io(Ue),ce=Io(ce)}Ue=null}else Ue=null;Fe!==null&&ev(Pe,je,Fe,Ue,!1),Ve!==null&&lr!==null&&ev(Pe,lr,Ve,Ue,!0)}}e:{if(je=pe?Fo(pe):window,Fe=je.nodeName&&je.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&je.type==="file")var ze=WC;else if(Ag(je))if(Ig)ze=GC;else{ze=YC;var et=HC}else(Fe=je.nodeName)&&Fe.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(ze=KC);if(ze&&(ze=ze(n,pe))){Mg(Pe,ze,c,Ne);break e}et&&et(n,je,pe),n==="focusout"&&(et=je._wrapperState)&&et.controlled&&je.type==="number"&&Bt(je,"number",je.value)}switch(et=pe?Fo(pe):window,n){case"focusin":(Ag(et)||et.contentEditable==="true")&&(Ao=et,Em=pe,al=null);break;case"focusout":al=Em=Ao=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,zg(Pe,c,Ne);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":zg(Pe,c,Ne)}var tt;if(km)e:{switch(n){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Do?Tg(n,c)&&(at="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(at="onCompositionStart");at&&(_g&&c.locale!=="ko"&&(Do||at!=="onCompositionStart"?at==="onCompositionEnd"&&Do&&(tt=Ng()):(na=Ne,ym="value"in na?na.value:na.textContent,Do=!0)),et=Vc(pe,at),0<et.length&&(at=new Cg(at,n,null,c,Ne),Pe.push({event:at,listeners:et}),tt?at.data=tt:(tt=Dg(c),tt!==null&&(at.data=tt)))),(tt=VC?BC(n,c):UC(n,c))&&(pe=Vc(pe,"onBeforeInput"),0<pe.length&&(Ne=new Cg("onBeforeInput","beforeinput",null,c,Ne),Pe.push({event:Ne,listeners:pe}),Ne.data=tt))}Jg(Pe,o)})}function ll(n,o,c){return{instance:n,listener:o,currentTarget:c}}function Vc(n,o){for(var c=o+"Capture",p=[];n!==null;){var b=n,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=Wr(n,c),S!=null&&p.unshift(ll(n,S,b)),S=Wr(n,o),S!=null&&p.push(ll(n,S,b))),n=n.return}return p}function Io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ev(n,o,c,p,b){for(var S=o._reactName,F=[];c!==null&&c!==p;){var K=c,Z=K.alternate,pe=K.stateNode;if(Z!==null&&Z===p)break;K.tag===5&&pe!==null&&(K=pe,b?(Z=Wr(c,S),Z!=null&&F.unshift(ll(c,Z,K))):b||(Z=Wr(c,S),Z!=null&&F.push(ll(c,Z,K)))),c=c.return}F.length!==0&&n.push({event:o,listeners:F})}var rP=/\r\n?/g,sP=/\u0000|\uFFFD/g;function tv(n){return(typeof n=="string"?n:""+n).replace(rP,`
`).replace(sP,"")}function Bc(n,o,c){if(o=tv(o),tv(n)!==o&&c)throw Error(s(425))}function Uc(){}var Om=null,Fm=null;function Lm(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,aP=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(n){return rv.resolve(null).then(n).catch(oP)}:$m;function oP(n){setTimeout(function(){throw n})}function Vm(n,o){var c=o,p=0;do{var b=c.nextSibling;if(n.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(p===0){n.removeChild(b),Ji(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=b}while(c);Ji(o)}function oa(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function sv(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return n;o--}else c==="/$"&&o++}n=n.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),an="__reactFiber$"+Oo,cl="__reactProps$"+Oo,Cn="__reactContainer$"+Oo,Bm="__reactEvents$"+Oo,iP="__reactListeners$"+Oo,lP="__reactHandles$"+Oo;function Xa(n){var o=n[an];if(o)return o;for(var c=n.parentNode;c;){if(o=c[Cn]||c[an]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(n=sv(n);n!==null;){if(c=n[an])return c;n=sv(n)}return o}n=c,c=n.parentNode}return null}function dl(n){return n=n[an]||n[Cn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function zc(n){return n[cl]||null}var Um=[],Lo=-1;function ia(n){return{current:n}}function qt(n){0>Lo||(n.current=Um[Lo],Um[Lo]=null,Lo--)}function Lt(n,o){Lo++,Um[Lo]=n.current,n.current=o}var la={},Er=ia(la),Hr=ia(!1),Ja=la;function $o(n,o){var c=n.type.contextTypes;if(!c)return la;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in c)b[S]=o[S];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=b),b}function Yr(n){return n=n.childContextTypes,n!=null}function qc(){qt(Hr),qt(Er)}function nv(n,o,c){if(Er.current!==la)throw Error(s(168));Lt(Er,o),Lt(Hr,c)}function av(n,o,c){var p=n.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var b in p)if(!(b in o))throw Error(s(108,oe(n)||"Unknown",b));return W({},c,p)}function Wc(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||la,Ja=Er.current,Lt(Er,n),Lt(Hr,Hr.current),!0}function ov(n,o,c){var p=n.stateNode;if(!p)throw Error(s(169));c?(n=av(n,o,Ja),p.__reactInternalMemoizedMergedChildContext=n,qt(Hr),qt(Er),Lt(Er,n)):qt(Hr),Lt(Hr,c)}var Pn=null,Hc=!1,zm=!1;function iv(n){Pn===null?Pn=[n]:Pn.push(n)}function cP(n){Hc=!0,iv(n)}function ca(){if(!zm&&Pn!==null){zm=!0;var n=0,o=Rt;try{var c=Pn;for(Rt=1;n<c.length;n++){var p=c[n];do p=p(!0);while(p!==null)}Pn=null,Hc=!1}catch(b){throw Pn!==null&&(Pn=Pn.slice(n+1)),cg(um,ca),b}finally{Rt=o,zm=!1}}return null}var Vo=[],Bo=0,Yc=null,Kc=0,xs=[],gs=0,Za=null,_n=1,En="";function eo(n,o){Vo[Bo++]=Kc,Vo[Bo++]=Yc,Yc=n,Kc=o}function lv(n,o,c){xs[gs++]=_n,xs[gs++]=En,xs[gs++]=Za,Za=n;var p=_n;n=En;var b=32-Ts(p)-1;p&=~(1<<b),c+=1;var S=32-Ts(o)+b;if(30<S){var F=b-b%5;S=(p&(1<<F)-1).toString(32),p>>=F,b-=F,_n=1<<32-Ts(o)+b|c<<b|p,En=S+n}else _n=1<<S|c<<b|p,En=n}function qm(n){n.return!==null&&(eo(n,1),lv(n,1,0))}function Wm(n){for(;n===Yc;)Yc=Vo[--Bo],Vo[Bo]=null,Kc=Vo[--Bo],Vo[Bo]=null;for(;n===Za;)Za=xs[--gs],xs[gs]=null,En=xs[--gs],xs[gs]=null,_n=xs[--gs],xs[gs]=null}var is=null,ls=null,Kt=!1,As=null;function cv(n,o){var c=js(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=n,o=n.deletions,o===null?(n.deletions=[c],n.flags|=16):o.push(c)}function dv(n,o){switch(n.tag){case 5:var c=n.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,is=n,ls=oa(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,is=n,ls=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Za!==null?{id:_n,overflow:En}:null,n.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=js(18,null,null,0),c.stateNode=o,c.return=n,n.child=c,is=n,ls=null,!0):!1;default:return!1}}function Hm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ym(n){if(Kt){var o=ls;if(o){var c=o;if(!dv(n,o)){if(Hm(n))throw Error(s(418));o=oa(c.nextSibling);var p=is;o&&dv(n,o)?cv(p,c):(n.flags=n.flags&-4097|2,Kt=!1,is=n)}}else{if(Hm(n))throw Error(s(418));n.flags=n.flags&-4097|2,Kt=!1,is=n}}}function uv(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;is=n}function Gc(n){if(n!==is)return!1;if(!Kt)return uv(n),Kt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Lm(n.type,n.memoizedProps)),o&&(o=ls)){if(Hm(n))throw mv(),Error(s(418));for(;o;)cv(n,o),o=oa(o.nextSibling)}if(uv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(o===0){ls=oa(n.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}n=n.nextSibling}ls=null}}else ls=is?oa(n.stateNode.nextSibling):null;return!0}function mv(){for(var n=ls;n;)n=oa(n.nextSibling)}function Uo(){ls=is=null,Kt=!1}function Km(n){As===null?As=[n]:As.push(n)}var dP=L.ReactCurrentBatchConfig;function ul(n,o,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(s(309));var p=c.stateNode}if(!p)throw Error(s(147,n));var b=p,S=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(F){var K=b.refs;F===null?delete K[S]:K[S]=F},o._stringRef=S,o)}if(typeof n!="string")throw Error(s(284));if(!c._owner)throw Error(s(290,n))}return n}function Qc(n,o){throw n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function hv(n){var o=n._init;return o(n._payload)}function fv(n){function o(ce,ee){if(n){var me=ce.deletions;me===null?(ce.deletions=[ee],ce.flags|=16):me.push(ee)}}function c(ce,ee){if(!n)return null;for(;ee!==null;)o(ce,ee),ee=ee.sibling;return null}function p(ce,ee){for(ce=new Map;ee!==null;)ee.key!==null?ce.set(ee.key,ee):ce.set(ee.index,ee),ee=ee.sibling;return ce}function b(ce,ee){return ce=ga(ce,ee),ce.index=0,ce.sibling=null,ce}function S(ce,ee,me){return ce.index=me,n?(me=ce.alternate,me!==null?(me=me.index,me<ee?(ce.flags|=2,ee):me):(ce.flags|=2,ee)):(ce.flags|=1048576,ee)}function F(ce){return n&&ce.alternate===null&&(ce.flags|=2),ce}function K(ce,ee,me,Ee){return ee===null||ee.tag!==6?(ee=$h(me,ce.mode,Ee),ee.return=ce,ee):(ee=b(ee,me),ee.return=ce,ee)}function Z(ce,ee,me,Ee){var ze=me.type;return ze===M?Ne(ce,ee,me.props.children,Ee,me.key):ee!==null&&(ee.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Y&&hv(ze)===ee.type)?(Ee=b(ee,me.props),Ee.ref=ul(ce,ee,me),Ee.return=ce,Ee):(Ee=bd(me.type,me.key,me.props,null,ce.mode,Ee),Ee.ref=ul(ce,ee,me),Ee.return=ce,Ee)}function pe(ce,ee,me,Ee){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==me.containerInfo||ee.stateNode.implementation!==me.implementation?(ee=Vh(me,ce.mode,Ee),ee.return=ce,ee):(ee=b(ee,me.children||[]),ee.return=ce,ee)}function Ne(ce,ee,me,Ee,ze){return ee===null||ee.tag!==7?(ee=lo(me,ce.mode,Ee,ze),ee.return=ce,ee):(ee=b(ee,me),ee.return=ce,ee)}function Pe(ce,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=$h(""+ee,ce.mode,me),ee.return=ce,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case q:return me=bd(ee.type,ee.key,ee.props,null,ce.mode,me),me.ref=ul(ce,null,ee),me.return=ce,me;case A:return ee=Vh(ee,ce.mode,me),ee.return=ce,ee;case Y:var Ee=ee._init;return Pe(ce,Ee(ee._payload),me)}if(er(ee)||D(ee))return ee=lo(ee,ce.mode,me,null),ee.return=ce,ee;Qc(ce,ee)}return null}function je(ce,ee,me,Ee){var ze=ee!==null?ee.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ze!==null?null:K(ce,ee,""+me,Ee);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case q:return me.key===ze?Z(ce,ee,me,Ee):null;case A:return me.key===ze?pe(ce,ee,me,Ee):null;case Y:return ze=me._init,je(ce,ee,ze(me._payload),Ee)}if(er(me)||D(me))return ze!==null?null:Ne(ce,ee,me,Ee,null);Qc(ce,me)}return null}function Fe(ce,ee,me,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ce=ce.get(me)||null,K(ee,ce,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case q:return ce=ce.get(Ee.key===null?me:Ee.key)||null,Z(ee,ce,Ee,ze);case A:return ce=ce.get(Ee.key===null?me:Ee.key)||null,pe(ee,ce,Ee,ze);case Y:var et=Ee._init;return Fe(ce,ee,me,et(Ee._payload),ze)}if(er(Ee)||D(Ee))return ce=ce.get(me)||null,Ne(ee,ce,Ee,ze,null);Qc(ee,Ee)}return null}function Ve(ce,ee,me,Ee){for(var ze=null,et=null,tt=ee,at=ee=0,wr=null;tt!==null&&at<me.length;at++){tt.index>at?(wr=tt,tt=null):wr=tt.sibling;var St=je(ce,tt,me[at],Ee);if(St===null){tt===null&&(tt=wr);break}n&&tt&&St.alternate===null&&o(ce,tt),ee=S(St,ee,at),et===null?ze=St:et.sibling=St,et=St,tt=wr}if(at===me.length)return c(ce,tt),Kt&&eo(ce,at),ze;if(tt===null){for(;at<me.length;at++)tt=Pe(ce,me[at],Ee),tt!==null&&(ee=S(tt,ee,at),et===null?ze=tt:et.sibling=tt,et=tt);return Kt&&eo(ce,at),ze}for(tt=p(ce,tt);at<me.length;at++)wr=Fe(tt,ce,at,me[at],Ee),wr!==null&&(n&&wr.alternate!==null&&tt.delete(wr.key===null?at:wr.key),ee=S(wr,ee,at),et===null?ze=wr:et.sibling=wr,et=wr);return n&&tt.forEach(function(va){return o(ce,va)}),Kt&&eo(ce,at),ze}function Ue(ce,ee,me,Ee){var ze=D(me);if(typeof ze!="function")throw Error(s(150));if(me=ze.call(me),me==null)throw Error(s(151));for(var et=ze=null,tt=ee,at=ee=0,wr=null,St=me.next();tt!==null&&!St.done;at++,St=me.next()){tt.index>at?(wr=tt,tt=null):wr=tt.sibling;var va=je(ce,tt,St.value,Ee);if(va===null){tt===null&&(tt=wr);break}n&&tt&&va.alternate===null&&o(ce,tt),ee=S(va,ee,at),et===null?ze=va:et.sibling=va,et=va,tt=wr}if(St.done)return c(ce,tt),Kt&&eo(ce,at),ze;if(tt===null){for(;!St.done;at++,St=me.next())St=Pe(ce,St.value,Ee),St!==null&&(ee=S(St,ee,at),et===null?ze=St:et.sibling=St,et=St);return Kt&&eo(ce,at),ze}for(tt=p(ce,tt);!St.done;at++,St=me.next())St=Fe(tt,ce,at,St.value,Ee),St!==null&&(n&&St.alternate!==null&&tt.delete(St.key===null?at:St.key),ee=S(St,ee,at),et===null?ze=St:et.sibling=St,et=St);return n&&tt.forEach(function(zP){return o(ce,zP)}),Kt&&eo(ce,at),ze}function lr(ce,ee,me,Ee){if(typeof me=="object"&&me!==null&&me.type===M&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case q:e:{for(var ze=me.key,et=ee;et!==null;){if(et.key===ze){if(ze=me.type,ze===M){if(et.tag===7){c(ce,et.sibling),ee=b(et,me.props.children),ee.return=ce,ce=ee;break e}}else if(et.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Y&&hv(ze)===et.type){c(ce,et.sibling),ee=b(et,me.props),ee.ref=ul(ce,et,me),ee.return=ce,ce=ee;break e}c(ce,et);break}else o(ce,et);et=et.sibling}me.type===M?(ee=lo(me.props.children,ce.mode,Ee,me.key),ee.return=ce,ce=ee):(Ee=bd(me.type,me.key,me.props,null,ce.mode,Ee),Ee.ref=ul(ce,ee,me),Ee.return=ce,ce=Ee)}return F(ce);case A:e:{for(et=me.key;ee!==null;){if(ee.key===et)if(ee.tag===4&&ee.stateNode.containerInfo===me.containerInfo&&ee.stateNode.implementation===me.implementation){c(ce,ee.sibling),ee=b(ee,me.children||[]),ee.return=ce,ce=ee;break e}else{c(ce,ee);break}else o(ce,ee);ee=ee.sibling}ee=Vh(me,ce.mode,Ee),ee.return=ce,ce=ee}return F(ce);case Y:return et=me._init,lr(ce,ee,et(me._payload),Ee)}if(er(me))return Ve(ce,ee,me,Ee);if(D(me))return Ue(ce,ee,me,Ee);Qc(ce,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ee!==null&&ee.tag===6?(c(ce,ee.sibling),ee=b(ee,me),ee.return=ce,ce=ee):(c(ce,ee),ee=$h(me,ce.mode,Ee),ee.return=ce,ce=ee),F(ce)):c(ce,ee)}return lr}var zo=fv(!0),pv=fv(!1),Xc=ia(null),Jc=null,qo=null,Gm=null;function Qm(){Gm=qo=Jc=null}function Xm(n){var o=Xc.current;qt(Xc),n._currentValue=o}function Jm(n,o,c){for(;n!==null;){var p=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),n===c)break;n=n.return}}function Wo(n,o){Jc=n,Gm=qo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Kr=!0),n.firstContext=null)}function vs(n){var o=n._currentValue;if(Gm!==n)if(n={context:n,memoizedValue:o,next:null},qo===null){if(Jc===null)throw Error(s(308));qo=n,Jc.dependencies={lanes:0,firstContext:n}}else qo=qo.next=n;return o}var to=null;function Zm(n){to===null?to=[n]:to.push(n)}function xv(n,o,c,p){var b=o.interleaved;return b===null?(c.next=c,Zm(o)):(c.next=b.next,b.next=c),o.interleaved=c,Rn(n,p)}function Rn(n,o){n.lanes|=o;var c=n.alternate;for(c!==null&&(c.lanes|=o),c=n,n=n.return;n!==null;)n.childLanes|=o,c=n.alternate,c!==null&&(c.childLanes|=o),c=n,n=n.return;return c.tag===3?c.stateNode:null}var da=!1;function eh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gv(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Tn(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function ua(n,o,c){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(Nt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,Rn(n,c)}return b=p.interleaved,b===null?(o.next=o,Zm(p)):(o.next=b.next,b.next=o),p.interleaved=o,Rn(n,c)}function Zc(n,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=n.pendingLanes,c|=p,o.lanes=c,fm(n,c)}}function vv(n,o){var c=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var F={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};S===null?b=S=F:S=S.next=F,c=c.next}while(c!==null);S===null?b=S=o:S=S.next=o}else b=S=o;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,effects:p.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=o:n.next=o,c.lastBaseUpdate=o}function ed(n,o,c,p){var b=n.updateQueue;da=!1;var S=b.firstBaseUpdate,F=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var Z=K,pe=Z.next;Z.next=null,F===null?S=pe:F.next=pe,F=Z;var Ne=n.alternate;Ne!==null&&(Ne=Ne.updateQueue,K=Ne.lastBaseUpdate,K!==F&&(K===null?Ne.firstBaseUpdate=pe:K.next=pe,Ne.lastBaseUpdate=Z))}if(S!==null){var Pe=b.baseState;F=0,Ne=pe=Z=null,K=S;do{var je=K.lane,Fe=K.eventTime;if((p&je)===je){Ne!==null&&(Ne=Ne.next={eventTime:Fe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ve=n,Ue=K;switch(je=o,Fe=c,Ue.tag){case 1:if(Ve=Ue.payload,typeof Ve=="function"){Pe=Ve.call(Fe,Pe,je);break e}Pe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ue.payload,je=typeof Ve=="function"?Ve.call(Fe,Pe,je):Ve,je==null)break e;Pe=W({},Pe,je);break e;case 2:da=!0}}K.callback!==null&&K.lane!==0&&(n.flags|=64,je=b.effects,je===null?b.effects=[K]:je.push(K))}else Fe={eventTime:Fe,lane:je,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ne===null?(pe=Ne=Fe,Z=Pe):Ne=Ne.next=Fe,F|=je;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;je=K,K=je.next,je.next=null,b.lastBaseUpdate=je,b.shared.pending=null}}while(!0);if(Ne===null&&(Z=Pe),b.baseState=Z,b.firstBaseUpdate=pe,b.lastBaseUpdate=Ne,o=b.shared.interleaved,o!==null){b=o;do F|=b.lane,b=b.next;while(b!==o)}else S===null&&(b.shared.lanes=0);no|=F,n.lanes=F,n.memoizedState=Pe}}function yv(n,o,c){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var p=n[o],b=p.callback;if(b!==null){if(p.callback=null,p=c,typeof b!="function")throw Error(s(191,b));b.call(p)}}}var ml={},on=ia(ml),hl=ia(ml),fl=ia(ml);function ro(n){if(n===ml)throw Error(s(174));return n}function th(n,o){switch(Lt(fl,o),Lt(hl,n),Lt(on,ml),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ze(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Ze(o,n)}qt(on),Lt(on,o)}function Ho(){qt(on),qt(hl),qt(fl)}function bv(n){ro(fl.current);var o=ro(on.current),c=Ze(o,n.type);o!==c&&(Lt(hl,n),Lt(on,c))}function rh(n){hl.current===n&&(qt(on),qt(hl))}var Qt=ia(0);function td(n){for(var o=n;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var sh=[];function nh(){for(var n=0;n<sh.length;n++)sh[n]._workInProgressVersionPrimary=null;sh.length=0}var rd=L.ReactCurrentDispatcher,ah=L.ReactCurrentBatchConfig,so=0,Xt=null,fr=null,br=null,sd=!1,pl=!1,xl=0,uP=0;function Rr(){throw Error(s(321))}function oh(n,o){if(o===null)return!1;for(var c=0;c<o.length&&c<n.length;c++)if(!Ds(n[c],o[c]))return!1;return!0}function ih(n,o,c,p,b,S){if(so=S,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,rd.current=n===null||n.memoizedState===null?pP:xP,n=c(p,b),pl){S=0;do{if(pl=!1,xl=0,25<=S)throw Error(s(301));S+=1,br=fr=null,o.updateQueue=null,rd.current=gP,n=c(p,b)}while(pl)}if(rd.current=od,o=fr!==null&&fr.next!==null,so=0,br=fr=Xt=null,sd=!1,o)throw Error(s(300));return n}function lh(){var n=xl!==0;return xl=0,n}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Xt.memoizedState=br=n:br=br.next=n,br}function ys(){if(fr===null){var n=Xt.alternate;n=n!==null?n.memoizedState:null}else n=fr.next;var o=br===null?Xt.memoizedState:br.next;if(o!==null)br=o,fr=n;else{if(n===null)throw Error(s(310));fr=n,n={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},br===null?Xt.memoizedState=br=n:br=br.next=n}return br}function gl(n,o){return typeof o=="function"?o(n):o}function ch(n){var o=ys(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var p=fr,b=p.baseQueue,S=c.pending;if(S!==null){if(b!==null){var F=b.next;b.next=S.next,S.next=F}p.baseQueue=b=S,c.pending=null}if(b!==null){S=b.next,p=p.baseState;var K=F=null,Z=null,pe=S;do{var Ne=pe.lane;if((so&Ne)===Ne)Z!==null&&(Z=Z.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:n(p,pe.action);else{var Pe={lane:Ne,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Z===null?(K=Z=Pe,F=p):Z=Z.next=Pe,Xt.lanes|=Ne,no|=Ne}pe=pe.next}while(pe!==null&&pe!==S);Z===null?F=p:Z.next=K,Ds(p,o.memoizedState)||(Kr=!0),o.memoizedState=p,o.baseState=F,o.baseQueue=Z,c.lastRenderedState=p}if(n=c.interleaved,n!==null){b=n;do S=b.lane,Xt.lanes|=S,no|=S,b=b.next;while(b!==n)}else b===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function dh(n){var o=ys(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var p=c.dispatch,b=c.pending,S=o.memoizedState;if(b!==null){c.pending=null;var F=b=b.next;do S=n(S,F.action),F=F.next;while(F!==b);Ds(S,o.memoizedState)||(Kr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),c.lastRenderedState=S}return[S,p]}function jv(){}function wv(n,o){var c=Xt,p=ys(),b=o(),S=!Ds(p.memoizedState,b);if(S&&(p.memoizedState=b,Kr=!0),p=p.queue,uh(kv.bind(null,c,p,n),[n]),p.getSnapshot!==o||S||br!==null&&br.memoizedState.tag&1){if(c.flags|=2048,vl(9,Sv.bind(null,c,p,b,o),void 0,null),jr===null)throw Error(s(349));(so&30)!==0||Nv(c,o,b)}return b}function Nv(n,o,c){n.flags|=16384,n={getSnapshot:o,value:c},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.stores=[n]):(c=o.stores,c===null?o.stores=[n]:c.push(n))}function Sv(n,o,c,p){o.value=c,o.getSnapshot=p,Cv(o)&&Pv(n)}function kv(n,o,c){return c(function(){Cv(o)&&Pv(n)})}function Cv(n){var o=n.getSnapshot;n=n.value;try{var c=o();return!Ds(n,c)}catch{return!0}}function Pv(n){var o=Rn(n,1);o!==null&&Fs(o,n,1,-1)}function _v(n){var o=ln();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:n},o.queue=n,n=n.dispatch=fP.bind(null,Xt,n),[o.memoizedState,n]}function vl(n,o,c,p){return n={tag:n,create:o,destroy:c,deps:p,next:null},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.lastEffect=n.next=n):(c=o.lastEffect,c===null?o.lastEffect=n.next=n:(p=c.next,c.next=n,n.next=p,o.lastEffect=n)),n}function Ev(){return ys().memoizedState}function nd(n,o,c,p){var b=ln();Xt.flags|=n,b.memoizedState=vl(1|o,c,void 0,p===void 0?null:p)}function ad(n,o,c,p){var b=ys();p=p===void 0?null:p;var S=void 0;if(fr!==null){var F=fr.memoizedState;if(S=F.destroy,p!==null&&oh(p,F.deps)){b.memoizedState=vl(o,c,S,p);return}}Xt.flags|=n,b.memoizedState=vl(1|o,c,S,p)}function Rv(n,o){return nd(8390656,8,n,o)}function uh(n,o){return ad(2048,8,n,o)}function Tv(n,o){return ad(4,2,n,o)}function Dv(n,o){return ad(4,4,n,o)}function Av(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Mv(n,o,c){return c=c!=null?c.concat([n]):null,ad(4,4,Av.bind(null,o,n),c)}function mh(){}function Iv(n,o){var c=ys();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&oh(o,p[1])?p[0]:(c.memoizedState=[n,o],n)}function Ov(n,o){var c=ys();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&oh(o,p[1])?p[0]:(n=n(),c.memoizedState=[n,o],n)}function Fv(n,o,c){return(so&21)===0?(n.baseState&&(n.baseState=!1,Kr=!0),n.memoizedState=c):(Ds(c,o)||(c=hg(),Xt.lanes|=c,no|=c,n.baseState=!0),o)}function mP(n,o){var c=Rt;Rt=c!==0&&4>c?c:4,n(!0);var p=ah.transition;ah.transition={};try{n(!1),o()}finally{Rt=c,ah.transition=p}}function Lv(){return ys().memoizedState}function hP(n,o,c){var p=pa(n);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},$v(n))Vv(o,c);else if(c=xv(n,o,c,p),c!==null){var b=Fr();Fs(c,n,p,b),Bv(c,o,p)}}function fP(n,o,c){var p=pa(n),b={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if($v(n))Vv(o,b);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var F=o.lastRenderedState,K=S(F,c);if(b.hasEagerState=!0,b.eagerState=K,Ds(K,F)){var Z=o.interleaved;Z===null?(b.next=b,Zm(o)):(b.next=Z.next,Z.next=b),o.interleaved=b;return}}catch{}finally{}c=xv(n,o,b,p),c!==null&&(b=Fr(),Fs(c,n,p,b),Bv(c,o,p))}}function $v(n){var o=n.alternate;return n===Xt||o!==null&&o===Xt}function Vv(n,o){pl=sd=!0;var c=n.pending;c===null?o.next=o:(o.next=c.next,c.next=o),n.pending=o}function Bv(n,o,c){if((c&4194240)!==0){var p=o.lanes;p&=n.pendingLanes,c|=p,o.lanes=c,fm(n,c)}}var od={readContext:vs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},pP={readContext:vs,useCallback:function(n,o){return ln().memoizedState=[n,o===void 0?null:o],n},useContext:vs,useEffect:Rv,useImperativeHandle:function(n,o,c){return c=c!=null?c.concat([n]):null,nd(4194308,4,Av.bind(null,o,n),c)},useLayoutEffect:function(n,o){return nd(4194308,4,n,o)},useInsertionEffect:function(n,o){return nd(4,2,n,o)},useMemo:function(n,o){var c=ln();return o=o===void 0?null:o,n=n(),c.memoizedState=[n,o],n},useReducer:function(n,o,c){var p=ln();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},p.queue=n,n=n.dispatch=hP.bind(null,Xt,n),[p.memoizedState,n]},useRef:function(n){var o=ln();return n={current:n},o.memoizedState=n},useState:_v,useDebugValue:mh,useDeferredValue:function(n){return ln().memoizedState=n},useTransition:function(){var n=_v(!1),o=n[0];return n=mP.bind(null,n[1]),ln().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,c){var p=Xt,b=ln();if(Kt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),jr===null)throw Error(s(349));(so&30)!==0||Nv(p,o,c)}b.memoizedState=c;var S={value:c,getSnapshot:o};return b.queue=S,Rv(kv.bind(null,p,S,n),[n]),p.flags|=2048,vl(9,Sv.bind(null,p,S,c,o),void 0,null),c},useId:function(){var n=ln(),o=jr.identifierPrefix;if(Kt){var c=En,p=_n;c=(p&~(1<<32-Ts(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=xl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=uP++,o=":"+o+"r"+c.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},xP={readContext:vs,useCallback:Iv,useContext:vs,useEffect:uh,useImperativeHandle:Mv,useInsertionEffect:Tv,useLayoutEffect:Dv,useMemo:Ov,useReducer:ch,useRef:Ev,useState:function(){return ch(gl)},useDebugValue:mh,useDeferredValue:function(n){var o=ys();return Fv(o,fr.memoizedState,n)},useTransition:function(){var n=ch(gl)[0],o=ys().memoizedState;return[n,o]},useMutableSource:jv,useSyncExternalStore:wv,useId:Lv,unstable_isNewReconciler:!1},gP={readContext:vs,useCallback:Iv,useContext:vs,useEffect:uh,useImperativeHandle:Mv,useInsertionEffect:Tv,useLayoutEffect:Dv,useMemo:Ov,useReducer:dh,useRef:Ev,useState:function(){return dh(gl)},useDebugValue:mh,useDeferredValue:function(n){var o=ys();return fr===null?o.memoizedState=n:Fv(o,fr.memoizedState,n)},useTransition:function(){var n=dh(gl)[0],o=ys().memoizedState;return[n,o]},useMutableSource:jv,useSyncExternalStore:wv,useId:Lv,unstable_isNewReconciler:!1};function Ms(n,o){if(n&&n.defaultProps){o=W({},o),n=n.defaultProps;for(var c in n)o[c]===void 0&&(o[c]=n[c]);return o}return o}function hh(n,o,c,p){o=n.memoizedState,c=c(p,o),c=c==null?o:W({},o,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var id={isMounted:function(n){return(n=n._reactInternals)?Qa(n)===n:!1},enqueueSetState:function(n,o,c){n=n._reactInternals;var p=Fr(),b=pa(n),S=Tn(p,b);S.payload=o,c!=null&&(S.callback=c),o=ua(n,S,b),o!==null&&(Fs(o,n,b,p),Zc(o,n,b))},enqueueReplaceState:function(n,o,c){n=n._reactInternals;var p=Fr(),b=pa(n),S=Tn(p,b);S.tag=1,S.payload=o,c!=null&&(S.callback=c),o=ua(n,S,b),o!==null&&(Fs(o,n,b,p),Zc(o,n,b))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var c=Fr(),p=pa(n),b=Tn(c,p);b.tag=2,o!=null&&(b.callback=o),o=ua(n,b,p),o!==null&&(Fs(o,n,p,c),Zc(o,n,p))}};function Uv(n,o,c,p,b,S,F){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,S,F):o.prototype&&o.prototype.isPureReactComponent?!nl(c,p)||!nl(b,S):!0}function zv(n,o,c){var p=!1,b=la,S=o.contextType;return typeof S=="object"&&S!==null?S=vs(S):(b=Yr(o)?Ja:Er.current,p=o.contextTypes,S=(p=p!=null)?$o(n,b):la),o=new o(c,S),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=id,n.stateNode=o,o._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=b,n.__reactInternalMemoizedMaskedChildContext=S),o}function qv(n,o,c,p){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==n&&id.enqueueReplaceState(o,o.state,null)}function fh(n,o,c,p){var b=n.stateNode;b.props=c,b.state=n.memoizedState,b.refs={},eh(n);var S=o.contextType;typeof S=="object"&&S!==null?b.context=vs(S):(S=Yr(o)?Ja:Er.current,b.context=$o(n,S)),b.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(hh(n,o,S,c),b.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(o=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),o!==b.state&&id.enqueueReplaceState(b,b.state,null),ed(n,c,b,p),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308)}function Yo(n,o){try{var c="",p=o;do c+=ue(p),p=p.return;while(p);var b=c}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:n,source:o,stack:b,digest:null}}function ph(n,o,c){return{value:n,source:null,stack:c??null,digest:o??null}}function xh(n,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var vP=typeof WeakMap=="function"?WeakMap:Map;function Wv(n,o,c){c=Tn(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){fd||(fd=!0,Th=p),xh(n,o)},c}function Hv(n,o,c){c=Tn(-1,c),c.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var b=o.value;c.payload=function(){return p(b)},c.callback=function(){xh(n,o)}}var S=n.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(c.callback=function(){xh(n,o),typeof p!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var F=o.stack;this.componentDidCatch(o.value,{componentStack:F!==null?F:""})}),c}function Yv(n,o,c){var p=n.pingCache;if(p===null){p=n.pingCache=new vP;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(c)||(b.add(c),n=DP.bind(null,n,o,c),o.then(n,n))}function Kv(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function Gv(n,o,c,p,b){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Tn(-1,1),o.tag=2,ua(c,o,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=b,n)}var yP=L.ReactCurrentOwner,Kr=!1;function Or(n,o,c,p){o.child=n===null?pv(o,null,c,p):zo(o,n.child,c,p)}function Qv(n,o,c,p,b){c=c.render;var S=o.ref;return Wo(o,b),p=ih(n,o,c,p,S,b),c=lh(),n!==null&&!Kr?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~b,Dn(n,o,b)):(Kt&&c&&qm(o),o.flags|=1,Or(n,o,p,b),o.child)}function Xv(n,o,c,p,b){if(n===null){var S=c.type;return typeof S=="function"&&!Lh(S)&&S.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=S,Jv(n,o,S,p,b)):(n=bd(c.type,null,p,o,o.mode,b),n.ref=o.ref,n.return=o,o.child=n)}if(S=n.child,(n.lanes&b)===0){var F=S.memoizedProps;if(c=c.compare,c=c!==null?c:nl,c(F,p)&&n.ref===o.ref)return Dn(n,o,b)}return o.flags|=1,n=ga(S,p),n.ref=o.ref,n.return=o,o.child=n}function Jv(n,o,c,p,b){if(n!==null){var S=n.memoizedProps;if(nl(S,p)&&n.ref===o.ref)if(Kr=!1,o.pendingProps=p=S,(n.lanes&b)!==0)(n.flags&131072)!==0&&(Kr=!0);else return o.lanes=n.lanes,Dn(n,o,b)}return gh(n,o,c,p,b)}function Zv(n,o,c){var p=o.pendingProps,b=p.children,S=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Go,cs),cs|=c;else{if((c&1073741824)===0)return n=S!==null?S.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Lt(Go,cs),cs|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:c,Lt(Go,cs),cs|=p}else S!==null?(p=S.baseLanes|c,o.memoizedState=null):p=c,Lt(Go,cs),cs|=p;return Or(n,o,b,c),o.child}function e0(n,o){var c=o.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function gh(n,o,c,p,b){var S=Yr(c)?Ja:Er.current;return S=$o(o,S),Wo(o,b),c=ih(n,o,c,p,S,b),p=lh(),n!==null&&!Kr?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~b,Dn(n,o,b)):(Kt&&p&&qm(o),o.flags|=1,Or(n,o,c,b),o.child)}function t0(n,o,c,p,b){if(Yr(c)){var S=!0;Wc(o)}else S=!1;if(Wo(o,b),o.stateNode===null)cd(n,o),zv(o,c,p),fh(o,c,p,b),p=!0;else if(n===null){var F=o.stateNode,K=o.memoizedProps;F.props=K;var Z=F.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=vs(pe):(pe=Yr(c)?Ja:Er.current,pe=$o(o,pe));var Ne=c.getDerivedStateFromProps,Pe=typeof Ne=="function"||typeof F.getSnapshotBeforeUpdate=="function";Pe||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==p||Z!==pe)&&qv(o,F,p,pe),da=!1;var je=o.memoizedState;F.state=je,ed(o,p,F,b),Z=o.memoizedState,K!==p||je!==Z||Hr.current||da?(typeof Ne=="function"&&(hh(o,c,Ne,p),Z=o.memoizedState),(K=da||Uv(o,c,K,p,je,Z,pe))?(Pe||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(o.flags|=4194308)):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Z),F.props=p,F.state=Z,F.context=pe,p=K):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{F=o.stateNode,gv(n,o),K=o.memoizedProps,pe=o.type===o.elementType?K:Ms(o.type,K),F.props=pe,Pe=o.pendingProps,je=F.context,Z=c.contextType,typeof Z=="object"&&Z!==null?Z=vs(Z):(Z=Yr(c)?Ja:Er.current,Z=$o(o,Z));var Fe=c.getDerivedStateFromProps;(Ne=typeof Fe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==Pe||je!==Z)&&qv(o,F,p,Z),da=!1,je=o.memoizedState,F.state=je,ed(o,p,F,b);var Ve=o.memoizedState;K!==Pe||je!==Ve||Hr.current||da?(typeof Fe=="function"&&(hh(o,c,Fe,p),Ve=o.memoizedState),(pe=da||Uv(o,c,pe,p,je,Ve,Z)||!1)?(Ne||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Ve,Z),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Ve,Z)),typeof F.componentDidUpdate=="function"&&(o.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof F.componentDidUpdate!="function"||K===n.memoizedProps&&je===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===n.memoizedProps&&je===n.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ve),F.props=p,F.state=Ve,F.context=Z,p=pe):(typeof F.componentDidUpdate!="function"||K===n.memoizedProps&&je===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===n.memoizedProps&&je===n.memoizedState||(o.flags|=1024),p=!1)}return vh(n,o,c,p,S,b)}function vh(n,o,c,p,b,S){e0(n,o);var F=(o.flags&128)!==0;if(!p&&!F)return b&&ov(o,c,!1),Dn(n,o,S);p=o.stateNode,yP.current=o;var K=F&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,n!==null&&F?(o.child=zo(o,n.child,null,S),o.child=zo(o,null,K,S)):Or(n,o,K,S),o.memoizedState=p.state,b&&ov(o,c,!0),o.child}function r0(n){var o=n.stateNode;o.pendingContext?nv(n,o.pendingContext,o.pendingContext!==o.context):o.context&&nv(n,o.context,!1),th(n,o.containerInfo)}function s0(n,o,c,p,b){return Uo(),Km(b),o.flags|=256,Or(n,o,c,p),o.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function bh(n){return{baseLanes:n,cachePool:null,transitions:null}}function n0(n,o,c){var p=o.pendingProps,b=Qt.current,S=!1,F=(o.flags&128)!==0,K;if((K=F)||(K=n!==null&&n.memoizedState===null?!1:(b&2)!==0),K?(S=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(b|=1),Lt(Qt,b&1),n===null)return Ym(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(F=p.children,n=p.fallback,S?(p=o.mode,S=o.child,F={mode:"hidden",children:F},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=F):S=jd(F,p,0,null),n=lo(n,p,c,null),S.return=o,n.return=o,S.sibling=n,o.child=S,o.child.memoizedState=bh(c),o.memoizedState=yh,n):jh(o,F));if(b=n.memoizedState,b!==null&&(K=b.dehydrated,K!==null))return bP(n,o,F,p,K,b,c);if(S){S=p.fallback,F=o.mode,b=n.child,K=b.sibling;var Z={mode:"hidden",children:p.children};return(F&1)===0&&o.child!==b?(p=o.child,p.childLanes=0,p.pendingProps=Z,o.deletions=null):(p=ga(b,Z),p.subtreeFlags=b.subtreeFlags&14680064),K!==null?S=ga(K,S):(S=lo(S,F,c,null),S.flags|=2),S.return=o,p.return=o,p.sibling=S,o.child=p,p=S,S=o.child,F=n.child.memoizedState,F=F===null?bh(c):{baseLanes:F.baseLanes|c,cachePool:null,transitions:F.transitions},S.memoizedState=F,S.childLanes=n.childLanes&~c,o.memoizedState=yh,p}return S=n.child,n=S.sibling,p=ga(S,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,n!==null&&(c=o.deletions,c===null?(o.deletions=[n],o.flags|=16):c.push(n)),o.child=p,o.memoizedState=null,p}function jh(n,o){return o=jd({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function ld(n,o,c,p){return p!==null&&Km(p),zo(o,n.child,null,c),n=jh(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function bP(n,o,c,p,b,S,F){if(c)return o.flags&256?(o.flags&=-257,p=ph(Error(s(422))),ld(n,o,F,p)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(S=p.fallback,b=o.mode,p=jd({mode:"visible",children:p.children},b,0,null),S=lo(S,b,F,null),S.flags|=2,p.return=o,S.return=o,p.sibling=S,o.child=p,(o.mode&1)!==0&&zo(o,n.child,null,F),o.child.memoizedState=bh(F),o.memoizedState=yh,S);if((o.mode&1)===0)return ld(n,o,F,null);if(b.data==="$!"){if(p=b.nextSibling&&b.nextSibling.dataset,p)var K=p.dgst;return p=K,S=Error(s(419)),p=ph(S,p,void 0),ld(n,o,F,p)}if(K=(F&n.childLanes)!==0,Kr||K){if(p=jr,p!==null){switch(F&-F){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(p.suspendedLanes|F))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Rn(n,b),Fs(p,n,b,-1))}return Fh(),p=ph(Error(s(421))),ld(n,o,F,p)}return b.data==="$?"?(o.flags|=128,o.child=n.child,o=AP.bind(null,n),b._reactRetry=o,null):(n=S.treeContext,ls=oa(b.nextSibling),is=o,Kt=!0,As=null,n!==null&&(xs[gs++]=_n,xs[gs++]=En,xs[gs++]=Za,_n=n.id,En=n.overflow,Za=o),o=jh(o,p.children),o.flags|=4096,o)}function a0(n,o,c){n.lanes|=o;var p=n.alternate;p!==null&&(p.lanes|=o),Jm(n.return,o,c)}function wh(n,o,c,p,b){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=c,S.tailMode=b)}function o0(n,o,c){var p=o.pendingProps,b=p.revealOrder,S=p.tail;if(Or(n,o,p.children,c),p=Qt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&a0(n,c,o);else if(n.tag===19)a0(n,c,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(Lt(Qt,p),(o.mode&1)===0)o.memoizedState=null;else switch(b){case"forwards":for(c=o.child,b=null;c!==null;)n=c.alternate,n!==null&&td(n)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),wh(o,!1,b,c,S);break;case"backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(n=b.alternate,n!==null&&td(n)===null){o.child=b;break}n=b.sibling,b.sibling=c,c=b,b=n}wh(o,!0,c,null,S);break;case"together":wh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function cd(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function Dn(n,o,c){if(n!==null&&(o.dependencies=n.dependencies),no|=o.lanes,(c&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,c=ga(n,n.pendingProps),o.child=c,c.return=o;n.sibling!==null;)n=n.sibling,c=c.sibling=ga(n,n.pendingProps),c.return=o;c.sibling=null}return o.child}function jP(n,o,c){switch(o.tag){case 3:r0(o),Uo();break;case 5:bv(o);break;case 1:Yr(o.type)&&Wc(o);break;case 4:th(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,b=o.memoizedProps.value;Lt(Xc,p._currentValue),p._currentValue=b;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Lt(Qt,Qt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?n0(n,o,c):(Lt(Qt,Qt.current&1),n=Dn(n,o,c),n!==null?n.sibling:null);Lt(Qt,Qt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(n.flags&128)!==0){if(p)return o0(n,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Lt(Qt,Qt.current),p)break;return null;case 22:case 23:return o.lanes=0,Zv(n,o,c)}return Dn(n,o,c)}var i0,Nh,l0,c0;i0=function(n,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Nh=function(){},l0=function(n,o,c,p){var b=n.memoizedProps;if(b!==p){n=o.stateNode,ro(on.current);var S=null;switch(c){case"input":b=Te(n,b),p=Te(n,p),S=[];break;case"select":b=W({},b,{value:void 0}),p=W({},p,{value:void 0}),S=[];break;case"textarea":b=Le(n,b),p=Le(n,p),S=[];break;default:typeof b.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=Uc)}_r(c,p);var F;c=null;for(pe in b)if(!p.hasOwnProperty(pe)&&b.hasOwnProperty(pe)&&b[pe]!=null)if(pe==="style"){var K=b[pe];for(F in K)K.hasOwnProperty(F)&&(c||(c={}),c[F]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?S||(S=[]):(S=S||[]).push(pe,null));for(pe in p){var Z=p[pe];if(K=b!=null?b[pe]:void 0,p.hasOwnProperty(pe)&&Z!==K&&(Z!=null||K!=null))if(pe==="style")if(K){for(F in K)!K.hasOwnProperty(F)||Z&&Z.hasOwnProperty(F)||(c||(c={}),c[F]="");for(F in Z)Z.hasOwnProperty(F)&&K[F]!==Z[F]&&(c||(c={}),c[F]=Z[F])}else c||(S||(S=[]),S.push(pe,c)),c=Z;else pe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(S=S||[]).push(pe,Z)):pe==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(pe,""+Z):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(Z!=null&&pe==="onScroll"&&zt("scroll",n),S||K===Z||(S=[])):(S=S||[]).push(pe,Z))}c&&(S=S||[]).push("style",c);var pe=S;(o.updateQueue=pe)&&(o.flags|=4)}},c0=function(n,o,c,p){c!==p&&(o.flags|=4)};function yl(n,o){if(!Kt)switch(n.tailMode){case"hidden":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function Tr(n){var o=n.alternate!==null&&n.alternate.child===n.child,c=0,p=0;if(o)for(var b=n.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&14680064,p|=b.flags&14680064,b.return=n,b=b.sibling;else for(b=n.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=n,b=b.sibling;return n.subtreeFlags|=p,n.childLanes=c,o}function wP(n,o,c){var p=o.pendingProps;switch(Wm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(o),null;case 1:return Yr(o.type)&&qc(),Tr(o),null;case 3:return p=o.stateNode,Ho(),qt(Hr),qt(Er),nh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(Gc(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,As!==null&&(Mh(As),As=null))),Nh(n,o),Tr(o),null;case 5:rh(o);var b=ro(fl.current);if(c=o.type,n!==null&&o.stateNode!=null)l0(n,o,c,p,b),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(s(166));return Tr(o),null}if(n=ro(on.current),Gc(o)){p=o.stateNode,c=o.type;var S=o.memoizedProps;switch(p[an]=o,p[cl]=S,n=(o.mode&1)!==0,c){case"dialog":zt("cancel",p),zt("close",p);break;case"iframe":case"object":case"embed":zt("load",p);break;case"video":case"audio":for(b=0;b<ol.length;b++)zt(ol[b],p);break;case"source":zt("error",p);break;case"img":case"image":case"link":zt("error",p),zt("load",p);break;case"details":zt("toggle",p);break;case"input":pt(p,S),zt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},zt("invalid",p);break;case"textarea":ie(p,S),zt("invalid",p)}_r(c,S),b=null;for(var F in S)if(S.hasOwnProperty(F)){var K=S[F];F==="children"?typeof K=="string"?p.textContent!==K&&(S.suppressHydrationWarning!==!0&&Bc(p.textContent,K,n),b=["children",K]):typeof K=="number"&&p.textContent!==""+K&&(S.suppressHydrationWarning!==!0&&Bc(p.textContent,K,n),b=["children",""+K]):i.hasOwnProperty(F)&&K!=null&&F==="onScroll"&&zt("scroll",p)}switch(c){case"input":fe(p),or(p,S,!0);break;case"textarea":fe(p),Ae(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=Uc)}p=b,o.updateQueue=p,p!==null&&(o.flags|=4)}else{F=b.nodeType===9?b:b.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ie(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=F.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=F.createElement(c,{is:p.is}):(n=F.createElement(c),c==="select"&&(F=n,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):n=F.createElementNS(n,c),n[an]=o,n[cl]=p,i0(n,o,!1,!1),o.stateNode=n;e:{switch(F=_s(c,p),c){case"dialog":zt("cancel",n),zt("close",n),b=p;break;case"iframe":case"object":case"embed":zt("load",n),b=p;break;case"video":case"audio":for(b=0;b<ol.length;b++)zt(ol[b],n);b=p;break;case"source":zt("error",n),b=p;break;case"img":case"image":case"link":zt("error",n),zt("load",n),b=p;break;case"details":zt("toggle",n),b=p;break;case"input":pt(n,p),b=Te(n,p),zt("invalid",n);break;case"option":b=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},b=W({},p,{value:void 0}),zt("invalid",n);break;case"textarea":ie(n,p),b=Le(n,p),zt("invalid",n);break;default:b=p}_r(c,b),K=b;for(S in K)if(K.hasOwnProperty(S)){var Z=K[S];S==="style"?Dt(n,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&wt(n,Z)):S==="children"?typeof Z=="string"?(c!=="textarea"||Z!=="")&&qe(n,Z):typeof Z=="number"&&qe(n,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&zt("scroll",n):Z!=null&&C(n,S,Z,F))}switch(c){case"input":fe(n),or(n,p,!1);break;case"textarea":fe(n),Ae(n);break;case"option":p.value!=null&&n.setAttribute("value",""+de(p.value));break;case"select":n.multiple=!!p.multiple,S=p.value,S!=null?ae(n,!!p.multiple,S,!1):p.defaultValue!=null&&ae(n,!!p.multiple,p.defaultValue,!0);break;default:typeof b.onClick=="function"&&(n.onclick=Uc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Tr(o),null;case 6:if(n&&o.stateNode!=null)c0(n,o,n.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(s(166));if(c=ro(fl.current),ro(on.current),Gc(o)){if(p=o.stateNode,c=o.memoizedProps,p[an]=o,(S=p.nodeValue!==c)&&(n=is,n!==null))switch(n.tag){case 3:Bc(p.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Bc(p.nodeValue,c,(n.mode&1)!==0)}S&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[an]=o,o.stateNode=p}return Tr(o),null;case 13:if(qt(Qt),p=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Kt&&ls!==null&&(o.mode&1)!==0&&(o.flags&128)===0)mv(),Uo(),o.flags|=98560,S=!1;else if(S=Gc(o),p!==null&&p.dehydrated!==null){if(n===null){if(!S)throw Error(s(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[an]=o}else Uo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tr(o),S=!1}else As!==null&&(Mh(As),As=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(Qt.current&1)!==0?pr===0&&(pr=3):Fh())),o.updateQueue!==null&&(o.flags|=4),Tr(o),null);case 4:return Ho(),Nh(n,o),n===null&&il(o.stateNode.containerInfo),Tr(o),null;case 10:return Xm(o.type._context),Tr(o),null;case 17:return Yr(o.type)&&qc(),Tr(o),null;case 19:if(qt(Qt),S=o.memoizedState,S===null)return Tr(o),null;if(p=(o.flags&128)!==0,F=S.rendering,F===null)if(p)yl(S,!1);else{if(pr!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(F=td(n),F!==null){for(o.flags|=128,yl(S,!1),p=F.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)S=c,n=p,S.flags&=14680066,F=S.alternate,F===null?(S.childLanes=0,S.lanes=n,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=F.childLanes,S.lanes=F.lanes,S.child=F.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=F.memoizedProps,S.memoizedState=F.memoizedState,S.updateQueue=F.updateQueue,S.type=F.type,n=F.dependencies,S.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Lt(Qt,Qt.current&1|2),o.child}n=n.sibling}S.tail!==null&&ir()>Qo&&(o.flags|=128,p=!0,yl(S,!1),o.lanes=4194304)}else{if(!p)if(n=td(F),n!==null){if(o.flags|=128,p=!0,c=n.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),yl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!F.alternate&&!Kt)return Tr(o),null}else 2*ir()-S.renderingStartTime>Qo&&c!==1073741824&&(o.flags|=128,p=!0,yl(S,!1),o.lanes=4194304);S.isBackwards?(F.sibling=o.child,o.child=F):(c=S.last,c!==null?c.sibling=F:o.child=F,S.last=F)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=ir(),o.sibling=null,c=Qt.current,Lt(Qt,p?c&1|2:c&1),o):(Tr(o),null);case 22:case 23:return Oh(),p=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(cs&1073741824)!==0&&(Tr(o),o.subtreeFlags&6&&(o.flags|=8192)):Tr(o),null;case 24:return null;case 25:return null}throw Error(s(156,o.tag))}function NP(n,o){switch(Wm(o),o.tag){case 1:return Yr(o.type)&&qc(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Ho(),qt(Hr),qt(Er),nh(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return rh(o),null;case 13:if(qt(Qt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Uo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return qt(Qt),null;case 4:return Ho(),null;case 10:return Xm(o.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var dd=!1,Dr=!1,SP=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ko(n,o){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){tr(n,o,p)}else c.current=null}function Sh(n,o,c){try{c()}catch(p){tr(n,o,p)}}var d0=!1;function kP(n,o){if(Om=Rc,n=Ug(),_m(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var F=0,K=-1,Z=-1,pe=0,Ne=0,Pe=n,je=null;t:for(;;){for(var Fe;Pe!==c||b!==0&&Pe.nodeType!==3||(K=F+b),Pe!==S||p!==0&&Pe.nodeType!==3||(Z=F+p),Pe.nodeType===3&&(F+=Pe.nodeValue.length),(Fe=Pe.firstChild)!==null;)je=Pe,Pe=Fe;for(;;){if(Pe===n)break t;if(je===c&&++pe===b&&(K=F),je===S&&++Ne===p&&(Z=F),(Fe=Pe.nextSibling)!==null)break;Pe=je,je=Pe.parentNode}Pe=Fe}c=K===-1||Z===-1?null:{start:K,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Fm={focusedElem:n,selectionRange:c},Rc=!1,$e=o;$e!==null;)if(o=$e,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,$e=n;else for(;$e!==null;){o=$e;try{var Ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Ue=Ve.memoizedProps,lr=Ve.memoizedState,ce=o.stateNode,ee=ce.getSnapshotBeforeUpdate(o.elementType===o.type?Ue:Ms(o.type,Ue),lr);ce.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var me=o.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){tr(o,o.return,Ee)}if(n=o.sibling,n!==null){n.return=o.return,$e=n;break}$e=o.return}return Ve=d0,d0=!1,Ve}function bl(n,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&n)===n){var S=b.destroy;b.destroy=void 0,S!==void 0&&Sh(o,c,S)}b=b.next}while(b!==p)}}function ud(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&n)===n){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function kh(n){var o=n.ref;if(o!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof o=="function"?o(n):o.current=n}}function u0(n){var o=n.alternate;o!==null&&(n.alternate=null,u0(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[an],delete o[cl],delete o[Bm],delete o[iP],delete o[lP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function m0(n){return n.tag===5||n.tag===3||n.tag===4}function h0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||m0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ch(n,o,c){var p=n.tag;if(p===5||p===6)n=n.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(n,o):c.insertBefore(n,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(n,c)):(o=c,o.appendChild(n)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Uc));else if(p!==4&&(n=n.child,n!==null))for(Ch(n,o,c),n=n.sibling;n!==null;)Ch(n,o,c),n=n.sibling}function Ph(n,o,c){var p=n.tag;if(p===5||p===6)n=n.stateNode,o?c.insertBefore(n,o):c.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(Ph(n,o,c),n=n.sibling;n!==null;)Ph(n,o,c),n=n.sibling}var Sr=null,Is=!1;function ma(n,o,c){for(c=c.child;c!==null;)f0(n,o,c),c=c.sibling}function f0(n,o,c){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Sc,c)}catch{}switch(c.tag){case 5:Dr||Ko(c,o);case 6:var p=Sr,b=Is;Sr=null,ma(n,o,c),Sr=p,Is=b,Sr!==null&&(Is?(n=Sr,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Sr.removeChild(c.stateNode));break;case 18:Sr!==null&&(Is?(n=Sr,c=c.stateNode,n.nodeType===8?Vm(n.parentNode,c):n.nodeType===1&&Vm(n,c),Ji(n)):Vm(Sr,c.stateNode));break;case 4:p=Sr,b=Is,Sr=c.stateNode.containerInfo,Is=!0,ma(n,o,c),Sr=p,Is=b;break;case 0:case 11:case 14:case 15:if(!Dr&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){b=p=p.next;do{var S=b,F=S.destroy;S=S.tag,F!==void 0&&((S&2)!==0||(S&4)!==0)&&Sh(c,o,F),b=b.next}while(b!==p)}ma(n,o,c);break;case 1:if(!Dr&&(Ko(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(K){tr(c,o,K)}ma(n,o,c);break;case 21:ma(n,o,c);break;case 22:c.mode&1?(Dr=(p=Dr)||c.memoizedState!==null,ma(n,o,c),Dr=p):ma(n,o,c);break;default:ma(n,o,c)}}function p0(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new SP),o.forEach(function(p){var b=MP.bind(null,n,p);c.has(p)||(c.add(p),p.then(b,b))})}}function Os(n,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p];try{var S=n,F=o,K=F;e:for(;K!==null;){switch(K.tag){case 5:Sr=K.stateNode,Is=!1;break e;case 3:Sr=K.stateNode.containerInfo,Is=!0;break e;case 4:Sr=K.stateNode.containerInfo,Is=!0;break e}K=K.return}if(Sr===null)throw Error(s(160));f0(S,F,b),Sr=null,Is=!1;var Z=b.alternate;Z!==null&&(Z.return=null),b.return=null}catch(pe){tr(b,o,pe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)x0(o,n),o=o.sibling}function x0(n,o){var c=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Os(o,n),cn(n),p&4){try{bl(3,n,n.return),ud(3,n)}catch(Ue){tr(n,n.return,Ue)}try{bl(5,n,n.return)}catch(Ue){tr(n,n.return,Ue)}}break;case 1:Os(o,n),cn(n),p&512&&c!==null&&Ko(c,c.return);break;case 5:if(Os(o,n),cn(n),p&512&&c!==null&&Ko(c,c.return),n.flags&32){var b=n.stateNode;try{qe(b,"")}catch(Ue){tr(n,n.return,Ue)}}if(p&4&&(b=n.stateNode,b!=null)){var S=n.memoizedProps,F=c!==null?c.memoizedProps:S,K=n.type,Z=n.updateQueue;if(n.updateQueue=null,Z!==null)try{K==="input"&&S.type==="radio"&&S.name!=null&&Ot(b,S),_s(K,F);var pe=_s(K,S);for(F=0;F<Z.length;F+=2){var Ne=Z[F],Pe=Z[F+1];Ne==="style"?Dt(b,Pe):Ne==="dangerouslySetInnerHTML"?wt(b,Pe):Ne==="children"?qe(b,Pe):C(b,Ne,Pe,pe)}switch(K){case"input":Yt(b,S);break;case"textarea":_e(b,S);break;case"select":var je=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var Fe=S.value;Fe!=null?ae(b,!!S.multiple,Fe,!1):je!==!!S.multiple&&(S.defaultValue!=null?ae(b,!!S.multiple,S.defaultValue,!0):ae(b,!!S.multiple,S.multiple?[]:"",!1))}b[cl]=S}catch(Ue){tr(n,n.return,Ue)}}break;case 6:if(Os(o,n),cn(n),p&4){if(n.stateNode===null)throw Error(s(162));b=n.stateNode,S=n.memoizedProps;try{b.nodeValue=S}catch(Ue){tr(n,n.return,Ue)}}break;case 3:if(Os(o,n),cn(n),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ji(o.containerInfo)}catch(Ue){tr(n,n.return,Ue)}break;case 4:Os(o,n),cn(n);break;case 13:Os(o,n),cn(n),b=n.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(Rh=ir())),p&4&&p0(n);break;case 22:if(Ne=c!==null&&c.memoizedState!==null,n.mode&1?(Dr=(pe=Dr)||Ne,Os(o,n),Dr=pe):Os(o,n),cn(n),p&8192){if(pe=n.memoizedState!==null,(n.stateNode.isHidden=pe)&&!Ne&&(n.mode&1)!==0)for($e=n,Ne=n.child;Ne!==null;){for(Pe=$e=Ne;$e!==null;){switch(je=$e,Fe=je.child,je.tag){case 0:case 11:case 14:case 15:bl(4,je,je.return);break;case 1:Ko(je,je.return);var Ve=je.stateNode;if(typeof Ve.componentWillUnmount=="function"){p=je,c=je.return;try{o=p,Ve.props=o.memoizedProps,Ve.state=o.memoizedState,Ve.componentWillUnmount()}catch(Ue){tr(p,c,Ue)}}break;case 5:Ko(je,je.return);break;case 22:if(je.memoizedState!==null){y0(Pe);continue}}Fe!==null?(Fe.return=je,$e=Fe):y0(Pe)}Ne=Ne.sibling}e:for(Ne=null,Pe=n;;){if(Pe.tag===5){if(Ne===null){Ne=Pe;try{b=Pe.stateNode,pe?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(K=Pe.stateNode,Z=Pe.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=jt("display",F))}catch(Ue){tr(n,n.return,Ue)}}}else if(Pe.tag===6){if(Ne===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Ue){tr(n,n.return,Ue)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===n)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===n)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===n)break e;Ne===Pe&&(Ne=null),Pe=Pe.return}Ne===Pe&&(Ne=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Os(o,n),cn(n),p&4&&p0(n);break;case 21:break;default:Os(o,n),cn(n)}}function cn(n){var o=n.flags;if(o&2){try{e:{for(var c=n.return;c!==null;){if(m0(c)){var p=c;break e}c=c.return}throw Error(s(160))}switch(p.tag){case 5:var b=p.stateNode;p.flags&32&&(qe(b,""),p.flags&=-33);var S=h0(n);Ph(n,S,b);break;case 3:case 4:var F=p.stateNode.containerInfo,K=h0(n);Ch(n,K,F);break;default:throw Error(s(161))}}catch(Z){tr(n,n.return,Z)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function CP(n,o,c){$e=n,g0(n)}function g0(n,o,c){for(var p=(n.mode&1)!==0;$e!==null;){var b=$e,S=b.child;if(b.tag===22&&p){var F=b.memoizedState!==null||dd;if(!F){var K=b.alternate,Z=K!==null&&K.memoizedState!==null||Dr;K=dd;var pe=Dr;if(dd=F,(Dr=Z)&&!pe)for($e=b;$e!==null;)F=$e,Z=F.child,F.tag===22&&F.memoizedState!==null?b0(b):Z!==null?(Z.return=F,$e=Z):b0(b);for(;S!==null;)$e=S,g0(S),S=S.sibling;$e=b,dd=K,Dr=pe}v0(n)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,$e=S):v0(n)}}function v0(n){for(;$e!==null;){var o=$e;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Dr||ud(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Dr)if(c===null)p.componentDidMount();else{var b=o.elementType===o.type?c.memoizedProps:Ms(o.type,c.memoizedProps);p.componentDidUpdate(b,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&yv(o,S,p);break;case 3:var F=o.updateQueue;if(F!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}yv(o,F,c)}break;case 5:var K=o.stateNode;if(c===null&&o.flags&4){c=K;var Z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&c.focus();break;case"img":Z.src&&(c.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var pe=o.alternate;if(pe!==null){var Ne=pe.memoizedState;if(Ne!==null){var Pe=Ne.dehydrated;Pe!==null&&Ji(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Dr||o.flags&512&&kh(o)}catch(je){tr(o,o.return,je)}}if(o===n){$e=null;break}if(c=o.sibling,c!==null){c.return=o.return,$e=c;break}$e=o.return}}function y0(n){for(;$e!==null;){var o=$e;if(o===n){$e=null;break}var c=o.sibling;if(c!==null){c.return=o.return,$e=c;break}$e=o.return}}function b0(n){for(;$e!==null;){var o=$e;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{ud(4,o)}catch(Z){tr(o,c,Z)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var b=o.return;try{p.componentDidMount()}catch(Z){tr(o,b,Z)}}var S=o.return;try{kh(o)}catch(Z){tr(o,S,Z)}break;case 5:var F=o.return;try{kh(o)}catch(Z){tr(o,F,Z)}}}catch(Z){tr(o,o.return,Z)}if(o===n){$e=null;break}var K=o.sibling;if(K!==null){K.return=o.return,$e=K;break}$e=o.return}}var PP=Math.ceil,md=L.ReactCurrentDispatcher,_h=L.ReactCurrentOwner,bs=L.ReactCurrentBatchConfig,Nt=0,jr=null,ur=null,kr=0,cs=0,Go=ia(0),pr=0,jl=null,no=0,hd=0,Eh=0,wl=null,Gr=null,Rh=0,Qo=1/0,An=null,fd=!1,Th=null,ha=null,pd=!1,fa=null,xd=0,Nl=0,Dh=null,gd=-1,vd=0;function Fr(){return(Nt&6)!==0?ir():gd!==-1?gd:gd=ir()}function pa(n){return(n.mode&1)===0?1:(Nt&2)!==0&&kr!==0?kr&-kr:dP.transition!==null?(vd===0&&(vd=hg()),vd):(n=Rt,n!==0||(n=window.event,n=n===void 0?16:wg(n.type)),n)}function Fs(n,o,c,p){if(50<Nl)throw Nl=0,Dh=null,Error(s(185));Yi(n,c,p),((Nt&2)===0||n!==jr)&&(n===jr&&((Nt&2)===0&&(hd|=c),pr===4&&xa(n,kr)),Qr(n,p),c===1&&Nt===0&&(o.mode&1)===0&&(Qo=ir()+500,Hc&&ca()))}function Qr(n,o){var c=n.callbackNode;dC(n,o);var p=Pc(n,n===jr?kr:0);if(p===0)c!==null&&dg(c),n.callbackNode=null,n.callbackPriority=0;else if(o=p&-p,n.callbackPriority!==o){if(c!=null&&dg(c),o===1)n.tag===0?cP(w0.bind(null,n)):iv(w0.bind(null,n)),aP(function(){(Nt&6)===0&&ca()}),c=null;else{switch(fg(p)){case 1:c=um;break;case 4:c=ug;break;case 16:c=Nc;break;case 536870912:c=mg;break;default:c=Nc}c=R0(c,j0.bind(null,n))}n.callbackPriority=o,n.callbackNode=c}}function j0(n,o){if(gd=-1,vd=0,(Nt&6)!==0)throw Error(s(327));var c=n.callbackNode;if(Xo()&&n.callbackNode!==c)return null;var p=Pc(n,n===jr?kr:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||o)o=yd(n,p);else{o=p;var b=Nt;Nt|=2;var S=S0();(jr!==n||kr!==o)&&(An=null,Qo=ir()+500,oo(n,o));do try{RP();break}catch(K){N0(n,K)}while(!0);Qm(),md.current=S,Nt=b,ur!==null?o=0:(jr=null,kr=0,o=pr)}if(o!==0){if(o===2&&(b=mm(n),b!==0&&(p=b,o=Ah(n,b))),o===1)throw c=jl,oo(n,0),xa(n,p),Qr(n,ir()),c;if(o===6)xa(n,p);else{if(b=n.current.alternate,(p&30)===0&&!_P(b)&&(o=yd(n,p),o===2&&(S=mm(n),S!==0&&(p=S,o=Ah(n,S))),o===1))throw c=jl,oo(n,0),xa(n,p),Qr(n,ir()),c;switch(n.finishedWork=b,n.finishedLanes=p,o){case 0:case 1:throw Error(s(345));case 2:io(n,Gr,An);break;case 3:if(xa(n,p),(p&130023424)===p&&(o=Rh+500-ir(),10<o)){if(Pc(n,0)!==0)break;if(b=n.suspendedLanes,(b&p)!==p){Fr(),n.pingedLanes|=n.suspendedLanes&b;break}n.timeoutHandle=$m(io.bind(null,n,Gr,An),o);break}io(n,Gr,An);break;case 4:if(xa(n,p),(p&4194240)===p)break;for(o=n.eventTimes,b=-1;0<p;){var F=31-Ts(p);S=1<<F,F=o[F],F>b&&(b=F),p&=~S}if(p=b,p=ir()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*PP(p/1960))-p,10<p){n.timeoutHandle=$m(io.bind(null,n,Gr,An),p);break}io(n,Gr,An);break;case 5:io(n,Gr,An);break;default:throw Error(s(329))}}}return Qr(n,ir()),n.callbackNode===c?j0.bind(null,n):null}function Ah(n,o){var c=wl;return n.current.memoizedState.isDehydrated&&(oo(n,o).flags|=256),n=yd(n,o),n!==2&&(o=Gr,Gr=c,o!==null&&Mh(o)),n}function Mh(n){Gr===null?Gr=n:Gr.push.apply(Gr,n)}function _P(n){for(var o=n;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var b=c[p],S=b.getSnapshot;b=b.value;try{if(!Ds(S(),b))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xa(n,o){for(o&=~Eh,o&=~hd,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var c=31-Ts(o),p=1<<c;n[c]=-1,o&=~p}}function w0(n){if((Nt&6)!==0)throw Error(s(327));Xo();var o=Pc(n,0);if((o&1)===0)return Qr(n,ir()),null;var c=yd(n,o);if(n.tag!==0&&c===2){var p=mm(n);p!==0&&(o=p,c=Ah(n,p))}if(c===1)throw c=jl,oo(n,0),xa(n,o),Qr(n,ir()),c;if(c===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,io(n,Gr,An),Qr(n,ir()),null}function Ih(n,o){var c=Nt;Nt|=1;try{return n(o)}finally{Nt=c,Nt===0&&(Qo=ir()+500,Hc&&ca())}}function ao(n){fa!==null&&fa.tag===0&&(Nt&6)===0&&Xo();var o=Nt;Nt|=1;var c=bs.transition,p=Rt;try{if(bs.transition=null,Rt=1,n)return n()}finally{Rt=p,bs.transition=c,Nt=o,(Nt&6)===0&&ca()}}function Oh(){cs=Go.current,qt(Go)}function oo(n,o){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,nP(c)),ur!==null)for(c=ur.return;c!==null;){var p=c;switch(Wm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&qc();break;case 3:Ho(),qt(Hr),qt(Er),nh();break;case 5:rh(p);break;case 4:Ho();break;case 13:qt(Qt);break;case 19:qt(Qt);break;case 10:Xm(p.type._context);break;case 22:case 23:Oh()}c=c.return}if(jr=n,ur=n=ga(n.current,null),kr=cs=o,pr=0,jl=null,Eh=hd=no=0,Gr=wl=null,to!==null){for(o=0;o<to.length;o++)if(c=to[o],p=c.interleaved,p!==null){c.interleaved=null;var b=p.next,S=c.pending;if(S!==null){var F=S.next;S.next=b,p.next=F}c.pending=p}to=null}return n}function N0(n,o){do{var c=ur;try{if(Qm(),rd.current=od,sd){for(var p=Xt.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}sd=!1}if(so=0,br=fr=Xt=null,pl=!1,xl=0,_h.current=null,c===null||c.return===null){pr=1,jl=o,ur=null;break}e:{var S=n,F=c.return,K=c,Z=o;if(o=kr,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var pe=Z,Ne=K,Pe=Ne.tag;if((Ne.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var je=Ne.alternate;je?(Ne.updateQueue=je.updateQueue,Ne.memoizedState=je.memoizedState,Ne.lanes=je.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Fe=Kv(F);if(Fe!==null){Fe.flags&=-257,Gv(Fe,F,K,S,o),Fe.mode&1&&Yv(S,pe,o),o=Fe,Z=pe;var Ve=o.updateQueue;if(Ve===null){var Ue=new Set;Ue.add(Z),o.updateQueue=Ue}else Ve.add(Z);break e}else{if((o&1)===0){Yv(S,pe,o),Fh();break e}Z=Error(s(426))}}else if(Kt&&K.mode&1){var lr=Kv(F);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),Gv(lr,F,K,S,o),Km(Yo(Z,K));break e}}S=Z=Yo(Z,K),pr!==4&&(pr=2),wl===null?wl=[S]:wl.push(S),S=F;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var ce=Wv(S,Z,o);vv(S,ce);break e;case 1:K=Z;var ee=S.type,me=S.stateNode;if((S.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(ha===null||!ha.has(me)))){S.flags|=65536,o&=-o,S.lanes|=o;var Ee=Hv(S,K,o);vv(S,Ee);break e}}S=S.return}while(S!==null)}C0(c)}catch(ze){o=ze,ur===c&&c!==null&&(ur=c=c.return);continue}break}while(!0)}function S0(){var n=md.current;return md.current=od,n===null?od:n}function Fh(){(pr===0||pr===3||pr===2)&&(pr=4),jr===null||(no&268435455)===0&&(hd&268435455)===0||xa(jr,kr)}function yd(n,o){var c=Nt;Nt|=2;var p=S0();(jr!==n||kr!==o)&&(An=null,oo(n,o));do try{EP();break}catch(b){N0(n,b)}while(!0);if(Qm(),Nt=c,md.current=p,ur!==null)throw Error(s(261));return jr=null,kr=0,pr}function EP(){for(;ur!==null;)k0(ur)}function RP(){for(;ur!==null&&!tC();)k0(ur)}function k0(n){var o=E0(n.alternate,n,cs);n.memoizedProps=n.pendingProps,o===null?C0(n):ur=o,_h.current=null}function C0(n){var o=n;do{var c=o.alternate;if(n=o.return,(o.flags&32768)===0){if(c=wP(c,o,cs),c!==null){ur=c;return}}else{if(c=NP(c,o),c!==null){c.flags&=32767,ur=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pr=6,ur=null;return}}if(o=o.sibling,o!==null){ur=o;return}ur=o=n}while(o!==null);pr===0&&(pr=5)}function io(n,o,c){var p=Rt,b=bs.transition;try{bs.transition=null,Rt=1,TP(n,o,c,p)}finally{bs.transition=b,Rt=p}return null}function TP(n,o,c,p){do Xo();while(fa!==null);if((Nt&6)!==0)throw Error(s(327));c=n.finishedWork;var b=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var S=c.lanes|c.childLanes;if(uC(n,S),n===jr&&(ur=jr=null,kr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||pd||(pd=!0,R0(Nc,function(){return Xo(),null})),S=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||S){S=bs.transition,bs.transition=null;var F=Rt;Rt=1;var K=Nt;Nt|=4,_h.current=null,kP(n,c),x0(c,n),XC(Fm),Rc=!!Om,Fm=Om=null,n.current=c,CP(c),rC(),Nt=K,Rt=F,bs.transition=S}else n.current=c;if(pd&&(pd=!1,fa=n,xd=b),S=n.pendingLanes,S===0&&(ha=null),aC(c.stateNode),Qr(n,ir()),o!==null)for(p=n.onRecoverableError,c=0;c<o.length;c++)b=o[c],p(b.value,{componentStack:b.stack,digest:b.digest});if(fd)throw fd=!1,n=Th,Th=null,n;return(xd&1)!==0&&n.tag!==0&&Xo(),S=n.pendingLanes,(S&1)!==0?n===Dh?Nl++:(Nl=0,Dh=n):Nl=0,ca(),null}function Xo(){if(fa!==null){var n=fg(xd),o=bs.transition,c=Rt;try{if(bs.transition=null,Rt=16>n?16:n,fa===null)var p=!1;else{if(n=fa,fa=null,xd=0,(Nt&6)!==0)throw Error(s(331));var b=Nt;for(Nt|=4,$e=n.current;$e!==null;){var S=$e,F=S.child;if(($e.flags&16)!==0){var K=S.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var pe=K[Z];for($e=pe;$e!==null;){var Ne=$e;switch(Ne.tag){case 0:case 11:case 15:bl(8,Ne,S)}var Pe=Ne.child;if(Pe!==null)Pe.return=Ne,$e=Pe;else for(;$e!==null;){Ne=$e;var je=Ne.sibling,Fe=Ne.return;if(u0(Ne),Ne===pe){$e=null;break}if(je!==null){je.return=Fe,$e=je;break}$e=Fe}}}var Ve=S.alternate;if(Ve!==null){var Ue=Ve.child;if(Ue!==null){Ve.child=null;do{var lr=Ue.sibling;Ue.sibling=null,Ue=lr}while(Ue!==null)}}$e=S}}if((S.subtreeFlags&2064)!==0&&F!==null)F.return=S,$e=F;else e:for(;$e!==null;){if(S=$e,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:bl(9,S,S.return)}var ce=S.sibling;if(ce!==null){ce.return=S.return,$e=ce;break e}$e=S.return}}var ee=n.current;for($e=ee;$e!==null;){F=$e;var me=F.child;if((F.subtreeFlags&2064)!==0&&me!==null)me.return=F,$e=me;else e:for(F=ee;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:ud(9,K)}}catch(ze){tr(K,K.return,ze)}if(K===F){$e=null;break e}var Ee=K.sibling;if(Ee!==null){Ee.return=K.return,$e=Ee;break e}$e=K.return}}if(Nt=b,ca(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Sc,n)}catch{}p=!0}return p}finally{Rt=c,bs.transition=o}}return!1}function P0(n,o,c){o=Yo(c,o),o=Wv(n,o,1),n=ua(n,o,1),o=Fr(),n!==null&&(Yi(n,1,o),Qr(n,o))}function tr(n,o,c){if(n.tag===3)P0(n,n,c);else for(;o!==null;){if(o.tag===3){P0(o,n,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ha===null||!ha.has(p))){n=Yo(c,n),n=Hv(o,n,1),o=ua(o,n,1),n=Fr(),o!==null&&(Yi(o,1,n),Qr(o,n));break}}o=o.return}}function DP(n,o,c){var p=n.pingCache;p!==null&&p.delete(o),o=Fr(),n.pingedLanes|=n.suspendedLanes&c,jr===n&&(kr&c)===c&&(pr===4||pr===3&&(kr&130023424)===kr&&500>ir()-Rh?oo(n,0):Eh|=c),Qr(n,o)}function _0(n,o){o===0&&((n.mode&1)===0?o=1:(o=Cc,Cc<<=1,(Cc&130023424)===0&&(Cc=4194304)));var c=Fr();n=Rn(n,o),n!==null&&(Yi(n,o,c),Qr(n,c))}function AP(n){var o=n.memoizedState,c=0;o!==null&&(c=o.retryLane),_0(n,c)}function MP(n,o){var c=0;switch(n.tag){case 13:var p=n.stateNode,b=n.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(o),_0(n,c)}var E0;E0=function(n,o,c){if(n!==null)if(n.memoizedProps!==o.pendingProps||Hr.current)Kr=!0;else{if((n.lanes&c)===0&&(o.flags&128)===0)return Kr=!1,jP(n,o,c);Kr=(n.flags&131072)!==0}else Kr=!1,Kt&&(o.flags&1048576)!==0&&lv(o,Kc,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;cd(n,o),n=o.pendingProps;var b=$o(o,Er.current);Wo(o,c),b=ih(null,o,p,n,b,c);var S=lh();return o.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Yr(p)?(S=!0,Wc(o)):S=!1,o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,eh(o),b.updater=id,o.stateNode=b,b._reactInternals=o,fh(o,p,n,c),o=vh(null,o,p,!0,S,c)):(o.tag=0,Kt&&S&&qm(o),Or(null,o,b,c),o=o.child),o;case 16:p=o.elementType;e:{switch(cd(n,o),n=o.pendingProps,b=p._init,p=b(p._payload),o.type=p,b=o.tag=OP(p),n=Ms(p,n),b){case 0:o=gh(null,o,p,n,c);break e;case 1:o=t0(null,o,p,n,c);break e;case 11:o=Qv(null,o,p,n,c);break e;case 14:o=Xv(null,o,p,Ms(p.type,n),c);break e}throw Error(s(306,p,""))}return o;case 0:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:Ms(p,b),gh(n,o,p,b,c);case 1:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:Ms(p,b),t0(n,o,p,b,c);case 3:e:{if(r0(o),n===null)throw Error(s(387));p=o.pendingProps,S=o.memoizedState,b=S.element,gv(n,o),ed(o,p,null,c);var F=o.memoizedState;if(p=F.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){b=Yo(Error(s(423)),o),o=s0(n,o,p,c,b);break e}else if(p!==b){b=Yo(Error(s(424)),o),o=s0(n,o,p,c,b);break e}else for(ls=oa(o.stateNode.containerInfo.firstChild),is=o,Kt=!0,As=null,c=pv(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Uo(),p===b){o=Dn(n,o,c);break e}Or(n,o,p,c)}o=o.child}return o;case 5:return bv(o),n===null&&Ym(o),p=o.type,b=o.pendingProps,S=n!==null?n.memoizedProps:null,F=b.children,Lm(p,b)?F=null:S!==null&&Lm(p,S)&&(o.flags|=32),e0(n,o),Or(n,o,F,c),o.child;case 6:return n===null&&Ym(o),null;case 13:return n0(n,o,c);case 4:return th(o,o.stateNode.containerInfo),p=o.pendingProps,n===null?o.child=zo(o,null,p,c):Or(n,o,p,c),o.child;case 11:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:Ms(p,b),Qv(n,o,p,b,c);case 7:return Or(n,o,o.pendingProps,c),o.child;case 8:return Or(n,o,o.pendingProps.children,c),o.child;case 12:return Or(n,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,b=o.pendingProps,S=o.memoizedProps,F=b.value,Lt(Xc,p._currentValue),p._currentValue=F,S!==null)if(Ds(S.value,F)){if(S.children===b.children&&!Hr.current){o=Dn(n,o,c);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var K=S.dependencies;if(K!==null){F=S.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===p){if(S.tag===1){Z=Tn(-1,c&-c),Z.tag=2;var pe=S.updateQueue;if(pe!==null){pe=pe.shared;var Ne=pe.pending;Ne===null?Z.next=Z:(Z.next=Ne.next,Ne.next=Z),pe.pending=Z}}S.lanes|=c,Z=S.alternate,Z!==null&&(Z.lanes|=c),Jm(S.return,c,o),K.lanes|=c;break}Z=Z.next}}else if(S.tag===10)F=S.type===o.type?null:S.child;else if(S.tag===18){if(F=S.return,F===null)throw Error(s(341));F.lanes|=c,K=F.alternate,K!==null&&(K.lanes|=c),Jm(F,c,o),F=S.sibling}else F=S.child;if(F!==null)F.return=S;else for(F=S;F!==null;){if(F===o){F=null;break}if(S=F.sibling,S!==null){S.return=F.return,F=S;break}F=F.return}S=F}Or(n,o,b.children,c),o=o.child}return o;case 9:return b=o.type,p=o.pendingProps.children,Wo(o,c),b=vs(b),p=p(b),o.flags|=1,Or(n,o,p,c),o.child;case 14:return p=o.type,b=Ms(p,o.pendingProps),b=Ms(p.type,b),Xv(n,o,p,b,c);case 15:return Jv(n,o,o.type,o.pendingProps,c);case 17:return p=o.type,b=o.pendingProps,b=o.elementType===p?b:Ms(p,b),cd(n,o),o.tag=1,Yr(p)?(n=!0,Wc(o)):n=!1,Wo(o,c),zv(o,p,b),fh(o,p,b,c),vh(null,o,p,!0,n,c);case 19:return o0(n,o,c);case 22:return Zv(n,o,c)}throw Error(s(156,o.tag))};function R0(n,o){return cg(n,o)}function IP(n,o,c,p){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(n,o,c,p){return new IP(n,o,c,p)}function Lh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function OP(n){if(typeof n=="function")return Lh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===E)return 11;if(n===X)return 14}return 2}function ga(n,o){var c=n.alternate;return c===null?(c=js(n.tag,o,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=o,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,o=n.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function bd(n,o,c,p,b,S){var F=2;if(p=n,typeof n=="function")Lh(n)&&(F=1);else if(typeof n=="string")F=5;else e:switch(n){case M:return lo(c.children,b,S,o);case V:F=8,b|=8;break;case k:return n=js(12,c,o,b|2),n.elementType=k,n.lanes=S,n;case $:return n=js(13,c,o,b),n.elementType=$,n.lanes=S,n;case R:return n=js(19,c,o,b),n.elementType=R,n.lanes=S,n;case O:return jd(c,b,S,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:F=10;break e;case z:F=9;break e;case E:F=11;break e;case X:F=14;break e;case Y:F=16,p=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return o=js(F,c,o,b),o.elementType=n,o.type=p,o.lanes=S,o}function lo(n,o,c,p){return n=js(7,n,p,o),n.lanes=c,n}function jd(n,o,c,p){return n=js(22,n,p,o),n.elementType=O,n.lanes=c,n.stateNode={isHidden:!1},n}function $h(n,o,c){return n=js(6,n,null,o),n.lanes=c,n}function Vh(n,o,c){return o=js(4,n.children!==null?n.children:[],n.key,o),o.lanes=c,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function FP(n,o,c,p,b){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=p,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Bh(n,o,c,p,b,S,F,K,Z){return n=new FP(n,o,c,K,Z),o===1?(o=1,S===!0&&(o|=8)):o=0,S=js(3,null,null,o),n.current=S,S.stateNode=n,S.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(S),n}function LP(n,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:p==null?null:""+p,children:n,containerInfo:o,implementation:c}}function T0(n){if(!n)return la;n=n._reactInternals;e:{if(Qa(n)!==n||n.tag!==1)throw Error(s(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Yr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(s(171))}if(n.tag===1){var c=n.type;if(Yr(c))return av(n,c,o)}return o}function D0(n,o,c,p,b,S,F,K,Z){return n=Bh(c,p,!0,n,b,S,F,K,Z),n.context=T0(null),c=n.current,p=Fr(),b=pa(c),S=Tn(p,b),S.callback=o??null,ua(c,S,b),n.current.lanes=b,Yi(n,b,p),Qr(n,p),n}function wd(n,o,c,p){var b=o.current,S=Fr(),F=pa(b);return c=T0(c),o.context===null?o.context=c:o.pendingContext=c,o=Tn(S,F),o.payload={element:n},p=p===void 0?null:p,p!==null&&(o.callback=p),n=ua(b,o,F),n!==null&&(Fs(n,b,F,S),Zc(n,b,F)),F}function Nd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function A0(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<o?c:o}}function Uh(n,o){A0(n,o),(n=n.alternate)&&A0(n,o)}function $P(){return null}var M0=typeof reportError=="function"?reportError:function(n){console.error(n)};function zh(n){this._internalRoot=n}Sd.prototype.render=zh.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));wd(n,o,null,null)},Sd.prototype.unmount=zh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;ao(function(){wd(null,n,null,null)}),o[Cn]=null}};function Sd(n){this._internalRoot=n}Sd.prototype.unstable_scheduleHydration=function(n){if(n){var o=gg();n={blockedOn:null,target:n,priority:o};for(var c=0;c<sa.length&&o!==0&&o<sa[c].priority;c++);sa.splice(c,0,n),c===0&&bg(n)}};function qh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function kd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function I0(){}function VP(n,o,c,p,b){if(b){if(typeof p=="function"){var S=p;p=function(){var pe=Nd(F);S.call(pe)}}var F=D0(o,p,n,0,null,!1,!1,"",I0);return n._reactRootContainer=F,n[Cn]=F.current,il(n.nodeType===8?n.parentNode:n),ao(),F}for(;b=n.lastChild;)n.removeChild(b);if(typeof p=="function"){var K=p;p=function(){var pe=Nd(Z);K.call(pe)}}var Z=Bh(n,0,!1,null,null,!1,!1,"",I0);return n._reactRootContainer=Z,n[Cn]=Z.current,il(n.nodeType===8?n.parentNode:n),ao(function(){wd(o,Z,c,p)}),Z}function Cd(n,o,c,p,b){var S=c._reactRootContainer;if(S){var F=S;if(typeof b=="function"){var K=b;b=function(){var Z=Nd(F);K.call(Z)}}wd(o,F,n,b)}else F=VP(c,o,n,b,p);return Nd(F)}pg=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var c=Hi(o.pendingLanes);c!==0&&(fm(o,c|1),Qr(o,ir()),(Nt&6)===0&&(Qo=ir()+500,ca()))}break;case 13:ao(function(){var p=Rn(n,1);if(p!==null){var b=Fr();Fs(p,n,1,b)}}),Uh(n,1)}},pm=function(n){if(n.tag===13){var o=Rn(n,134217728);if(o!==null){var c=Fr();Fs(o,n,134217728,c)}Uh(n,134217728)}},xg=function(n){if(n.tag===13){var o=pa(n),c=Rn(n,o);if(c!==null){var p=Fr();Fs(c,n,o,p)}Uh(n,o)}},gg=function(){return Rt},vg=function(n,o){var c=Rt;try{return Rt=n,o()}finally{Rt=c}},kn=function(n,o,c){switch(o){case"input":if(Yt(n,c),o=c.name,c.type==="radio"&&o!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==n&&p.form===n.form){var b=zc(p);if(!b)throw Error(s(90));we(p),Yt(p,b)}}}break;case"textarea":_e(n,c);break;case"select":o=c.value,o!=null&&ae(n,!!c.multiple,o,!1)}},Pt=Ih,Ft=ao;var BP={usingClientEntryPoint:!1,Events:[dl,Fo,zc,bc,it,Ih]},Sl={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UP={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ig(n),n===null?null:n.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||$P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{Sc=Pd.inject(UP),nn=Pd}catch{}}return Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP,Xr.createPortal=function(n,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(o))throw Error(s(200));return LP(n,o,null,c)},Xr.createRoot=function(n,o){if(!qh(n))throw Error(s(299));var c=!1,p="",b=M0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=Bh(n,1,!1,null,null,c,!1,p,b),n[Cn]=o.current,il(n.nodeType===8?n.parentNode:n),new zh(o)},Xr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ig(o),n=n===null?null:n.stateNode,n},Xr.flushSync=function(n){return ao(n)},Xr.hydrate=function(n,o,c){if(!kd(o))throw Error(s(200));return Cd(null,n,o,!0,c)},Xr.hydrateRoot=function(n,o,c){if(!qh(n))throw Error(s(405));var p=c!=null&&c.hydratedSources||null,b=!1,S="",F=M0;if(c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(F=c.onRecoverableError)),o=D0(o,null,n,1,c??null,b,!1,S,F),n[Cn]=o.current,il(n),p)for(n=0;n<p.length;n++)c=p[n],b=c._getVersion,b=b(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,b]:o.mutableSourceEagerHydrationData.push(c,b);return new Sd(o)},Xr.render=function(n,o,c){if(!kd(o))throw Error(s(200));return Cd(null,n,o,!1,c)},Xr.unmountComponentAtNode=function(n){if(!kd(n))throw Error(s(40));return n._reactRootContainer?(ao(function(){Cd(null,null,n,!1,function(){n._reactRootContainer=null,n[Cn]=null})}),!0):!1},Xr.unstable_batchedUpdates=Ih,Xr.unstable_renderSubtreeIntoContainer=function(n,o,c,p){if(!kd(c))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return Cd(n,o,c,!1,p)},Xr.version="18.3.1-next-f1338f8080-20240426",Xr}var q0;function Sb(){if(q0)return Gh.exports;q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Gh.exports=JP(),Gh.exports}var W0;function ZP(){if(W0)return Ed;W0=1;var t=Sb();return Ed.createRoot=t.createRoot,Ed.hydrateRoot=t.hydrateRoot,Ed}var e4=ZP();const t4="modulepreload",r4=function(t){return"/"+t},H0={},s4=function(r,s,a){let i=Promise.resolve();if(s&&s.length>0){let d=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=d(s.map(f=>{if(f=r4(f),f in H0)return;H0[f]=!0;const y=f.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const g=document.createElement("link");if(g.rel=y?"stylesheet":t4,y||(g.as="script"),g.crossOrigin="",g.href=f,h&&g.setAttribute("nonce",h),document.head.appendChild(g),y)return new Promise((v,j)=>{g.addEventListener("load",v),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return r().catch(l)})};var m=ju();const ke=Nb(m),Rp=HP({__proto__:null,default:ke},[m]);var Di=Sb();const kb=Nb(Di);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ql.apply(this,arguments)}var Ea;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ea||(Ea={}));const Y0="popstate";function n4(t){t===void 0&&(t={});function r(a,i){let{pathname:l,search:d,hash:u}=a.location;return Uf("",{pathname:l,search:d,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(a,i){return typeof i=="string"?i:ru(i)}return o4(r,s,null,t)}function cr(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Cb(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function a4(){return Math.random().toString(36).substr(2,8)}function K0(t,r){return{usr:t.state,key:t.key,idx:r}}function Uf(t,r,s,a){return s===void 0&&(s=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Ai(r):r,{state:s,key:r&&r.key||a||a4()})}function ru(t){let{pathname:r="/",search:s="",hash:a=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Ai(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substr(a),t=t.substr(0,a)),t&&(r.pathname=t)}return r}function o4(t,r,s,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:l=!1}=a,d=i.history,u=Ea.Pop,h=null,f=y();f==null&&(f=0,d.replaceState(ql({},d.state,{idx:f}),""));function y(){return(d.state||{idx:null}).idx}function x(){u=Ea.Pop;let w=y(),P=w==null?null:w-f;f=w,h&&h({action:u,location:N.location,delta:P})}function g(w,P){u=Ea.Push;let _=Uf(N.location,w,P);f=y()+1;let C=K0(_,f),L=N.createHref(_);try{d.pushState(C,"",L)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(L)}l&&h&&h({action:u,location:N.location,delta:1})}function v(w,P){u=Ea.Replace;let _=Uf(N.location,w,P);f=y();let C=K0(_,f),L=N.createHref(_);d.replaceState(C,"",L),l&&h&&h({action:u,location:N.location,delta:0})}function j(w){let P=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:ru(w);return _=_.replace(/ $/,"%20"),cr(P,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,P)}let N={get action(){return u},get location(){return t(i,d)},listen(w){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Y0,x),h=w,()=>{i.removeEventListener(Y0,x),h=null}},createHref(w){return r(i,w)},createURL:j,encodeLocation(w){let P=j(w);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:g,replace:v,go(w){return d.go(w)}};return N}var G0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G0||(G0={}));function i4(t,r,s){return s===void 0&&(s="/"),l4(t,r,s)}function l4(t,r,s,a){let i=typeof r=="string"?Ai(r):r,l=Tp(i.pathname||"/",s);if(l==null)return null;let d=Pb(t);c4(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let f=j4(l);u=v4(d[h],f)}return u}function Pb(t,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let i=(l,d,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};h.relativePath.startsWith("/")&&(cr(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let f=Ta([a,h.relativePath]),y=s.concat(h);l.children&&l.children.length>0&&(cr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Pb(l.children,r,y,f)),!(l.path==null&&!l.index)&&r.push({path:f,score:x4(f,l.index),routesMeta:y})};return t.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,d);else for(let h of _b(l.path))i(l,d,h)}),r}function _b(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let d=_b(a.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),i&&u.push(...d),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function c4(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:g4(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const d4=/^:[\w-]+$/,u4=3,m4=2,h4=1,f4=10,p4=-2,Q0=t=>t==="*";function x4(t,r){let s=t.split("/"),a=s.length;return s.some(Q0)&&(a+=p4),r&&(a+=m4),s.filter(i=>!Q0(i)).reduce((i,l)=>i+(d4.test(l)?u4:l===""?h4:f4),a)}function g4(t,r){return t.length===r.length&&t.slice(0,-1).every((a,i)=>a===r[i])?t[t.length-1]-r[r.length-1]:0}function v4(t,r,s){let{routesMeta:a}=t,i={},l="/",d=[];for(let u=0;u<a.length;++u){let h=a[u],f=u===a.length-1,y=l==="/"?r:r.slice(l.length)||"/",x=y4({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},y),g=h.route;if(!x)return null;Object.assign(i,x.params),d.push({params:i,pathname:Ta([l,x.pathname]),pathnameBase:k4(Ta([l,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(l=Ta([l,x.pathnameBase]))}return d}function y4(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=b4(t.path,t.caseSensitive,t.end),i=r.match(s);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:a.reduce((f,y,x)=>{let{paramName:g,isOptional:v}=y;if(g==="*"){let N=u[x]||"";d=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const j=u[x];return v&&!j?f[g]=void 0:f[g]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:d,pattern:t}}function b4(t,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(a.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),a]}function j4(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function Tp(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function w4(t,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:i=""}=typeof t=="string"?Ai(t):t;return{pathname:s?s.startsWith("/")?s:N4(s,r):r,search:C4(a),hash:P4(i)}}function N4(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Jh(t,r,s,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S4(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Dp(t,r){let s=S4(t);return r?s.map((a,i)=>i===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Ap(t,r,s,a){a===void 0&&(a=!1);let i;typeof t=="string"?i=Ai(t):(i=ql({},t),cr(!i.pathname||!i.pathname.includes("?"),Jh("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),Jh("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),Jh("#","search","hash",i)));let l=t===""||i.pathname==="",d=l?"/":i.pathname,u;if(d==null)u=s;else{let x=r.length-1;if(!a&&d.startsWith("..")){let g=d.split("/");for(;g[0]==="..";)g.shift(),x-=1;i.pathname=g.join("/")}u=x>=0?r[x]:"/"}let h=w4(i,u),f=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||y)&&(h.pathname+="/"),h}const Ta=t=>t.join("/").replace(/\/\/+/g,"/"),k4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Eb=["post","put","patch","delete"];new Set(Eb);const E4=["get",...Eb];new Set(E4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Wl.apply(this,arguments)}const Mp=m.createContext(null),R4=m.createContext(null),za=m.createContext(null),wu=m.createContext(null),Xn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Rb=m.createContext(null);function T4(t,r){let{relative:s}=r===void 0?{}:r;Mi()||cr(!1);let{basename:a,navigator:i}=m.useContext(za),{hash:l,pathname:d,search:u}=Db(t,{relative:s}),h=d;return a!=="/"&&(h=d==="/"?a:Ta([a,d])),i.createHref({pathname:h,search:u,hash:l})}function Mi(){return m.useContext(wu)!=null}function wn(){return Mi()||cr(!1),m.useContext(wu).location}function Tb(t){m.useContext(za).static||m.useLayoutEffect(t)}function dr(){let{isDataRoute:t}=m.useContext(Xn);return t?q4():D4()}function D4(){Mi()||cr(!1);let t=m.useContext(Mp),{basename:r,future:s,navigator:a}=m.useContext(za),{matches:i}=m.useContext(Xn),{pathname:l}=wn(),d=JSON.stringify(Dp(i,s.v7_relativeSplatPath)),u=m.useRef(!1);return Tb(()=>{u.current=!0}),m.useCallback(function(f,y){if(y===void 0&&(y={}),!u.current)return;if(typeof f=="number"){a.go(f);return}let x=Ap(f,JSON.parse(d),l,y.relative==="path");t==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Ta([r,x.pathname])),(y.replace?a.replace:a.push)(x,y.state,y)},[r,a,d,l,t])}function Hl(){let{matches:t}=m.useContext(Xn),r=t[t.length-1];return r?r.params:{}}function Db(t,r){let{relative:s}=r===void 0?{}:r,{future:a}=m.useContext(za),{matches:i}=m.useContext(Xn),{pathname:l}=wn(),d=JSON.stringify(Dp(i,a.v7_relativeSplatPath));return m.useMemo(()=>Ap(t,JSON.parse(d),l,s==="path"),[t,d,l,s])}function A4(t,r){return M4(t,r)}function M4(t,r,s,a){Mi()||cr(!1);let{navigator:i}=m.useContext(za),{matches:l}=m.useContext(Xn),d=l[l.length-1],u=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let f=wn(),y;if(r){var x;let w=typeof r=="string"?Ai(r):r;h==="/"||(x=w.pathname)!=null&&x.startsWith(h)||cr(!1),y=w}else y=f;let g=y.pathname||"/",v=g;if(h!=="/"){let w=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=i4(t,{pathname:v}),N=$4(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Ta([h,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Ta([h,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,s,a);return r&&N?m.createElement(wu.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ea.Pop}},N):N}function I4(){let t=z4(),r=_4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},r),s?m.createElement("pre",{style:i},s):null,null)}const O4=m.createElement(I4,null);class F4 extends m.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?m.createElement(Xn.Provider,{value:this.props.routeContext},m.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L4(t){let{routeContext:r,match:s,children:a}=t,i=m.useContext(Mp);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),m.createElement(Xn.Provider,{value:r},a)}function $4(t,r,s,a){var i;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),t==null){var l;if(!s)return null;if(s.errors)t=s.matches;else if((l=a)!=null&&l.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let d=t,u=(i=s)==null?void 0:i.errors;if(u!=null){let y=d.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);y>=0||cr(!1),d=d.slice(0,Math.min(d.length,y+1))}let h=!1,f=-1;if(s&&a&&a.v7_partialHydration)for(let y=0;y<d.length;y++){let x=d[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=y),x.route.id){let{loaderData:g,errors:v}=s,j=x.route.loader&&g[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||j){h=!0,f>=0?d=d.slice(0,f+1):d=[d[0]];break}}}return d.reduceRight((y,x,g)=>{let v,j=!1,N=null,w=null;s&&(v=u&&x.route.id?u[x.route.id]:void 0,N=x.route.errorElement||O4,h&&(f<0&&g===0?(W4("route-fallback"),j=!0,w=null):f===g&&(j=!0,w=x.route.hydrateFallbackElement||null)));let P=r.concat(d.slice(0,g+1)),_=()=>{let C;return v?C=N:j?C=w:x.route.Component?C=m.createElement(x.route.Component,null):x.route.element?C=x.route.element:C=y,m.createElement(L4,{match:x,routeContext:{outlet:y,matches:P,isDataRoute:s!=null},children:C})};return s&&(x.route.ErrorBoundary||x.route.errorElement||g===0)?m.createElement(F4,{location:s.location,revalidation:s.revalidation,component:N,error:v,children:_(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):_()},null)}var Ab=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ab||{}),Mb=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Mb||{});function V4(t){let r=m.useContext(Mp);return r||cr(!1),r}function B4(t){let r=m.useContext(R4);return r||cr(!1),r}function U4(t){let r=m.useContext(Xn);return r||cr(!1),r}function Ib(t){let r=U4(),s=r.matches[r.matches.length-1];return s.route.id||cr(!1),s.route.id}function z4(){var t;let r=m.useContext(Rb),s=B4(),a=Ib();return r!==void 0?r:(t=s.errors)==null?void 0:t[a]}function q4(){let{router:t}=V4(Ab.UseNavigateStable),r=Ib(Mb.UseNavigateStable),s=m.useRef(!1);return Tb(()=>{s.current=!0}),m.useCallback(function(i,l){l===void 0&&(l={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wl({fromRouteId:r},l)))},[t,r])}const X0={};function W4(t,r,s){X0[t]||(X0[t]=!0)}function H4(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function su(t){let{to:r,replace:s,state:a,relative:i}=t;Mi()||cr(!1);let{future:l,static:d}=m.useContext(za),{matches:u}=m.useContext(Xn),{pathname:h}=wn(),f=dr(),y=Ap(r,Dp(u,l.v7_relativeSplatPath),h,i==="path"),x=JSON.stringify(y);return m.useEffect(()=>f(JSON.parse(x),{replace:s,state:a,relative:i}),[f,x,i,s,a]),null}function At(t){cr(!1)}function Y4(t){let{basename:r="/",children:s=null,location:a,navigationType:i=Ea.Pop,navigator:l,static:d=!1,future:u}=t;Mi()&&cr(!1);let h=r.replace(/^\/*/,"/"),f=m.useMemo(()=>({basename:h,navigator:l,static:d,future:Wl({v7_relativeSplatPath:!1},u)}),[h,u,l,d]);typeof a=="string"&&(a=Ai(a));let{pathname:y="/",search:x="",hash:g="",state:v=null,key:j="default"}=a,N=m.useMemo(()=>{let w=Tp(y,h);return w==null?null:{location:{pathname:w,search:x,hash:g,state:v,key:j},navigationType:i}},[h,y,x,g,v,j,i]);return N==null?null:m.createElement(za.Provider,{value:f},m.createElement(wu.Provider,{children:s,value:N}))}function K4(t){let{children:r,location:s}=t;return A4(zf(r),s)}new Promise(()=>{});function zf(t,r){r===void 0&&(r=[]);let s=[];return m.Children.forEach(t,(a,i)=>{if(!m.isValidElement(a))return;let l=[...r,i];if(a.type===m.Fragment){s.push.apply(s,zf(a.props.children,l));return}a.type!==At&&cr(!1),!a.props.index||!a.props.children||cr(!1);let d={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=zf(a.props.children,l)),s.push(d)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},qf.apply(this,arguments)}function G4(t,r){if(t==null)return{};var s={},a=Object.keys(t),i,l;for(l=0;l<a.length;l++)i=a[l],!(r.indexOf(i)>=0)&&(s[i]=t[i]);return s}function Q4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X4(t,r){return t.button===0&&(!r||r==="_self")&&!Q4(t)}function Wf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,s)=>{let a=t[s];return r.concat(Array.isArray(a)?a.map(i=>[s,i]):[[s,a]])},[]))}function J4(t,r){let s=Wf(t);return r&&r.forEach((a,i)=>{s.has(i)||r.getAll(i).forEach(l=>{s.append(i,l)})}),s}const Z4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e_="6";try{window.__reactRouterVersion=e_}catch{}const t_="startTransition",J0=Rp[t_];function r_(t){let{basename:r,children:s,future:a,window:i}=t,l=m.useRef();l.current==null&&(l.current=n4({window:i,v5Compat:!0}));let d=l.current,[u,h]=m.useState({action:d.action,location:d.location}),{v7_startTransition:f}=a||{},y=m.useCallback(x=>{f&&J0?J0(()=>h(x)):h(x)},[h,f]);return m.useLayoutEffect(()=>d.listen(y),[d,y]),m.useEffect(()=>H4(a),[a]),m.createElement(Y4,{basename:r,children:s,location:u.location,navigationType:u.action,navigator:d,future:a})}const s_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=m.forwardRef(function(r,s){let{onClick:a,relative:i,reloadDocument:l,replace:d,state:u,target:h,to:f,preventScrollReset:y,viewTransition:x}=r,g=G4(r,Z4),{basename:v}=m.useContext(za),j,N=!1;if(typeof f=="string"&&n_.test(f)&&(j=f,s_))try{let C=new URL(window.location.href),L=f.startsWith("//")?new URL(C.protocol+f):new URL(f),q=Tp(L.pathname,v);L.origin===C.origin&&q!=null?f=q+L.search+L.hash:N=!0}catch{}let w=T4(f,{relative:i}),P=a_(f,{replace:d,state:u,target:h,preventScrollReset:y,relative:i,viewTransition:x});function _(C){a&&a(C),C.defaultPrevented||P(C)}return m.createElement("a",qf({},g,{href:j||w,onClick:N||l?a:_,ref:s,target:h}))});var Z0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Z0||(Z0={}));var ey;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ey||(ey={}));function a_(t,r){let{target:s,replace:a,state:i,preventScrollReset:l,relative:d,viewTransition:u}=r===void 0?{}:r,h=dr(),f=wn(),y=Db(t,{relative:d});return m.useCallback(x=>{if(X4(x,s)){x.preventDefault();let g=a!==void 0?a:ru(f)===ru(y);h(t,{replace:g,state:i,preventScrollReset:l,relative:d,viewTransition:u})}},[f,h,y,a,i,s,t,l,d,u])}function Ob(t){let r=m.useRef(Wf(t)),s=m.useRef(!1),a=wn(),i=m.useMemo(()=>J4(a.search,s.current?null:r.current),[a.search]),l=dr(),d=m.useCallback((u,h)=>{const f=Wf(typeof u=="function"?u(i):u);s.current=!0,l("?"+f,h)},[l,i]);return[i,d]}var Nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Su=typeof window>"u"||"Deno"in globalThis;function Vs(){}function o_(t,r){return typeof t=="function"?t(r):t}function i_(t){return typeof t=="number"&&t>=0&&t!==1/0}function l_(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Hf(t,r){return typeof t=="function"?t(r):t}function c_(t,r){return typeof t=="function"?t(r):t}function ty(t,r){const{type:s="all",exact:a,fetchStatus:i,predicate:l,queryKey:d,stale:u}=t;if(d){if(a){if(r.queryHash!==Ip(d,r.options))return!1}else if(!Kl(r.queryKey,d))return!1}if(s!=="all"){const h=r.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof u=="boolean"&&r.isStale()!==u||i&&i!==r.state.fetchStatus||l&&!l(r))}function ry(t,r){const{exact:s,status:a,predicate:i,mutationKey:l}=t;if(l){if(!r.options.mutationKey)return!1;if(s){if(Yl(r.options.mutationKey)!==Yl(l))return!1}else if(!Kl(r.options.mutationKey,l))return!1}return!(a&&r.state.status!==a||i&&!i(r))}function Ip(t,r){return((r==null?void 0:r.queryKeyHashFn)||Yl)(t)}function Yl(t){return JSON.stringify(t,(r,s)=>Yf(s)?Object.keys(s).sort().reduce((a,i)=>(a[i]=s[i],a),{}):s)}function Kl(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(s=>Kl(t[s],r[s])):!1}function Fb(t,r){if(t===r)return t;const s=sy(t)&&sy(r);if(s||Yf(t)&&Yf(r)){const a=s?t:Object.keys(t),i=a.length,l=s?r:Object.keys(r),d=l.length,u=s?[]:{},h=new Set(a);let f=0;for(let y=0;y<d;y++){const x=s?y:l[y];(!s&&h.has(x)||s)&&t[x]===void 0&&r[x]===void 0?(u[x]=void 0,f++):(u[x]=Fb(t[x],r[x]),u[x]===t[x]&&t[x]!==void 0&&f++)}return i===d&&f===i?t:u}return r}function sy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yf(t){if(!ny(t))return!1;const r=t.constructor;if(r===void 0)return!0;const s=r.prototype;return!(!ny(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ny(t){return Object.prototype.toString.call(t)==="[object Object]"}function d_(t){return new Promise(r=>{setTimeout(r,t)})}function u_(t,r,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,r):s.structuralSharing!==!1?Fb(t,r):r}function m_(t,r,s=0){const a=[...t,r];return s&&a.length>s?a.slice(1):a}function h_(t,r,s=0){const a=[r,...t];return s&&a.length>s?a.slice(0,-1):a}var Op=Symbol();function Lb(t,r){return!t.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!t.queryFn||t.queryFn===Op?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ho,Sa,hi,pb,f_=(pb=class extends Nu{constructor(){super();kt(this,ho);kt(this,Sa);kt(this,hi);ct(this,hi,r=>{if(!Su&&window.addEventListener){const s=()=>r();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){be(this,Sa)||this.setEventListener(be(this,hi))}onUnsubscribe(){var r;this.hasListeners()||((r=be(this,Sa))==null||r.call(this),ct(this,Sa,void 0))}setEventListener(r){var s;ct(this,hi,r),(s=be(this,Sa))==null||s.call(this),ct(this,Sa,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){be(this,ho)!==r&&(ct(this,ho,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(s=>{s(r)})}isFocused(){var r;return typeof be(this,ho)=="boolean"?be(this,ho):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},ho=new WeakMap,Sa=new WeakMap,hi=new WeakMap,pb),$b=new f_,fi,ka,pi,xb,p_=(xb=class extends Nu{constructor(){super();kt(this,fi,!0);kt(this,ka);kt(this,pi);ct(this,pi,r=>{if(!Su&&window.addEventListener){const s=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}})}onSubscribe(){be(this,ka)||this.setEventListener(be(this,pi))}onUnsubscribe(){var r;this.hasListeners()||((r=be(this,ka))==null||r.call(this),ct(this,ka,void 0))}setEventListener(r){var s;ct(this,pi,r),(s=be(this,ka))==null||s.call(this),ct(this,ka,r(this.setOnline.bind(this)))}setOnline(r){be(this,fi)!==r&&(ct(this,fi,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return be(this,fi)}},fi=new WeakMap,ka=new WeakMap,pi=new WeakMap,xb),nu=new p_;function x_(){let t,r;const s=new Promise((i,l)=>{t=i,r=l});s.status="pending",s.catch(()=>{});function a(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},s.reject=i=>{a({status:"rejected",reason:i}),r(i)},s}function g_(t){return Math.min(1e3*2**t,3e4)}function Vb(t){return(t??"online")==="online"?nu.isOnline():!0}var Bb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zh(t){return t instanceof Bb}function Ub(t){let r=!1,s=0,a=!1,i;const l=x_(),d=N=>{var w;a||(g(new Bb(N)),(w=t.abort)==null||w.call(t))},u=()=>{r=!0},h=()=>{r=!1},f=()=>$b.isFocused()&&(t.networkMode==="always"||nu.isOnline())&&t.canRun(),y=()=>Vb(t.networkMode)&&t.canRun(),x=N=>{var w;a||(a=!0,(w=t.onSuccess)==null||w.call(t,N),i==null||i(),l.resolve(N))},g=N=>{var w;a||(a=!0,(w=t.onError)==null||w.call(t,N),i==null||i(),l.reject(N))},v=()=>new Promise(N=>{var w;i=P=>{(a||f())&&N(P)},(w=t.onPause)==null||w.call(t)}).then(()=>{var N;i=void 0,a||(N=t.onContinue)==null||N.call(t)}),j=()=>{if(a)return;let N;const w=s===0?t.initialPromise:void 0;try{N=w??t.fn()}catch(P){N=Promise.reject(P)}Promise.resolve(N).then(x).catch(P=>{var A;if(a)return;const _=t.retry??(Su?0:3),C=t.retryDelay??g_,L=typeof C=="function"?C(s,P):C,q=_===!0||typeof _=="number"&&s<_||typeof _=="function"&&_(s,P);if(r||!q){g(P);return}s++,(A=t.onFail)==null||A.call(t,s,P),d_(L).then(()=>f()?void 0:v()).then(()=>{r?g(P):j()})})};return{promise:l,cancel:d,continue:()=>(i==null||i(),l),cancelRetry:u,continueRetry:h,canStart:y,start:()=>(y()?j():v().then(j),l)}}var v_=t=>setTimeout(t,0);function y_(){let t=[],r=0,s=u=>{u()},a=u=>{u()},i=v_;const l=u=>{r?t.push(u):i(()=>{s(u)})},d=()=>{const u=t;t=[],u.length&&i(()=>{a(()=>{u.forEach(h=>{s(h)})})})};return{batch:u=>{let h;r++;try{h=u()}finally{r--,r||d()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{s=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{i=u}}}var Vr=y_(),fo,gb,zb=(gb=class{constructor(){kt(this,fo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i_(this.gcTime)&&ct(this,fo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Su?1/0:300*1e3))}clearGcTimeout(){be(this,fo)&&(clearTimeout(be(this,fo)),ct(this,fo,void 0))}},fo=new WeakMap,gb),xi,po,ws,xo,Mr,rc,go,Us,Fn,vb,b_=(vb=class extends zb{constructor(r){super();kt(this,Us);kt(this,xi);kt(this,po);kt(this,ws);kt(this,xo);kt(this,Mr);kt(this,rc);kt(this,go);ct(this,go,!1),ct(this,rc,r.defaultOptions),this.setOptions(r.options),this.observers=[],ct(this,xo,r.client),ct(this,ws,be(this,xo).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ct(this,xi,w_(this.options)),this.state=r.state??be(this,xi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=be(this,Mr))==null?void 0:r.promise}setOptions(r){this.options={...be(this,rc),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,ws).remove(this)}setData(r,s){const a=u_(this.state.data,r,this.options);return Ar(this,Us,Fn).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(r,s){Ar(this,Us,Fn).call(this,{type:"setState",state:r,setStateOptions:s})}cancel(r){var a,i;const s=(a=be(this,Mr))==null?void 0:a.promise;return(i=be(this,Mr))==null||i.cancel(r),s?s.then(Vs).catch(Vs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,xi))}isActive(){return this.observers.some(r=>c_(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Op||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Hf(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!l_(this.state.dataUpdatedAt,r)}onFocus(){var s;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(s=be(this,Mr))==null||s.continue()}onOnline(){var s;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(s=be(this,Mr))==null||s.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),be(this,ws).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(s=>s!==r),this.observers.length||(be(this,Mr)&&(be(this,go)?be(this,Mr).cancel({revert:!0}):be(this,Mr).cancelRetry()),this.scheduleGc()),be(this,ws).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ar(this,Us,Fn).call(this,{type:"invalidate"})}fetch(r,s){var f,y,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(be(this,Mr))return be(this,Mr).continueRetry(),be(this,Mr).promise}if(r&&this.setOptions(r),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const a=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ct(this,go,!0),a.signal)})},l=()=>{const g=Lb(this.options,s),j=(()=>{const N={client:be(this,xo),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ct(this,go,!1),this.options.persister?this.options.persister(g,j,this):g(j)},u=(()=>{const g={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:be(this,xo),state:this.state,fetchFn:l};return i(g),g})();(f=this.options.behavior)==null||f.onFetch(u,this),ct(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=u.fetchOptions)==null?void 0:y.meta))&&Ar(this,Us,Fn).call(this,{type:"fetch",meta:(x=u.fetchOptions)==null?void 0:x.meta});const h=g=>{var v,j,N,w;Zh(g)&&g.silent||Ar(this,Us,Fn).call(this,{type:"error",error:g}),Zh(g)||((j=(v=be(this,ws).config).onError)==null||j.call(v,g,this),(w=(N=be(this,ws).config).onSettled)==null||w.call(N,this.state.data,g,this)),this.scheduleGc()};return ct(this,Mr,Ub({initialPromise:s==null?void 0:s.initialPromise,fn:u.fetchFn,abort:a.abort.bind(a),onSuccess:g=>{var v,j,N,w;if(g===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(P){h(P);return}(j=(v=be(this,ws).config).onSuccess)==null||j.call(v,g,this),(w=(N=be(this,ws).config).onSettled)==null||w.call(N,g,this.state.error,this),this.scheduleGc()},onError:h,onFail:(g,v)=>{Ar(this,Us,Fn).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{Ar(this,Us,Fn).call(this,{type:"pause"})},onContinue:()=>{Ar(this,Us,Fn).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),be(this,Mr).start()}},xi=new WeakMap,po=new WeakMap,ws=new WeakMap,xo=new WeakMap,Mr=new WeakMap,rc=new WeakMap,go=new WeakMap,Us=new WeakSet,Fn=function(r){const s=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...j_(a.data,this.options),fetchMeta:r.meta??null};case"success":return ct(this,po,void 0),{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=r.error;return Zh(i)&&i.revert&&be(this,po)?{...be(this,po),fetchStatus:"idle"}:{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=s(this.state),Vr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),be(this,ws).notify({query:this,type:"updated",action:r})})},vb);function j_(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vb(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w_(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,s=r!==void 0,a=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var dn,yb,N_=(yb=class extends Nu{constructor(r={}){super();kt(this,dn);this.config=r,ct(this,dn,new Map)}build(r,s,a){const i=s.queryKey,l=s.queryHash??Ip(i,s);let d=this.get(l);return d||(d=new b_({client:r,queryKey:i,queryHash:l,options:r.defaultQueryOptions(s),state:a,defaultOptions:r.getQueryDefaults(i)}),this.add(d)),d}add(r){be(this,dn).has(r.queryHash)||(be(this,dn).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const s=be(this,dn).get(r.queryHash);s&&(r.destroy(),s===r&&be(this,dn).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Vr.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return be(this,dn).get(r)}getAll(){return[...be(this,dn).values()]}find(r){const s={exact:!0,...r};return this.getAll().find(a=>ty(s,a))}findAll(r={}){const s=this.getAll();return Object.keys(r).length>0?s.filter(a=>ty(r,a)):s}notify(r){Vr.batch(()=>{this.listeners.forEach(s=>{s(r)})})}onFocus(){Vr.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Vr.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},dn=new WeakMap,yb),un,Lr,vo,mn,wa,bb,S_=(bb=class extends zb{constructor(r){super();kt(this,mn);kt(this,un);kt(this,Lr);kt(this,vo);this.mutationId=r.mutationId,ct(this,Lr,r.mutationCache),ct(this,un,[]),this.state=r.state||k_(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){be(this,un).includes(r)||(be(this,un).push(r),this.clearGcTimeout(),be(this,Lr).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ct(this,un,be(this,un).filter(s=>s!==r)),this.scheduleGc(),be(this,Lr).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){be(this,un).length||(this.state.status==="pending"?this.scheduleGc():be(this,Lr).remove(this))}continue(){var r;return((r=be(this,vo))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var l,d,u,h,f,y,x,g,v,j,N,w,P,_,C,L,q,A,M,V;const s=()=>{Ar(this,mn,wa).call(this,{type:"continue"})};ct(this,vo,Ub({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{Ar(this,mn,wa).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{Ar(this,mn,wa).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,Lr).canRun(this)}));const a=this.state.status==="pending",i=!be(this,vo).canStart();try{if(a)s();else{Ar(this,mn,wa).call(this,{type:"pending",variables:r,isPaused:i}),await((d=(l=be(this,Lr).config).onMutate)==null?void 0:d.call(l,r,this));const T=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,r));T!==this.state.context&&Ar(this,mn,wa).call(this,{type:"pending",context:T,variables:r,isPaused:i})}const k=await be(this,vo).start();return await((y=(f=be(this,Lr).config).onSuccess)==null?void 0:y.call(f,k,r,this.state.context,this)),await((g=(x=this.options).onSuccess)==null?void 0:g.call(x,k,r,this.state.context)),await((j=(v=be(this,Lr).config).onSettled)==null?void 0:j.call(v,k,null,this.state.variables,this.state.context,this)),await((w=(N=this.options).onSettled)==null?void 0:w.call(N,k,null,r,this.state.context)),Ar(this,mn,wa).call(this,{type:"success",data:k}),k}catch(k){try{throw await((_=(P=be(this,Lr).config).onError)==null?void 0:_.call(P,k,r,this.state.context,this)),await((L=(C=this.options).onError)==null?void 0:L.call(C,k,r,this.state.context)),await((A=(q=be(this,Lr).config).onSettled)==null?void 0:A.call(q,void 0,k,this.state.variables,this.state.context,this)),await((V=(M=this.options).onSettled)==null?void 0:V.call(M,void 0,k,r,this.state.context)),k}finally{Ar(this,mn,wa).call(this,{type:"error",error:k})}}finally{be(this,Lr).runNext(this)}}},un=new WeakMap,Lr=new WeakMap,vo=new WeakMap,mn=new WeakSet,wa=function(r){const s=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Vr.batch(()=>{be(this,un).forEach(a=>{a.onMutationUpdate(r)}),be(this,Lr).notify({mutation:this,type:"updated",action:r})})},bb);function k_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ln,zs,sc,jb,C_=(jb=class extends Nu{constructor(r={}){super();kt(this,Ln);kt(this,zs);kt(this,sc);this.config=r,ct(this,Ln,new Set),ct(this,zs,new Map),ct(this,sc,0)}build(r,s,a){const i=new S_({mutationCache:this,mutationId:++_d(this,sc)._,options:r.defaultMutationOptions(s),state:a});return this.add(i),i}add(r){be(this,Ln).add(r);const s=Rd(r);if(typeof s=="string"){const a=be(this,zs).get(s);a?a.push(r):be(this,zs).set(s,[r])}this.notify({type:"added",mutation:r})}remove(r){if(be(this,Ln).delete(r)){const s=Rd(r);if(typeof s=="string"){const a=be(this,zs).get(s);if(a)if(a.length>1){const i=a.indexOf(r);i!==-1&&a.splice(i,1)}else a[0]===r&&be(this,zs).delete(s)}}this.notify({type:"removed",mutation:r})}canRun(r){const s=Rd(r);if(typeof s=="string"){const a=be(this,zs).get(s),i=a==null?void 0:a.find(l=>l.state.status==="pending");return!i||i===r}else return!0}runNext(r){var a;const s=Rd(r);if(typeof s=="string"){const i=(a=be(this,zs).get(s))==null?void 0:a.find(l=>l!==r&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vr.batch(()=>{be(this,Ln).forEach(r=>{this.notify({type:"removed",mutation:r})}),be(this,Ln).clear(),be(this,zs).clear()})}getAll(){return Array.from(be(this,Ln))}find(r){const s={exact:!0,...r};return this.getAll().find(a=>ry(s,a))}findAll(r={}){return this.getAll().filter(s=>ry(r,s))}notify(r){Vr.batch(()=>{this.listeners.forEach(s=>{s(r)})})}resumePausedMutations(){const r=this.getAll().filter(s=>s.state.isPaused);return Vr.batch(()=>Promise.all(r.map(s=>s.continue().catch(Vs))))}},Ln=new WeakMap,zs=new WeakMap,sc=new WeakMap,jb);function Rd(t){var r;return(r=t.options.scope)==null?void 0:r.id}function ay(t){return{onFetch:(r,s)=>{var y,x,g,v,j;const a=r.options,i=(g=(x=(y=r.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:g.direction,l=((v=r.state.data)==null?void 0:v.pages)||[],d=((j=r.state.data)==null?void 0:j.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let N=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(r.signal.aborted?N=!0:r.signal.addEventListener("abort",()=>{N=!0}),r.signal)})},P=Lb(r.options,r.fetchOptions),_=async(C,L,q)=>{if(N)return Promise.reject();if(L==null&&C.pages.length)return Promise.resolve(C);const M=(()=>{const z={client:r.client,queryKey:r.queryKey,pageParam:L,direction:q?"backward":"forward",meta:r.options.meta};return w(z),z})(),V=await P(M),{maxPages:k}=r.options,T=q?h_:m_;return{pages:T(C.pages,V,k),pageParams:T(C.pageParams,L,k)}};if(i&&l.length){const C=i==="backward",L=C?P_:oy,q={pages:l,pageParams:d},A=L(a,q);u=await _(q,A,C)}else{const C=t??l.length;do{const L=h===0?d[0]??a.initialPageParam:oy(a,u);if(h>0&&L==null)break;u=await _(u,L),h++}while(h<C)}return u};r.options.persister?r.fetchFn=()=>{var N,w;return(w=(N=r.options).persister)==null?void 0:w.call(N,f,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},s)}:r.fetchFn=f}}}function oy(t,{pages:r,pageParams:s}){const a=r.length-1;return r.length>0?t.getNextPageParam(r[a],r,s[a],s):void 0}function P_(t,{pages:r,pageParams:s}){var a;return r.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,r[0],r,s[0],s):void 0}var rr,Ca,Pa,gi,vi,_a,yi,bi,wb,__=(wb=class{constructor(t={}){kt(this,rr);kt(this,Ca);kt(this,Pa);kt(this,gi);kt(this,vi);kt(this,_a);kt(this,yi);kt(this,bi);ct(this,rr,t.queryCache||new N_),ct(this,Ca,t.mutationCache||new C_),ct(this,Pa,t.defaultOptions||{}),ct(this,gi,new Map),ct(this,vi,new Map),ct(this,_a,0)}mount(){_d(this,_a)._++,be(this,_a)===1&&(ct(this,yi,$b.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,rr).onFocus())})),ct(this,bi,nu.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,rr).onOnline())})))}unmount(){var t,r;_d(this,_a)._--,be(this,_a)===0&&((t=be(this,yi))==null||t.call(this),ct(this,yi,void 0),(r=be(this,bi))==null||r.call(this),ct(this,bi,void 0))}isFetching(t){return be(this,rr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return be(this,Ca).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const r=this.defaultQueryOptions({queryKey:t});return(s=be(this,rr).get(r.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),s=be(this,rr).build(this,r),a=s.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Hf(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(t){return be(this,rr).findAll(t).map(({queryKey:r,state:s})=>{const a=s.data;return[r,a]})}setQueryData(t,r,s){const a=this.defaultQueryOptions({queryKey:t}),i=be(this,rr).get(a.queryHash),l=i==null?void 0:i.state.data,d=o_(r,l);if(d!==void 0)return be(this,rr).build(this,a).setData(d,{...s,manual:!0})}setQueriesData(t,r,s){return Vr.batch(()=>be(this,rr).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,r,s)]))}getQueryState(t){var s;const r=this.defaultQueryOptions({queryKey:t});return(s=be(this,rr).get(r.queryHash))==null?void 0:s.state}removeQueries(t){const r=be(this,rr);Vr.batch(()=>{r.findAll(t).forEach(s=>{r.remove(s)})})}resetQueries(t,r){const s=be(this,rr);return Vr.batch(()=>(s.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const s={revert:!0,...r},a=Vr.batch(()=>be(this,rr).findAll(t).map(i=>i.cancel(s)));return Promise.all(a).then(Vs).catch(Vs)}invalidateQueries(t,r={}){return Vr.batch(()=>(be(this,rr).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},r)))}refetchQueries(t,r={}){const s={...r,cancelRefetch:r.cancelRefetch??!0},a=Vr.batch(()=>be(this,rr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,s);return s.throwOnError||(l=l.catch(Vs)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(Vs)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const s=be(this,rr).build(this,r);return s.isStaleByTime(Hf(r.staleTime,s))?s.fetch(r):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vs).catch(Vs)}fetchInfiniteQuery(t){return t.behavior=ay(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vs).catch(Vs)}ensureInfiniteQueryData(t){return t.behavior=ay(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nu.isOnline()?be(this,Ca).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,rr)}getMutationCache(){return be(this,Ca)}getDefaultOptions(){return be(this,Pa)}setDefaultOptions(t){ct(this,Pa,t)}setQueryDefaults(t,r){be(this,gi).set(Yl(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...be(this,gi).values()],s={};return r.forEach(a=>{Kl(t,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(t,r){be(this,vi).set(Yl(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...be(this,vi).values()],s={};return r.forEach(a=>{Kl(t,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const r={...be(this,Pa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=Ip(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Op&&(r.enabled=!1),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...be(this,Pa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){be(this,rr).clear(),be(this,Ca).clear()}},rr=new WeakMap,Ca=new WeakMap,Pa=new WeakMap,gi=new WeakMap,vi=new WeakMap,_a=new WeakMap,yi=new WeakMap,bi=new WeakMap,wb),E_=m.createContext(void 0),R_=({client:t,children:r})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(E_.Provider,{value:t,children:r}));const T_=1,qb=3e3;let ef=0;function D_(){return ef=(ef+1)%Number.MAX_SAFE_INTEGER,ef.toString()}const tf=new Map,rf=(t,r=qb)=>{if(tf.has(t))return;const s=setTimeout(()=>{tf.delete(t),Il({type:"REMOVE_TOAST",toastId:t})},r);tf.set(t,s)},A_=(t,r)=>{switch(r.type){case"ADD_TOAST":const s=r.toast.duration||qb;return rf(r.toast.id,s),{...t,toasts:[r.toast,...t.toasts].slice(0,T_)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===r.toast.id?{...a,...r.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=r;return a?rf(a):t.toasts.forEach(i=>{rf(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===a||a===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==r.toastId)}}},zd=[];let qd={toasts:[]};function Il(t){qd=A_(qd,t),zd.forEach(r=>{r(qd)})}function Be({...t}){const r=D_(),s=i=>Il({type:"UPDATE_TOAST",toast:{...i,id:r}}),a=()=>Il({type:"DISMISS_TOAST",toastId:r});return Il({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:i=>{i||a()}}}),{id:r,dismiss:a,update:s}}function ot(){const[t,r]=m.useState(qd);return m.useEffect(()=>(zd.push(r),()=>{const s=zd.indexOf(r);s>-1&&zd.splice(s,1)}),[t]),{...t,toast:Be,dismiss:s=>Il({type:"DISMISS_TOAST",toastId:s})}}function Ce(t,r,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t==null||t(i),s===!1||!i.defaultPrevented)return r==null?void 0:r(i)}}function iy(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Hn(...t){return r=>{let s=!1;const a=t.map(i=>{const l=iy(i,r);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():iy(t[i],null)}}}}function rt(...t){return m.useCallback(Hn(...t),t)}function M_(t,r){const s=m.createContext(r),a=l=>{const{children:d,...u}=l,h=m.useMemo(()=>u,Object.values(u));return e.jsx(s.Provider,{value:h,children:d})};a.displayName=t+"Provider";function i(l){const d=m.useContext(s);if(d)return d;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function vr(t,r=[]){let s=[];function a(l,d){const u=m.createContext(d),h=s.length;s=[...s,d];const f=x=>{var P;const{scope:g,children:v,...j}=x,N=((P=g==null?void 0:g[t])==null?void 0:P[h])||u,w=m.useMemo(()=>j,Object.values(j));return e.jsx(N.Provider,{value:w,children:v})};f.displayName=l+"Provider";function y(x,g){var N;const v=((N=g==null?void 0:g[t])==null?void 0:N[h])||u,j=m.useContext(v);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[f,y]}const i=()=>{const l=s.map(d=>m.createContext(d));return function(u){const h=(u==null?void 0:u[t])||l;return m.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[a,I_(i,...r)]}function I_(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const d=a.reduce((u,{useScope:h,scopeName:f})=>{const x=h(l)[`__scope${f}`];return{...u,...x}},{});return m.useMemo(()=>({[`__scope${r.scopeName}`]:d}),[d])}};return s.scopeName=r.scopeName,s}function Fa(t){const r=F_(t),s=m.forwardRef((a,i)=>{const{children:l,...d}=a,u=m.Children.toArray(l),h=u.find(L_);if(h){const f=h.props.children,y=u.map(x=>x===h?m.Children.count(f)>1?m.Children.only(null):m.isValidElement(f)?f.props.children:null:x);return e.jsx(r,{...d,ref:i,children:m.isValidElement(f)?m.cloneElement(f,void 0,y):null})}return e.jsx(r,{...d,ref:i,children:l})});return s.displayName=`${t}.Slot`,s}var O_=Fa("Slot");function F_(t){const r=m.forwardRef((s,a)=>{const{children:i,...l}=s;if(m.isValidElement(i)){const d=V_(i),u=$_(l,i.props);return i.type!==m.Fragment&&(u.ref=a?Hn(a,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Wb=Symbol("radix.slottable");function Hb(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=Wb,r}function L_(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wb}function $_(t,r){const s={...r};for(const a in r){const i=t[a],l=r[a];/^on[A-Z]/.test(a)?i&&l?s[a]=(...u)=>{const h=l(...u);return i(...u),h}:i&&(s[a]=i):a==="style"?s[a]={...i,...l}:a==="className"&&(s[a]=[i,l].filter(Boolean).join(" "))}return{...t,...s}}function V_(t){var a,i;let r=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Ii(t){const r=t+"CollectionProvider",[s,a]=vr(r),[i,l]=s(r,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:w,children:P}=N,_=ke.useRef(null),C=ke.useRef(new Map).current;return e.jsx(i,{scope:w,itemMap:C,collectionRef:_,children:P})};d.displayName=r;const u=t+"CollectionSlot",h=Fa(u),f=ke.forwardRef((N,w)=>{const{scope:P,children:_}=N,C=l(u,P),L=rt(w,C.collectionRef);return e.jsx(h,{ref:L,children:_})});f.displayName=u;const y=t+"CollectionItemSlot",x="data-radix-collection-item",g=Fa(y),v=ke.forwardRef((N,w)=>{const{scope:P,children:_,...C}=N,L=ke.useRef(null),q=rt(w,L),A=l(y,P);return ke.useEffect(()=>(A.itemMap.set(L,{ref:L,...C}),()=>void A.itemMap.delete(L))),e.jsx(g,{[x]:"",ref:q,children:_})});v.displayName=y;function j(N){const w=l(t+"CollectionConsumer",N);return ke.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const C=Array.from(_.querySelectorAll(`[${x}]`));return Array.from(w.itemMap.values()).sort((A,M)=>C.indexOf(A.ref.current)-C.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:d,Slot:f,ItemSlot:v},j,a]}var B_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=B_.reduce((t,r)=>{const s=Fa(`Primitive.${r}`),a=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,h=d?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...u,ref:l})});return a.displayName=`Primitive.${r}`,{...t,[r]:a}},{});function Fp(t,r){t&&Di.flushSync(()=>t.dispatchEvent(r))}function sr(t){const r=m.useRef(t);return m.useEffect(()=>{r.current=t}),m.useMemo(()=>(...s)=>{var a;return(a=r.current)==null?void 0:a.call(r,...s)},[])}function U_(t,r=globalThis==null?void 0:globalThis.document){const s=sr(t);m.useEffect(()=>{const a=i=>{i.key==="Escape"&&s(i)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var z_="DismissableLayer",Kf="dismissableLayer.update",q_="dismissableLayer.pointerDownOutside",W_="dismissableLayer.focusOutside",ly,Yb=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Co=m.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...h}=t,f=m.useContext(Yb),[y,x]=m.useState(null),g=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),j=rt(r,M=>x(M)),N=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),P=N.indexOf(w),_=y?N.indexOf(y):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,L=_>=P,q=Y_(M=>{const V=M.target,k=[...f.branches].some(T=>T.contains(V));!L||k||(i==null||i(M),d==null||d(M),M.defaultPrevented||u==null||u())},g),A=K_(M=>{const V=M.target;[...f.branches].some(T=>T.contains(V))||(l==null||l(M),d==null||d(M),M.defaultPrevented||u==null||u())},g);return U_(M=>{_===f.layers.size-1&&(a==null||a(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},g),m.useEffect(()=>{if(y)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ly=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(y)),f.layers.add(y),cy(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ly)}},[y,g,s,f]),m.useEffect(()=>()=>{y&&(f.layers.delete(y),f.layersWithOutsidePointerEventsDisabled.delete(y),cy())},[y,f]),m.useEffect(()=>{const M=()=>v({});return document.addEventListener(Kf,M),()=>document.removeEventListener(Kf,M)},[]),e.jsx(Me.div,{...h,ref:j,style:{pointerEvents:C?L?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,q.onPointerDownCapture)})});Co.displayName=z_;var H_="DismissableLayerBranch",Kb=m.forwardRef((t,r)=>{const s=m.useContext(Yb),a=m.useRef(null),i=rt(r,a);return m.useEffect(()=>{const l=a.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),e.jsx(Me.div,{...t,ref:i})});Kb.displayName=H_;function Y_(t,r=globalThis==null?void 0:globalThis.document){const s=sr(t),a=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const l=u=>{if(u.target&&!a.current){let h=function(){Gb(q_,s,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",i.current),i.current=h,r.addEventListener("click",i.current,{once:!0})):h()}else r.removeEventListener("click",i.current);a.current=!1},d=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),r.removeEventListener("pointerdown",l),r.removeEventListener("click",i.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function K_(t,r=globalThis==null?void 0:globalThis.document){const s=sr(t),a=m.useRef(!1);return m.useEffect(()=>{const i=l=>{l.target&&!a.current&&Gb(W_,s,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",i),()=>r.removeEventListener("focusin",i)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function cy(){const t=new CustomEvent(Kf);document.dispatchEvent(t)}function Gb(t,r,s,{discrete:a}){const i=s.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&i.addEventListener(t,r,{once:!0}),a?Fp(i,l):i.dispatchEvent(l)}var G_=Co,Q_=Kb,ar=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},X_="Portal",Oi=m.forwardRef((t,r)=>{var u;const{container:s,...a}=t,[i,l]=m.useState(!1);ar(()=>l(!0),[]);const d=s||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?kb.createPortal(e.jsx(Me.div,{...a,ref:r}),d):null});Oi.displayName=X_;function J_(t,r){return m.useReducer((s,a)=>r[s][a]??s,t)}var yr=t=>{const{present:r,children:s}=t,a=Z_(r),i=typeof s=="function"?s({present:a.isPresent}):m.Children.only(s),l=rt(a.ref,eE(i));return typeof s=="function"||a.isPresent?m.cloneElement(i,{ref:l}):null};yr.displayName="Presence";function Z_(t){const[r,s]=m.useState(),a=m.useRef(null),i=m.useRef(t),l=m.useRef("none"),d=t?"mounted":"unmounted",[u,h]=J_(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const f=Td(a.current);l.current=u==="mounted"?f:"none"},[u]),ar(()=>{const f=a.current,y=i.current;if(y!==t){const g=l.current,v=Td(f);t?h("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(y&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),ar(()=>{if(r){let f;const y=r.ownerDocument.defaultView??window,x=v=>{const N=Td(a.current).includes(v.animationName);if(v.target===r&&N&&(h("ANIMATION_END"),!i.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",f=y.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},g=v=>{v.target===r&&(l.current=Td(a.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",x),r.addEventListener("animationend",x),()=>{y.clearTimeout(f),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",x),r.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[r,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:m.useCallback(f=>{a.current=f?getComputedStyle(f):null,s(f)},[])}}function Td(t){return(t==null?void 0:t.animationName)||"none"}function eE(t){var a,i;let r=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var tE=Rp[" useInsertionEffect ".trim().toString()]||ar;function fs({prop:t,defaultProp:r,onChange:s=()=>{},caller:a}){const[i,l,d]=rE({defaultProp:r,onChange:s}),u=t!==void 0,h=u?t:i;{const y=m.useRef(t!==void 0);m.useEffect(()=>{const x=y.current;x!==u&&console.warn(`${a} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,a])}const f=m.useCallback(y=>{var x;if(u){const g=sE(y)?y(t):y;g!==t&&((x=d.current)==null||x.call(d,g))}else l(y)},[u,t,l,d]);return[h,f]}function rE({defaultProp:t,onChange:r}){const[s,a]=m.useState(t),i=m.useRef(s),l=m.useRef(r);return tE(()=>{l.current=r},[r]),m.useEffect(()=>{var d;i.current!==s&&((d=l.current)==null||d.call(l,s),i.current=s)},[s,i]),[s,a,l]}function sE(t){return typeof t=="function"}var Qb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nE="VisuallyHidden",ku=m.forwardRef((t,r)=>e.jsx(Me.span,{...t,ref:r,style:{...Qb,...t.style}}));ku.displayName=nE;var aE=ku,Lp="ToastProvider",[$p,oE,iE]=Ii("Toast"),[Xb]=vr("Toast",[iE]),[lE,Cu]=Xb(Lp),Jb=t=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:d}=t,[u,h]=m.useState(null),[f,y]=m.useState(0),x=m.useRef(!1),g=m.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lp}\`. Expected non-empty \`string\`.`),e.jsx($p.Provider,{scope:r,children:e.jsx(lE,{scope:r,label:s,duration:a,swipeDirection:i,swipeThreshold:l,toastCount:f,viewport:u,onViewportChange:h,onToastAdd:m.useCallback(()=>y(v=>v+1),[]),onToastRemove:m.useCallback(()=>y(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:g,children:d})})};Jb.displayName=Lp;var Zb="ToastViewport",cE=["F8"],Gf="toast.viewportPause",Qf="toast.viewportResume",ej=m.forwardRef((t,r)=>{const{__scopeToast:s,hotkey:a=cE,label:i="Notifications ({hotkey})",...l}=t,d=Cu(Zb,s),u=oE(s),h=m.useRef(null),f=m.useRef(null),y=m.useRef(null),x=m.useRef(null),g=rt(r,x,d.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=d.toastCount>0;m.useEffect(()=>{const w=P=>{var C;a.length!==0&&a.every(L=>P[L]||P.code===L)&&((C=x.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[a]),m.useEffect(()=>{const w=h.current,P=x.current;if(j&&w&&P){const _=()=>{if(!d.isClosePausedRef.current){const A=new CustomEvent(Gf);P.dispatchEvent(A),d.isClosePausedRef.current=!0}},C=()=>{if(d.isClosePausedRef.current){const A=new CustomEvent(Qf);P.dispatchEvent(A),d.isClosePausedRef.current=!1}},L=A=>{!w.contains(A.relatedTarget)&&C()},q=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",_),w.addEventListener("focusout",L),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",q),window.addEventListener("blur",_),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",L),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",q),window.removeEventListener("blur",_),window.removeEventListener("focus",C)}}},[j,d.isClosePausedRef]);const N=m.useCallback(({tabbingDirection:w})=>{const _=u().map(C=>{const L=C.ref.current,q=[L,...wE(L)];return w==="forwards"?q:q.reverse()});return(w==="forwards"?_.reverse():_).flat()},[u]);return m.useEffect(()=>{const w=x.current;if(w){const P=_=>{var q,A,M;const C=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!C){const V=document.activeElement,k=_.shiftKey;if(_.target===w&&k){(q=f.current)==null||q.focus();return}const E=N({tabbingDirection:k?"backwards":"forwards"}),$=E.findIndex(R=>R===V);sf(E.slice($+1))?_.preventDefault():k?(A=f.current)==null||A.focus():(M=y.current)==null||M.focus()}};return w.addEventListener("keydown",P),()=>w.removeEventListener("keydown",P)}},[u,N]),e.jsxs(Q_,{ref:h,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&e.jsx(Xf,{ref:f,onFocusFromOutsideViewport:()=>{const w=N({tabbingDirection:"forwards"});sf(w)}}),e.jsx($p.Slot,{scope:s,children:e.jsx(Me.ol,{tabIndex:-1,...l,ref:g})}),j&&e.jsx(Xf,{ref:y,onFocusFromOutsideViewport:()=>{const w=N({tabbingDirection:"backwards"});sf(w)}})]})});ej.displayName=Zb;var tj="ToastFocusProxy",Xf=m.forwardRef((t,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...i}=t,l=Cu(tj,s);return e.jsx(ku,{"aria-hidden":!0,tabIndex:0,...i,ref:r,style:{position:"fixed"},onFocus:d=>{var f;const u=d.relatedTarget;!((f=l.viewport)!=null&&f.contains(u))&&a()}})});Xf.displayName=tj;var nc="Toast",dE="toast.swipeStart",uE="toast.swipeMove",mE="toast.swipeCancel",hE="toast.swipeEnd",rj=m.forwardRef((t,r)=>{const{forceMount:s,open:a,defaultOpen:i,onOpenChange:l,...d}=t,[u,h]=fs({prop:a,defaultProp:i??!0,onChange:l,caller:nc});return e.jsx(yr,{present:s||u,children:e.jsx(xE,{open:u,...d,ref:r,onClose:()=>h(!1),onPause:sr(t.onPause),onResume:sr(t.onResume),onSwipeStart:Ce(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,f=>{const{x:y,y:x}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,f=>{const{x:y,y:x}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),h(!1)})})})});rj.displayName=nc;var[fE,pE]=Xb(nc,{onClose(){}}),xE=m.forwardRef((t,r)=>{const{__scopeToast:s,type:a="foreground",duration:i,open:l,onClose:d,onEscapeKeyDown:u,onPause:h,onResume:f,onSwipeStart:y,onSwipeMove:x,onSwipeCancel:g,onSwipeEnd:v,...j}=t,N=Cu(nc,s),[w,P]=m.useState(null),_=rt(r,R=>P(R)),C=m.useRef(null),L=m.useRef(null),q=i||N.duration,A=m.useRef(0),M=m.useRef(q),V=m.useRef(0),{onToastAdd:k,onToastRemove:T}=N,z=sr(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=N.viewport)==null||X.focus()),d()}),E=m.useCallback(R=>{!R||R===1/0||(window.clearTimeout(V.current),A.current=new Date().getTime(),V.current=window.setTimeout(z,R))},[z]);m.useEffect(()=>{const R=N.viewport;if(R){const X=()=>{E(M.current),f==null||f()},Y=()=>{const O=new Date().getTime()-A.current;M.current=M.current-O,window.clearTimeout(V.current),h==null||h()};return R.addEventListener(Gf,Y),R.addEventListener(Qf,X),()=>{R.removeEventListener(Gf,Y),R.removeEventListener(Qf,X)}}},[N.viewport,q,h,f,E]),m.useEffect(()=>{l&&!N.isClosePausedRef.current&&E(q)},[l,q,N.isClosePausedRef,E]),m.useEffect(()=>(k(),()=>T()),[k,T]);const $=m.useMemo(()=>w?cj(w):null,[w]);return N.viewport?e.jsxs(e.Fragment,{children:[$&&e.jsx(gE,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),e.jsx(fE,{scope:s,onClose:z,children:Di.createPortal(e.jsx($p.ItemSlot,{scope:s,children:e.jsx(G_,{asChild:!0,onEscapeKeyDown:Ce(u,()=>{N.isFocusedToastEscapeKeyDownRef.current||z(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":N.swipeDirection,...j,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,R=>{R.key==="Escape"&&(u==null||u(R.nativeEvent),R.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Ce(t.onPointerDown,R=>{R.button===0&&(C.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ce(t.onPointerMove,R=>{if(!C.current)return;const X=R.clientX-C.current.x,Y=R.clientY-C.current.y,O=!!L.current,I=["left","right"].includes(N.swipeDirection),D=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,W=I?D(0,X):0,B=I?0:D(0,Y),U=R.pointerType==="touch"?10:2,J={x:W,y:B},se={originalEvent:R,delta:J};O?(L.current=J,Dd(uE,x,se,{discrete:!1})):dy(J,N.swipeDirection,U)?(L.current=J,Dd(dE,y,se,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(X)>U||Math.abs(Y)>U)&&(C.current=null)}),onPointerUp:Ce(t.onPointerUp,R=>{const X=L.current,Y=R.target;if(Y.hasPointerCapture(R.pointerId)&&Y.releasePointerCapture(R.pointerId),L.current=null,C.current=null,X){const O=R.currentTarget,I={originalEvent:R,delta:X};dy(X,N.swipeDirection,N.swipeThreshold)?Dd(hE,v,I,{discrete:!0}):Dd(mE,g,I,{discrete:!0}),O.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),gE=t=>{const{__scopeToast:r,children:s,...a}=t,i=Cu(nc,r),[l,d]=m.useState(!1),[u,h]=m.useState(!1);return bE(()=>d(!0)),m.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:e.jsx(Oi,{asChild:!0,children:e.jsx(ku,{...a,children:l&&e.jsxs(e.Fragment,{children:[i.label," ",s]})})})},vE="ToastTitle",sj=m.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(Me.div,{...a,ref:r})});sj.displayName=vE;var yE="ToastDescription",nj=m.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(Me.div,{...a,ref:r})});nj.displayName=yE;var aj="ToastAction",oj=m.forwardRef((t,r)=>{const{altText:s,...a}=t;return s.trim()?e.jsx(lj,{altText:s,asChild:!0,children:e.jsx(Vp,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${aj}\`. Expected non-empty \`string\`.`),null)});oj.displayName=aj;var ij="ToastClose",Vp=m.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t,i=pE(ij,s);return e.jsx(lj,{asChild:!0,children:e.jsx(Me.button,{type:"button",...a,ref:r,onClick:Ce(t.onClick,i.onClose)})})});Vp.displayName=ij;var lj=m.forwardRef((t,r)=>{const{__scopeToast:s,altText:a,...i}=t;return e.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:r})});function cj(t){const r=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),jE(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const d=a.dataset.radixToastAnnounceAlt;d&&r.push(d)}else r.push(...cj(a))}}),r}function Dd(t,r,s,{discrete:a}){const i=s.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});r&&i.addEventListener(t,r,{once:!0}),a?Fp(i,l):i.dispatchEvent(l)}var dy=(t,r,s=0)=>{const a=Math.abs(t.x),i=Math.abs(t.y),l=a>i;return r==="left"||r==="right"?l&&a>s:!l&&i>s};function bE(t=()=>{}){const r=sr(t);ar(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function jE(t){return t.nodeType===t.ELEMENT_NODE}function wE(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function sf(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var NE=Jb,dj=ej,uj=rj,mj=sj,hj=nj,fj=oj,pj=Vp;function xj(t){var r,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=xj(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function gj(){for(var t,r,s=0,a="",i=arguments.length;s<i;s++)(t=arguments[s])&&(r=xj(t))&&(a&&(a+=" "),a+=r);return a}const uy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,my=gj,ac=(t,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return my(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:l}=r,d=Object.keys(i).map(f=>{const y=s==null?void 0:s[f],x=l==null?void 0:l[f];if(y===null)return null;const g=uy(y)||uy(x);return i[f][g]}),u=s&&Object.entries(s).reduce((f,y)=>{let[x,g]=y;return g===void 0||(f[x]=g),f},{}),h=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((f,y)=>{let{class:x,className:g,...v}=y;return Object.entries(v).every(j=>{let[N,w]=j;return Array.isArray(w)?w.includes({...l,...u}[N]):{...l,...u}[N]===w})?[...f,x,g]:f},[]);return my(t,d,h,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vj=(...t)=>t.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=m.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:d,...u},h)=>m.createElement("svg",{ref:h,...kE,width:r,height:r,stroke:t,strokeWidth:a?Number(s)*24/Number(r):s,className:vj("lucide",i),...u},[...d.map(([f,y])=>m.createElement(f,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,r)=>{const s=m.forwardRef(({className:a,...i},l)=>m.createElement(CE,{ref:l,iconNode:r,className:vj(`lucide-${SE(t)}`,a),...i}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=De("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=De("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=De("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=De("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=De("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=De("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=De("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=De("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=De("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=De("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=De("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=De("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=De("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=De("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=De("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=De("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=De("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=De("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=De("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=De("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=De("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=De("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Up="-",WE=t=>{const r=YE(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:d=>{const u=d.split(Up);return u[0]===""&&u.length!==1&&u.shift(),_j(u,r)||HE(d)},getConflictingClassGroupIds:(d,u)=>{const h=s[d]||[];return u&&a[d]?[...h,...a[d]]:h}}},_j=(t,r)=>{var d;if(t.length===0)return r.classGroupId;const s=t[0],a=r.nextPart.get(s),i=a?_j(t.slice(1),a):void 0;if(i)return i;if(r.validators.length===0)return;const l=t.join(Up);return(d=r.validators.find(({validator:u})=>u(l)))==null?void 0:d.classGroupId},py=/^\[(.+)\]$/,HE=t=>{if(py.test(t)){const r=py.exec(t)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},YE=t=>{const{theme:r,prefix:s}=t,a={nextPart:new Map,validators:[]};return GE(Object.entries(t.classGroups),s).forEach(([l,d])=>{rp(d,a,l,r)}),a},rp=(t,r,s,a)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?r:xy(r,i);l.classGroupId=s;return}if(typeof i=="function"){if(KE(i)){rp(i(a),r,s,a);return}r.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([l,d])=>{rp(d,xy(r,l),s,a)})})},xy=(t,r)=>{let s=t;return r.split(Up).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},KE=t=>t.isThemeGetter,GE=(t,r)=>r?t.map(([s,a])=>{const i=a.map(l=>typeof l=="string"?r+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,u])=>[r+d,u])):l);return[s,i]}):t,QE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const i=(l,d)=>{s.set(l,d),r++,r>t&&(r=0,a=s,s=new Map)};return{get(l){let d=s.get(l);if(d!==void 0)return d;if((d=a.get(l))!==void 0)return i(l,d),d},set(l,d){s.has(l)?s.set(l,d):i(l,d)}}},Ej="!",XE=t=>{const{separator:r,experimentalParseClassName:s}=t,a=r.length===1,i=r[0],l=r.length,d=u=>{const h=[];let f=0,y=0,x;for(let w=0;w<u.length;w++){let P=u[w];if(f===0){if(P===i&&(a||u.slice(w,w+l)===r)){h.push(u.slice(y,w)),y=w+l;continue}if(P==="/"){x=w;continue}}P==="["?f++:P==="]"&&f--}const g=h.length===0?u:u.substring(y),v=g.startsWith(Ej),j=v?g.substring(1):g,N=x&&x>y?x-y:void 0;return{modifiers:h,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:N}};return s?u=>s({className:u,parseClassName:d}):d},JE=t=>{if(t.length<=1)return t;const r=[];let s=[];return t.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},ZE=t=>({cache:QE(t.cacheSize),parseClassName:XE(t),...WE(t)}),eR=/\s+/,tR=(t,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:i}=r,l=[],d=t.trim().split(eR);let u="";for(let h=d.length-1;h>=0;h-=1){const f=d[h],{modifiers:y,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:v}=s(f);let j=!!v,N=a(j?g.substring(0,v):g);if(!N){if(!j){u=f+(u.length>0?" "+u:u);continue}if(N=a(g),!N){u=f+(u.length>0?" "+u:u);continue}j=!1}const w=JE(y).join(":"),P=x?w+Ej:w,_=P+N;if(l.includes(_))continue;l.push(_);const C=i(N,j);for(let L=0;L<C.length;++L){const q=C[L];l.push(P+q)}u=f+(u.length>0?" "+u:u)}return u};function rR(){let t=0,r,s,a="";for(;t<arguments.length;)(r=arguments[t++])&&(s=Rj(r))&&(a&&(a+=" "),a+=s);return a}const Rj=t=>{if(typeof t=="string")return t;let r,s="";for(let a=0;a<t.length;a++)t[a]&&(r=Rj(t[a]))&&(s&&(s+=" "),s+=r);return s};function sR(t,...r){let s,a,i,l=d;function d(h){const f=r.reduce((y,x)=>x(y),t());return s=ZE(f),a=s.cache.get,i=s.cache.set,l=u,u(h)}function u(h){const f=a(h);if(f)return f;const y=tR(h,s);return i(h,y),y}return function(){return l(rR.apply(null,arguments))}}const Wt=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},Tj=/^\[(?:([a-z-]+):)?(.+)\]$/i,nR=/^\d+\/\d+$/,aR=new Set(["px","full","screen"]),oR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=t=>li(t)||aR.has(t)||nR.test(t),ya=t=>Li(t,"length",vR),li=t=>!!t&&!Number.isNaN(Number(t)),af=t=>Li(t,"number",li),Cl=t=>!!t&&Number.isInteger(Number(t)),uR=t=>t.endsWith("%")&&li(t.slice(0,-1)),dt=t=>Tj.test(t),ba=t=>oR.test(t),mR=new Set(["length","size","percentage"]),hR=t=>Li(t,mR,Dj),fR=t=>Li(t,"position",Dj),pR=new Set(["image","url"]),xR=t=>Li(t,pR,bR),gR=t=>Li(t,"",yR),Pl=()=>!0,Li=(t,r,s)=>{const a=Tj.exec(t);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},vR=t=>iR.test(t)&&!lR.test(t),Dj=()=>!1,yR=t=>cR.test(t),bR=t=>dR.test(t),jR=()=>{const t=Wt("colors"),r=Wt("spacing"),s=Wt("blur"),a=Wt("brightness"),i=Wt("borderColor"),l=Wt("borderRadius"),d=Wt("borderSpacing"),u=Wt("borderWidth"),h=Wt("contrast"),f=Wt("grayscale"),y=Wt("hueRotate"),x=Wt("invert"),g=Wt("gap"),v=Wt("gradientColorStops"),j=Wt("gradientColorStopPositions"),N=Wt("inset"),w=Wt("margin"),P=Wt("opacity"),_=Wt("padding"),C=Wt("saturate"),L=Wt("scale"),q=Wt("sepia"),A=Wt("skew"),M=Wt("space"),V=Wt("translate"),k=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",dt,r],E=()=>[dt,r],$=()=>["",Mn,ya],R=()=>["auto",li,dt],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",dt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[li,dt];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Mn,ya],blur:["none","",ba,dt],brightness:B(),borderColor:[t],borderRadius:["none","","full",ba,dt],borderSpacing:E(),borderWidth:$(),contrast:B(),grayscale:D(),hueRotate:B(),invert:D(),gap:E(),gradientColorStops:[t],gradientColorStopPositions:[uR,ya],inset:z(),margin:z(),opacity:B(),padding:E(),saturate:B(),scale:B(),sepia:D(),skew:B(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[ba]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),dt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,dt]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Cl,dt]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",Cl,dt]},dt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[Cl,dt]},dt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,r]}],"min-w":[{"min-w":[dt,r,"min","max","fit"]}],"max-w":[{"max-w":[dt,r,"none","full","min","max","fit","prose",{screen:[ba]},ba]}],h:[{h:[dt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",ba,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",af]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",li,af]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mn,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mn,ya]}],"underline-offset":[{"underline-offset":["auto",Mn,dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),fR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Mn,dt]}],"outline-w":[{outline:[Mn,ya]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Mn,ya]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ba,gR]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",ba,dt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[C]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Cl,dt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mn,ya,af]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wR=sR(jR);function Re(...t){return wR(gj(t))}const NR=NE,Aj=m.forwardRef(({className:t,...r},s)=>e.jsx(dj,{ref:s,className:Re("fixed top-4 right-4 z-[100] flex max-h-screen w-full flex-col md:max-w-[420px]",t),...r}));Aj.displayName=dj.displayName;const SR=ac("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-red-500 bg-red-500 text-white",success:"group border-green-500 bg-green-500 text-white",error:"group border-red-500 bg-red-500 text-white"}},defaultVariants:{variant:"default"}}),Mj=m.forwardRef(({className:t,variant:r,...s},a)=>e.jsx(uj,{ref:a,className:Re(SR({variant:r}),t),...s}));Mj.displayName=uj.displayName;const kR=m.forwardRef(({className:t,...r},s)=>e.jsx(fj,{ref:s,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...r}));kR.displayName=fj.displayName;const Ij=m.forwardRef(({className:t,...r},s)=>e.jsx(pj,{ref:s,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:e.jsx(Et,{className:"h-4 w-4"})}));Ij.displayName=pj.displayName;const Oj=m.forwardRef(({className:t,...r},s)=>e.jsx(mj,{ref:s,className:Re("text-sm font-semibold",t),...r}));Oj.displayName=mj.displayName;const Fj=m.forwardRef(({className:t,...r},s)=>e.jsx(hj,{ref:s,className:Re("text-sm opacity-90",t),...r}));Fj.displayName=hj.displayName;function CR(){const{toasts:t}=ot();return e.jsxs(NR,{children:[t.map(function({id:r,title:s,description:a,action:i,...l}){return e.jsxs(Mj,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Oj,{children:s}),a&&e.jsx(Fj,{children:a})]}),i,e.jsx(Ij,{})]},r)}),e.jsx(Aj,{})]})}var gy=["light","dark"],PR="(prefers-color-scheme: dark)",_R=m.createContext(void 0),ER={setTheme:t=>{},themes:[]},RR=()=>{var t;return(t=m.useContext(_R))!=null?t:ER};m.memo(({forcedTheme:t,storageKey:r,attribute:s,enableSystem:a,enableColorScheme:i,defaultTheme:l,value:d,attrs:u,nonce:h})=>{let f=l==="system",y=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(j=>`'${j}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,x=i?gy.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(j,N=!1,w=!0)=>{let P=d?d[j]:j,_=N?j+"|| ''":`'${P}'`,C="";return i&&w&&!N&&gy.includes(j)&&(C+=`d.style.colorScheme = '${j}';`),s==="class"?N||P?C+=`c.add(${_})`:C+="null":P&&(C+=`d[s](n,${_})`),C},v=t?`!function(){${y}${g(t)}}()`:a?`!function(){try{${y}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${f})){var t='${PR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${g(d?"x[e]":"e",!0)}}${f?"":"else{"+g(l,!1,!1)+"}"}${x}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${r}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${g(d?"x[e]":"e",!0)}}else{${g(l,!1,!1)};}${x}}catch(t){}}();`;return m.createElement("script",{nonce:h,dangerouslySetInnerHTML:{__html:v}})});var TR=t=>{switch(t){case"success":return MR;case"info":return OR;case"warning":return IR;case"error":return FR;default:return null}},DR=Array(12).fill(0),AR=({visible:t,className:r})=>ke.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},ke.createElement("div",{className:"sonner-spinner"},DR.map((s,a)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),MR=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IR=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OR=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FR=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),LR=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$R=()=>{let[t,r]=ke.useState(document.hidden);return ke.useEffect(()=>{let s=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},sp=1,VR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:s,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:sp++,l=this.toasts.find(u=>u.id===i),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:s}),{...u,...t,id:i,dismissible:d,title:s}):u):this.addToast({title:s,...a,dismissible:d,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=s!==void 0,l,d=a.then(async h=>{if(l=["resolve",h],ke.isValidElement(h))i=!1,this.create({id:s,type:"default",message:h});else if(UR(h)&&!h.ok){i=!1;let f=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description;this.create({id:s,type:"error",message:f,description:y})}else if(r.success!==void 0){i=!1;let f=typeof r.success=="function"?await r.success(h):r.success,y=typeof r.description=="function"?await r.description(h):r.description;this.create({id:s,type:"success",message:f,description:y})}}).catch(async h=>{if(l=["reject",h],r.error!==void 0){i=!1;let f=typeof r.error=="function"?await r.error(h):r.error,y=typeof r.description=="function"?await r.description(h):r.description;this.create({id:s,type:"error",message:f,description:y})}}).finally(()=>{var h;i&&(this.dismiss(s),s=void 0),(h=r.finally)==null||h.call(r)}),u=()=>new Promise((h,f)=>d.then(()=>l[0]==="reject"?f(l[1]):h(l[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(t,r)=>{let s=(r==null?void 0:r.id)||sp++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jr=new VR,BR=(t,r)=>{let s=(r==null?void 0:r.id)||sp++;return Jr.addToast({title:t,...r,id:s}),s},UR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zR=BR,qR=()=>Jr.toasts,WR=()=>Jr.getActiveToasts(),co=Object.assign(zR,{success:Jr.success,info:Jr.info,warning:Jr.warning,error:Jr.error,custom:Jr.custom,message:Jr.message,promise:Jr.promise,dismiss:Jr.dismiss,loading:Jr.loading},{getHistory:qR,getToasts:WR});function HR(t,{insertAt:r}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}HR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Md(t){return t.label!==void 0}var YR=3,KR="32px",GR="16px",vy=4e3,QR=356,XR=14,JR=20,ZR=200;function Ls(...t){return t.filter(Boolean).join(" ")}function eT(t){let[r,s]=t.split("-"),a=[];return r&&a.push(r),s&&a.push(s),a}var tT=t=>{var r,s,a,i,l,d,u,h,f,y,x;let{invert:g,toast:v,unstyled:j,interacting:N,setHeights:w,visibleToasts:P,heights:_,index:C,toasts:L,expanded:q,removeToast:A,defaultRichColors:M,closeButton:V,style:k,cancelButtonStyle:T,actionButtonStyle:z,className:E="",descriptionClassName:$="",duration:R,position:X,gap:Y,loadingIcon:O,expandByDefault:I,classNames:D,icons:W,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:U}=t,[J,se]=ke.useState(null),[ue,ge]=ke.useState(null),[oe,de]=ke.useState(!1),[le,he]=ke.useState(!1),[fe,we]=ke.useState(!1),[Oe,Te]=ke.useState(!1),[pt,Ot]=ke.useState(!1),[Yt,or]=ke.useState(0),[Bt,er]=ke.useState(0),ae=ke.useRef(v.duration||R||vy),Le=ke.useRef(null),ie=ke.useRef(null),_e=C===0,Ae=C+1<=P,Ie=v.type,Ze=v.dismissible!==!1,ht=v.className||"",wt=v.descriptionClassName||"",qe=ke.useMemo(()=>_.findIndex(it=>it.toastId===v.id)||0,[_,v.id]),gt=ke.useMemo(()=>{var it;return(it=v.closeButton)!=null?it:V},[v.closeButton,V]),We=ke.useMemo(()=>v.duration||R||vy,[v.duration,R]),jt=ke.useRef(0),Dt=ke.useRef(0),Ut=ke.useRef(0),_r=ke.useRef(null),[_s,Ga]=X.split("-"),ps=ke.useMemo(()=>_.reduce((it,Pt,Ft)=>Ft>=qe?it:it+Pt.height,0),[_,qe]),kn=$R(),Zn=v.invert||g,rn=Ie==="loading";Dt.current=ke.useMemo(()=>qe*Y+ps,[qe,ps]),ke.useEffect(()=>{ae.current=We},[We]),ke.useEffect(()=>{de(!0)},[]),ke.useEffect(()=>{let it=ie.current;if(it){let Pt=it.getBoundingClientRect().height;return er(Pt),w(Ft=>[{toastId:v.id,height:Pt,position:v.position},...Ft]),()=>w(Ft=>Ft.filter(Ir=>Ir.toastId!==v.id))}},[w,v.id]),ke.useLayoutEffect(()=>{if(!oe)return;let it=ie.current,Pt=it.style.height;it.style.height="auto";let Ft=it.getBoundingClientRect().height;it.style.height=Pt,er(Ft),w(Ir=>Ir.find(qr=>qr.toastId===v.id)?Ir.map(qr=>qr.toastId===v.id?{...qr,height:Ft}:qr):[{toastId:v.id,height:Ft,position:v.position},...Ir])},[oe,v.title,v.description,w,v.id]);let Es=ke.useCallback(()=>{he(!0),or(Dt.current),w(it=>it.filter(Pt=>Pt.toastId!==v.id)),setTimeout(()=>{A(v)},ZR)},[v,A,w,Dt]);ke.useEffect(()=>{if(v.promise&&Ie==="loading"||v.duration===1/0||v.type==="loading")return;let it;return q||N||U&&kn?(()=>{if(Ut.current<jt.current){let Pt=new Date().getTime()-jt.current;ae.current=ae.current-Pt}Ut.current=new Date().getTime()})():ae.current!==1/0&&(jt.current=new Date().getTime(),it=setTimeout(()=>{var Pt;(Pt=v.onAutoClose)==null||Pt.call(v,v),Es()},ae.current)),()=>clearTimeout(it)},[q,N,v,Ie,U,kn,Es]),ke.useEffect(()=>{v.delete&&Es()},[Es,v.delete]);function bc(){var it,Pt,Ft;return W!=null&&W.loading?ke.createElement("div",{className:Ls(D==null?void 0:D.loader,(it=v==null?void 0:v.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":Ie==="loading"},W.loading):O?ke.createElement("div",{className:Ls(D==null?void 0:D.loader,(Pt=v==null?void 0:v.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":Ie==="loading"},O):ke.createElement(AR,{className:Ls(D==null?void 0:D.loader,(Ft=v==null?void 0:v.classNames)==null?void 0:Ft.loader),visible:Ie==="loading"})}return ke.createElement("li",{tabIndex:0,ref:ie,className:Ls(E,ht,D==null?void 0:D.toast,(r=v==null?void 0:v.classNames)==null?void 0:r.toast,D==null?void 0:D.default,D==null?void 0:D[Ie],(s=v==null?void 0:v.classNames)==null?void 0:s[Ie]),"data-sonner-toast":"","data-rich-colors":(a=v.richColors)!=null?a:M,"data-styled":!(v.jsx||v.unstyled||j),"data-mounted":oe,"data-promise":!!v.promise,"data-swiped":pt,"data-removed":le,"data-visible":Ae,"data-y-position":_s,"data-x-position":Ga,"data-index":C,"data-front":_e,"data-swiping":fe,"data-dismissible":Ze,"data-type":Ie,"data-invert":Zn,"data-swipe-out":Oe,"data-swipe-direction":ue,"data-expanded":!!(q||I&&oe),style:{"--index":C,"--toasts-before":C,"--z-index":L.length-C,"--offset":`${le?Yt:Dt.current}px`,"--initial-height":I?"auto":`${Bt}px`,...k,...v.style},onDragEnd:()=>{we(!1),se(null),_r.current=null},onPointerDown:it=>{rn||!Ze||(Le.current=new Date,or(Dt.current),it.target.setPointerCapture(it.pointerId),it.target.tagName!=="BUTTON"&&(we(!0),_r.current={x:it.clientX,y:it.clientY}))},onPointerUp:()=>{var it,Pt,Ft,Ir;if(Oe||!Ze)return;_r.current=null;let qr=Number(((it=ie.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wr=Number(((Pt=ie.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rs=new Date().getTime()-((Ft=Le.current)==null?void 0:Ft.getTime()),Nr=J==="x"?qr:Wr,sn=Math.abs(Nr)/Rs;if(Math.abs(Nr)>=JR||sn>.11){or(Dt.current),(Ir=v.onDismiss)==null||Ir.call(v,v),ge(J==="x"?qr>0?"right":"left":Wr>0?"down":"up"),Es(),Te(!0),Ot(!1);return}we(!1),se(null)},onPointerMove:it=>{var Pt,Ft,Ir,qr;if(!_r.current||!Ze||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;let Wr=it.clientY-_r.current.y,Rs=it.clientX-_r.current.x,Nr=(Ft=t.swipeDirections)!=null?Ft:eT(X);!J&&(Math.abs(Rs)>1||Math.abs(Wr)>1)&&se(Math.abs(Rs)>Math.abs(Wr)?"x":"y");let sn={x:0,y:0};J==="y"?(Nr.includes("top")||Nr.includes("bottom"))&&(Nr.includes("top")&&Wr<0||Nr.includes("bottom")&&Wr>0)&&(sn.y=Wr):J==="x"&&(Nr.includes("left")||Nr.includes("right"))&&(Nr.includes("left")&&Rs<0||Nr.includes("right")&&Rs>0)&&(sn.x=Rs),(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&Ot(!0),(Ir=ie.current)==null||Ir.style.setProperty("--swipe-amount-x",`${sn.x}px`),(qr=ie.current)==null||qr.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},gt&&!v.jsx?ke.createElement("button",{"aria-label":B,"data-disabled":rn,"data-close-button":!0,onClick:rn||!Ze?()=>{}:()=>{var it;Es(),(it=v.onDismiss)==null||it.call(v,v)},className:Ls(D==null?void 0:D.closeButton,(i=v==null?void 0:v.classNames)==null?void 0:i.closeButton)},(l=W==null?void 0:W.close)!=null?l:LR):null,v.jsx||m.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:ke.createElement(ke.Fragment,null,Ie||v.icon||v.promise?ke.createElement("div",{"data-icon":"",className:Ls(D==null?void 0:D.icon,(d=v==null?void 0:v.classNames)==null?void 0:d.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||bc():null,v.type!=="loading"?v.icon||(W==null?void 0:W[Ie])||TR(Ie):null):null,ke.createElement("div",{"data-content":"",className:Ls(D==null?void 0:D.content,(u=v==null?void 0:v.classNames)==null?void 0:u.content)},ke.createElement("div",{"data-title":"",className:Ls(D==null?void 0:D.title,(h=v==null?void 0:v.classNames)==null?void 0:h.title)},typeof v.title=="function"?v.title():v.title),v.description?ke.createElement("div",{"data-description":"",className:Ls($,wt,D==null?void 0:D.description,(f=v==null?void 0:v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),m.isValidElement(v.cancel)?v.cancel:v.cancel&&Md(v.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||T,onClick:it=>{var Pt,Ft;Md(v.cancel)&&Ze&&((Ft=(Pt=v.cancel).onClick)==null||Ft.call(Pt,it),Es())},className:Ls(D==null?void 0:D.cancelButton,(y=v==null?void 0:v.classNames)==null?void 0:y.cancelButton)},v.cancel.label):null,m.isValidElement(v.action)?v.action:v.action&&Md(v.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||z,onClick:it=>{var Pt,Ft;Md(v.action)&&((Ft=(Pt=v.action).onClick)==null||Ft.call(Pt,it),!it.defaultPrevented&&Es())},className:Ls(D==null?void 0:D.actionButton,(x=v==null?void 0:v.classNames)==null?void 0:x.actionButton)},v.action.label):null))};function yy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function rT(t,r){let s={};return[t,r].forEach((a,i)=>{let l=i===1,d=l?"--mobile-offset":"--offset",u=l?GR:KR;function h(f){["top","right","bottom","left"].forEach(y=>{s[`${d}-${y}`]=typeof f=="number"?`${f}px`:f})}typeof a=="number"||typeof a=="string"?h(a):typeof a=="object"?["top","right","bottom","left"].forEach(f=>{a[f]===void 0?s[`${d}-${f}`]=u:s[`${d}-${f}`]=typeof a[f]=="number"?`${a[f]}px`:a[f]}):h(u)}),s}var sT=m.forwardRef(function(t,r){let{invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:d,className:u,offset:h,mobileOffset:f,theme:y="light",richColors:x,duration:g,style:v,visibleToasts:j=YR,toastOptions:N,dir:w=yy(),gap:P=XR,loadingIcon:_,icons:C,containerAriaLabel:L="Notifications",pauseWhenPageIsHidden:q}=t,[A,M]=ke.useState([]),V=ke.useMemo(()=>Array.from(new Set([a].concat(A.filter(U=>U.position).map(U=>U.position)))),[A,a]),[k,T]=ke.useState([]),[z,E]=ke.useState(!1),[$,R]=ke.useState(!1),[X,Y]=ke.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=ke.useRef(null),I=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=ke.useRef(null),W=ke.useRef(!1),B=ke.useCallback(U=>{M(J=>{var se;return(se=J.find(ue=>ue.id===U.id))!=null&&se.delete||Jr.dismiss(U.id),J.filter(({id:ue})=>ue!==U.id)})},[]);return ke.useEffect(()=>Jr.subscribe(U=>{if(U.dismiss){M(J=>J.map(se=>se.id===U.id?{...se,delete:!0}:se));return}setTimeout(()=>{kb.flushSync(()=>{M(J=>{let se=J.findIndex(ue=>ue.id===U.id);return se!==-1?[...J.slice(0,se),{...J[se],...U},...J.slice(se+1)]:[U,...J]})})})}),[]),ke.useEffect(()=>{if(y!=="system"){Y(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:J})=>{Y(J?"dark":"light")})}catch{U.addListener(({matches:se})=>{try{Y(se?"dark":"light")}catch(ue){console.error(ue)}})}},[y]),ke.useEffect(()=>{A.length<=1&&E(!1)},[A]),ke.useEffect(()=>{let U=J=>{var se,ue;i.every(ge=>J[ge]||J.code===ge)&&(E(!0),(se=O.current)==null||se.focus()),J.code==="Escape"&&(document.activeElement===O.current||(ue=O.current)!=null&&ue.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),ke.useEffect(()=>{if(O.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,W.current=!1)}},[O.current]),ke.createElement("section",{ref:r,"aria-label":`${L} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((U,J)=>{var se;let[ue,ge]=U.split("-");return A.length?ke.createElement("ol",{key:U,dir:w==="auto"?yy():w,tabIndex:-1,ref:O,className:u,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":ue,"data-lifted":z&&A.length>1&&!l,"data-x-position":ge,style:{"--front-toast-height":`${((se=k[0])==null?void 0:se.height)||0}px`,"--width":`${QR}px`,"--gap":`${P}px`,...v,...rT(h,f)},onBlur:oe=>{W.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(W.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||W.current||(W.current=!0,D.current=oe.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{$||E(!1)},onDragEnd:()=>E(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},A.filter(oe=>!oe.position&&J===0||oe.position===U).map((oe,de)=>{var le,he;return ke.createElement(tT,{key:oe.id,icons:C,index:de,toast:oe,defaultRichColors:x,duration:(le=N==null?void 0:N.duration)!=null?le:g,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:s,visibleToasts:j,closeButton:(he=N==null?void 0:N.closeButton)!=null?he:d,interacting:$,position:U,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:B,toasts:A.filter(fe=>fe.position==oe.position),heights:k.filter(fe=>fe.position==oe.position),setHeights:T,expandByDefault:l,gap:P,loadingIcon:_,expanded:z,pauseWhenPageIsHidden:q,swipeDirections:t.swipeDirections})})):null}))});const nT=({...t})=>{const{theme:r="system"}=RR();return e.jsx(sT,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var aT=Rp[" useId ".trim().toString()]||(()=>{}),oT=0;function gr(t){const[r,s]=m.useState(aT());return ar(()=>{s(a=>a??String(oT++))},[t]),r?`radix-${r}`:""}const iT=["top","right","bottom","left"],Va=Math.min,ds=Math.max,au=Math.round,Id=Math.floor,xn=t=>({x:t,y:t}),lT={left:"right",right:"left",bottom:"top",top:"bottom"},cT={start:"end",end:"start"};function np(t,r,s){return ds(t,Va(r,s))}function Kn(t,r){return typeof t=="function"?t(r):t}function Gn(t){return t.split("-")[0]}function $i(t){return t.split("-")[1]}function zp(t){return t==="x"?"y":"x"}function qp(t){return t==="y"?"height":"width"}const dT=new Set(["top","bottom"]);function fn(t){return dT.has(Gn(t))?"y":"x"}function Wp(t){return zp(fn(t))}function uT(t,r,s){s===void 0&&(s=!1);const a=$i(t),i=Wp(t),l=qp(i);let d=i==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[l]>r.floating[l]&&(d=ou(d)),[d,ou(d)]}function mT(t){const r=ou(t);return[ap(t),r,ap(r)]}function ap(t){return t.replace(/start|end/g,r=>cT[r])}const by=["left","right"],jy=["right","left"],hT=["top","bottom"],fT=["bottom","top"];function pT(t,r,s){switch(t){case"top":case"bottom":return s?r?jy:by:r?by:jy;case"left":case"right":return r?hT:fT;default:return[]}}function xT(t,r,s,a){const i=$i(t);let l=pT(Gn(t),s==="start",a);return i&&(l=l.map(d=>d+"-"+i),r&&(l=l.concat(l.map(ap)))),l}function ou(t){return t.replace(/left|right|bottom|top/g,r=>lT[r])}function gT(t){return{top:0,right:0,bottom:0,left:0,...t}}function Lj(t){return typeof t!="number"?gT(t):{top:t,right:t,bottom:t,left:t}}function iu(t){const{x:r,y:s,width:a,height:i}=t;return{width:a,height:i,top:s,left:r,right:r+a,bottom:s+i,x:r,y:s}}function wy(t,r,s){let{reference:a,floating:i}=t;const l=fn(r),d=Wp(r),u=qp(d),h=Gn(r),f=l==="y",y=a.x+a.width/2-i.width/2,x=a.y+a.height/2-i.height/2,g=a[u]/2-i[u]/2;let v;switch(h){case"top":v={x:y,y:a.y-i.height};break;case"bottom":v={x:y,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:x};break;case"left":v={x:a.x-i.width,y:x};break;default:v={x:a.x,y:a.y}}switch($i(r)){case"start":v[d]-=g*(s&&f?-1:1);break;case"end":v[d]+=g*(s&&f?-1:1);break}return v}const vT=async(t,r,s)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:d}=s,u=l.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(r));let f=await d.getElementRects({reference:t,floating:r,strategy:i}),{x:y,y:x}=wy(f,a,h),g=a,v={},j=0;for(let N=0;N<u.length;N++){const{name:w,fn:P}=u[N],{x:_,y:C,data:L,reset:q}=await P({x:y,y:x,initialPlacement:a,placement:g,strategy:i,middlewareData:v,rects:f,platform:d,elements:{reference:t,floating:r}});y=_??y,x=C??x,v={...v,[w]:{...v[w],...L}},q&&j<=50&&(j++,typeof q=="object"&&(q.placement&&(g=q.placement),q.rects&&(f=q.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:i}):q.rects),{x:y,y:x}=wy(f,g,h)),N=-1)}return{x:y,y:x,placement:g,strategy:i,middlewareData:v}};async function Ql(t,r){var s;r===void 0&&(r={});const{x:a,y:i,platform:l,rects:d,elements:u,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:g=!1,padding:v=0}=Kn(r,t),j=Lj(v),w=u[g?x==="floating"?"reference":"floating":x],P=iu(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(w)))==null||s?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:y,strategy:h})),_=x==="floating"?{x:a,y:i,width:d.floating.width,height:d.floating.height}:d.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),L=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},q=iu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:_,offsetParent:C,strategy:h}):_);return{top:(P.top-q.top+j.top)/L.y,bottom:(q.bottom-P.bottom+j.bottom)/L.y,left:(P.left-q.left+j.left)/L.x,right:(q.right-P.right+j.right)/L.x}}const yT=t=>({name:"arrow",options:t,async fn(r){const{x:s,y:a,placement:i,rects:l,platform:d,elements:u,middlewareData:h}=r,{element:f,padding:y=0}=Kn(t,r)||{};if(f==null)return{};const x=Lj(y),g={x:s,y:a},v=Wp(i),j=qp(v),N=await d.getDimensions(f),w=v==="y",P=w?"top":"left",_=w?"bottom":"right",C=w?"clientHeight":"clientWidth",L=l.reference[j]+l.reference[v]-g[v]-l.floating[j],q=g[v]-l.reference[v],A=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f));let M=A?A[C]:0;(!M||!await(d.isElement==null?void 0:d.isElement(A)))&&(M=u.floating[C]||l.floating[j]);const V=L/2-q/2,k=M/2-N[j]/2-1,T=Va(x[P],k),z=Va(x[_],k),E=T,$=M-N[j]-z,R=M/2-N[j]/2+V,X=np(E,R,$),Y=!h.arrow&&$i(i)!=null&&R!==X&&l.reference[j]/2-(R<E?T:z)-N[j]/2<0,O=Y?R<E?R-E:R-$:0;return{[v]:g[v]+O,data:{[v]:X,centerOffset:R-X-O,...Y&&{alignmentOffset:O}},reset:Y}}}),bT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var s,a;const{placement:i,middlewareData:l,rects:d,initialPlacement:u,platform:h,elements:f}=r,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...w}=Kn(t,r);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const P=Gn(i),_=fn(u),C=Gn(u)===u,L=await(h.isRTL==null?void 0:h.isRTL(f.floating)),q=g||(C||!N?[ou(u)]:mT(u)),A=j!=="none";!g&&A&&q.push(...xT(u,N,j,L));const M=[u,...q],V=await Ql(r,w),k=[];let T=((a=l.flip)==null?void 0:a.overflows)||[];if(y&&k.push(V[P]),x){const R=uT(i,d,L);k.push(V[R[0]],V[R[1]])}if(T=[...T,{placement:i,overflows:k}],!k.every(R=>R<=0)){var z,E;const R=(((z=l.flip)==null?void 0:z.index)||0)+1,X=M[R];if(X&&(!(x==="alignment"?_!==fn(X):!1)||T.every(I=>I.overflows[0]>0&&fn(I.placement)===_)))return{data:{index:R,overflows:T},reset:{placement:X}};let Y=(E=T.filter(O=>O.overflows[0]<=0).sort((O,I)=>O.overflows[1]-I.overflows[1])[0])==null?void 0:E.placement;if(!Y)switch(v){case"bestFit":{var $;const O=($=T.filter(I=>{if(A){const D=fn(I.placement);return D===_||D==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,W)=>D+W,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:$[0];O&&(Y=O);break}case"initialPlacement":Y=u;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function Ny(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function Sy(t){return iT.some(r=>t[r]>=0)}const jT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...i}=Kn(t,r);switch(a){case"referenceHidden":{const l=await Ql(r,{...i,elementContext:"reference"}),d=Ny(l,s.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Sy(d)}}}case"escaped":{const l=await Ql(r,{...i,altBoundary:!0}),d=Ny(l,s.floating);return{data:{escapedOffsets:d,escaped:Sy(d)}}}default:return{}}}}},$j=new Set(["left","top"]);async function wT(t,r){const{placement:s,platform:a,elements:i}=t,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),d=Gn(s),u=$i(s),h=fn(s)==="y",f=$j.has(d)?-1:1,y=l&&h?-1:1,x=Kn(r,t);let{mainAxis:g,crossAxis:v,alignmentAxis:j}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof j=="number"&&(v=u==="end"?j*-1:j),h?{x:v*y,y:g*f}:{x:g*f,y:v*y}}const NT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var s,a;const{x:i,y:l,placement:d,middlewareData:u}=r,h=await wT(r,t);return d===((s=u.offset)==null?void 0:s.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:d}}}}},ST=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:s,y:a,placement:i}=r,{mainAxis:l=!0,crossAxis:d=!1,limiter:u={fn:w=>{let{x:P,y:_}=w;return{x:P,y:_}}},...h}=Kn(t,r),f={x:s,y:a},y=await Ql(r,h),x=fn(Gn(i)),g=zp(x);let v=f[g],j=f[x];if(l){const w=g==="y"?"top":"left",P=g==="y"?"bottom":"right",_=v+y[w],C=v-y[P];v=np(_,v,C)}if(d){const w=x==="y"?"top":"left",P=x==="y"?"bottom":"right",_=j+y[w],C=j-y[P];j=np(_,j,C)}const N=u.fn({...r,[g]:v,[x]:j});return{...N,data:{x:N.x-s,y:N.y-a,enabled:{[g]:l,[x]:d}}}}}},kT=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:s,y:a,placement:i,rects:l,middlewareData:d}=r,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Kn(t,r),y={x:s,y:a},x=fn(i),g=zp(x);let v=y[g],j=y[x];const N=Kn(u,r),w=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(h){const C=g==="y"?"height":"width",L=l.reference[g]-l.floating[C]+w.mainAxis,q=l.reference[g]+l.reference[C]-w.mainAxis;v<L?v=L:v>q&&(v=q)}if(f){var P,_;const C=g==="y"?"width":"height",L=$j.has(Gn(i)),q=l.reference[x]-l.floating[C]+(L&&((P=d.offset)==null?void 0:P[x])||0)+(L?0:w.crossAxis),A=l.reference[x]+l.reference[C]+(L?0:((_=d.offset)==null?void 0:_[x])||0)-(L?w.crossAxis:0);j<q?j=q:j>A&&(j=A)}return{[g]:v,[x]:j}}}},CT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var s,a;const{placement:i,rects:l,platform:d,elements:u}=r,{apply:h=()=>{},...f}=Kn(t,r),y=await Ql(r,f),x=Gn(i),g=$i(i),v=fn(i)==="y",{width:j,height:N}=l.floating;let w,P;x==="top"||x==="bottom"?(w=x,P=g===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(P=x,w=g==="end"?"top":"bottom");const _=N-y.top-y.bottom,C=j-y.left-y.right,L=Va(N-y[w],_),q=Va(j-y[P],C),A=!r.middlewareData.shift;let M=L,V=q;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(V=C),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(M=_),A&&!g){const T=ds(y.left,0),z=ds(y.right,0),E=ds(y.top,0),$=ds(y.bottom,0);v?V=j-2*(T!==0||z!==0?T+z:ds(y.left,y.right)):M=N-2*(E!==0||$!==0?E+$:ds(y.top,y.bottom))}await h({...r,availableWidth:V,availableHeight:M});const k=await d.getDimensions(u.floating);return j!==k.width||N!==k.height?{reset:{rects:!0}}:{}}}};function _u(){return typeof window<"u"}function Vi(t){return Vj(t)?(t.nodeName||"").toLowerCase():"#document"}function ms(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function Nn(t){var r;return(r=(Vj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function Vj(t){return _u()?t instanceof Node||t instanceof ms(t).Node:!1}function Qs(t){return _u()?t instanceof Element||t instanceof ms(t).Element:!1}function yn(t){return _u()?t instanceof HTMLElement||t instanceof ms(t).HTMLElement:!1}function ky(t){return!_u()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ms(t).ShadowRoot}const PT=new Set(["inline","contents"]);function lc(t){const{overflow:r,overflowX:s,overflowY:a,display:i}=Xs(t);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!PT.has(i)}const _T=new Set(["table","td","th"]);function ET(t){return _T.has(Vi(t))}const RT=[":popover-open",":modal"];function Eu(t){return RT.some(r=>{try{return t.matches(r)}catch{return!1}})}const TT=["transform","translate","scale","rotate","perspective"],DT=["transform","translate","scale","rotate","perspective","filter"],AT=["paint","layout","strict","content"];function Hp(t){const r=Yp(),s=Qs(t)?Xs(t):t;return TT.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||DT.some(a=>(s.willChange||"").includes(a))||AT.some(a=>(s.contain||"").includes(a))}function MT(t){let r=Ba(t);for(;yn(r)&&!ki(r);){if(Hp(r))return r;if(Eu(r))return null;r=Ba(r)}return null}function Yp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IT=new Set(["html","body","#document"]);function ki(t){return IT.has(Vi(t))}function Xs(t){return ms(t).getComputedStyle(t)}function Ru(t){return Qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ba(t){if(Vi(t)==="html")return t;const r=t.assignedSlot||t.parentNode||ky(t)&&t.host||Nn(t);return ky(r)?r.host:r}function Bj(t){const r=Ba(t);return ki(r)?t.ownerDocument?t.ownerDocument.body:t.body:yn(r)&&lc(r)?r:Bj(r)}function Xl(t,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const i=Bj(t),l=i===((a=t.ownerDocument)==null?void 0:a.body),d=ms(i);if(l){const u=op(d);return r.concat(d,d.visualViewport||[],lc(i)?i:[],u&&s?Xl(u):[])}return r.concat(i,Xl(i,[],s))}function op(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Uj(t){const r=Xs(t);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const i=yn(t),l=i?t.offsetWidth:s,d=i?t.offsetHeight:a,u=au(s)!==l||au(a)!==d;return u&&(s=l,a=d),{width:s,height:a,$:u}}function Kp(t){return Qs(t)?t:t.contextElement}function ci(t){const r=Kp(t);if(!yn(r))return xn(1);const s=r.getBoundingClientRect(),{width:a,height:i,$:l}=Uj(r);let d=(l?au(s.width):s.width)/a,u=(l?au(s.height):s.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const OT=xn(0);function zj(t){const r=ms(t);return!Yp()||!r.visualViewport?OT:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function FT(t,r,s){return r===void 0&&(r=!1),!s||r&&s!==ms(t)?!1:r}function bo(t,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),l=Kp(t);let d=xn(1);r&&(a?Qs(a)&&(d=ci(a)):d=ci(t));const u=FT(l,s,a)?zj(l):xn(0);let h=(i.left+u.x)/d.x,f=(i.top+u.y)/d.y,y=i.width/d.x,x=i.height/d.y;if(l){const g=ms(l),v=a&&Qs(a)?ms(a):a;let j=g,N=op(j);for(;N&&a&&v!==j;){const w=ci(N),P=N.getBoundingClientRect(),_=Xs(N),C=P.left+(N.clientLeft+parseFloat(_.paddingLeft))*w.x,L=P.top+(N.clientTop+parseFloat(_.paddingTop))*w.y;h*=w.x,f*=w.y,y*=w.x,x*=w.y,h+=C,f+=L,j=ms(N),N=op(j)}}return iu({width:y,height:x,x:h,y:f})}function Gp(t,r){const s=Ru(t).scrollLeft;return r?r.left+s:bo(Nn(t)).left+s}function qj(t,r,s){s===void 0&&(s=!1);const a=t.getBoundingClientRect(),i=a.left+r.scrollLeft-(s?0:Gp(t,a)),l=a.top+r.scrollTop;return{x:i,y:l}}function LT(t){let{elements:r,rect:s,offsetParent:a,strategy:i}=t;const l=i==="fixed",d=Nn(a),u=r?Eu(r.floating):!1;if(a===d||u&&l)return s;let h={scrollLeft:0,scrollTop:0},f=xn(1);const y=xn(0),x=yn(a);if((x||!x&&!l)&&((Vi(a)!=="body"||lc(d))&&(h=Ru(a)),yn(a))){const v=bo(a);f=ci(a),y.x=v.x+a.clientLeft,y.y=v.y+a.clientTop}const g=d&&!x&&!l?qj(d,h,!0):xn(0);return{width:s.width*f.x,height:s.height*f.y,x:s.x*f.x-h.scrollLeft*f.x+y.x+g.x,y:s.y*f.y-h.scrollTop*f.y+y.y+g.y}}function $T(t){return Array.from(t.getClientRects())}function VT(t){const r=Nn(t),s=Ru(t),a=t.ownerDocument.body,i=ds(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),l=ds(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let d=-s.scrollLeft+Gp(t);const u=-s.scrollTop;return Xs(a).direction==="rtl"&&(d+=ds(r.clientWidth,a.clientWidth)-i),{width:i,height:l,x:d,y:u}}function BT(t,r){const s=ms(t),a=Nn(t),i=s.visualViewport;let l=a.clientWidth,d=a.clientHeight,u=0,h=0;if(i){l=i.width,d=i.height;const f=Yp();(!f||f&&r==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:l,height:d,x:u,y:h}}const UT=new Set(["absolute","fixed"]);function zT(t,r){const s=bo(t,!0,r==="fixed"),a=s.top+t.clientTop,i=s.left+t.clientLeft,l=yn(t)?ci(t):xn(1),d=t.clientWidth*l.x,u=t.clientHeight*l.y,h=i*l.x,f=a*l.y;return{width:d,height:u,x:h,y:f}}function Cy(t,r,s){let a;if(r==="viewport")a=BT(t,s);else if(r==="document")a=VT(Nn(t));else if(Qs(r))a=zT(r,s);else{const i=zj(t);a={x:r.x-i.x,y:r.y-i.y,width:r.width,height:r.height}}return iu(a)}function Wj(t,r){const s=Ba(t);return s===r||!Qs(s)||ki(s)?!1:Xs(s).position==="fixed"||Wj(s,r)}function qT(t,r){const s=r.get(t);if(s)return s;let a=Xl(t,[],!1).filter(u=>Qs(u)&&Vi(u)!=="body"),i=null;const l=Xs(t).position==="fixed";let d=l?Ba(t):t;for(;Qs(d)&&!ki(d);){const u=Xs(d),h=Hp(d);!h&&u.position==="fixed"&&(i=null),(l?!h&&!i:!h&&u.position==="static"&&!!i&&UT.has(i.position)||lc(d)&&!h&&Wj(t,d))?a=a.filter(y=>y!==d):i=u,d=Ba(d)}return r.set(t,a),a}function WT(t){let{element:r,boundary:s,rootBoundary:a,strategy:i}=t;const d=[...s==="clippingAncestors"?Eu(r)?[]:qT(r,this._c):[].concat(s),a],u=d[0],h=d.reduce((f,y)=>{const x=Cy(r,y,i);return f.top=ds(x.top,f.top),f.right=Va(x.right,f.right),f.bottom=Va(x.bottom,f.bottom),f.left=ds(x.left,f.left),f},Cy(r,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function HT(t){const{width:r,height:s}=Uj(t);return{width:r,height:s}}function YT(t,r,s){const a=yn(r),i=Nn(r),l=s==="fixed",d=bo(t,!0,l,r);let u={scrollLeft:0,scrollTop:0};const h=xn(0);function f(){h.x=Gp(i)}if(a||!a&&!l)if((Vi(r)!=="body"||lc(i))&&(u=Ru(r)),a){const v=bo(r,!0,l,r);h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}else i&&f();l&&!a&&i&&f();const y=i&&!a&&!l?qj(i,u):xn(0),x=d.left+u.scrollLeft-h.x-y.x,g=d.top+u.scrollTop-h.y-y.y;return{x,y:g,width:d.width,height:d.height}}function of(t){return Xs(t).position==="static"}function Py(t,r){if(!yn(t)||Xs(t).position==="fixed")return null;if(r)return r(t);let s=t.offsetParent;return Nn(t)===s&&(s=s.ownerDocument.body),s}function Hj(t,r){const s=ms(t);if(Eu(t))return s;if(!yn(t)){let i=Ba(t);for(;i&&!ki(i);){if(Qs(i)&&!of(i))return i;i=Ba(i)}return s}let a=Py(t,r);for(;a&&ET(a)&&of(a);)a=Py(a,r);return a&&ki(a)&&of(a)&&!Hp(a)?s:a||MT(t)||s}const KT=async function(t){const r=this.getOffsetParent||Hj,s=this.getDimensions,a=await s(t.floating);return{reference:YT(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function GT(t){return Xs(t).direction==="rtl"}const QT={convertOffsetParentRelativeRectToViewportRelativeRect:LT,getDocumentElement:Nn,getClippingRect:WT,getOffsetParent:Hj,getElementRects:KT,getClientRects:$T,getDimensions:HT,getScale:ci,isElement:Qs,isRTL:GT};function Yj(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function XT(t,r){let s=null,a;const i=Nn(t);function l(){var u;clearTimeout(a),(u=s)==null||u.disconnect(),s=null}function d(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const f=t.getBoundingClientRect(),{left:y,top:x,width:g,height:v}=f;if(u||r(),!g||!v)return;const j=Id(x),N=Id(i.clientWidth-(y+g)),w=Id(i.clientHeight-(x+v)),P=Id(y),C={rootMargin:-j+"px "+-N+"px "+-w+"px "+-P+"px",threshold:ds(0,Va(1,h))||1};let L=!0;function q(A){const M=A[0].intersectionRatio;if(M!==h){if(!L)return d();M?d(!1,M):a=setTimeout(()=>{d(!1,1e-7)},1e3)}M===1&&!Yj(f,t.getBoundingClientRect())&&d(),L=!1}try{s=new IntersectionObserver(q,{...C,root:i.ownerDocument})}catch{s=new IntersectionObserver(q,C)}s.observe(t)}return d(!0),l}function JT(t,r,s,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,f=Kp(t),y=i||l?[...f?Xl(f):[],...Xl(r)]:[];y.forEach(P=>{i&&P.addEventListener("scroll",s,{passive:!0}),l&&P.addEventListener("resize",s)});const x=f&&u?XT(f,s):null;let g=-1,v=null;d&&(v=new ResizeObserver(P=>{let[_]=P;_&&_.target===f&&v&&(v.unobserve(r),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(r)})),s()}),f&&!h&&v.observe(f),v.observe(r));let j,N=h?bo(t):null;h&&w();function w(){const P=bo(t);N&&!Yj(N,P)&&s(),N=P,j=requestAnimationFrame(w)}return s(),()=>{var P;y.forEach(_=>{i&&_.removeEventListener("scroll",s),l&&_.removeEventListener("resize",s)}),x==null||x(),(P=v)==null||P.disconnect(),v=null,h&&cancelAnimationFrame(j)}}const ZT=NT,e5=ST,t5=bT,r5=CT,s5=jT,_y=yT,n5=kT,a5=(t,r,s)=>{const a=new Map,i={platform:QT,...s},l={...i.platform,_c:a};return vT(t,r,{...i,platform:l})};var o5=typeof document<"u",i5=function(){},Hd=o5?m.useLayoutEffect:i5;function lu(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let s,a,i;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!lu(t[a],r[a]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,i[a]))return!1;for(a=s;a--!==0;){const l=i[a];if(!(l==="_owner"&&t.$$typeof)&&!lu(t[l],r[l]))return!1}return!0}return t!==t&&r!==r}function Kj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ey(t,r){const s=Kj(t);return Math.round(r*s)/s}function lf(t){const r=m.useRef(t);return Hd(()=>{r.current=t}),r}function l5(t){t===void 0&&(t={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:d}={},transform:u=!0,whileElementsMounted:h,open:f}=t,[y,x]=m.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[g,v]=m.useState(a);lu(g,a)||v(a);const[j,N]=m.useState(null),[w,P]=m.useState(null),_=m.useCallback(I=>{I!==A.current&&(A.current=I,N(I))},[]),C=m.useCallback(I=>{I!==M.current&&(M.current=I,P(I))},[]),L=l||j,q=d||w,A=m.useRef(null),M=m.useRef(null),V=m.useRef(y),k=h!=null,T=lf(h),z=lf(i),E=lf(f),$=m.useCallback(()=>{if(!A.current||!M.current)return;const I={placement:r,strategy:s,middleware:g};z.current&&(I.platform=z.current),a5(A.current,M.current,I).then(D=>{const W={...D,isPositioned:E.current!==!1};R.current&&!lu(V.current,W)&&(V.current=W,Di.flushSync(()=>{x(W)}))})},[g,r,s,z,E]);Hd(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,x(I=>({...I,isPositioned:!1})))},[f]);const R=m.useRef(!1);Hd(()=>(R.current=!0,()=>{R.current=!1}),[]),Hd(()=>{if(L&&(A.current=L),q&&(M.current=q),L&&q){if(T.current)return T.current(L,q,$);$()}},[L,q,$,T,k]);const X=m.useMemo(()=>({reference:A,floating:M,setReference:_,setFloating:C}),[_,C]),Y=m.useMemo(()=>({reference:L,floating:q}),[L,q]),O=m.useMemo(()=>{const I={position:s,left:0,top:0};if(!Y.floating)return I;const D=Ey(Y.floating,y.x),W=Ey(Y.floating,y.y);return u?{...I,transform:"translate("+D+"px, "+W+"px)",...Kj(Y.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:D,top:W}},[s,u,Y.floating,y.x,y.y]);return m.useMemo(()=>({...y,update:$,refs:X,elements:Y,floatingStyles:O}),[y,$,X,Y,O])}const c5=t=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:a,padding:i}=typeof t=="function"?t(s):t;return a&&r(a)?a.current!=null?_y({element:a.current,padding:i}).fn(s):{}:a?_y({element:a,padding:i}).fn(s):{}}}},d5=(t,r)=>({...ZT(t),options:[t,r]}),u5=(t,r)=>({...e5(t),options:[t,r]}),m5=(t,r)=>({...n5(t),options:[t,r]}),h5=(t,r)=>({...t5(t),options:[t,r]}),f5=(t,r)=>({...r5(t),options:[t,r]}),p5=(t,r)=>({...s5(t),options:[t,r]}),x5=(t,r)=>({...c5(t),options:[t,r]});var g5="Arrow",Gj=m.forwardRef((t,r)=>{const{children:s,width:a=10,height:i=5,...l}=t;return e.jsx(Me.svg,{...l,ref:r,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Gj.displayName=g5;var v5=Gj;function Qp(t){const[r,s]=m.useState(void 0);return ar(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let d,u;if("borderBoxSize"in l){const h=l.borderBoxSize,f=Array.isArray(h)?h[0]:h;d=f.inlineSize,u=f.blockSize}else d=t.offsetWidth,u=t.offsetHeight;s({width:d,height:u})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else s(void 0)},[t]),r}var Xp="Popper",[Qj,qa]=vr(Xp),[y5,Xj]=Qj(Xp),Jj=t=>{const{__scopePopper:r,children:s}=t,[a,i]=m.useState(null);return e.jsx(y5,{scope:r,anchor:a,onAnchorChange:i,children:s})};Jj.displayName=Xp;var Zj="PopperAnchor",ew=m.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:a,...i}=t,l=Xj(Zj,s),d=m.useRef(null),u=rt(r,d);return m.useEffect(()=>{l.onAnchorChange((a==null?void 0:a.current)||d.current)}),a?null:e.jsx(Me.div,{...i,ref:u})});ew.displayName=Zj;var Jp="PopperContent",[b5,j5]=Qj(Jp),tw=m.forwardRef((t,r)=>{var oe,de,le,he,fe,we;const{__scopePopper:s,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:j,...N}=t,w=Xj(Jp,s),[P,_]=m.useState(null),C=rt(r,Oe=>_(Oe)),[L,q]=m.useState(null),A=Qp(L),M=(A==null?void 0:A.width)??0,V=(A==null?void 0:A.height)??0,k=a+(l!=="center"?"-"+l:""),T=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},z=Array.isArray(f)?f:[f],E=z.length>0,$={padding:T,boundary:z.filter(N5),altBoundary:E},{refs:R,floatingStyles:X,placement:Y,isPositioned:O,middlewareData:I}=l5({strategy:"fixed",placement:k,whileElementsMounted:(...Oe)=>JT(...Oe,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[d5({mainAxis:i+V,alignmentAxis:d}),h&&u5({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?m5():void 0,...$}),h&&h5({...$}),f5({...$,apply:({elements:Oe,rects:Te,availableWidth:pt,availableHeight:Ot})=>{const{width:Yt,height:or}=Te.reference,Bt=Oe.floating.style;Bt.setProperty("--radix-popper-available-width",`${pt}px`),Bt.setProperty("--radix-popper-available-height",`${Ot}px`),Bt.setProperty("--radix-popper-anchor-width",`${Yt}px`),Bt.setProperty("--radix-popper-anchor-height",`${or}px`)}}),L&&x5({element:L,padding:u}),S5({arrowWidth:M,arrowHeight:V}),g&&p5({strategy:"referenceHidden",...$})]}),[D,W]=nw(Y),B=sr(j);ar(()=>{O&&(B==null||B())},[O,B]);const U=(oe=I.arrow)==null?void 0:oe.x,J=(de=I.arrow)==null?void 0:de.y,se=((le=I.arrow)==null?void 0:le.centerOffset)!==0,[ue,ge]=m.useState();return ar(()=>{P&&ge(window.getComputedStyle(P).zIndex)},[P]),e.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:O?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(he=I.transformOrigin)==null?void 0:he.x,(fe=I.transformOrigin)==null?void 0:fe.y].join(" "),...((we=I.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(b5,{scope:s,placedSide:D,onArrowChange:q,arrowX:U,arrowY:J,shouldHideArrow:se,children:e.jsx(Me.div,{"data-side":D,"data-align":W,...N,ref:C,style:{...N.style,animation:O?void 0:"none"}})})})});tw.displayName=Jp;var rw="PopperArrow",w5={top:"bottom",right:"left",bottom:"top",left:"right"},sw=m.forwardRef(function(r,s){const{__scopePopper:a,...i}=r,l=j5(rw,a),d=w5[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(v5,{...i,ref:s,style:{...i.style,display:"block"}})})});sw.displayName=rw;function N5(t){return t!==null}var S5=t=>({name:"transformOrigin",options:t,fn(r){var w,P,_;const{placement:s,rects:a,middlewareData:i}=r,d=((w=i.arrow)==null?void 0:w.centerOffset)!==0,u=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[f,y]=nw(s),x={start:"0%",center:"50%",end:"100%"}[y],g=(((P=i.arrow)==null?void 0:P.x)??0)+u/2,v=(((_=i.arrow)==null?void 0:_.y)??0)+h/2;let j="",N="";return f==="bottom"?(j=d?x:`${g}px`,N=`${-h}px`):f==="top"?(j=d?x:`${g}px`,N=`${a.floating.height+h}px`):f==="right"?(j=`${-h}px`,N=d?x:`${v}px`):f==="left"&&(j=`${a.floating.width+h}px`,N=d?x:`${v}px`),{data:{x:j,y:N}}}});function nw(t){const[r,s="center"]=t.split("-");return[r,s]}var Zp=Jj,cc=ew,Tu=tw,Du=sw,[Au]=vr("Tooltip",[qa]),ex=qa(),aw="TooltipProvider",k5=700,Ry="tooltip.open",[C5,ow]=Au(aw),iw=t=>{const{__scopeTooltip:r,delayDuration:s=k5,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:l}=t,d=m.useRef(!0),u=m.useRef(!1),h=m.useRef(0);return m.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),e.jsx(C5,{scope:r,isOpenDelayedRef:d,delayDuration:s,onOpen:m.useCallback(()=>{window.clearTimeout(h.current),d.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:m.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:l})};iw.displayName=aw;var lw="Tooltip",[y$,Mu]=Au(lw),ip="TooltipTrigger",P5=m.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,i=Mu(ip,s),l=ow(ip,s),d=ex(s),u=m.useRef(null),h=rt(r,u,i.onTriggerChange),f=m.useRef(!1),y=m.useRef(!1),x=m.useCallback(()=>f.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),e.jsx(cc,{asChild:!0,...d,children:e.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:h,onPointerMove:Ce(t.onPointerMove,g=>{g.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:Ce(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ce(t.onBlur,i.onClose),onClick:Ce(t.onClick,i.onClose)})})});P5.displayName=ip;var _5="TooltipPortal",[b$,E5]=Au(_5,{forceMount:void 0}),Ci="TooltipContent",cw=m.forwardRef((t,r)=>{const s=E5(Ci,t.__scopeTooltip),{forceMount:a=s.forceMount,side:i="top",...l}=t,d=Mu(Ci,t.__scopeTooltip);return e.jsx(yr,{present:a||d.open,children:d.disableHoverableContent?e.jsx(dw,{side:i,...l,ref:r}):e.jsx(R5,{side:i,...l,ref:r})})}),R5=m.forwardRef((t,r)=>{const s=Mu(Ci,t.__scopeTooltip),a=ow(Ci,t.__scopeTooltip),i=m.useRef(null),l=rt(r,i),[d,u]=m.useState(null),{trigger:h,onClose:f}=s,y=i.current,{onPointerInTransitChange:x}=a,g=m.useCallback(()=>{u(null),x(!1)},[x]),v=m.useCallback((j,N)=>{const w=j.currentTarget,P={x:j.clientX,y:j.clientY},_=I5(P,w.getBoundingClientRect()),C=O5(P,_),L=F5(N.getBoundingClientRect()),q=$5([...C,...L]);u(q),x(!0)},[x]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(h&&y){const j=w=>v(w,y),N=w=>v(w,h);return h.addEventListener("pointerleave",j),y.addEventListener("pointerleave",N),()=>{h.removeEventListener("pointerleave",j),y.removeEventListener("pointerleave",N)}}},[h,y,v,g]),m.useEffect(()=>{if(d){const j=N=>{const w=N.target,P={x:N.clientX,y:N.clientY},_=(h==null?void 0:h.contains(w))||(y==null?void 0:y.contains(w)),C=!L5(P,d);_?g():C&&(g(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[h,y,d,f,g]),e.jsx(dw,{...t,ref:l})}),[T5,D5]=Au(lw,{isInside:!1}),A5=Hb("TooltipContent"),dw=m.forwardRef((t,r)=>{const{__scopeTooltip:s,children:a,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:d,...u}=t,h=Mu(Ci,s),f=ex(s),{onClose:y}=h;return m.useEffect(()=>(document.addEventListener(Ry,y),()=>document.removeEventListener(Ry,y)),[y]),m.useEffect(()=>{if(h.trigger){const x=g=>{const v=g.target;v!=null&&v.contains(h.trigger)&&y()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[h.trigger,y]),e.jsx(Co,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:x=>x.preventDefault(),onDismiss:y,children:e.jsxs(Tu,{"data-state":h.stateAttribute,...f,...u,ref:r,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(A5,{children:a}),e.jsx(T5,{scope:s,isInside:!0,children:e.jsx(aE,{id:h.contentId,role:"tooltip",children:i||a})})]})})});cw.displayName=Ci;var uw="TooltipArrow",M5=m.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,i=ex(s);return D5(uw,s).isInside?null:e.jsx(Du,{...i,...a,ref:r})});M5.displayName=uw;function I5(t,r){const s=Math.abs(r.top-t.y),a=Math.abs(r.bottom-t.y),i=Math.abs(r.right-t.x),l=Math.abs(r.left-t.x);switch(Math.min(s,a,i,l)){case l:return"left";case i:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function O5(t,r,s=5){const a=[];switch(r){case"top":a.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":a.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":a.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":a.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return a}function F5(t){const{top:r,right:s,bottom:a,left:i}=t;return[{x:i,y:r},{x:s,y:r},{x:s,y:a},{x:i,y:a}]}function L5(t,r){const{x:s,y:a}=t;let i=!1;for(let l=0,d=r.length-1;l<r.length;d=l++){const u=r[l],h=r[d],f=u.x,y=u.y,x=h.x,g=h.y;y>a!=g>a&&s<(x-f)*(a-y)/(g-y)+f&&(i=!i)}return i}function $5(t){const r=t.slice();return r.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),V5(r)}function V5(t){if(t.length<=1)return t.slice();const r=[];for(let a=0;a<t.length;a++){const i=t[a];for(;r.length>=2;){const l=r[r.length-1],d=r[r.length-2];if((l.x-d.x)*(i.y-d.y)>=(l.y-d.y)*(i.x-d.x))r.pop();else break}r.push(i)}r.pop();const s=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;s.length>=2;){const l=s[s.length-1],d=s[s.length-2];if((l.x-d.x)*(i.y-d.y)>=(l.y-d.y)*(i.x-d.x))s.pop();else break}s.push(i)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var B5=iw,mw=cw;const U5=B5,z5=m.forwardRef(({className:t,sideOffset:r=4,...s},a)=>e.jsx(mw,{ref:a,sideOffset:r,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));z5.displayName=mw.displayName;const hw="https://milkatpost.com/api";console.log("API Base URL configured as:",hw);class q5{constructor(r){Wh(this,"baseURL");Wh(this,"token",null);this.baseURL=r,this.token=localStorage.getItem("auth_token"),console.log(" API Client initialized with token:",this.token?`${this.token.substring(0,20)}...`:"null")}setToken(r){this.token=r,r?localStorage.setItem("auth_token",r):localStorage.removeItem("auth_token"),console.log(" Token set:",r?`${r.substring(0,20)}...`:"null")}refreshToken(){return this.token=localStorage.getItem("auth_token"),console.log(" Token refreshed:",this.token?`${this.token.substring(0,20)}...`:"null"),this.token}async checkServerConnection(){try{console.log("Checking server connection to:",`${this.baseURL.replace("/api","")}/health`);const s=(await fetch(`${this.baseURL.replace("/api","")}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})).ok;return console.log("Server connection check result:",s?"SUCCESS":"FAILED"),s}catch(r){return console.error("Server connection check failed:",r),!1}}setRefreshToken(r){r?localStorage.setItem("auth_refresh_token",r):localStorage.removeItem("auth_refresh_token")}async request(r,s={}){const a=`${this.baseURL}${r}`;console.log("API Request:",{url:a,method:s.method||"GET",hasToken:!!this.token,tokenValue:this.token?`${this.token.substring(0,20)}...`:"null",bodyType:s.body?s.body instanceof FormData?"FormData":"JSON":"none"});const i={};s.headers&&(s.headers instanceof Headers?s.headers.forEach((l,d)=>{i[d]=l}):Array.isArray(s.headers)?s.headers.forEach(([l,d])=>{i[l]=d}):Object.assign(i,s.headers)),s.body instanceof FormData||(i["Content-Type"]="application/json"),this.token&&(i.Authorization=`Bearer ${this.token}`);try{const l=new AbortController,d=setTimeout(()=>l.abort(),3e4),u=await fetch(a,{...s,headers:i,signal:l.signal});clearTimeout(d),console.log("API Response:",{url:a,status:u.status,statusText:u.statusText,ok:u.ok});const h=await u.json();return u.ok?{data:h.data||h,message:h.message,status:h.status||"success"}:(console.log("[API] Error response data:",h),{error:h.message||h.error||"Request failed",errors:h.errors||null,status:"error",httpStatus:u.status,httpStatusText:u.statusText})}catch(l){return console.error("API Request Error:",{url:a,error:l instanceof Error?l.message:"Unknown error",type:l instanceof Error?l.constructor.name:"Unknown"}),{error:l instanceof Error?l.message:"Network error",status:"error"}}}async sendOTP(r,s){const a={phone:r};return s&&(a.role=s),this.request("/auth/send-otp",{method:"POST",body:JSON.stringify(a)})}async verifyOTP(r,s,a){console.log("API Client: Verifying OTP for phone:",r,"with OTP:",s,"and role:",a);const i={phone:r,otp:s,role:a};console.log("API Client: Request data:",i);const l=await this.request("/auth/verify-otp",{method:"POST",body:JSON.stringify(i)});return console.log("API Client: OTP verification result:",l),l}async register(r,s,a,i){return this.request("/auth/register",{method:"POST",body:JSON.stringify({phone:r,otp:s,fullName:a,role:i})})}async login(r,s){return this.request("/auth/login",{method:"POST",body:JSON.stringify({phone:r,otp:s})})}async logout(){return this.request("/auth/logout",{method:"POST"})}async signUpWithSMSForNewRole(r,s,a){const i={phone:r,fullName:s,role:a};return console.log("[API] signUpWithSMSForNewRole payload:",i),this.request("/auth/signup-new-role",{method:"POST",body:JSON.stringify(i)})}async debugSignup(r,s,a){const i={phone:r,fullName:s,role:a};return console.log("[API] debugSignup payload:",i),this.request("/auth/debug-signup",{method:"POST",body:JSON.stringify(i)})}async getProfile(){return this.request("/users/profile")}async updateProfile(r){return this.request("/users/profile",{method:"PUT",body:JSON.stringify(r)})}async submitContactForm(r){return this.request("/inquiries/contact",{method:"POST",body:JSON.stringify(r)})}async getProperties(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/properties${s}`)}async getProperty(r){return this.request(`/properties/${r}`)}async createProperty(r){return this.request("/properties",{method:"POST",body:JSON.stringify(r)})}async updateProperty(r,s){return this.request(`/properties/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteProperty(r){return this.request(`/properties/${r}`,{method:"DELETE"})}async getProjects(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/projects${s}`)}async getMyProjects(){return this.request("/projects/my/projects",{headers:{"X-Requested-Role":"developer"}})}async createProject(r){return this.request("/projects",{method:"POST",body:JSON.stringify(r),headers:{"X-Requested-Role":"developer"}})}async deleteProject(r){return this.request(`/projects/${r}`,{method:"DELETE"})}async saveProject(r){return this.request("/projects/save-project",{method:"POST",body:JSON.stringify({projectId:r})})}async unsaveProject(r){return this.request("/projects/unsave-project",{method:"DELETE",body:JSON.stringify({projectId:r})})}async getSavedProjects(r,s){const a=s?"?"+new URLSearchParams(s).toString():"";return this.request(`/projects/saved-projects/${r}${a}`)}async getRequirements(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/requirements${s}`)}async getRequirement(r){return this.request(`/requirements/${r}`)}async createRequirement(r){return this.request("/requirements",{method:"POST",body:JSON.stringify(r)})}async updateRequirement(r,s){return this.request(`/requirements/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteRequirement(r){return this.request(`/requirements/${r}`,{method:"DELETE"})}async getMyRequirements(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/requirements/my/requirements${s}`)}async getInquiries(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/inquiries${s}`)}async getLikes(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/likes/my-likes${s}`)}async likeProperty(r){return this.request("/likes",{method:"POST",body:JSON.stringify({propertyId:r})})}async unlikeProperty(r){return this.request(`/likes/${r}`,{method:"DELETE"})}async checkIfLiked(r){return this.request(`/likes/check/${r}`)}async shareProperty(r,s,a){return this.request("/shares",{method:"POST",body:JSON.stringify({propertyId:r,shareMethod:s,sharedWith:a})})}async getShareCount(r){return this.request(`/shares/count/${r}`)}async getShareCountByMethod(r){return this.request(`/shares/count-by-method/${r}`)}async getMyShares(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/shares/my-shares${s}`)}async getNotifications(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/notifications${s}`)}async markNotificationsAsRead(r){return this.request("/notifications/mark-read",{method:"PATCH",body:JSON.stringify({notificationIds:r})})}async getUnreadCount(){return this.request("/notifications/unread-count")}async clearAllNotifications(){return this.request("/notifications",{method:"DELETE"})}async getMyRoles(){return this.request("/user-roles/my-roles")}async getAvailableRoles(r){return this.request("/user-roles/available-roles",{method:"POST",body:JSON.stringify({phone:r})})}async switchRole(r){return this.request("/user-roles/switch-role",{method:"POST",body:JSON.stringify({role:r})})}async createRole(r){return this.request("/user-roles/create-role",{method:"POST",body:JSON.stringify(r)})}async getRoleStatistics(){return this.request("/user-roles/statistics")}async getUsers(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/users${s}`)}async updateUser(r,s){return this.request(`/users/${r}`,{method:"PUT",body:JSON.stringify(s)})}async updateProject(r,s){return this.request(`/projects/${r}`,{method:"PUT",body:JSON.stringify(s)})}async updateDeveloper(r,s){return this.request(`/developers/${r}`,{method:"PUT",body:JSON.stringify(s)})}async getSupportTickets(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/support/tickets${s}`)}async updateSupportTicket(r,s){return this.request(`/support/tickets/${r}`,{method:"PUT",body:JSON.stringify(s)})}async uploadSingleFile(r,s,a){if(!await this.checkServerConnection())return{error:"Cannot connect to server. Please ensure the backend server is running on http://localhost:5000",status:"error"};const l=new FormData;l.append("file",r),s&&l.append("documentType",s),a&&l.append("folder",a);const d={};this.token&&(d.Authorization=`Bearer ${this.token}`),s&&(d["X-Upload-Type"]="society-document");const u=`${this.baseURL}/upload/single`;console.log("Upload request details:",{url:u,fileName:r.name,fileSize:r.size,fileType:r.type,documentType:s,hasToken:!!this.token});try{const h=await fetch(u,{method:"POST",headers:d,body:l});console.log("Upload response status:",h.status,h.statusText);let f;try{f=await h.json(),console.log("Upload response data:",f)}catch(y){return console.error("Failed to parse response as JSON:",y),{error:"Invalid response from server",status:"error"}}return h.ok?f.success&&f.data?{data:f.data,message:f.message,status:f.status||"success"}:{data:f.data||f,message:f.message,status:f.status||"success"}:(console.error("Upload failed:",{status:h.status,statusText:h.statusText,data:f}),{error:f.message||f.error||`Upload failed with status ${h.status}`,status:"error"})}catch(h){return console.error("Upload network error:",h),{error:h instanceof Error?h.message:"Network error",status:"error"}}}async uploadMultipleFiles(r){const s=new FormData;return r.forEach(a=>{s.append("files",a)}),this.request("/upload/multiple",{method:"POST",body:s})}async uploadProfilePicture(r){const s=new FormData;return s.append("profilePicture",r),this.request("/upload/profile-picture",{method:"POST",body:s})}async uploadSocietyDocuments(r,s="general"){const a=new FormData;return r.forEach(i=>{a.append("documents",i)}),a.append("type",s),this.request("/upload/society-documents",{method:"POST",body:a})}async deleteMedia(r){return this.request(`/upload/${r}`,{method:"DELETE"})}async getMyMedia(){return this.request("/upload/my-media")}async getProject(r){return this.request(`/projects/${r}`)}async getSocieties(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/societies${s}`)}async getSociety(r){return this.request(`/societies/${r}`)}async getMySocieties(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/societies/my/societies${s}`)}async getBrokers(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/brokers${s}`)}async getBroker(r){return this.request(`/brokers/${r}`)}async getDevelopers(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/developers${s}`)}async getDeveloper(r){return this.request(`/developers/${r}`)}async getMyDeveloperProfile(){return this.request("/developers/my/profile")}async createDeveloper(r){return this.request("/developers",{method:"POST",body:JSON.stringify(r)})}async uploadFile(r){const s=new FormData;return s.append("file",r),this.request("/upload/single",{method:"POST",body:s})}async uploadPropertyImages(r){const s=new FormData;r.forEach(u=>{s.append("images",u)});const a={};this.token&&(a.Authorization=`Bearer ${this.token}`);const i=`${this.baseURL}/upload/property-images`,l=await fetch(i,{method:"POST",headers:a,body:s}),d=await l.json();return l.ok?{data:d.data||d,message:d.message,status:d.status||"success"}:{error:d.message||d.error||"Upload failed",status:"error"}}async uploadProjectImages(r){const s=new FormData;r.forEach(u=>{s.append("images",u)}),s.append("folder","project_images");const a={};this.token&&(a.Authorization=`Bearer ${this.token}`);const i=`${this.baseURL}/upload/property-images`,l=await fetch(i,{method:"POST",headers:a,body:s}),d=await l.json();return l.ok?{data:d.data||d,message:d.message,status:d.status||"success"}:{error:d.message||d.error||"Upload failed",status:"error"}}async uploadImages(r){const s=new FormData;r.forEach(u=>{s.append("images",u)});const a={};this.token&&(a.Authorization=`Bearer ${this.token}`);const i=`${this.baseURL}/upload/images`,l=await fetch(i,{method:"POST",headers:a,body:s}),d=await l.json();return l.ok?{data:d.data||d,message:d.message,status:d.status||"success"}:{error:d.message||d.error||"Upload failed",status:"error"}}async get(r){return this.request(r,{method:"GET"})}async post(r,s){return this.request(r,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(r,s){return this.request(r,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}async createSociety(r){console.log("Creating society - API URL:",`${this.baseURL}/societies`);const s={...r};return delete s._id,delete s.id,console.log("Society data being sent (sanitized):",s),this.request("/societies",{method:"POST",body:JSON.stringify(s)})}async updateSociety(r,s){const a={...s};return delete a._id,delete a.id,this.request(`/societies/${r}`,{method:"PUT",body:JSON.stringify(a)})}async deleteSociety(r){return this.request(`/societies/${r}`,{method:"DELETE"})}async getSocietyMembers(r){return this.request(`/societies/${r}/members?_t=${Date.now()}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})}async sendInvitation(r){console.log("Sending invitation with data:",r);try{const s=await this.request("/invitations/send",{method:"POST",body:JSON.stringify(r)});return console.log("Invitation response:",s),s}catch(s){throw console.error("Invitation request failed:",s),s}}async getSentInvitations(r){return console.log("Getting sent invitations with params:",r),this.request(`/invitations/sent${r||""}`,{method:"GET"})}async getReceivedInvitations(r){return this.request(`/invitations/received${r||""}`,{method:"GET"})}async getMyInvitations(r){const s=r?`?status=${r}`:"";return this.request(`/invitations/my${s}`,{method:"GET"})}async respondToInvitation(r,s){return console.log(`Responding to invitation ${r} with ${s}`),this.request("/invitations/respond",{method:"POST",body:JSON.stringify({invitationId:r,response:s})})}async acceptInvitation(r,s){return this.request(`/invitations/${r}/accept`,{method:"POST",body:JSON.stringify({responseMessage:s})})}async declineInvitation(r,s){return this.request(`/invitations/${r}/decline`,{method:"POST",body:JSON.stringify({responseMessage:s})})}async cancelInvitation(r){return this.request(`/invitations/${r}/cancel`,{method:"POST"})}async markNotificationAsRead(r){return this.request(`/notifications/${r}/read`,{method:"PUT"})}async markAllNotificationsAsRead(){return this.request("/notifications/mark-all-read",{method:"PUT"})}async deleteNotification(r){return this.request(`/notifications/${r}`,{method:"DELETE"})}async getRedevelopmentProjects(r){const s=r?`/redevelopment-projects${r}`:"/redevelopment-projects";return this.request(s)}async getRedevelopmentProject(r){return this.request(`/global-redevelopment/projects/${r}`)}async createRedevelopmentProject(r){return this.request("/redevelopment-projects",{method:"POST",body:JSON.stringify(r)})}async updateRedevelopmentProject(r,s){return this.request(`/redevelopment-projects/${r}`,{method:"PUT",body:JSON.stringify(s)})}async updateRedevelopmentProjectStatus(r,s){return this.request(`/redevelopment-projects/${r}`,{method:"PUT",body:JSON.stringify({status:s})})}async deleteRedevelopmentProject(r){return this.request(`/redevelopment-projects/${r}`,{method:"DELETE"})}async addProjectUpdate(r,s){return this.request(`/redevelopment-projects/${r}/updates`,{method:"POST",body:JSON.stringify(s)})}async addProjectQuery(r,s){return this.request(`/redevelopment-projects/${r}/queries`,{method:"POST",body:JSON.stringify(s)})}async submitVote(r,s){return this.request(`/redevelopment-projects/${r}/vote`,{method:"POST",body:JSON.stringify(s)})}async getVotingResults(r,s){const a=s?`?session=${s}`:"";return this.request(`/redevelopment-projects/${r}/voting-results${a}`)}async getDeveloperProposals(r){const s=r?`/developer-proposals${r}`:"/developer-proposals";return this.request(s)}async getDeveloperProposal(r){return this.request(`/developer-proposals/${r}`)}async createDeveloperProposal(r){return this.request("/developer-proposals",{method:"POST",body:JSON.stringify(r)})}async updateDeveloperProposal(r,s){return this.request(`/developer-proposals/${r}`,{method:"PUT",body:JSON.stringify(s)})}async deleteDeveloperProposal(r){return this.request(`/developer-proposals/${r}`,{method:"DELETE"})}async evaluateProposal(r,s){return this.request(`/developer-proposals/${r}/evaluate`,{method:"POST",body:JSON.stringify(s)})}async selectProposal(r){return this.request(`/developer-proposals/${r}/select`,{method:"POST"})}async approveProposal(r,s){return this.request(`/developer-proposals/${r}/approve`,{method:"POST",body:JSON.stringify({comments:s})})}async rejectProposal(r){return this.request(`/developer-proposals/${r}/reject`,{method:"POST",body:JSON.stringify({})})}async getProposalComparison(r){return this.request(`/developer-proposals/project/${r}/comparison`)}async submitMemberVote(r){return this.request("/member-votes",{method:"POST",body:JSON.stringify(r)})}async submitMemberVotesBatch(r){return this.request("/member-votes/batch",{method:"POST",body:JSON.stringify({votes:r})})}async getProjectVotes(r,s,a){const i=new URLSearchParams;s&&i.append("session",s),a&&i.append("includeDetails","true");const l=i.toString()?`?${i.toString()}`:"";return this.request(`/member-votes/project/${r}${l}`)}async getMyVote(r,s){return this.request(`/member-votes/my-vote/${r}/${s}`)}async getMyVotingHistory(r){const s=r?`?projectId=${r}`:"";return this.request(`/member-votes/my-votes${s}`)}async getVotingStatistics(r,s){const a=s?`?session=${s}`:"";return this.request(`/member-votes/stats/${r}${a}`)}async startVoting(r,s){return this.request(`/redevelopment-projects/${r}`,{method:"PUT",body:JSON.stringify({status:"voting",votingDeadline:s})})}async closeVoting(r){return this.request(`/redevelopment-projects/${r}/close-voting`,{method:"POST"})}async selectDeveloper(r,s,a){return this.request(`/redevelopment-projects/${r}/select-developer`,{method:"POST",body:JSON.stringify({developerId:s,proposalId:a})})}async getFinalVotingResults(r){return this.request(`/redevelopment-projects/${r}/final-results`)}async verifyVote(r){return this.request(`/member-votes/${r}/verify`,{method:"POST"})}async submitQuery(r){return this.request("/queries",{method:"POST",body:JSON.stringify(r)})}async getMyQueries(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/queries/my${s}`)}async getSocietyQueries(r,s){const a=s?"?"+new URLSearchParams(s).toString():"";return this.request(`/queries/society/${r}${a}`)}async getSocietyDocuments(r,s){const a=s?`?_t=${s}`:"";return this.request(`/societies/${r}/documents${a}`)}async addProjectDocument(r,s){return this.request(`/redevelopment-projects/${r}/documents`,{method:"POST",body:JSON.stringify(s)})}async deleteProjectDocument(r,s){return this.request(`/redevelopment-projects/${r}/documents/${s}`,{method:"DELETE"})}async respondToQuery(r,s){return this.request(`/queries/${r}/respond`,{method:"POST",body:JSON.stringify({responseText:s})})}async updateQueryStatus(r,s){return this.request(`/queries/${r}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}async getQueryStatistics(r){return this.request(`/queries/society/${r}/statistics`)}async upvoteQuery(r){return this.request(`/queries/${r}/upvote`,{method:"POST"})}async removeUpvote(r){return this.request(`/queries/${r}/upvote`,{method:"DELETE"})}async createInquiry(r){return this.request("/inquiries",{method:"POST",body:JSON.stringify(r)})}async getMyInquiries(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/inquiries/my${s}`)}async getMyPropertyInquiries(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/inquiries/my-properties${s}`)}async getMyProjectInquiries(r){const s=r?"?"+new URLSearchParams(r).toString():"";return this.request(`/inquiries/my-projects${s}`)}async getPropertyInquiries(r,s){const a=s?"?"+new URLSearchParams(s).toString():"";return this.request(`/inquiries/property/${r}${a}`)}async respondToInquiry(r,s){return this.request(`/inquiries/${r}/respond`,{method:"PUT",body:JSON.stringify({response:s})})}async updateInquiryStatus(r,s){return this.request(`/inquiries/${r}/status`,{method:"PUT",body:JSON.stringify({status:s})})}async getInquiry(r){return this.request(`/inquiries/${r}`)}}const re=new q5(hw),cf={},fw=m.createContext(void 0);function W5({children:t}){const[r,s]=m.useState(null),[a,i]=m.useState(null),[l,d]=m.useState(null),[u,h]=m.useState(!0),[f,y]=m.useState(!1),x=typeof import.meta<"u"&&(cf==null?void 0:cf.VITE_MOCK_OTP)==="true",g=V=>{if(typeof V=="number")return V*1e3;const k=V.toString().match(/^(\d+)([dhms])$/);if(k){const T=parseInt(k[1]);switch(k[2]){case"d":return T*24*60*60*1e3;case"h":return T*60*60*1e3;case"m":return T*60*1e3;case"s":return T*1e3;default:return 10080*60*1e3}}return 10080*60*1e3};m.useEffect(()=>{let V=!0;return(async()=>{console.log("[AuthProvider] Starting initialization, mockEnabled:",x);const T=localStorage.getItem("auth_session"),z=localStorage.getItem("auth_user"),E=localStorage.getItem("auth_profile");if(console.log("[AuthProvider] localStorage check:",{savedSession:!!T,savedUser:!!z,savedProfile:!!E,savedProfileContent:E?JSON.parse(E):null}),T&&z)try{const R=JSON.parse(T),X=JSON.parse(z),Y=E?JSON.parse(E):null,O=Date.now(),I=R.expiresAt,D=I&&I>O;if(console.log("[AuthProvider] Session validation:",{expiresAt:new Date(I).toISOString(),now:new Date(O).toISOString(),isValid:D,timeRemaining:I?Math.round((I-O)/1e3/60):0}),D){if(console.log("[AuthProvider] Restored valid session"),console.log("[AuthProvider] Profile data from localStorage:",Y),console.log("[AuthProvider] Profile data from session:",R.profile),V){s(X),d(R),re.setToken(R.accessToken);const W=Y||R.profile;if(console.log("[AuthProvider] Setting profile to:",W),W)i(W),h(!1);else{console.log("[AuthProvider] No profile found, fetching from API...");try{const B=await re.getProfile();B.data&&!B.error?(console.log("[AuthProvider] Profile fetched from API:",B.data),i(B.data)):console.error("[AuthProvider] Failed to fetch profile:",B.error)}catch(B){console.error("[AuthProvider] Error fetching profile:",B)}h(!1)}}return}else console.log("[AuthProvider] Session expired, clearing storage"),v()}catch(R){console.error("[AuthProvider] Error parsing saved session:",R),v()}if(localStorage.getItem("auth_refresh_token"))try{console.log("[AuthProvider] Attempting to refresh token...");const R=await L();R.error?(console.log("[AuthProvider] Token refresh failed, clearing auth:",R.error),v()):console.log("[AuthProvider] Token refreshed successfully")}catch(R){console.error("[AuthProvider] Error refreshing token:",R),v()}else console.log("[AuthProvider] No refresh token found");V&&h(!1)})(),()=>{V=!1}},[]);const v=()=>{localStorage.removeItem("auth_session"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_profile"),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_refresh_token"),s(null),i(null),d(null),y(!1),re.setToken(null),re.setRefreshToken(null)},j=V=>{localStorage.setItem("auth_session",JSON.stringify(V)),localStorage.setItem("auth_user",JSON.stringify(V.user)),localStorage.setItem("auth_profile",JSON.stringify(V.profile)),localStorage.setItem("auth_token",V.accessToken),localStorage.setItem("auth_refresh_token",V.refreshToken),re.setToken(V.accessToken),re.setRefreshToken(V.refreshToken)},N=async()=>{console.log("[AuthProvider] Signing out");try{await re.logout()}catch(V){console.error("[AuthProvider] Logout API call failed:",V)}return v(),{error:null}},w=async(V,k)=>{if(console.log("[sendOTP] Starting OTP send for:",{phone:V,role:k}),x)return console.log("[sendOTP] Mock mode enabled, returning success"),{data:{message:"OTP sent successfully (mock mode)"},error:null};try{const T=await re.sendOTP(V,k);return{data:T.data,error:T.error}}catch(T){return console.error("Error in sendOTP:",T),{data:null,error:T instanceof Error?T.message:"Failed to send OTP"}}},P=async(V,k,T,z)=>{if(console.log("[verifyOTP] Starting OTP verification for:",{phone:V,role:T}),x)if(k==="123456"){console.log("[verifyOTP] Mock OTP accepted");const E={id:`mock-user-${V.replace(/[^0-9]/g,"")}`,phone:V,isVerified:!0,authMethod:"phone",lastLogin:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},$={id:`mock-profile-${V.replace(/[^0-9]/g,"")}`,user:E.id,fullName:z||"Mock User",role:T||"buyer_seller",status:"active",verificationStatus:"verified",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},R={accessToken:"mock-access-token",refreshToken:"mock-refresh-token",user:E,profile:$,expiresAt:Date.now()+1440*60*1e3};return s(E),i($),d(R),j(R),{data:{user:E,profile:$,session:R,userExists:!0,roles:[{role:$.role,full_name:$.fullName}]},error:null}}else return{data:null,error:{message:"Invalid OTP code"}};try{const E=await re.verifyOTP(V,k,T);if(E.error)return{data:null,error:E.error};let $=E.data.profile;if(!$){const X=await re.getProfile();if(X.error)return{data:null,error:X.error};$=X.data}const R={accessToken:E.data.accessToken||E.data.token,refreshToken:E.data.refreshToken,user:E.data.user,profile:$,expiresAt:Date.now()+g(E.data.expiresIn||"7d")};return s(R.user),i(R.profile),d(R),j(R),{data:{user:R.user,profile:R.profile,session:R,userExists:!0,roles:[{role:R.profile.role,full_name:R.profile.fullName}]},error:null}}catch(E){return console.error("Error verifying OTP:",E),{data:null,error:E instanceof Error?E.message:"Failed to verify OTP"}}},_=async(V,k,T,z)=>{if(console.log("[register] Starting registration for:",{phone:V,role:z}),x){console.log("[register] Mock mode enabled");const E={id:`mock-user-${V.replace(/[^0-9]/g,"")}`,phone:V,isVerified:!0,authMethod:"phone",lastLogin:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},$={id:`mock-profile-${V.replace(/[^0-9]/g,"")}`,user:E.id,fullName:T,role:z,status:"active",verificationStatus:"verified",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},R={accessToken:"mock-access-token",refreshToken:"mock-refresh-token",user:E,profile:$,expiresAt:Date.now()+1440*60*1e3};return s(E),i($),d(R),j(R),{data:{user:E,profile:$},error:null}}try{const E=await re.register(V,k,T,z);if(E.error)return{data:null,error:E.error};let $=E.data.profile;if(!$){const X=await re.getProfile();if(X.error)return{data:null,error:X.error};$=X.data}const R={accessToken:E.data.accessToken||E.data.token,refreshToken:E.data.refreshToken,user:E.data.user,profile:$,expiresAt:Date.now()+g(E.data.expiresIn||"7d")};return s(R.user),i(R.profile),d(R),j(R),{data:{user:R.user,profile:R.profile},error:null}}catch(E){return console.error("Error in register:",E),{data:null,error:E instanceof Error?E.message:"Failed to register"}}},C=async(V,k)=>{console.log("[login] Starting login for:",{phone:V});try{const T=await re.login(V,k);if(T.error)return{data:null,error:T.error};let z=T.data.profile;if(!z){const $=await re.getProfile();if($.error)return{data:null,error:$.error};z=$.data}const E={accessToken:T.data.accessToken||T.data.token,refreshToken:T.data.refreshToken,user:T.data.user,profile:z,expiresAt:Date.now()+g(T.data.expiresIn||"7d")};return s(E.user),i(E.profile),d(E),j(E),y(E.profile.status==="suspended"),{data:{user:E.user,profile:E.profile,session:E},error:null}}catch(T){return console.error("Error in login:",T),{data:null,error:T instanceof Error?T.message:"Failed to login"}}},L=async()=>{try{const V=await re.refreshToken();if(V.error)return v(),{data:null,error:V.error};const k={accessToken:V.data.accessToken||V.data.token,refreshToken:V.data.refreshToken,user:V.data.user,profile:V.data.profile,expiresAt:Date.now()+g(V.data.expiresIn||"7d")};return s(k.user),i(k.profile),d(k),j(k),{data:k,error:null}}catch(V){return console.error("Error refreshing session:",V),v(),{data:null,error:V instanceof Error?V.message:"Failed to refresh session"}}},q=async(V,k,T)=>{if(console.log("[signUpWithSMSForNewRole] Starting signup for new role:",{phone:V,fullName:k,role:T}),x){console.log("[signUpWithSMSForNewRole] Mock mode enabled, returning success"),sessionStorage.setItem(`mock_otp_${V}`,"123456");const z=localStorage.getItem(`mock_profiles_${V}`),E=z?JSON.parse(z):[],$={role:T,fullName:k,phone:V,createdAt:new Date().toISOString()},R=[...E,$];return localStorage.setItem(`mock_profiles_${V}`,JSON.stringify(R)),{data:{message:"OTP sent successfully (mock mode)"},error:null}}try{const z=await re.signUpWithSMSForNewRole(V,k,T);return console.log("[useAuth] signUpWithSMSForNewRole result:",z),{data:z.data,error:z.error}}catch(z){return console.error("Error in signUpWithSMSForNewRole:",z),{data:null,error:z instanceof Error?z.message:"Failed to send OTP for new role"}}};m.useEffect(()=>{a&&y(a.status==="suspended")},[a]);const M={user:r,profile:a,session:l,loading:u,signOut:N,isUserSuspended:f,sendOTP:w,verifyOTP:P,register:_,login:C,refreshSession:L,refreshUser:async()=>{try{console.log("[AuthProvider] Refreshing user data...");const V=await re.getProfile();if(V.data){const k=V.data;if(i(k),r){const T={...r,activeRole:k.activeRole||k.currentRole,currentRole:k.currentRole};s(T),localStorage.setItem("auth_user",JSON.stringify(T)),localStorage.setItem("auth_profile",JSON.stringify(k))}console.log("[AuthProvider] User data refreshed successfully")}}catch(V){console.error("[AuthProvider] Error refreshing user data:",V)}},signUpWithSMSForNewRole:q};return console.log("[AuthProvider] Providing context value:",{user:r==null?void 0:r.id,profile:a==null?void 0:a.id,session:!!l,loading:u,isUserSuspended:f}),ke.createElement(fw.Provider,{value:M},t)}function It(){const t=m.useContext(fw);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const G=m.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));G.displayName="Card";const ve=m.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Re("flex flex-col space-y-1.5 p-6",t),...r}));ve.displayName="CardHeader";const ye=m.forwardRef(({className:t,...r},s)=>e.jsx("h3",{ref:s,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...r}));ye.displayName="CardTitle";const Qe=m.forwardRef(({className:t,...r},s)=>e.jsx("p",{ref:s,className:Re("text-sm text-muted-foreground",t),...r}));Qe.displayName="CardDescription";const Q=m.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Re("p-6 pt-0",t),...r}));Q.displayName="CardContent";const pw=m.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Re("flex items-center p-6 pt-0",t),...r}));pw.displayName="CardFooter";const Jl=ac("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=m.forwardRef(({className:t,variant:r,size:s,asChild:a=!1,...i},l)=>{const d=a?O_:"button";return e.jsx(d,{className:Re(Jl({variant:r,size:s,className:t})),ref:l,...i})});H.displayName="Button";const H5=()=>e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ve,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(BE,{className:"w-8 h-8 text-destructive"})}),e.jsx(ye,{className:"text-2xl text-destructive",children:"Account Suspended"})]}),e.jsxs(Q,{className:"space-y-6 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Your account has been temporarily suspended. If you believe this is an error or would like to appeal this decision, please contact our support team."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(He,{to:"/contact",children:e.jsxs(H,{className:"w-full",variant:"default",children:[e.jsx(ic,{className:"w-4 h-4 mr-2"}),"Contact Support Team"]})}),e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Pr,{className:"w-4 h-4"}),e.jsx("span",{children:"+91 22 4567 8900"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(mr,{className:"w-4 h-4"}),e.jsx("span",{children:"support@milkatpost.com"})]})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Our support team typically responds within 24 hours"})})]})]})}),df={},Jo=({children:t,requiredRole:r,requireAuth:s=!0})=>{const{user:a,profile:i,loading:l,isUserSuspended:d}=It(),u=typeof import.meta<"u"&&(df==null?void 0:df.VITE_MOCK_OTP)==="true",h=dr(),[f,y]=m.useState(!1),x=g=>i?Array.isArray(g)?g.includes(i.role):i.role===g:!1;if(console.log("[ProtectedRoute] Render - User state:",{user:!!a,userId:a==null?void 0:a.id,profile:!!i,profileRole:i==null?void 0:i.role,authLoading:l,isUserSuspended:d,requireAuth:s,requiredRole:r}),m.useEffect(()=>{(async()=>{var v;if(console.log("[ProtectedRoute] Checking user roles, user:",!!a,"authLoading:",l,"profile:",!!i),a&&!l&&!i){y(!0);try{const j=localStorage.getItem("selectedRole");if(console.log("[ProtectedRoute] Selected role from localStorage:",j),j){y(!1);return}const N=(a==null?void 0:a.phone)||((v=a==null?void 0:a.user_metadata)==null?void 0:v.phone);if(console.log("[ProtectedRoute] User phone:",N),N)if(u){const w=localStorage.getItem(`mock_profiles_${N}`);if(console.log("[ProtectedRoute] Mock profiles raw:",w),w){const _=JSON.parse(w).map(C=>({role:C.role,full_name:C.fullName}));console.log("[ProtectedRoute] Available roles:",_),_.length>1&&!localStorage.getItem("selectedRole")&&(console.log("[ProtectedRoute] Redirecting to role selection"),h("/role-selection",{state:{phone:N,roles:_},replace:!0}))}}else console.log("[ProtectedRoute] Using backend API - single role per user")}catch(j){console.error("Error checking user roles:",j)}finally{y(!1)}}})()},[a,l,i,u,h]),l||f)return console.log("[ProtectedRoute] Showing loading spinner"),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(s&&!a)return console.log("[ProtectedRoute] No user found, redirecting to auth"),e.jsx(su,{to:"/auth",replace:!0});if(!u&&a&&d)return e.jsx(H5,{});if(r&&i&&!x(r)){const g=Y5(i.role);return console.log("[ProtectedRoute] Role mismatch - Current role:",i.role,"Required role:",r,"Redirecting to:",g),e.jsx(su,{to:g,replace:!0})}return console.log("[ProtectedRoute] Rendering children"),e.jsx(e.Fragment,{children:t})},Y5=t=>{switch(console.log("[ProtectedRoute] getRoleBasedPath called with role:",t,"Type:",typeof t),t){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return console.log("[ProtectedRoute] Unknown role, redirecting to home:",t),"/"}},Wa=()=>{const[t,r]=m.useState(null),[s,a]=m.useState(!0),[i,l]=m.useState(null),{user:d,profile:u}=It();m.useEffect(()=>{console.log("[useProfile] Profile state changed:",t==null?void 0:t.id,t==null?void 0:t.role)},[t]),m.useEffect(()=>{console.log("[useProfile] Loading state changed:",s)},[s]),m.useEffect(()=>{if(console.log("[useProfile] User changed:",d==null?void 0:d.id),!d){r(null),a(!1);return}if(u){const k={...u,bio:u.bio||"User bio",profilePicture:u.profilePicture||null,companyName:u.companyName,businessType:u.businessType,website:u.website||"https://example.com",socialMedia:{facebook:"",twitter:"",linkedin:""},preferences:{notifications:{email:!0,sms:!0,push:!0},privacy:{showPhone:!1,showEmail:!1,showProfile:!0}},lastActive:new Date().toISOString()};r(k),a(!1);return}h()},[d,u]);const h=async()=>{var k;if(d)try{a(!0),l(null);const T=await re.getProfile();if(T.error){l(T.error);return}r((k=T.data)==null?void 0:k.profile)}catch(T){console.error("[useProfile] Error fetching profile:",T),l("Failed to fetch profile")}finally{a(!1)}},f=async k=>{var T;if(!d)return{error:"No user found"};try{l(null);const z=await re.updateProfile(k);return z.error?(l(z.error),{error:z.error}):(r((T=z.data)==null?void 0:T.profile),{data:z.data,error:null})}catch(z){console.error("[useProfile] Error updating profile:",z);const E="Failed to update profile";return l(E),{error:E}}},y=async k=>{var T;if(!d)return{error:"No user found"};try{l(null);const z=await re.updateProfile({role:k.role,fullName:k.fullName,phone:k.phone,companyName:k.companyName,businessType:k.businessType,bio:k.bio,website:k.website});return z.error?(l(z.error),{error:z.error}):(r((T=z.data)==null?void 0:T.profile),{data:z.data,error:null})}catch(z){console.error("[useProfile] Error creating profile:",z);const E="Failed to create profile";return l(E),{error:E}}},x=async k=>{var T;if(!d)return{error:"No user found"};try{l(null);const z=await re.updateProfile({role:k});return z.error?(l(z.error),{error:z.error}):(r((T=z.data)==null?void 0:T.profile),{data:z.data,error:null})}catch(z){console.error("[useProfile] Error switching role:",z);const E="Failed to switch role";return l(E),{error:E}}},g=async k=>{var T;if(!d)return{error:"No user found"};try{l(null);const z=await re.uploadFile(k);if(z.error)return l(z.error),{error:z.error};const E=await re.updateProfile({profilePicture:z.data.url});return E.error?(l(E.error),{error:E.error}):(r((T=E.data)==null?void 0:T.profile),{data:E.data,error:null})}catch(z){console.error("[useProfile] Error uploading profile picture:",z);const E="Failed to upload profile picture";return l(E),{error:E}}},v=k=>t?Array.isArray(k)?k.includes(t.role):t.role===k:!1;return{profile:t,loading:s,error:i,fetchProfile:h,updateProfile:f,createProfile:y,switchRole:x,uploadProfilePicture:g,hasRole:v,isAdmin:()=>v("admin"),isBuyerSeller:()=>v("buyer_seller"),isBroker:()=>v("broker"),isDeveloper:()=>v("developer"),isSocietyOwner:()=>v("society_owner"),isSocietyMember:()=>v("society_member"),isVerified:()=>(t==null?void 0:t.verificationStatus)==="verified",isActive:()=>(t==null?void 0:t.status)==="active",isSuspended:()=>(t==null?void 0:t.status)==="suspended",getDisplayName:()=>t?t.fullName||t.companyName||"Unknown User":"",getRoleDisplayName:()=>t?{admin:"Administrator",buyer_seller:"Buyer/Seller",broker:"Real Estate Broker",developer:"Property Developer",society_owner:"Society Owner",society_member:"Society Member"}[t.role]||t.role:""}},uf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/webp,application/pdf",VITE_API_URL:"https://milkatpost.com/api",VITE_APP_DESCRIPTION:"Real Estate Management Platform",VITE_APP_NAME:"Milkat Post",VITE_APP_VERSION:"1.0.0",VITE_CSP_NONCE:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG:"false",VITE_ENABLE_PRECACHING:"true",VITE_ENABLE_SERVICE_WORKER:"true",VITE_GA_TRACKING_ID:"your-production-google-analytics-id",VITE_MAX_FILE_SIZE:"10485760",VITE_NODE_ENV:"production",VITE_SUPPORT_EMAIL:"support@milkatpost.com",VITE_WS_URL:"wss://milkatpost.com"},K5=()=>{const t=wn(),r=dr(),{toast:s}=ot(),{user:a}=It(),{switchRole:i}=Wa(),{phone:l,roles:d}=t.state||{},u={buyer_seller:{label:"Property Buyer & Seller",icon:nr,color:"text-blue-600"},broker:{label:"Real Estate Broker",icon:Ol,color:"text-purple-600"},developer:{label:"Property Developer",icon:yt,color:"text-orange-600"},society_owner:{label:"Society Owner/Secretary",icon:Vn,color:"text-red-600"},society_member:{label:"Society Member",icon:Ct,color:"text-indigo-600"},admin:{label:"Administrator",icon:nr,color:"text-gray-600"}},h=async y=>{try{if(a){const{error:g}=await i(y);if(g&&(console.error("Error switching role:",g),s({title:"Error",description:"Failed to switch role. Please try again.",variant:"error",duration:3e3}),g.includes("No profile found"))){setTimeout(()=>{r("/auth",{replace:!0})},2e3);return}}else localStorage.setItem("selectedRole",y);const x=f(y);console.log(`[RoleSelection] Navigating to dashboard: ${x} for role: ${y}`),s({title:"Success",description:"Role switched successfully!",variant:"success",duration:2e3}),r(x,{replace:!0})}catch(x){console.error("Error in handleRoleSelect:",x),s({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"error",duration:3e3}),setTimeout(()=>{r("/",{replace:!0})},2e3)}},f=y=>{switch(y){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/"}};return m.useEffect(()=>{var y;if((!d||!l)&&a){console.log("[RoleSelection] No roles or phone data provided, attempting to fetch roles");const x=(a==null?void 0:a.phone)||((y=a==null?void 0:a.user_metadata)==null?void 0:y.phone)||"";if(!x){console.log("[RoleSelection] No phone found for user, redirecting to auth"),setTimeout(()=>{r("/auth")},3e3);return}(async()=>{try{if(typeof import.meta<"u"&&(uf==null?void 0:uf.VITE_MOCK_OTP)==="true"){const j=localStorage.getItem(`mock_profiles_${x}`);if(j){const w=JSON.parse(j).map(P=>({role:P.role,full_name:P.fullName||P.full_name||"User"}));w.length===1&&h(w[0].role);return}}else{const{data:j,error:N}=await re;if(!N&&j&&j.length>0){const w=j.map(P=>({role:P.role,full_name:P.full_name||"User"}));w.length===1&&h(w[0].role);return}}console.log("[RoleSelection] No roles found for user, redirecting to auth"),setTimeout(()=>{r("/auth")},3e3)}catch(v){console.error("[RoleSelection] Error fetching roles:",v),setTimeout(()=>{r("/auth")},3e3)}})()}},[d,l,a,r]),a?!d||!l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-estate-blue-lighter to-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ve,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(ye,{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Loading Roles..."}),e.jsx(Qe,{children:"Please wait while we load your available roles."})]}),e.jsxs(Q,{className:"space-y-4 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"If you're not redirected automatically, please go back and try again."}),e.jsx(H,{onClick:()=>r("/auth"),children:"Back to Login"})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-estate-blue-lighter to-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ve,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(ye,{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Select Your Role"}),e.jsx(Qe,{children:"You have multiple roles. Please select which one you want to use."})]}),e.jsxs(Q,{className:"space-y-4",children:[d&&d.map((y,x)=>{const g=u[y.role]||{label:y.role,icon:nr,color:"text-gray-600"},v=g.icon;return e.jsx(H,{variant:"outline",className:"w-full h-auto p-4 justify-start",onClick:()=>h(y.role),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:`h-5 w-5 ${g.color}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:g.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:y.full_name})]})]})},x)}),e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-muted-foreground hover:text-foreground",onClick:()=>r("/auth"),children:" Back to login"})})]})]})})}):(console.log("[RoleSelection] No user found, redirecting to auth"),r("/auth"),null)};var G5=m.createContext(void 0);function Po(t){const r=m.useContext(G5);return t||r||"ltr"}var mf=0;function Iu(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ty()),document.body.insertAdjacentElement("beforeend",t[1]??Ty()),mf++,()=>{mf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),mf--}},[])}function Ty(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hf="focusScope.autoFocusOnMount",ff="focusScope.autoFocusOnUnmount",Dy={bubbles:!1,cancelable:!0},Q5="FocusScope",dc=m.forwardRef((t,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...d}=t,[u,h]=m.useState(null),f=sr(i),y=sr(l),x=m.useRef(null),g=rt(r,N=>h(N)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(a){let N=function(C){if(v.paused||!u)return;const L=C.target;u.contains(L)?x.current=L:Na(x.current,{select:!0})},w=function(C){if(v.paused||!u)return;const L=C.relatedTarget;L!==null&&(u.contains(L)||Na(x.current,{select:!0}))},P=function(C){if(document.activeElement===document.body)for(const q of C)q.removedNodes.length>0&&Na(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",w);const _=new MutationObserver(P);return u&&_.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",w),_.disconnect()}}},[a,u,v.paused]),m.useEffect(()=>{if(u){My.add(v);const N=document.activeElement;if(!u.contains(N)){const P=new CustomEvent(hf,Dy);u.addEventListener(hf,f),u.dispatchEvent(P),P.defaultPrevented||(X5(r3(xw(u)),{select:!0}),document.activeElement===N&&Na(u))}return()=>{u.removeEventListener(hf,f),setTimeout(()=>{const P=new CustomEvent(ff,Dy);u.addEventListener(ff,y),u.dispatchEvent(P),P.defaultPrevented||Na(N??document.body,{select:!0}),u.removeEventListener(ff,y),My.remove(v)},0)}}},[u,f,y,v]);const j=m.useCallback(N=>{if(!s&&!a||v.paused)return;const w=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,P=document.activeElement;if(w&&P){const _=N.currentTarget,[C,L]=J5(_);C&&L?!N.shiftKey&&P===L?(N.preventDefault(),s&&Na(C,{select:!0})):N.shiftKey&&P===C&&(N.preventDefault(),s&&Na(L,{select:!0})):P===_&&N.preventDefault()}},[s,a,v.paused]);return e.jsx(Me.div,{tabIndex:-1,...d,ref:g,onKeyDown:j})});dc.displayName=Q5;function X5(t,{select:r=!1}={}){const s=document.activeElement;for(const a of t)if(Na(a,{select:r}),document.activeElement!==s)return}function J5(t){const r=xw(t),s=Ay(r,t),a=Ay(r.reverse(),t);return[s,a]}function xw(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Ay(t,r){for(const s of t)if(!Z5(s,{upTo:r}))return s}function Z5(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function e3(t){return t instanceof HTMLInputElement&&"select"in t}function Na(t,{select:r=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&e3(t)&&r&&t.select()}}var My=t3();function t3(){let t=[];return{add(r){const s=t[0];r!==s&&(s==null||s.pause()),t=Iy(t,r),t.unshift(r)},remove(r){var s;t=Iy(t,r),(s=t[0])==null||s.resume()}}}function Iy(t,r){const s=[...t],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function r3(t){return t.filter(r=>r.tagName!=="A")}var pf="rovingFocusGroup.onEntryFocus",s3={bubbles:!1,cancelable:!0},uc="RovingFocusGroup",[lp,gw,n3]=Ii(uc),[a3,Ou]=vr(uc,[n3]),[o3,i3]=a3(uc),vw=m.forwardRef((t,r)=>e.jsx(lp.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(lp.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(l3,{...t,ref:r})})}));vw.displayName=uc;var l3=m.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:i=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:y=!1,...x}=t,g=m.useRef(null),v=rt(r,g),j=Po(l),[N,w]=fs({prop:d,defaultProp:u??null,onChange:h,caller:uc}),[P,_]=m.useState(!1),C=sr(f),L=gw(s),q=m.useRef(!1),[A,M]=m.useState(0);return m.useEffect(()=>{const V=g.current;if(V)return V.addEventListener(pf,C),()=>V.removeEventListener(pf,C)},[C]),e.jsx(o3,{scope:s,orientation:a,dir:j,loop:i,currentTabStopId:N,onItemFocus:m.useCallback(V=>w(V),[w]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>M(V=>V+1),[]),onFocusableItemRemove:m.useCallback(()=>M(V=>V-1),[]),children:e.jsx(Me.div,{tabIndex:P||A===0?-1:0,"data-orientation":a,...x,ref:v,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{q.current=!0}),onFocus:Ce(t.onFocus,V=>{const k=!q.current;if(V.target===V.currentTarget&&k&&!P){const T=new CustomEvent(pf,s3);if(V.currentTarget.dispatchEvent(T),!T.defaultPrevented){const z=L().filter(Y=>Y.focusable),E=z.find(Y=>Y.active),$=z.find(Y=>Y.id===N),X=[E,$,...z].filter(Boolean).map(Y=>Y.ref.current);jw(X,y)}}q.current=!1}),onBlur:Ce(t.onBlur,()=>_(!1))})})}),yw="RovingFocusGroupItem",bw=m.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:i=!1,tabStopId:l,children:d,...u}=t,h=gr(),f=l||h,y=i3(yw,s),x=y.currentTabStopId===f,g=gw(s),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:N}=y;return m.useEffect(()=>{if(a)return v(),()=>j()},[a,v,j]),e.jsx(lp.ItemSlot,{scope:s,id:f,focusable:a,active:i,children:e.jsx(Me.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...u,ref:r,onMouseDown:Ce(t.onMouseDown,w=>{a?y.onItemFocus(f):w.preventDefault()}),onFocus:Ce(t.onFocus,()=>y.onItemFocus(f)),onKeyDown:Ce(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){y.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const P=u3(w,y.orientation,y.dir);if(P!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=g().filter(L=>L.focusable).map(L=>L.ref.current);if(P==="last")C.reverse();else if(P==="prev"||P==="next"){P==="prev"&&C.reverse();const L=C.indexOf(w.currentTarget);C=y.loop?m3(C,L+1):C.slice(L+1)}setTimeout(()=>jw(C))}}),children:typeof d=="function"?d({isCurrentTabStop:x,hasTabStop:N!=null}):d})})});bw.displayName=yw;var c3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d3(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function u3(t,r,s){const a=d3(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return c3[a]}function jw(t,r=!1){const s=document.activeElement;for(const a of t)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function m3(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var ww=vw,Nw=bw,h3=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Zo=new WeakMap,Od=new WeakMap,Fd={},xf=0,Sw=function(t){return t&&(t.host||Sw(t.parentNode))},f3=function(t,r){return r.map(function(s){if(t.contains(s))return s;var a=Sw(s);return a&&t.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},p3=function(t,r,s,a){var i=f3(r,Array.isArray(t)?t:[t]);Fd[s]||(Fd[s]=new WeakMap);var l=Fd[s],d=[],u=new Set,h=new Set(i),f=function(x){!x||u.has(x)||(u.add(x),f(x.parentNode))};i.forEach(f);var y=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(g){if(u.has(g))y(g);else try{var v=g.getAttribute(a),j=v!==null&&v!=="false",N=(Zo.get(g)||0)+1,w=(l.get(g)||0)+1;Zo.set(g,N),l.set(g,w),d.push(g),N===1&&j&&Od.set(g,!0),w===1&&g.setAttribute(s,"true"),j||g.setAttribute(a,"true")}catch(P){console.error("aria-hidden: cannot operate on ",g,P)}})};return y(r),u.clear(),xf++,function(){d.forEach(function(x){var g=Zo.get(x)-1,v=l.get(x)-1;Zo.set(x,g),l.set(x,v),g||(Od.has(x)||x.removeAttribute(a),Od.delete(x)),v||x.removeAttribute(s)}),xf--,xf||(Zo=new WeakMap,Zo=new WeakMap,Od=new WeakMap,Fd={})}},Fu=function(t,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=h3(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),p3(a,i,s,"aria-hidden")):function(){return null}},hn=function(){return hn=Object.assign||function(r){for(var s,a=1,i=arguments.length;a<i;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},hn.apply(this,arguments)};function kw(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s}function x3(t,r,s){if(s||arguments.length===2)for(var a=0,i=r.length,l;a<i;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return t.concat(l||Array.prototype.slice.call(r))}var Yd="right-scroll-bar-position",Kd="width-before-scroll-bar",g3="with-scroll-bars-hidden",v3="--removed-body-scroll-bar-size";function gf(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function y3(t,r){var s=m.useState(function(){return{value:t,callback:r,facade:{get current(){return s.value},set current(a){var i=s.value;i!==a&&(s.value=a,s.callback(a,i))}}}})[0];return s.callback=r,s.facade}var b3=typeof window<"u"?m.useLayoutEffect:m.useEffect,Oy=new WeakMap;function j3(t,r){var s=y3(null,function(a){return t.forEach(function(i){return gf(i,a)})});return b3(function(){var a=Oy.get(s);if(a){var i=new Set(a),l=new Set(t),d=s.current;i.forEach(function(u){l.has(u)||gf(u,null)}),l.forEach(function(u){i.has(u)||gf(u,d)})}Oy.set(s,t)},[t]),s}function w3(t){return t}function N3(t,r){r===void 0&&(r=w3);var s=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(l){var d=r(l,a);return s.push(d),function(){s=s.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(a=!0;s.length;){var d=s;s=[],d.forEach(l)}s={push:function(u){return l(u)},filter:function(){return s}}},assignMedium:function(l){a=!0;var d=[];if(s.length){var u=s;s=[],u.forEach(l),d=s}var h=function(){var y=d;d=[],y.forEach(l)},f=function(){return Promise.resolve().then(h)};f(),s={push:function(y){d.push(y),f()},filter:function(y){return d=d.filter(y),s}}}};return i}function S3(t){t===void 0&&(t={});var r=N3(null);return r.options=hn({async:!0,ssr:!1},t),r}var Cw=function(t){var r=t.sideCar,s=kw(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return m.createElement(a,hn({},s))};Cw.isSideCarExport=!0;function k3(t,r){return t.useMedium(r),Cw}var Pw=S3(),vf=function(){},Lu=m.forwardRef(function(t,r){var s=m.useRef(null),a=m.useState({onScrollCapture:vf,onWheelCapture:vf,onTouchMoveCapture:vf}),i=a[0],l=a[1],d=t.forwardProps,u=t.children,h=t.className,f=t.removeScrollBar,y=t.enabled,x=t.shards,g=t.sideCar,v=t.noRelative,j=t.noIsolation,N=t.inert,w=t.allowPinchZoom,P=t.as,_=P===void 0?"div":P,C=t.gapMode,L=kw(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=g,A=j3([s,r]),M=hn(hn({},L),i);return m.createElement(m.Fragment,null,y&&m.createElement(q,{sideCar:Pw,removeScrollBar:f,shards:x,noRelative:v,noIsolation:j,inert:N,setCallbacks:l,allowPinchZoom:!!w,lockRef:s,gapMode:C}),d?m.cloneElement(m.Children.only(u),hn(hn({},M),{ref:A})):m.createElement(_,hn({},M,{className:h,ref:A}),u))});Lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lu.classNames={fullWidth:Kd,zeroRight:Yd};var C3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=C3();return r&&t.setAttribute("nonce",r),t}function _3(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function E3(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var R3=function(){var t=0,r=null;return{add:function(s){t==0&&(r=P3())&&(_3(r,s),E3(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},T3=function(){var t=R3();return function(r,s){m.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&s])}},_w=function(){var t=T3(),r=function(s){var a=s.styles,i=s.dynamic;return t(a,i),null};return r},D3={left:0,top:0,right:0,gap:0},yf=function(t){return parseInt(t||"",10)||0},A3=function(t){var r=window.getComputedStyle(document.body),s=r[t==="padding"?"paddingLeft":"marginLeft"],a=r[t==="padding"?"paddingTop":"marginTop"],i=r[t==="padding"?"paddingRight":"marginRight"];return[yf(s),yf(a),yf(i)]},M3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return D3;var r=A3(t),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},I3=_w(),di="data-scroll-locked",O3=function(t,r,s,a){var i=t.left,l=t.top,d=t.right,u=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(g3,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(di,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yd,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Kd,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(di,`] {
    `).concat(v3,": ").concat(u,`px;
  }
`)},Fy=function(){var t=parseInt(document.body.getAttribute(di)||"0",10);return isFinite(t)?t:0},F3=function(){m.useEffect(function(){return document.body.setAttribute(di,(Fy()+1).toString()),function(){var t=Fy()-1;t<=0?document.body.removeAttribute(di):document.body.setAttribute(di,t.toString())}},[])},L3=function(t){var r=t.noRelative,s=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;F3();var l=m.useMemo(function(){return M3(i)},[i]);return m.createElement(I3,{styles:O3(l,!r,i,s?"":"!important")})},cp=!1;if(typeof window<"u")try{var Ld=Object.defineProperty({},"passive",{get:function(){return cp=!0,!0}});window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{cp=!1}var ei=cp?{passive:!1}:!1,$3=function(t){return t.tagName==="TEXTAREA"},Ew=function(t,r){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!$3(t)&&s[r]==="visible")},V3=function(t){return Ew(t,"overflowY")},B3=function(t){return Ew(t,"overflowX")},Ly=function(t,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Rw(t,a);if(i){var l=Tw(t,a),d=l[1],u=l[2];if(d>u)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},U3=function(t){var r=t.scrollTop,s=t.scrollHeight,a=t.clientHeight;return[r,s,a]},z3=function(t){var r=t.scrollLeft,s=t.scrollWidth,a=t.clientWidth;return[r,s,a]},Rw=function(t,r){return t==="v"?V3(r):B3(r)},Tw=function(t,r){return t==="v"?U3(r):z3(r)},q3=function(t,r){return t==="h"&&r==="rtl"?-1:1},W3=function(t,r,s,a,i){var l=q3(t,window.getComputedStyle(r).direction),d=l*a,u=s.target,h=r.contains(u),f=!1,y=d>0,x=0,g=0;do{if(!u)break;var v=Tw(t,u),j=v[0],N=v[1],w=v[2],P=N-w-l*j;(j||P)&&Rw(t,u)&&(x+=P,g+=j);var _=u.parentNode;u=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!h&&u!==document.body||h&&(r.contains(u)||r===u));return(y&&Math.abs(x)<1||!y&&Math.abs(g)<1)&&(f=!0),f},$d=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$y=function(t){return[t.deltaX,t.deltaY]},Vy=function(t){return t&&"current"in t?t.current:t},H3=function(t,r){return t[0]===r[0]&&t[1]===r[1]},Y3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},K3=0,ti=[];function G3(t){var r=m.useRef([]),s=m.useRef([0,0]),a=m.useRef(),i=m.useState(K3++)[0],l=m.useState(_w)[0],d=m.useRef(t);m.useEffect(function(){d.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=x3([t.lockRef.current],(t.shards||[]).map(Vy),!0).filter(Boolean);return N.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=m.useCallback(function(N,w){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var P=$d(N),_=s.current,C="deltaX"in N?N.deltaX:_[0]-P[0],L="deltaY"in N?N.deltaY:_[1]-P[1],q,A=N.target,M=Math.abs(C)>Math.abs(L)?"h":"v";if("touches"in N&&M==="h"&&A.type==="range")return!1;var V=Ly(M,A);if(!V)return!0;if(V?q=M:(q=M==="v"?"h":"v",V=Ly(M,A)),!V)return!1;if(!a.current&&"changedTouches"in N&&(C||L)&&(a.current=q),!q)return!0;var k=a.current||q;return W3(k,w,N,k==="h"?C:L)},[]),h=m.useCallback(function(N){var w=N;if(!(!ti.length||ti[ti.length-1]!==l)){var P="deltaY"in w?$y(w):$d(w),_=r.current.filter(function(q){return q.name===w.type&&(q.target===w.target||w.target===q.shadowParent)&&H3(q.delta,P)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var C=(d.current.shards||[]).map(Vy).filter(Boolean).filter(function(q){return q.contains(w.target)}),L=C.length>0?u(w,C[0]):!d.current.noIsolation;L&&w.cancelable&&w.preventDefault()}}},[]),f=m.useCallback(function(N,w,P,_){var C={name:N,delta:w,target:P,should:_,shadowParent:Q3(P)};r.current.push(C),setTimeout(function(){r.current=r.current.filter(function(L){return L!==C})},1)},[]),y=m.useCallback(function(N){s.current=$d(N),a.current=void 0},[]),x=m.useCallback(function(N){f(N.type,$y(N),N.target,u(N,t.lockRef.current))},[]),g=m.useCallback(function(N){f(N.type,$d(N),N.target,u(N,t.lockRef.current))},[]);m.useEffect(function(){return ti.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:g}),document.addEventListener("wheel",h,ei),document.addEventListener("touchmove",h,ei),document.addEventListener("touchstart",y,ei),function(){ti=ti.filter(function(N){return N!==l}),document.removeEventListener("wheel",h,ei),document.removeEventListener("touchmove",h,ei),document.removeEventListener("touchstart",y,ei)}},[]);var v=t.removeScrollBar,j=t.inert;return m.createElement(m.Fragment,null,j?m.createElement(l,{styles:Y3(i)}):null,v?m.createElement(L3,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Q3(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const X3=k3(Pw,G3);var mc=m.forwardRef(function(t,r){return m.createElement(Lu,hn({},t,{ref:r,sideCar:X3}))});mc.classNames=Lu.classNames;var dp=["Enter"," "],J3=["ArrowDown","PageUp","Home"],Dw=["ArrowUp","PageDown","End"],Z3=[...J3,...Dw],eD={ltr:[...dp,"ArrowRight"],rtl:[...dp,"ArrowLeft"]},tD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hc="Menu",[Zl,rD,sD]=Ii(hc),[_o,Aw]=vr(hc,[sD,qa,Ou]),$u=qa(),Mw=Ou(),[nD,Eo]=_o(hc),[aD,fc]=_o(hc),Iw=t=>{const{__scopeMenu:r,open:s=!1,children:a,dir:i,onOpenChange:l,modal:d=!0}=t,u=$u(r),[h,f]=m.useState(null),y=m.useRef(!1),x=sr(l),g=Po(i);return m.useEffect(()=>{const v=()=>{y.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>y.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),e.jsx(Zp,{...u,children:e.jsx(nD,{scope:r,open:s,onOpenChange:x,content:h,onContentChange:f,children:e.jsx(aD,{scope:r,onClose:m.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:y,dir:g,modal:d,children:a})})})};Iw.displayName=hc;var oD="MenuAnchor",tx=m.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t,i=$u(s);return e.jsx(cc,{...i,...a,ref:r})});tx.displayName=oD;var rx="MenuPortal",[iD,Ow]=_o(rx,{forceMount:void 0}),Fw=t=>{const{__scopeMenu:r,forceMount:s,children:a,container:i}=t,l=Eo(rx,r);return e.jsx(iD,{scope:r,forceMount:s,children:e.jsx(yr,{present:s||l.open,children:e.jsx(Oi,{asChild:!0,container:i,children:a})})})};Fw.displayName=rx;var Ss="MenuContent",[lD,sx]=_o(Ss),Lw=m.forwardRef((t,r)=>{const s=Ow(Ss,t.__scopeMenu),{forceMount:a=s.forceMount,...i}=t,l=Eo(Ss,t.__scopeMenu),d=fc(Ss,t.__scopeMenu);return e.jsx(Zl.Provider,{scope:t.__scopeMenu,children:e.jsx(yr,{present:a||l.open,children:e.jsx(Zl.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(cD,{...i,ref:r}):e.jsx(dD,{...i,ref:r})})})})}),cD=m.forwardRef((t,r)=>{const s=Eo(Ss,t.__scopeMenu),a=m.useRef(null),i=rt(r,a);return m.useEffect(()=>{const l=a.current;if(l)return Fu(l)},[]),e.jsx(nx,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),dD=m.forwardRef((t,r)=>{const s=Eo(Ss,t.__scopeMenu);return e.jsx(nx,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),uD=Fa("MenuContent.ScrollLock"),nx=m.forwardRef((t,r)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:g,onDismiss:v,disableOutsideScroll:j,...N}=t,w=Eo(Ss,s),P=fc(Ss,s),_=$u(s),C=Mw(s),L=rD(s),[q,A]=m.useState(null),M=m.useRef(null),V=rt(r,M,w.onContentChange),k=m.useRef(0),T=m.useRef(""),z=m.useRef(0),E=m.useRef(null),$=m.useRef("right"),R=m.useRef(0),X=j?mc:m.Fragment,Y=j?{as:uD,allowPinchZoom:!0}:void 0,O=D=>{var oe,de;const W=T.current+D,B=L().filter(le=>!le.disabled),U=document.activeElement,J=(oe=B.find(le=>le.ref.current===U))==null?void 0:oe.textValue,se=B.map(le=>le.textValue),ue=ND(se,W,J),ge=(de=B.find(le=>le.textValue===ue))==null?void 0:de.ref.current;(function le(he){T.current=he,window.clearTimeout(k.current),he!==""&&(k.current=window.setTimeout(()=>le(""),1e3))})(W),ge&&setTimeout(()=>ge.focus())};m.useEffect(()=>()=>window.clearTimeout(k.current),[]),Iu();const I=m.useCallback(D=>{var B,U;return $.current===((B=E.current)==null?void 0:B.side)&&kD(D,(U=E.current)==null?void 0:U.area)},[]);return e.jsx(lD,{scope:s,searchRef:T,onItemEnter:m.useCallback(D=>{I(D)&&D.preventDefault()},[I]),onItemLeave:m.useCallback(D=>{var W;I(D)||((W=M.current)==null||W.focus(),A(null))},[I]),onTriggerLeave:m.useCallback(D=>{I(D)&&D.preventDefault()},[I]),pointerGraceTimerRef:z,onPointerGraceIntentChange:m.useCallback(D=>{E.current=D},[]),children:e.jsx(X,{...Y,children:e.jsx(dc,{asChild:!0,trapped:i,onMountAutoFocus:Ce(l,D=>{var W;D.preventDefault(),(W=M.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(Co,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:g,onDismiss:v,children:e.jsx(ww,{asChild:!0,...C,dir:P.dir,orientation:"vertical",loop:a,currentTabStopId:q,onCurrentTabStopIdChange:A,onEntryFocus:Ce(h,D=>{P.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Tu,{role:"menu","aria-orientation":"vertical","data-state":eN(w.open),"data-radix-menu-content":"",dir:P.dir,..._,...N,ref:V,style:{outline:"none",...N.style},onKeyDown:Ce(N.onKeyDown,D=>{const B=D.target.closest("[data-radix-menu-content]")===D.currentTarget,U=D.ctrlKey||D.altKey||D.metaKey,J=D.key.length===1;B&&(D.key==="Tab"&&D.preventDefault(),!U&&J&&O(D.key));const se=M.current;if(D.target!==se||!Z3.includes(D.key))return;D.preventDefault();const ge=L().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);Dw.includes(D.key)&&ge.reverse(),jD(ge)}),onBlur:Ce(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(k.current),T.current="")}),onPointerMove:Ce(t.onPointerMove,ec(D=>{const W=D.target,B=R.current!==D.clientX;if(D.currentTarget.contains(W)&&B){const U=D.clientX>R.current?"right":"left";$.current=U,R.current=D.clientX}}))})})})})})})});Lw.displayName=Ss;var mD="MenuGroup",ax=m.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t;return e.jsx(Me.div,{role:"group",...a,ref:r})});ax.displayName=mD;var hD="MenuLabel",$w=m.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t;return e.jsx(Me.div,{...a,ref:r})});$w.displayName=hD;var cu="MenuItem",By="menu.itemSelect",Vu=m.forwardRef((t,r)=>{const{disabled:s=!1,onSelect:a,...i}=t,l=m.useRef(null),d=fc(cu,t.__scopeMenu),u=sx(cu,t.__scopeMenu),h=rt(r,l),f=m.useRef(!1),y=()=>{const x=l.current;if(!s&&x){const g=new CustomEvent(By,{bubbles:!0,cancelable:!0});x.addEventListener(By,v=>a==null?void 0:a(v),{once:!0}),Fp(x,g),g.defaultPrevented?f.current=!1:d.onClose()}};return e.jsx(Vw,{...i,ref:h,disabled:s,onClick:Ce(t.onClick,y),onPointerDown:x=>{var g;(g=t.onPointerDown)==null||g.call(t,x),f.current=!0},onPointerUp:Ce(t.onPointerUp,x=>{var g;f.current||(g=x.currentTarget)==null||g.click()}),onKeyDown:Ce(t.onKeyDown,x=>{const g=u.searchRef.current!=="";s||g&&x.key===" "||dp.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Vu.displayName=cu;var Vw=m.forwardRef((t,r)=>{const{__scopeMenu:s,disabled:a=!1,textValue:i,...l}=t,d=sx(cu,s),u=Mw(s),h=m.useRef(null),f=rt(r,h),[y,x]=m.useState(!1),[g,v]=m.useState("");return m.useEffect(()=>{const j=h.current;j&&v((j.textContent??"").trim())},[l.children]),e.jsx(Zl.ItemSlot,{scope:s,disabled:a,textValue:i??g,children:e.jsx(Nw,{asChild:!0,...u,focusable:!a,children:e.jsx(Me.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:f,onPointerMove:Ce(t.onPointerMove,ec(j=>{a?d.onItemLeave(j):(d.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,ec(j=>d.onItemLeave(j))),onFocus:Ce(t.onFocus,()=>x(!0)),onBlur:Ce(t.onBlur,()=>x(!1))})})})}),fD="MenuCheckboxItem",Bw=m.forwardRef((t,r)=>{const{checked:s=!1,onCheckedChange:a,...i}=t;return e.jsx(Hw,{scope:t.__scopeMenu,checked:s,children:e.jsx(Vu,{role:"menuitemcheckbox","aria-checked":du(s)?"mixed":s,...i,ref:r,"data-state":ix(s),onSelect:Ce(i.onSelect,()=>a==null?void 0:a(du(s)?!0:!s),{checkForDefaultPrevented:!1})})})});Bw.displayName=fD;var Uw="MenuRadioGroup",[pD,xD]=_o(Uw,{value:void 0,onValueChange:()=>{}}),zw=m.forwardRef((t,r)=>{const{value:s,onValueChange:a,...i}=t,l=sr(a);return e.jsx(pD,{scope:t.__scopeMenu,value:s,onValueChange:l,children:e.jsx(ax,{...i,ref:r})})});zw.displayName=Uw;var qw="MenuRadioItem",Ww=m.forwardRef((t,r)=>{const{value:s,...a}=t,i=xD(qw,t.__scopeMenu),l=s===i.value;return e.jsx(Hw,{scope:t.__scopeMenu,checked:l,children:e.jsx(Vu,{role:"menuitemradio","aria-checked":l,...a,ref:r,"data-state":ix(l),onSelect:Ce(a.onSelect,()=>{var d;return(d=i.onValueChange)==null?void 0:d.call(i,s)},{checkForDefaultPrevented:!1})})})});Ww.displayName=qw;var ox="MenuItemIndicator",[Hw,gD]=_o(ox,{checked:!1}),Yw=m.forwardRef((t,r)=>{const{__scopeMenu:s,forceMount:a,...i}=t,l=gD(ox,s);return e.jsx(yr,{present:a||du(l.checked)||l.checked===!0,children:e.jsx(Me.span,{...i,ref:r,"data-state":ix(l.checked)})})});Yw.displayName=ox;var vD="MenuSeparator",Kw=m.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t;return e.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});Kw.displayName=vD;var yD="MenuArrow",Gw=m.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t,i=$u(s);return e.jsx(Du,{...i,...a,ref:r})});Gw.displayName=yD;var bD="MenuSub",[j$,Qw]=_o(bD),Dl="MenuSubTrigger",Xw=m.forwardRef((t,r)=>{const s=Eo(Dl,t.__scopeMenu),a=fc(Dl,t.__scopeMenu),i=Qw(Dl,t.__scopeMenu),l=sx(Dl,t.__scopeMenu),d=m.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=l,f={__scopeMenu:t.__scopeMenu},y=m.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return m.useEffect(()=>y,[y]),m.useEffect(()=>{const x=u.current;return()=>{window.clearTimeout(x),h(null)}},[u,h]),e.jsx(tx,{asChild:!0,...f,children:e.jsx(Vw,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":eN(s.open),...t,ref:Hn(r,i.onTriggerChange),onClick:x=>{var g;(g=t.onClick)==null||g.call(t,x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,ec(x=>{l.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!s.open&&!d.current&&(l.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{s.onOpenChange(!0),y()},100))})),onPointerLeave:Ce(t.onPointerLeave,ec(x=>{var v,j;y();const g=(v=s.content)==null?void 0:v.getBoundingClientRect();if(g){const N=(j=s.content)==null?void 0:j.dataset.side,w=N==="right",P=w?-5:5,_=g[w?"left":"right"],C=g[w?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+P,y:x.clientY},{x:_,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:_,y:g.bottom}],side:N}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,x=>{var v;const g=l.searchRef.current!=="";t.disabled||g&&x.key===" "||eD[a.dir].includes(x.key)&&(s.onOpenChange(!0),(v=s.content)==null||v.focus(),x.preventDefault())})})})});Xw.displayName=Dl;var Jw="MenuSubContent",Zw=m.forwardRef((t,r)=>{const s=Ow(Ss,t.__scopeMenu),{forceMount:a=s.forceMount,...i}=t,l=Eo(Ss,t.__scopeMenu),d=fc(Ss,t.__scopeMenu),u=Qw(Jw,t.__scopeMenu),h=m.useRef(null),f=rt(r,h);return e.jsx(Zl.Provider,{scope:t.__scopeMenu,children:e.jsx(yr,{present:a||l.open,children:e.jsx(Zl.Slot,{scope:t.__scopeMenu,children:e.jsx(nx,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var x;d.isUsingKeyboardRef.current&&((x=h.current)==null||x.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,y=>{y.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,y=>{d.onClose(),y.preventDefault()}),onKeyDown:Ce(t.onKeyDown,y=>{var v;const x=y.currentTarget.contains(y.target),g=tD[d.dir].includes(y.key);x&&g&&(l.onOpenChange(!1),(v=u.trigger)==null||v.focus(),y.preventDefault())})})})})})});Zw.displayName=Jw;function eN(t){return t?"open":"closed"}function du(t){return t==="indeterminate"}function ix(t){return du(t)?"indeterminate":t?"checked":"unchecked"}function jD(t){const r=document.activeElement;for(const s of t)if(s===r||(s.focus(),document.activeElement!==r))return}function wD(t,r){return t.map((s,a)=>t[(r+a)%t.length])}function ND(t,r,s){const i=r.length>1&&Array.from(r).every(f=>f===r[0])?r[0]:r,l=s?t.indexOf(s):-1;let d=wD(t,Math.max(l,0));i.length===1&&(d=d.filter(f=>f!==s));const h=d.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return h!==s?h:void 0}function SD(t,r){const{x:s,y:a}=t;let i=!1;for(let l=0,d=r.length-1;l<r.length;d=l++){const u=r[l],h=r[d],f=u.x,y=u.y,x=h.x,g=h.y;y>a!=g>a&&s<(x-f)*(a-y)/(g-y)+f&&(i=!i)}return i}function kD(t,r){if(!r)return!1;const s={x:t.clientX,y:t.clientY};return SD(s,r)}function ec(t){return r=>r.pointerType==="mouse"?t(r):void 0}var CD=Iw,PD=tx,_D=Fw,ED=Lw,RD=ax,TD=$w,DD=Vu,AD=Bw,MD=zw,ID=Ww,OD=Yw,FD=Kw,LD=Gw,$D=Xw,VD=Zw,Bu="DropdownMenu",[BD]=vr(Bu,[Aw]),zr=Aw(),[UD,tN]=BD(Bu),rN=t=>{const{__scopeDropdownMenu:r,children:s,dir:a,open:i,defaultOpen:l,onOpenChange:d,modal:u=!0}=t,h=zr(r),f=m.useRef(null),[y,x]=fs({prop:i,defaultProp:l??!1,onChange:d,caller:Bu});return e.jsx(UD,{scope:r,triggerId:gr(),triggerRef:f,contentId:gr(),open:y,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(g=>!g),[x]),modal:u,children:e.jsx(CD,{...h,open:y,onOpenChange:x,dir:a,modal:u,children:s})})};rN.displayName=Bu;var sN="DropdownMenuTrigger",nN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...i}=t,l=tN(sN,s),d=zr(s);return e.jsx(PD,{asChild:!0,...d,children:e.jsx(Me.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Hn(r,l.triggerRef),onPointerDown:Ce(t.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:Ce(t.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});nN.displayName=sN;var zD="DropdownMenuPortal",aN=t=>{const{__scopeDropdownMenu:r,...s}=t,a=zr(r);return e.jsx(_D,{...a,...s})};aN.displayName=zD;var oN="DropdownMenuContent",iN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=tN(oN,s),l=zr(s),d=m.useRef(!1);return e.jsx(ED,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:r,onCloseAutoFocus:Ce(t.onCloseAutoFocus,u=>{var h;d.current||(h=i.triggerRef.current)==null||h.focus(),d.current=!1,u.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,y=h.button===2||f;(!i.modal||y)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iN.displayName=oN;var qD="DropdownMenuGroup",WD=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(RD,{...i,...a,ref:r})});WD.displayName=qD;var HD="DropdownMenuLabel",lN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(TD,{...i,...a,ref:r})});lN.displayName=HD;var YD="DropdownMenuItem",cN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(DD,{...i,...a,ref:r})});cN.displayName=YD;var KD="DropdownMenuCheckboxItem",dN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(AD,{...i,...a,ref:r})});dN.displayName=KD;var GD="DropdownMenuRadioGroup",QD=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(MD,{...i,...a,ref:r})});QD.displayName=GD;var XD="DropdownMenuRadioItem",uN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(ID,{...i,...a,ref:r})});uN.displayName=XD;var JD="DropdownMenuItemIndicator",mN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(OD,{...i,...a,ref:r})});mN.displayName=JD;var ZD="DropdownMenuSeparator",hN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(FD,{...i,...a,ref:r})});hN.displayName=ZD;var eA="DropdownMenuArrow",tA=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(LD,{...i,...a,ref:r})});tA.displayName=eA;var rA="DropdownMenuSubTrigger",fN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx($D,{...i,...a,ref:r})});fN.displayName=rA;var sA="DropdownMenuSubContent",pN=m.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,i=zr(s);return e.jsx(VD,{...i,...a,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pN.displayName=sA;var nA=rN,aA=nN,oA=aN,xN=iN,gN=lN,vN=cN,yN=dN,bN=uN,jN=mN,wN=hN,NN=fN,SN=pN;const kN=nA,CN=aA,iA=m.forwardRef(({className:t,inset:r,children:s,...a},i)=>e.jsxs(NN,{ref:i,className:Re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...a,children:[s,e.jsx(Bp,{className:"ml-auto h-4 w-4"})]}));iA.displayName=NN.displayName;const lA=m.forwardRef(({className:t,...r},s)=>e.jsx(SN,{ref:s,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));lA.displayName=SN.displayName;const lx=m.forwardRef(({className:t,sideOffset:r=4,...s},a)=>e.jsx(oA,{children:e.jsx(xN,{ref:a,sideOffset:r,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));lx.displayName=xN.displayName;const ui=m.forwardRef(({className:t,inset:r,...s},a)=>e.jsx(vN,{ref:a,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...s}));ui.displayName=vN.displayName;const cA=m.forwardRef(({className:t,children:r,checked:s,...a},i)=>e.jsxs(yN,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(jN,{children:e.jsx(oc,{className:"h-4 w-4"})})}),r]}));cA.displayName=yN.displayName;const dA=m.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(bN,{ref:a,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(jN,{children:e.jsx(bj,{className:"h-2 w-2 fill-current"})})}),r]}));dA.displayName=bN.displayName;const uA=m.forwardRef(({className:t,inset:r,...s},a)=>e.jsx(gN,{ref:a,className:Re("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...s}));uA.displayName=gN.displayName;const PN=m.forwardRef(({className:t,...r},s)=>e.jsx(wN,{ref:s,className:Re("-mx-1 my-1 h-px bg-muted",t),...r}));PN.displayName=wN.displayName;const mA=ac("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xe({className:t,variant:r,...s}){return e.jsx("div",{className:Re(mA({variant:r}),t),...s})}function tc(t,[r,s]){return Math.min(s,Math.max(r,t))}function hA(t,r){return m.useReducer((s,a)=>r[s][a]??s,t)}var cx="ScrollArea",[_N]=vr(cx),[fA,Ps]=_N(cx),EN=m.forwardRef((t,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:i,scrollHideDelay:l=600,...d}=t,[u,h]=m.useState(null),[f,y]=m.useState(null),[x,g]=m.useState(null),[v,j]=m.useState(null),[N,w]=m.useState(null),[P,_]=m.useState(0),[C,L]=m.useState(0),[q,A]=m.useState(!1),[M,V]=m.useState(!1),k=rt(r,z=>h(z)),T=Po(i);return e.jsx(fA,{scope:s,type:a,dir:T,scrollHideDelay:l,scrollArea:u,viewport:f,onViewportChange:y,content:x,onContentChange:g,scrollbarX:v,onScrollbarXChange:j,scrollbarXEnabled:q,onScrollbarXEnabledChange:A,scrollbarY:N,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:V,onCornerWidthChange:_,onCornerHeightChange:L,children:e.jsx(Me.div,{dir:T,...d,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});EN.displayName=cx;var RN="ScrollAreaViewport",TN=m.forwardRef((t,r)=>{const{__scopeScrollArea:s,children:a,nonce:i,...l}=t,d=Ps(RN,s),u=m.useRef(null),h=rt(r,u,d.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});TN.displayName=RN;var Sn="ScrollAreaScrollbar",dx=m.forwardRef((t,r)=>{const{forceMount:s,...a}=t,i=Ps(Sn,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=i,u=t.orientation==="horizontal";return m.useEffect(()=>(u?l(!0):d(!0),()=>{u?l(!1):d(!1)}),[u,l,d]),i.type==="hover"?e.jsx(pA,{...a,ref:r,forceMount:s}):i.type==="scroll"?e.jsx(xA,{...a,ref:r,forceMount:s}):i.type==="auto"?e.jsx(DN,{...a,ref:r,forceMount:s}):i.type==="always"?e.jsx(ux,{...a,ref:r}):null});dx.displayName=Sn;var pA=m.forwardRef((t,r)=>{const{forceMount:s,...a}=t,i=Ps(Sn,t.__scopeScrollArea),[l,d]=m.useState(!1);return m.useEffect(()=>{const u=i.scrollArea;let h=0;if(u){const f=()=>{window.clearTimeout(h),d(!0)},y=()=>{h=window.setTimeout(()=>d(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(yr,{present:s||l,children:e.jsx(DN,{"data-state":l?"visible":"hidden",...a,ref:r})})}),xA=m.forwardRef((t,r)=>{const{forceMount:s,...a}=t,i=Ps(Sn,t.__scopeScrollArea),l=t.orientation==="horizontal",d=zu(()=>h("SCROLL_END"),100),[u,h]=hA("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,i.scrollHideDelay,h]),m.useEffect(()=>{const f=i.viewport,y=l?"scrollLeft":"scrollTop";if(f){let x=f[y];const g=()=>{const v=f[y];x!==v&&(h("SCROLL"),d()),x=v};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,l,h,d]),e.jsx(yr,{present:s||u!=="hidden",children:e.jsx(ux,{"data-state":u==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:Ce(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),DN=m.forwardRef((t,r)=>{const s=Ps(Sn,t.__scopeScrollArea),{forceMount:a,...i}=t,[l,d]=m.useState(!1),u=t.orientation==="horizontal",h=zu(()=>{if(s.viewport){const f=s.viewport.offsetWidth<s.viewport.scrollWidth,y=s.viewport.offsetHeight<s.viewport.scrollHeight;d(u?f:y)}},10);return Pi(s.viewport,h),Pi(s.content,h),e.jsx(yr,{present:a||l,children:e.jsx(ux,{"data-state":l?"visible":"hidden",...i,ref:r})})}),ux=m.forwardRef((t,r)=>{const{orientation:s="vertical",...a}=t,i=Ps(Sn,t.__scopeScrollArea),l=m.useRef(null),d=m.useRef(0),[u,h]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=FN(u.viewport,u.content),y={...a,sizes:u,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:g=>l.current=g,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:g=>d.current=g};function x(g,v){return wA(g,d.current,u,v)}return s==="horizontal"?e.jsx(gA,{...y,ref:r,onThumbPositionChange:()=>{if(i.viewport&&l.current){const g=i.viewport.scrollLeft,v=Uy(g,u,i.dir);l.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=x(g,i.dir))}}):s==="vertical"?e.jsx(vA,{...y,ref:r,onThumbPositionChange:()=>{if(i.viewport&&l.current){const g=i.viewport.scrollTop,v=Uy(g,u);l.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=x(g))}}):null}),gA=m.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...i}=t,l=Ps(Sn,t.__scopeScrollArea),[d,u]=m.useState(),h=m.useRef(null),f=rt(r,h,l.onScrollbarXChange);return m.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),e.jsx(MN,{"data-orientation":"horizontal",...i,ref:f,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Uu(s)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,x)=>{if(l.viewport){const g=l.viewport.scrollLeft+y.deltaX;t.onWheelScroll(g),$N(g,x)&&y.preventDefault()}},onResize:()=>{h.current&&l.viewport&&d&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:mu(d.paddingLeft),paddingEnd:mu(d.paddingRight)}})}})}),vA=m.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...i}=t,l=Ps(Sn,t.__scopeScrollArea),[d,u]=m.useState(),h=m.useRef(null),f=rt(r,h,l.onScrollbarYChange);return m.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),e.jsx(MN,{"data-orientation":"vertical",...i,ref:f,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Uu(s)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,x)=>{if(l.viewport){const g=l.viewport.scrollTop+y.deltaY;t.onWheelScroll(g),$N(g,x)&&y.preventDefault()}},onResize:()=>{h.current&&l.viewport&&d&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:mu(d.paddingTop),paddingEnd:mu(d.paddingBottom)}})}})}),[yA,AN]=_N(Sn),MN=m.forwardRef((t,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:i,onThumbChange:l,onThumbPointerUp:d,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:y,onResize:x,...g}=t,v=Ps(Sn,s),[j,N]=m.useState(null),w=rt(r,k=>N(k)),P=m.useRef(null),_=m.useRef(""),C=v.viewport,L=a.content-a.viewport,q=sr(y),A=sr(h),M=zu(x,10);function V(k){if(P.current){const T=k.clientX-P.current.left,z=k.clientY-P.current.top;f({x:T,y:z})}}return m.useEffect(()=>{const k=T=>{const z=T.target;(j==null?void 0:j.contains(z))&&q(T,L)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[C,j,L,q]),m.useEffect(A,[a,A]),Pi(j,M),Pi(v.content,M),e.jsx(yA,{scope:s,scrollbar:j,hasThumb:i,onThumbChange:sr(l),onThumbPointerUp:sr(d),onThumbPositionChange:A,onThumbPointerDown:sr(u),children:e.jsx(Me.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:Ce(t.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),P.current=j.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),V(k))}),onPointerMove:Ce(t.onPointerMove,V),onPointerUp:Ce(t.onPointerUp,k=>{const T=k.target;T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=_.current,v.viewport&&(v.viewport.style.scrollBehavior=""),P.current=null})})})}),uu="ScrollAreaThumb",IN=m.forwardRef((t,r)=>{const{forceMount:s,...a}=t,i=AN(uu,t.__scopeScrollArea);return e.jsx(yr,{present:s||i.hasThumb,children:e.jsx(bA,{ref:r,...a})})}),bA=m.forwardRef((t,r)=>{const{__scopeScrollArea:s,style:a,...i}=t,l=Ps(uu,s),d=AN(uu,s),{onThumbPositionChange:u}=d,h=rt(r,x=>d.onThumbChange(x)),f=m.useRef(void 0),y=zu(()=>{f.current&&(f.current(),f.current=void 0)},100);return m.useEffect(()=>{const x=l.viewport;if(x){const g=()=>{if(y(),!f.current){const v=NA(x,u);f.current=v,u()}};return u(),x.addEventListener("scroll",g),()=>x.removeEventListener("scroll",g)}},[l.viewport,y,u]),e.jsx(Me.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ce(t.onPointerDownCapture,x=>{const v=x.target.getBoundingClientRect(),j=x.clientX-v.left,N=x.clientY-v.top;d.onThumbPointerDown({x:j,y:N})}),onPointerUp:Ce(t.onPointerUp,d.onThumbPointerUp)})});IN.displayName=uu;var mx="ScrollAreaCorner",ON=m.forwardRef((t,r)=>{const s=Ps(mx,t.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?e.jsx(jA,{...t,ref:r}):null});ON.displayName=mx;var jA=m.forwardRef((t,r)=>{const{__scopeScrollArea:s,...a}=t,i=Ps(mx,s),[l,d]=m.useState(0),[u,h]=m.useState(0),f=!!(l&&u);return Pi(i.scrollbarX,()=>{var x;const y=((x=i.scrollbarX)==null?void 0:x.offsetHeight)||0;i.onCornerHeightChange(y),h(y)}),Pi(i.scrollbarY,()=>{var x;const y=((x=i.scrollbarY)==null?void 0:x.offsetWidth)||0;i.onCornerWidthChange(y),d(y)}),f?e.jsx(Me.div,{...a,ref:r,style:{width:l,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function mu(t){return t?parseInt(t,10):0}function FN(t,r){const s=t/r;return isNaN(s)?0:s}function Uu(t){const r=FN(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-s)*r;return Math.max(a,18)}function wA(t,r,s,a="ltr"){const i=Uu(s),l=i/2,d=r||l,u=i-d,h=s.scrollbar.paddingStart+d,f=s.scrollbar.size-s.scrollbar.paddingEnd-u,y=s.content-s.viewport,x=a==="ltr"?[0,y]:[y*-1,0];return LN([h,f],x)(t)}function Uy(t,r,s="ltr"){const a=Uu(r),i=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-i,d=r.content-r.viewport,u=l-a,h=s==="ltr"?[0,d]:[d*-1,0],f=tc(t,h);return LN([0,d],[0,u])(f)}function LN(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(t[1]-t[0]);return r[0]+a*(s-t[0])}}function $N(t,r){return t>0&&t<r}var NA=(t,r=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},a=0;return(function i(){const l={left:t.scrollLeft,top:t.scrollTop},d=s.left!==l.left,u=s.top!==l.top;(d||u)&&r(),s=l,a=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(a)};function zu(t,r){const s=sr(t),a=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),m.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function Pi(t,r){const s=sr(r);ar(()=>{let a=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return i.observe(t),()=>{window.cancelAnimationFrame(a),i.unobserve(t)}}},[t,s])}var VN=EN,SA=TN,kA=ON;const hx=m.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(VN,{ref:a,className:Re("relative overflow-hidden",t),...s,children:[e.jsx(SA,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(BN,{}),e.jsx(kA,{})]}));hx.displayName=VN.displayName;const BN=m.forwardRef(({className:t,orientation:r="vertical",...s},a)=>e.jsx(dx,{ref:a,orientation:r,className:Re("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(IN,{className:"relative flex-1 rounded-full bg-border"})}));BN.displayName=dx.displayName;const bn=Object.create(null);bn.open="0";bn.close="1";bn.ping="2";bn.pong="3";bn.message="4";bn.upgrade="5";bn.noop="6";const Gd=Object.create(null);Object.keys(bn).forEach(t=>{Gd[bn[t]]=t});const up={type:"error",data:"parser error"},UN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zN=typeof ArrayBuffer=="function",qN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,fx=({type:t,data:r},s,a)=>UN&&r instanceof Blob?s?a(r):zy(r,a):zN&&(r instanceof ArrayBuffer||qN(r))?s?a(r):zy(new Blob([r]),a):a(bn[t]+(r||"")),zy=(t,r)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];r("b"+(a||""))},s.readAsDataURL(t)};function qy(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let bf;function CA(t,r){if(UN&&t.data instanceof Blob)return t.data.arrayBuffer().then(qy).then(r);if(zN&&(t.data instanceof ArrayBuffer||qN(t.data)))return r(qy(t.data));fx(t,!1,s=>{bf||(bf=new TextEncoder),r(bf.encode(s))})}const Wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Al=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Wy.length;t++)Al[Wy.charCodeAt(t)]=t;const PA=t=>{let r=t.length*.75,s=t.length,a,i=0,l,d,u,h;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const f=new ArrayBuffer(r),y=new Uint8Array(f);for(a=0;a<s;a+=4)l=Al[t.charCodeAt(a)],d=Al[t.charCodeAt(a+1)],u=Al[t.charCodeAt(a+2)],h=Al[t.charCodeAt(a+3)],y[i++]=l<<2|d>>4,y[i++]=(d&15)<<4|u>>2,y[i++]=(u&3)<<6|h&63;return f},_A=typeof ArrayBuffer=="function",px=(t,r)=>{if(typeof t!="string")return{type:"message",data:WN(t,r)};const s=t.charAt(0);return s==="b"?{type:"message",data:EA(t.substring(1),r)}:Gd[s]?t.length>1?{type:Gd[s],data:t.substring(1)}:{type:Gd[s]}:up},EA=(t,r)=>{if(_A){const s=PA(t);return WN(s,r)}else return{base64:!0,data:t}},WN=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},HN="",RA=(t,r)=>{const s=t.length,a=new Array(s);let i=0;t.forEach((l,d)=>{fx(l,!1,u=>{a[d]=u,++i===s&&r(a.join(HN))})})},TA=(t,r)=>{const s=t.split(HN),a=[];for(let i=0;i<s.length;i++){const l=px(s[i],r);if(a.push(l),l.type==="error")break}return a};function DA(){return new TransformStream({transform(t,r){CA(t,s=>{const a=s.length;let i;if(a<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,a);else if(a<65536){i=new Uint8Array(3);const l=new DataView(i.buffer);l.setUint8(0,126),l.setUint16(1,a)}else{i=new Uint8Array(9);const l=new DataView(i.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(s)})}})}let jf;function Vd(t){return t.reduce((r,s)=>r+s.length,0)}function Bd(t,r){if(t[0].length===r)return t.shift();const s=new Uint8Array(r);let a=0;for(let i=0;i<r;i++)s[i]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),s}function AA(t,r){jf||(jf=new TextDecoder);const s=[];let a=0,i=-1,l=!1;return new TransformStream({transform(d,u){for(s.push(d);;){if(a===0){if(Vd(s)<1)break;const h=Bd(s,1);l=(h[0]&128)===128,i=h[0]&127,i<126?a=3:i===126?a=1:a=2}else if(a===1){if(Vd(s)<2)break;const h=Bd(s,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),a=3}else if(a===2){if(Vd(s)<8)break;const h=Bd(s,8),f=new DataView(h.buffer,h.byteOffset,h.length),y=f.getUint32(0);if(y>Math.pow(2,21)-1){u.enqueue(up);break}i=y*Math.pow(2,32)+f.getUint32(4),a=3}else{if(Vd(s)<i)break;const h=Bd(s,i);u.enqueue(px(l?h:jf.decode(h),r)),a=0}if(i===0||i>t){u.enqueue(up);break}}}})}const YN=4;function hr(t){if(t)return MA(t)}function MA(t){for(var r in hr.prototype)t[r]=hr.prototype[r];return t}hr.prototype.on=hr.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};hr.prototype.once=function(t,r){function s(){this.off(t,s),r.apply(this,arguments)}return s.fn=r,this.on(t,s),this};hr.prototype.off=hr.prototype.removeListener=hr.prototype.removeAllListeners=hr.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,i=0;i<s.length;i++)if(a=s[i],a===r||a.fn===r){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+t],this};hr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),s=this._callbacks["$"+t],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,i=s.length;a<i;++a)s[a].apply(this,r)}return this};hr.prototype.emitReserved=hr.prototype.emit;hr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};hr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const qu=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,s)=>s(r,0),Ns=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),IA="arraybuffer";function KN(t,...r){return r.reduce((s,a)=>(t.hasOwnProperty(a)&&(s[a]=t[a]),s),{})}const OA=Ns.setTimeout,FA=Ns.clearTimeout;function Wu(t,r){r.useNativeTimers?(t.setTimeoutFn=OA.bind(Ns),t.clearTimeoutFn=FA.bind(Ns)):(t.setTimeoutFn=Ns.setTimeout.bind(Ns),t.clearTimeoutFn=Ns.clearTimeout.bind(Ns))}const LA=1.33;function $A(t){return typeof t=="string"?VA(t):Math.ceil((t.byteLength||t.size)*LA)}function VA(t){let r=0,s=0;for(let a=0,i=t.length;a<i;a++)r=t.charCodeAt(a),r<128?s+=1:r<2048?s+=2:r<55296||r>=57344?s+=3:(a++,s+=4);return s}function GN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function BA(t){let r="";for(let s in t)t.hasOwnProperty(s)&&(r.length&&(r+="&"),r+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return r}function UA(t){let r={},s=t.split("&");for(let a=0,i=s.length;a<i;a++){let l=s[a].split("=");r[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return r}class zA extends Error{constructor(r,s,a){super(r),this.description=s,this.context=a,this.type="TransportError"}}class xx extends hr{constructor(r){super(),this.writable=!1,Wu(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,s,a){return super.emitReserved("error",new zA(r,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const s=px(r,this.socket.binaryType);this.onPacket(s)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,s={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const s=BA(r);return s.length?"?"+s:""}}class qA extends xx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const s=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};TA(r,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,RA(r,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=GN()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(r,s)}}let QN=!1;try{QN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const WA=QN;function HA(){}class YA extends qA{constructor(r){if(super(r),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||a!==r.port}}doWrite(r,s){const a=this.request({method:"POST",data:r});a.on("success",s),a.on("error",(i,l)=>{this.onError("xhr post error",i,l)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=r}}class gn extends hr{constructor(r,s,a){super(),this.createRequest=r,Wu(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var r;const s=KN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&a.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var i;a.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=gn.requestsCount++,gn.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=HA,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete gn.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}gn.requestsCount=0;gn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Hy);else if(typeof addEventListener=="function"){const t="onpagehide"in Ns?"pagehide":"unload";addEventListener(t,Hy,!1)}}function Hy(){for(let t in gn.requests)gn.requests.hasOwnProperty(t)&&gn.requests[t].abort()}const KA=(function(){const t=XN({xdomain:!1});return t&&t.responseType!==null})();class GA extends YA{constructor(r){super(r);const s=r&&r.forceBase64;this.supportsBinary=KA&&!s}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new gn(XN,this.uri(),r)}}function XN(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||WA))return new XMLHttpRequest}catch{}if(!r)try{return new Ns[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const JN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class QA extends xx{get name(){return"websocket"}doOpen(){const r=this.uri(),s=this.opts.protocols,a=JN?{}:KN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,s,a)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let s=0;s<r.length;s++){const a=r[s],i=s===r.length-1;fx(a,this.supportsBinary,l=>{try{this.doWrite(a,l)}catch{}i&&qu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=GN()),this.supportsBinary||(s.b64=1),this.createUri(r,s)}}const wf=Ns.WebSocket||Ns.MozWebSocket;class XA extends QA{createSocket(r,s,a){return JN?new wf(r,s,a):s?new wf(r,s):new wf(r)}doWrite(r,s){this.ws.send(s)}}class JA extends xx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const s=AA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=r.readable.pipeThrough(s).getReader(),i=DA();i.readable.pipeTo(r.writable),this._writer=i.writable.getWriter();const l=()=>{a.read().then(({done:u,value:h})=>{u||(this.onPacket(h),l())}).catch(u=>{})};l();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let s=0;s<r.length;s++){const a=r[s],i=s===r.length-1;this._writer.write(a).then(()=>{i&&qu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const ZA={websocket:XA,webtransport:JA,polling:GA},eM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mp(t){if(t.length>8e3)throw"URI too long";const r=t,s=t.indexOf("["),a=t.indexOf("]");s!=-1&&a!=-1&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));let i=eM.exec(t||""),l={},d=14;for(;d--;)l[tM[d]]=i[d]||"";return s!=-1&&a!=-1&&(l.source=r,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=rM(l,l.path),l.queryKey=sM(l,l.query),l}function rM(t,r){const s=/\/{2,9}/g,a=r.replace(s,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&a.splice(0,1),r.slice(-1)=="/"&&a.splice(a.length-1,1),a}function sM(t,r){const s={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,i,l){i&&(s[i]=l)}),s}const hp=typeof addEventListener=="function"&&typeof removeEventListener=="function",Qd=[];hp&&addEventListener("offline",()=>{Qd.forEach(t=>t())},!1);class Aa extends hr{constructor(r,s){if(super(),this.binaryType=IA,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(s=r,r=null),r){const a=mp(r);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=mp(s.host).host);Wu(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const i=a.prototype.name;this.transports.push(i),this._transportsByName[i]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=UA(this.opts.query)),hp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Qd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const s=Object.assign({},this.opts.query);s.EIO=YN,s.transport=r,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Aa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(r);s.open(),this.setTransport(s)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Aa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=r.data,this._onError(s);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const i=this.writeBuffer[a].data;if(i&&(s+=$A(i)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,qu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,s,a){return this._sendPacket("message",r,s,a),this}send(r,s,a){return this._sendPacket("message",r,s,a),this}_sendPacket(r,s,a,i){if(typeof s=="function"&&(i=s,s=void 0),typeof a=="function"&&(i=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const l={type:r,data:s,options:a};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),r()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():r()}):this.upgrading?a():r()),this}_onError(r){if(Aa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Qd.indexOf(this._offlineEventListener);a!==-1&&Qd.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,s),this.writeBuffer=[],this._prevBufferLen=0}}}Aa.protocol=YN;class nM extends Aa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let s=this.createTransport(r),a=!1;Aa.priorWebsocketSuccess=!1;const i=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",x=>{if(!a)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Aa.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(y(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=s.name,this.emitReserved("upgradeError",g)}}))};function l(){a||(a=!0,y(),s.close(),s=null)}const d=x=>{const g=new Error("probe error: "+x);g.transport=s.name,l(),this.emitReserved("upgradeError",g)};function u(){d("transport closed")}function h(){d("socket closed")}function f(x){s&&x.name!==s.name&&l()}const y=()=>{s.removeListener("open",i),s.removeListener("error",d),s.removeListener("close",u),this.off("close",h),this.off("upgrading",f)};s.once("open",i),s.once("error",d),s.once("close",u),this.once("close",h),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const s=[];for(let a=0;a<r.length;a++)~this.transports.indexOf(r[a])&&s.push(r[a]);return s}}let aM=class extends nM{constructor(r,s={}){const a=typeof r=="object"?r:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(i=>ZA[i]).filter(i=>!!i)),super(r,a)}};function oM(t,r="",s){let a=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),a=mp(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const l=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+l+":"+a.port+r,a.href=a.protocol+"://"+l+(s&&s.port===a.port?"":":"+a.port),a}const iM=typeof ArrayBuffer=="function",lM=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ZN=Object.prototype.toString,cM=typeof Blob=="function"||typeof Blob<"u"&&ZN.call(Blob)==="[object BlobConstructor]",dM=typeof File=="function"||typeof File<"u"&&ZN.call(File)==="[object FileConstructor]";function gx(t){return iM&&(t instanceof ArrayBuffer||lM(t))||cM&&t instanceof Blob||dM&&t instanceof File}function Xd(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,a=t.length;s<a;s++)if(Xd(t[s]))return!0;return!1}if(gx(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Xd(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Xd(t[s]))return!0;return!1}function uM(t){const r=[],s=t.data,a=t;return a.data=fp(s,r),a.attachments=r.length,{packet:a,buffers:r}}function fp(t,r){if(!t)return t;if(gx(t)){const s={_placeholder:!0,num:r.length};return r.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=fp(t[a],r);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=fp(t[a],r));return s}return t}function mM(t,r){return t.data=pp(t.data,r),delete t.attachments,t}function pp(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=pp(t[s],r);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=pp(t[s],r));return t}const hM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fM=5;var vt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(vt||(vt={}));class pM{constructor(r){this.replacer=r}encode(r){return(r.type===vt.EVENT||r.type===vt.ACK)&&Xd(r)?this.encodeAsBinary({type:r.type===vt.EVENT?vt.BINARY_EVENT:vt.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let s=""+r.type;return(r.type===vt.BINARY_EVENT||r.type===vt.BINARY_ACK)&&(s+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(s+=r.nsp+","),r.id!=null&&(s+=r.id),r.data!=null&&(s+=JSON.stringify(r.data,this.replacer)),s}encodeAsBinary(r){const s=uM(r),a=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(a),i}}function Yy(t){return Object.prototype.toString.call(t)==="[object Object]"}class vx extends hr{constructor(r){super(),this.reviver=r}add(r){let s;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(r);const a=s.type===vt.BINARY_EVENT;a||s.type===vt.BINARY_ACK?(s.type=a?vt.EVENT:vt.ACK,this.reconstructor=new xM(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(gx(r)||r.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(r),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let s=0;const a={type:Number(r.charAt(0))};if(vt[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===vt.BINARY_EVENT||a.type===vt.BINARY_ACK){const l=s+1;for(;r.charAt(++s)!=="-"&&s!=r.length;);const d=r.substring(l,s);if(d!=Number(d)||r.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(d)}if(r.charAt(s+1)==="/"){const l=s+1;for(;++s&&!(r.charAt(s)===","||s===r.length););a.nsp=r.substring(l,s)}else a.nsp="/";const i=r.charAt(s+1);if(i!==""&&Number(i)==i){const l=s+1;for(;++s;){const d=r.charAt(s);if(d==null||Number(d)!=d){--s;break}if(s===r.length)break}a.id=Number(r.substring(l,s+1))}if(r.charAt(++s)){const l=this.tryParse(r.substr(s));if(vx.isPayloadValid(a.type,l))a.data=l;else throw new Error("invalid payload")}return a}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,s){switch(r){case vt.CONNECT:return Yy(s);case vt.DISCONNECT:return s===void 0;case vt.CONNECT_ERROR:return typeof s=="string"||Yy(s);case vt.EVENT:case vt.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&hM.indexOf(s[0])===-1);case vt.ACK:case vt.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xM{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const s=mM(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gM=Object.freeze(Object.defineProperty({__proto__:null,Decoder:vx,Encoder:pM,get PacketType(){return vt},protocol:fM},Symbol.toStringTag,{value:"Module"}));function qs(t,r,s){return t.on(r,s),function(){t.off(r,s)}}const vM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class e1 extends hr{constructor(r,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[qs(r,"open",this.onopen.bind(this)),qs(r,"packet",this.onpacket.bind(this)),qs(r,"error",this.onerror.bind(this)),qs(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...s){var a,i,l;if(vM.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(s.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const d={type:vt.EVENT,data:s};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const y=this.ids++,x=s.pop();this._registerAckCallback(y,x),d.id=y}const u=(i=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||i===void 0?void 0:i.writable,h=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!u||(h?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(r,s){var a;const i=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(i===void 0){this.acks[r]=s;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===r&&this.sendBuffer.splice(u,1);s.call(this,new Error("operation has timed out"))},i),d=(...u)=>{this.io.clearTimeoutFn(l),s.apply(this,u)};d.withError=!0,this.acks[r]=d}emitWithAck(r,...s){return new Promise((a,i)=>{const l=(d,u)=>d?i(d):a(u);l.withError=!0,s.push(l),this.emit(r,...s)})}_addToQueue(r){let s;typeof r[r.length-1]=="function"&&(s=r.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...l)=>a!==this._queue[0]?void 0:(i!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...l)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!r||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(a=>String(a.id)===r)){const a=this.acks[r];delete this.acks[r],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case vt.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case vt.EVENT:case vt.BINARY_EVENT:this.onevent(r);break;case vt.ACK:case vt.BINARY_ACK:this.onack(r);break;case vt.DISCONNECT:this.ondisconnect();break;case vt.CONNECT_ERROR:this.destroy();const a=new Error(r.data.message);a.data=r.data.data,this.emitReserved("connect_error",a);break}}onevent(r){const s=r.data||[];r.id!=null&&s.push(this.ack(r.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const s=this;let a=!1;return function(...i){a||(a=!0,s.packet({type:vt.ACK,id:r,data:i}))}}onack(r){const s=this.acks[r.id];typeof s=="function"&&(delete this.acks[r.id],s.withError&&r.data.unshift(null),s.apply(this,r.data))}onconnect(r,s){this.id=r,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(r===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(r===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,r.data)}}}function Bi(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Bi.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),s=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-s:t+s}return Math.min(t,this.max)|0};Bi.prototype.reset=function(){this.attempts=0};Bi.prototype.setMin=function(t){this.ms=t};Bi.prototype.setMax=function(t){this.max=t};Bi.prototype.setJitter=function(t){this.jitter=t};class xp extends hr{constructor(r,s){var a;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(s=r,r=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Wu(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Bi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=r;const i=s.parser||gM;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var s;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(s=this.backoff)===null||s===void 0||s.setMin(r),this)}randomizationFactor(r){var s;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(s=this.backoff)===null||s===void 0||s.setJitter(r),this)}reconnectionDelayMax(r){var s;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(s=this.backoff)===null||s===void 0||s.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new aM(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const i=qs(s,"open",function(){a.onopen(),r&&r()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),r?r(u):this.maybeReconnectOnOpen()},d=qs(s,"error",l);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{i(),l(new Error("timeout")),s.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(d),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(qs(r,"ping",this.onping.bind(this)),qs(r,"data",this.ondata.bind(this)),qs(r,"error",this.onerror.bind(this)),qs(r,"close",this.onclose.bind(this)),qs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(s){this.onclose("parse error",s)}}ondecoded(r){qu(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,s){let a=this.nsps[r];return a?this._autoConnect&&!a.active&&a.connect():(a=new e1(this,r,s),this.nsps[r]=a),a}_destroy(r){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(r){const s=this.encoder.encode(r);for(let a=0;a<s.length;a++)this.engine.write(s[a],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const _l={};function Jd(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const s=oM(t,r.path||"/socket.io"),a=s.source,i=s.id,l=s.path,d=_l[i]&&l in _l[i].nsps,u=r.forceNew||r["force new connection"]||r.multiplex===!1||d;let h;return u?h=new xp(a,r):(_l[i]||(_l[i]=new xp(a,r)),h=_l[i]),s.query&&!r.query&&(r.query=s.queryKey),h.socket(s.path,r)}Object.assign(Jd,{Manager:xp,Socket:e1,io:Jd,connect:Jd});var yM={};const t1=()=>{const[t,r]=m.useState(null),[s,a]=m.useState(!1),[i,l]=m.useState([]),{user:d,token:u}=It(),h=m.useRef(null);m.useEffect(()=>{if(!d||!u)return;const w=Jd(yM.NEXT_PUBLIC_API_URL||"http://localhost:5000",{auth:{token:u},transports:["websocket","polling"]});return w.on("connect",()=>{console.log(" WebSocket connected"),a(!0),r(w)}),w.on("disconnect",()=>{console.log(" WebSocket disconnected"),a(!1),r(null)}),w.on("connect_error",P=>{console.error(" WebSocket connection error:",P),a(!1)}),w.on("developer_selected",P=>{console.log(" Developer selected notification:",P),f({type:"success",title:"Developer Selected",message:P.message,data:P,timestamp:new Date})}),w.on("proposal_selected",P=>{console.log(" Proposal selected notification:",P),f({type:"success",title:"Your Proposal Selected!",message:P.message,data:P,timestamp:new Date})}),w.on("proposal_rejected",P=>{console.log(" Proposal rejected notification:",P),f({type:"warning",title:"Proposal Update",message:P.message,data:P,timestamp:new Date})}),w.on("vote_cast",P=>{console.log(" Vote cast notification:",P),f({type:"info",title:"New Vote Cast",message:P.message,data:P,timestamp:new Date})}),w.on("voting_closed",P=>{console.log(" Voting closed notification:",P),f({type:"info",title:"Voting Closed",message:P.message,data:P,timestamp:new Date})}),w.on("new_proposal",P=>{console.log(" New proposal notification:",P),f({type:"info",title:"New Proposal",message:P.message,data:P,timestamp:new Date})}),w.on("project_update",P=>{console.log(" Project update notification:",P),f({type:"info",title:"Project Update",message:P.message,data:P,timestamp:new Date})}),w.on("new_query",P=>{console.log(" New query notification:",P),f({type:"info",title:"New Query",message:P.message,data:P,timestamp:new Date})}),w.on("query_response",P=>{console.log(" Query response notification:",P),f({type:"success",title:"Query Response",message:P.message,data:P,timestamp:new Date})}),h.current=w,()=>{w.close(),r(null),a(!1)}},[d,u]);const f=w=>{l(P=>[{...w,id:w.id||Math.random().toString(36).substr(2,9),read:!1},...P].slice(0,50))},y=w=>{l(P=>P.filter(_=>_.id!==w))},x=w=>{l(P=>P.map(_=>_.id===w?{..._,read:!0}:_))},g=()=>{l(w=>w.map(P=>({...P,read:!0})))},v=()=>{l([])},j=w=>{t&&s&&t.emit("join_project",w)},N=w=>{t&&s&&t.emit("leave_project",w)};return{socket:t,connected:s,notifications:i,unreadCount:i.filter(w=>!w.read).length,addNotification:f,removeNotification:y,markNotificationAsRead:x,markAllAsRead:g,clearAllNotifications:v,joinProject:j,leaveProject:N}};function lt(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function ns(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function $r(t,r){const s=lt(t);return isNaN(r)?ns(t,NaN):(r&&s.setDate(s.getDate()+r),s)}function Js(t,r){const s=lt(t);if(isNaN(r))return ns(t,NaN);if(!r)return s;const a=s.getDate(),i=ns(t,s.getTime());i.setMonth(s.getMonth()+r+1,0);const l=i.getDate();return a>=l?i:(s.setFullYear(i.getFullYear(),i.getMonth(),a),s)}const yx=6048e5,bM=864e5,Ud=43200,Ky=1440;let jM={};function Ui(){return jM}function jn(t,r){var u,h,f,y;const s=Ui(),a=(r==null?void 0:r.weekStartsOn)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,i=lt(t),l=i.getDay(),d=(l<a?7:0)+l-a;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function jo(t){return jn(t,{weekStartsOn:1})}function r1(t){const r=lt(t),s=r.getFullYear(),a=ns(t,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=jo(a),l=ns(t,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const d=jo(l);return r.getTime()>=i.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function _i(t){const r=lt(t);return r.setHours(0,0,0,0),r}function Ei(t){const r=lt(t),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+t-+s}function pn(t,r){const s=_i(t),a=_i(r),i=+s-Ei(s),l=+a-Ei(a);return Math.round((i-l)/bM)}function wM(t){const r=r1(t),s=ns(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),jo(s)}function gp(t,r){const s=r*7;return $r(t,s)}function NM(t,r){return Js(t,r*12)}function SM(t){let r;return t.forEach(function(s){const a=lt(s);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function kM(t){let r;return t.forEach(s=>{const a=lt(s);(!r||r>a||isNaN(+a))&&(r=a)}),r||new Date(NaN)}function Zd(t,r){const s=lt(t),a=lt(r),i=s.getTime()-a.getTime();return i<0?-1:i>0?1:i}function CM(t){return ns(t,Date.now())}function ts(t,r){const s=_i(t),a=_i(r);return+s==+a}function bx(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function PM(t){if(!bx(t)&&typeof t!="number")return!1;const r=lt(t);return!isNaN(Number(r))}function Ri(t,r){const s=lt(t),a=lt(r),i=s.getFullYear()-a.getFullYear(),l=s.getMonth()-a.getMonth();return i*12+l}function _M(t,r,s){const a=jn(t,s),i=jn(r,s),l=+a-Ei(a),d=+i-Ei(i);return Math.round((l-d)/yx)}function EM(t){return r=>{const a=(t?Math[t]:Math.trunc)(r);return a===0?0:a}}function RM(t,r){return+lt(t)-+lt(r)}function TM(t){const r=lt(t);return r.setHours(23,59,59,999),r}function Hu(t){const r=lt(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function DM(t){const r=lt(t);return+TM(r)==+Hu(r)}function AM(t,r){const s=lt(t),a=lt(r),i=Zd(s,a),l=Math.abs(Ri(s,a));let d;if(l<1)d=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*l);let u=Zd(s,a)===-i;DM(lt(t))&&l===1&&Zd(t,a)===1&&(u=!1),d=i*(l-Number(u))}return d===0?0:d}function MM(t,r,s){const a=RM(t,r)/1e3;return EM(s==null?void 0:s.roundingMethod)(a)}function rs(t){const r=lt(t);return r.setDate(1),r.setHours(0,0,0,0),r}function s1(t){const r=lt(t),s=ns(t,0);return s.setFullYear(r.getFullYear(),0,1),s.setHours(0,0,0,0),s}function jx(t,r){var u,h,f,y;const s=Ui(),a=(r==null?void 0:r.weekStartsOn)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,i=lt(t),l=i.getDay(),d=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}function n1(t){return jx(t,{weekStartsOn:1})}const IM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OM=(t,r,s)=>{let a;const i=IM[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Nf(t){return(r={})=>{const s=r.width?String(r.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const FM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$M={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VM={date:Nf({formats:FM,defaultWidth:"full"}),time:Nf({formats:LM,defaultWidth:"full"}),dateTime:Nf({formats:$M,defaultWidth:"full"})},BM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UM=(t,r,s,a)=>BM[t];function El(t){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,u=s!=null&&s.width?String(s.width):d;i=t.formattingValues[u]||t.formattingValues[d]}else{const d=t.defaultWidth,u=s!=null&&s.width?String(s.width):t.defaultWidth;i=t.values[u]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(r):r;return i[l]}}const zM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GM=(t,r)=>{const s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},QM={ordinalNumber:GM,era:El({values:zM,defaultWidth:"wide"}),quarter:El({values:qM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:El({values:WM,defaultWidth:"wide"}),day:El({values:HM,defaultWidth:"wide"}),dayPeriod:El({values:YM,defaultWidth:"wide",formattingValues:KM,defaultFormattingWidth:"wide"})};function Rl(t){return(r,s={})=>{const a=s.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=r.match(i);if(!l)return null;const d=l[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?JM(u,x=>x.test(d)):XM(u,x=>x.test(d));let f;f=t.valueCallback?t.valueCallback(h):h,f=s.valueCallback?s.valueCallback(f):f;const y=r.slice(d.length);return{value:f,rest:y}}}function XM(t,r){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return s}function JM(t,r){for(let s=0;s<t.length;s++)if(r(t[s]))return s}function ZM(t){return(r,s={})=>{const a=r.match(t.matchPattern);if(!a)return null;const i=a[0],l=r.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=s.valueCallback?s.valueCallback(d):d;const u=r.slice(i.length);return{value:d,rest:u}}}const e6=/^(\d+)(th|st|nd|rd)?/i,t6=/\d+/i,r6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s6={any:[/^b/i,/^(a|c)/i]},n6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a6={any:[/1/i,/2/i,/3/i,/4/i]},o6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},u6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m6={ordinalNumber:ZM({matchPattern:e6,parsePattern:t6,valueCallback:t=>parseInt(t,10)}),era:Rl({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:s6,defaultParseWidth:"any"}),quarter:Rl({matchPatterns:n6,defaultMatchWidth:"wide",parsePatterns:a6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Rl({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:i6,defaultParseWidth:"any"}),day:Rl({matchPatterns:l6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any"}),dayPeriod:Rl({matchPatterns:d6,defaultMatchWidth:"any",parsePatterns:u6,defaultParseWidth:"any"})},wx={code:"en-US",formatDistance:OM,formatLong:VM,formatRelative:UM,localize:QM,match:m6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function h6(t){const r=lt(t);return pn(r,s1(r))+1}function a1(t){const r=lt(t),s=+jo(r)-+wM(r);return Math.round(s/yx)+1}function o1(t,r){var y,x,g,v;const s=lt(t),a=s.getFullYear(),i=Ui(),l=(r==null?void 0:r.firstWeekContainsDate)??((x=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,d=ns(t,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);const u=jn(d,r),h=ns(t,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const f=jn(h,r);return s.getTime()>=u.getTime()?a+1:s.getTime()>=f.getTime()?a:a-1}function f6(t,r){var u,h,f,y;const s=Ui(),a=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,i=o1(t,r),l=ns(t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),jn(l,r)}function i1(t,r){const s=lt(t),a=+jn(s,r)-+f6(s,r);return Math.round(a/yx)+1}function Tt(t,r){const s=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return s+a}const ja={y(t,r){const s=t.getFullYear(),a=s>0?s:1-s;return Tt(r==="yy"?a%100:a,r.length)},M(t,r){const s=t.getMonth();return r==="M"?String(s+1):Tt(s+1,2)},d(t,r){return Tt(t.getDate(),r.length)},a(t,r){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,r){return Tt(t.getHours()%12||12,r.length)},H(t,r){return Tt(t.getHours(),r.length)},m(t,r){return Tt(t.getMinutes(),r.length)},s(t,r){return Tt(t.getSeconds(),r.length)},S(t,r){const s=r.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,s-3));return Tt(i,r.length)}},ri={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gy={G:function(t,r,s){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return s.ordinalNumber(i,{unit:"year"})}return ja.y(t,r)},Y:function(t,r,s,a){const i=o1(t,a),l=i>0?i:1-i;if(r==="YY"){const d=l%100;return Tt(d,2)}return r==="Yo"?s.ordinalNumber(l,{unit:"year"}):Tt(l,r.length)},R:function(t,r){const s=r1(t);return Tt(s,r.length)},u:function(t,r){const s=t.getFullYear();return Tt(s,r.length)},Q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Tt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Tt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,s){const a=t.getMonth();switch(r){case"M":case"MM":return ja.M(t,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,s){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return Tt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,s,a){const i=i1(t,a);return r==="wo"?s.ordinalNumber(i,{unit:"week"}):Tt(i,r.length)},I:function(t,r,s){const a=a1(t);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):Tt(a,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):ja.d(t,r)},D:function(t,r,s){const a=h6(t);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Tt(a,r.length)},E:function(t,r,s){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,s,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return Tt(l,2);case"eo":return s.ordinalNumber(l,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,s,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return Tt(l,r.length);case"co":return s.ordinalNumber(l,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,s){const a=t.getDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Tt(i,r.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,s){const i=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,s){const a=t.getHours();let i;switch(a===12?i=ri.noon:a===0?i=ri.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,s){const a=t.getHours();let i;switch(a>=17?i=ri.evening:a>=12?i=ri.afternoon:a>=4?i=ri.morning:i=ri.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return ja.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):ja.H(t,r)},K:function(t,r,s){const a=t.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Tt(a,r.length)},k:function(t,r,s){let a=t.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):Tt(a,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):ja.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):ja.s(t,r)},S:function(t,r){return ja.S(t,r)},X:function(t,r,s){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Xy(a);case"XXXX":case"XX":return uo(a);case"XXXXX":case"XXX":default:return uo(a,":")}},x:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"x":return Xy(a);case"xxxx":case"xx":return uo(a);case"xxxxx":case"xxx":default:return uo(a,":")}},O:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Qy(a,":");case"OOOO":default:return"GMT"+uo(a,":")}},z:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Qy(a,":");case"zzzz":default:return"GMT"+uo(a,":")}},t:function(t,r,s){const a=Math.trunc(t.getTime()/1e3);return Tt(a,r.length)},T:function(t,r,s){const a=t.getTime();return Tt(a,r.length)}};function Qy(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?s+String(i):s+String(i)+r+Tt(l,2)}function Xy(t,r){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):uo(t,r)}function uo(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),i=Tt(Math.trunc(a/60),2),l=Tt(a%60,2);return s+i+r+l}const Jy=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},l1=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},p6=(t,r)=>{const s=t.match(/(P+)(p+)?/)||[],a=s[1],i=s[2];if(!i)return Jy(t,r);let l;switch(a){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",Jy(a,r)).replace("{{time}}",l1(i,r))},x6={p:l1,P:p6},g6=/^D+$/,v6=/^Y+$/,y6=["D","DD","YY","YYYY"];function b6(t){return g6.test(t)}function j6(t){return v6.test(t)}function w6(t,r,s){const a=N6(t,r,s);if(console.warn(a),y6.includes(t))throw new RangeError(a)}function N6(t,r,s){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C6=/^'([^]*?)'?$/,P6=/''/g,_6=/[a-zA-Z]/;function Qn(t,r,s){var y,x,g,v,j,N,w,P;const a=Ui(),i=(s==null?void 0:s.locale)??a.locale??wx,l=(s==null?void 0:s.firstWeekContainsDate)??((x=(y=s==null?void 0:s.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(g=a.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,d=(s==null?void 0:s.weekStartsOn)??((N=(j=s==null?void 0:s.locale)==null?void 0:j.options)==null?void 0:N.weekStartsOn)??a.weekStartsOn??((P=(w=a.locale)==null?void 0:w.options)==null?void 0:P.weekStartsOn)??0,u=lt(t);if(!PM(u))throw new RangeError("Invalid time value");let h=r.match(k6).map(_=>{const C=_[0];if(C==="p"||C==="P"){const L=x6[C];return L(_,i.formatLong)}return _}).join("").match(S6).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const C=_[0];if(C==="'")return{isToken:!1,value:E6(_)};if(Gy[C])return{isToken:!0,value:_};if(C.match(_6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const f={firstWeekContainsDate:l,weekStartsOn:d,locale:i};return h.map(_=>{if(!_.isToken)return _.value;const C=_.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&j6(C)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&b6(C))&&w6(C,r,String(t));const L=Gy[C[0]];return L(u,C,i.localize,f)}).join("")}function E6(t){const r=t.match(C6);return r?r[1].replace(P6,"'"):t}function R6(t,r,s){const a=Ui(),i=(s==null?void 0:s.locale)??a.locale??wx,l=2520,d=Zd(t,r);if(isNaN(d))throw new RangeError("Invalid time value");const u=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:d});let h,f;d>0?(h=lt(r),f=lt(t)):(h=lt(t),f=lt(r));const y=MM(f,h),x=(Ei(f)-Ei(h))/1e3,g=Math.round((y-x)/60);let v;if(g<2)return s!=null&&s.includeSeconds?y<5?i.formatDistance("lessThanXSeconds",5,u):y<10?i.formatDistance("lessThanXSeconds",10,u):y<20?i.formatDistance("lessThanXSeconds",20,u):y<40?i.formatDistance("halfAMinute",0,u):y<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):g===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",g,u);if(g<45)return i.formatDistance("xMinutes",g,u);if(g<90)return i.formatDistance("aboutXHours",1,u);if(g<Ky){const j=Math.round(g/60);return i.formatDistance("aboutXHours",j,u)}else{if(g<l)return i.formatDistance("xDays",1,u);if(g<Ud){const j=Math.round(g/Ky);return i.formatDistance("xDays",j,u)}else if(g<Ud*2)return v=Math.round(g/Ud),i.formatDistance("aboutXMonths",v,u)}if(v=AM(f,h),v<12){const j=Math.round(g/Ud);return i.formatDistance("xMonths",j,u)}else{const j=v%12,N=Math.trunc(v/12);return j<3?i.formatDistance("aboutXYears",N,u):j<9?i.formatDistance("overXYears",N,u):i.formatDistance("almostXYears",N+1,u)}}function T6(t,r){return R6(t,CM(t),r)}function D6(t){const r=lt(t),s=r.getFullYear(),a=r.getMonth(),i=ns(t,0);return i.setFullYear(s,a+1,0),i.setHours(0,0,0,0),i.getDate()}function A6(t){return Math.trunc(+lt(t)/1e3)}function M6(t){const r=lt(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(0,0,0,0),r}function I6(t,r){return _M(M6(t),rs(t),r)+1}function vp(t,r){const s=lt(t),a=lt(r);return s.getTime()>a.getTime()}function c1(t,r){const s=lt(t),a=lt(r);return+s<+a}function Nx(t,r){const s=lt(t),a=lt(r);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function O6(t,r){const s=lt(t),a=lt(r);return s.getFullYear()===a.getFullYear()}function Sf(t,r){return $r(t,-r)}function kf(t,r){const s=lt(t),a=s.getFullYear(),i=s.getDate(),l=ns(t,0);l.setFullYear(a,r,15),l.setHours(0,0,0,0);const d=D6(l);return s.setMonth(r,Math.min(i,d)),s}function Zy(t,r){const s=lt(t);return isNaN(+s)?ns(t,NaN):(s.setFullYear(r),s)}const F6=()=>{const[t,r]=m.useState(!1),[s,a]=m.useState([]),[i,l]=m.useState(!1),{user:d}=It(),{toast:u}=ot(),{notifications:h,unreadCount:f,removeNotification:y,markNotificationAsRead:x,markAllAsRead:g,clearAllNotifications:v}=t1(),j=[...h,...s];m.useEffect(()=>{d&&N()},[d]);const N=async()=>{try{l(!0);const M=await re.getNotifications({limit:10});M.data&&a(M.data.notifications||[])}catch(M){console.error("Error fetching notifications:",M)}finally{l(!1)}},w=async M=>{try{await re.markNotificationAsRead(M),a(V=>V.map(k=>k._id===M?{...k,isRead:!0}:k))}catch(V){console.error("Error marking notification as read:",V)}},P=async()=>{try{if(s.filter(V=>!V.isRead).length===0)return;await re.markNotificationsAsRead(),a(V=>V.map(k=>({...k,isRead:!0}))),u({title:"Success",description:"All notifications marked as read"})}catch(M){console.error("Error marking all notifications as read:",M),u({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},_=async()=>{try{await re.clearAllNotifications(),a([]),u({title:"Success",description:"All notifications cleared"})}catch(M){console.error("Error clearing notifications:",M),u({title:"Error",description:"Failed to clear notifications",variant:"destructive"})}},C=M=>{M._id?M.isRead||w(M._id):M.read||x(M.id)},L=M=>{switch(M){case"success":return e.jsx(oc,{className:"h-4 w-4 text-green-600"});case"warning":return e.jsx(bj,{className:"h-4 w-4 text-yellow-600"});case"error":return e.jsx(Et,{className:"h-4 w-4 text-red-600"});default:return e.jsx(Ra,{className:"h-4 w-4 text-blue-600"})}},q=M=>{switch(M){case"success":return"border-l-green-500 bg-green-50";case"warning":return"border-l-yellow-500 bg-yellow-50";case"error":return"border-l-red-500 bg-red-50";default:return"border-l-blue-500 bg-blue-50"}};if(!d)return null;const A=[...j].sort((M,V)=>{const k=M.timestamp||M.createdAt,T=V.timestamp||V.createdAt;return new Date(T).getTime()-new Date(k).getTime()});return e.jsxs("div",{className:"relative",children:[e.jsxs(H,{variant:"ghost",size:"sm",className:"relative",onClick:()=>r(!t),children:[e.jsx(Ra,{className:"h-5 w-5"}),f>0&&e.jsx(xe,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:f>99?"99+":f})]}),t&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border z-50",children:e.jsxs(G,{className:"border-0 shadow-none",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ye,{className:"text-sm font-medium",children:"Notifications"}),e.jsx("div",{className:"flex gap-1",children:j.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:async()=>{g(),await P()},className:"h-7 px-2 text-xs",disabled:f===0&&s.filter(M=>!M.isRead).length===0,children:[e.jsx(_E,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),e.jsxs(H,{variant:"ghost",size:"sm",onClick:async()=>{v(),await _()},className:"h-7 px-2 text-xs text-red-600 hover:text-red-700",children:[e.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Clear all"]})]})})]})}),e.jsx(Q,{className:"p-0",children:e.jsx(hx,{className:"h-80",children:i?e.jsx("div",{className:"p-4 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"})}):j.length===0?e.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[e.jsx(Ra,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):e.jsx("div",{className:"space-y-1",children:A.map(M=>{const V=M.read!==void 0?M.read:M.isRead,k=M.id||M._id;return e.jsx("div",{className:`p-3 border-l-4 cursor-pointer hover:bg-gray-50 transition-colors ${q(M.type)} ${V?"bg-opacity-50":"bg-opacity-100"}`,onClick:()=>C(M),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:L(M.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:M.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:T6(new Date(M.timestamp||M.createdAt),{addSuffix:!0})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!V&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:T=>{T.stopPropagation(),M._id?(w(M._id),a(z=>z.filter(E=>E._id!==M._id))):y(M.id)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Et,{className:"h-3 w-3"})})]})]})})]})},k)})})})})]})})]})},ks=()=>{var g;const{user:t,signOut:r}=It(),{profile:s}=Wa(),a=dr(),i=wn(),{toast:l}=ot(),d=async()=>{try{localStorage.removeItem("selectedRole");const{error:v}=await r();v?l({title:"Error",description:"Failed to sign out",variant:"destructive"}):(a("/"),l({title:"Signed out",description:"You have been successfully signed out"}))}catch{l({title:"Error",description:"Something went wrong",variant:"destructive"})}},u=()=>{if(t){const v=h();console.log("[Header] Navigating to dashboard:",v,"for user role:",(t==null?void 0:t.role)||(s==null?void 0:s.role)),a(v)}else a("/auth")},h=()=>{if(!t)return"/";switch((t==null?void 0:t.role)||(s==null?void 0:s.role)){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/dashboard"}},f=i.pathname.includes("/dashboard"),[y,x]=m.useState(!1);return e.jsxs("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-md supports-backdrop-blur:bg-background/80 border-b border-border shadow-soft",children:[e.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-2 sm:py-3 lg:py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.jsx("button",{className:"inline-flex items-center justify-center rounded-md p-1.5 sm:p-2 text-foreground hover:text-estate-blue hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring lg:hidden transition-colors","aria-label":"Toggle navigation menu",onClick:()=>x(v=>!v),children:y?e.jsx(Et,{className:"h-5 w-5 sm:h-6 sm:w-6"}):e.jsx(IE,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsxs(He,{to:"/",className:"shrink-0 text-lg sm:text-xl lg:text-2xl font-bold text-estate-blue mr-4 sm:mr-6 lg:mr-8",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsxs("nav",{className:"hidden lg:flex items-center justify-center flex-1 gap-4 xl:gap-6 overflow-x-auto whitespace-nowrap [scrollbar-width:none] [-ms-overflow-style:none]",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx(He,{to:"/",className:"text-foreground hover:text-estate-blue transition-colors font-medium text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Home"}),e.jsx(He,{to:"/projects",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Projects"}),e.jsx(He,{to:"/properties",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Properties"}),e.jsx(He,{to:"/post-property",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Post Your Property"}),e.jsx(He,{to:"/about",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"About Us"}),e.jsx(He,{to:"/contact",className:"text-foreground hover:text-estate-blue transition-colors text-sm xl:text-base px-2 py-1 rounded-md hover:bg-secondary/50",children:"Contact Us"})]})]}),e.jsx("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:t?e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(F6,{}),e.jsxs(kN,{children:[e.jsx(CN,{asChild:!0,children:e.jsxs(H,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[e.jsx(nr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"max-w-[80px] sm:max-w-[120px] lg:max-w-[160px] truncate inline-block align-middle",children:(s==null?void 0:s.fullName)||((g=t==null?void 0:t.email)==null?void 0:g.split("@")[0])||"User"})]})}),e.jsxs(lx,{align:"end",className:"w-56",children:[e.jsx(ui,{asChild:!0,children:e.jsxs(He,{to:"/profile",className:"flex items-center",children:[e.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Profile Settings"]})}),!f&&e.jsxs(ui,{onClick:u,className:"flex items-center",children:[e.jsx(AE,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),e.jsx(PN,{}),e.jsxs(ui,{onClick:d,className:"flex items-center text-destructive",children:[e.jsx(wj,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]}):e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(He,{to:"/auth",children:e.jsxs(H,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[e.jsx(nr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})}),e.jsx(He,{to:"/auth?mode=register",children:e.jsxs(H,{size:"sm",className:"bg-estate-blue hover:bg-estate-blue-light text-xs sm:text-sm px-2 sm:px-3",children:[e.jsx(ME,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Register"})]})})]})})]})}),y&&e.jsx("div",{className:"lg:hidden border-t border-border bg-background/95 backdrop-blur-md",children:e.jsx("div",{className:"container mx-auto px-3 sm:px-4 py-3",children:e.jsxs("nav",{className:"flex flex-col gap-1",children:[e.jsx(He,{to:"/",onClick:()=>x(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Home"}),e.jsx(He,{to:"/projects",onClick:()=>x(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Projects"}),e.jsx(He,{to:"/properties",onClick:()=>x(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Properties"}),e.jsx(He,{to:"/post-property",onClick:()=>x(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Post Your Property"}),e.jsx(He,{to:"/about",onClick:()=>x(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"About Us"}),e.jsx(He,{to:"/contact",onClick:()=>x(!1),className:"px-3 py-2.5 rounded-md text-foreground hover:bg-secondary hover:text-estate-blue transition-colors font-medium",children:"Contact Us"}),e.jsx("div",{className:"mt-3 border-t border-border pt-3",children:t?e.jsxs(e.Fragment,{children:[e.jsx(He,{to:"/profile",onClick:()=>x(!1),className:"block px-3 py-2.5 rounded-md text-foreground hover:bg-secondary transition-colors font-medium",children:"Profile Settings"}),!f&&e.jsx("button",{onClick:()=>{x(!1),u()},className:"mt-1 w-full text-left px-3 py-2.5 rounded-md text-foreground hover:bg-secondary transition-colors font-medium",children:"Dashboard"}),e.jsx("button",{onClick:()=>{x(!1),d()},className:"mt-1 w-full text-left px-3 py-2.5 rounded-md text-destructive hover:bg-secondary transition-colors font-medium",children:"Sign Out"})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(He,{to:"/auth",onClick:()=>x(!1),children:e.jsx(H,{variant:"outline",className:"w-full",children:"Sign In"})}),e.jsx(He,{to:"/auth?mode=register",onClick:()=>x(!1),children:e.jsx(H,{className:"w-full bg-estate-blue hover:bg-estate-blue-light",children:"Register"})})]})})]})})})]})};function Sx(t){const r=m.useRef({value:t,previous:t});return m.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var L6=[" ","Enter","ArrowUp","ArrowDown"],$6=[" ","Enter"],wo="Select",[Yu,Ku,V6]=Ii(wo),[zi]=vr(wo,[V6,qa]),Gu=qa(),[B6,Ha]=zi(wo),[U6,z6]=zi(wo),d1=t=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:i,onOpenChange:l,value:d,defaultValue:u,onValueChange:h,dir:f,name:y,autoComplete:x,disabled:g,required:v,form:j}=t,N=Gu(r),[w,P]=m.useState(null),[_,C]=m.useState(null),[L,q]=m.useState(!1),A=Po(f),[M,V]=fs({prop:a,defaultProp:i??!1,onChange:l,caller:wo}),[k,T]=fs({prop:d,defaultProp:u,onChange:h,caller:wo}),z=m.useRef(null),E=w?j||!!w.closest("form"):!0,[$,R]=m.useState(new Set),X=Array.from($).map(Y=>Y.props.value).join(";");return e.jsx(Zp,{...N,children:e.jsxs(B6,{required:v,scope:r,trigger:w,onTriggerChange:P,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:L,onValueNodeHasChildrenChange:q,contentId:gr(),value:k,onValueChange:T,open:M,onOpenChange:V,dir:A,triggerPointerDownPosRef:z,disabled:g,children:[e.jsx(Yu.Provider,{scope:r,children:e.jsx(U6,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Y=>{R(O=>new Set(O).add(Y))},[]),onNativeOptionRemove:m.useCallback(Y=>{R(O=>{const I=new Set(O);return I.delete(Y),I})},[]),children:s})}),E?e.jsxs(M1,{"aria-hidden":!0,required:v,tabIndex:-1,name:y,autoComplete:x,value:k,onChange:Y=>T(Y.target.value),disabled:g,form:j,children:[k===void 0?e.jsx("option",{value:""}):null,Array.from($)]},X):null]})})};d1.displayName=wo;var u1="SelectTrigger",m1=m.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:a=!1,...i}=t,l=Gu(s),d=Ha(u1,s),u=d.disabled||a,h=rt(r,d.onTriggerChange),f=Ku(s),y=m.useRef("touch"),[x,g,v]=O1(N=>{const w=f().filter(C=>!C.disabled),P=w.find(C=>C.value===d.value),_=F1(w,N,P);_!==void 0&&d.onValueChange(_.value)}),j=N=>{u||(d.onOpenChange(!0),v()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return e.jsx(cc,{asChild:!0,...l,children:e.jsx(Me.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":I1(d.value)?"":void 0,...i,ref:h,onClick:Ce(i.onClick,N=>{N.currentTarget.focus(),y.current!=="mouse"&&j(N)}),onPointerDown:Ce(i.onPointerDown,N=>{y.current=N.pointerType;const w=N.target;w.hasPointerCapture(N.pointerId)&&w.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:Ce(i.onKeyDown,N=>{const w=x.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&g(N.key),!(w&&N.key===" ")&&L6.includes(N.key)&&(j(),N.preventDefault())})})})});m1.displayName=u1;var h1="SelectValue",f1=m.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:i,children:l,placeholder:d="",...u}=t,h=Ha(h1,s),{onValueNodeHasChildrenChange:f}=h,y=l!==void 0,x=rt(r,h.onValueNodeChange);return ar(()=>{f(y)},[f,y]),e.jsx(Me.span,{...u,ref:x,style:{pointerEvents:"none"},children:I1(h.value)?e.jsx(e.Fragment,{children:d}):l})});f1.displayName=h1;var q6="SelectIcon",p1=m.forwardRef((t,r)=>{const{__scopeSelect:s,children:a,...i}=t;return e.jsx(Me.span,{"aria-hidden":!0,...i,ref:r,children:a||""})});p1.displayName=q6;var W6="SelectPortal",x1=t=>e.jsx(Oi,{asChild:!0,...t});x1.displayName=W6;var No="SelectContent",g1=m.forwardRef((t,r)=>{const s=Ha(No,t.__scopeSelect),[a,i]=m.useState();if(ar(()=>{i(new DocumentFragment)},[]),!s.open){const l=a;return l?Di.createPortal(e.jsx(v1,{scope:t.__scopeSelect,children:e.jsx(Yu.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(y1,{...t,ref:r})});g1.displayName=No;var $s=10,[v1,Ya]=zi(No),H6="SelectContentImpl",Y6=Fa("SelectContent.RemoveScroll"),y1=m.forwardRef((t,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:d,side:u,sideOffset:h,align:f,alignOffset:y,arrowPadding:x,collisionBoundary:g,collisionPadding:v,sticky:j,hideWhenDetached:N,avoidCollisions:w,...P}=t,_=Ha(No,s),[C,L]=m.useState(null),[q,A]=m.useState(null),M=rt(r,oe=>L(oe)),[V,k]=m.useState(null),[T,z]=m.useState(null),E=Ku(s),[$,R]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(C)return Fu(C)},[C]),Iu();const Y=m.useCallback(oe=>{const[de,...le]=E().map(we=>we.ref.current),[he]=le.slice(-1),fe=document.activeElement;for(const we of oe)if(we===fe||(we==null||we.scrollIntoView({block:"nearest"}),we===de&&q&&(q.scrollTop=0),we===he&&q&&(q.scrollTop=q.scrollHeight),we==null||we.focus(),document.activeElement!==fe))return},[E,q]),O=m.useCallback(()=>Y([V,C]),[Y,V,C]);m.useEffect(()=>{$&&O()},[$,O]);const{onOpenChange:I,triggerPointerDownPosRef:D}=_;m.useEffect(()=>{if(C){let oe={x:0,y:0};const de=he=>{var fe,we;oe={x:Math.abs(Math.round(he.pageX)-(((fe=D.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((we=D.current)==null?void 0:we.y)??0))}},le=he=>{oe.x<=10&&oe.y<=10?he.preventDefault():C.contains(he.target)||I(!1),document.removeEventListener("pointermove",de),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",le,{capture:!0})}}},[C,I,D]),m.useEffect(()=>{const oe=()=>I(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[I]);const[W,B]=O1(oe=>{const de=E().filter(fe=>!fe.disabled),le=de.find(fe=>fe.ref.current===document.activeElement),he=F1(de,oe,le);he&&setTimeout(()=>he.ref.current.focus())}),U=m.useCallback((oe,de,le)=>{const he=!X.current&&!le;(_.value!==void 0&&_.value===de||he)&&(k(oe),he&&(X.current=!0))},[_.value]),J=m.useCallback(()=>C==null?void 0:C.focus(),[C]),se=m.useCallback((oe,de,le)=>{const he=!X.current&&!le;(_.value!==void 0&&_.value===de||he)&&z(oe)},[_.value]),ue=a==="popper"?yp:b1,ge=ue===yp?{side:u,sideOffset:h,align:f,alignOffset:y,arrowPadding:x,collisionBoundary:g,collisionPadding:v,sticky:j,hideWhenDetached:N,avoidCollisions:w}:{};return e.jsx(v1,{scope:s,content:C,viewport:q,onViewportChange:A,itemRefCallback:U,selectedItem:V,onItemLeave:J,itemTextRefCallback:se,focusSelectedItem:O,selectedItemText:T,position:a,isPositioned:$,searchRef:W,children:e.jsx(mc,{as:Y6,allowPinchZoom:!0,children:e.jsx(dc,{asChild:!0,trapped:_.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ce(i,oe=>{var de;(de=_.trigger)==null||de.focus({preventScroll:!0}),oe.preventDefault()}),children:e.jsx(Co,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:oe=>oe.preventDefault(),...P,...ge,onPlaced:()=>R(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:Ce(P.onKeyDown,oe=>{const de=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!de&&oe.key.length===1&&B(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let he=E().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const fe=oe.target,we=he.indexOf(fe);he=he.slice(we+1)}setTimeout(()=>Y(he)),oe.preventDefault()}})})})})})})});y1.displayName=H6;var K6="SelectItemAlignedPosition",b1=m.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:a,...i}=t,l=Ha(No,s),d=Ya(No,s),[u,h]=m.useState(null),[f,y]=m.useState(null),x=rt(r,M=>y(M)),g=Ku(s),v=m.useRef(!1),j=m.useRef(!0),{viewport:N,selectedItem:w,selectedItemText:P,focusSelectedItem:_}=d,C=m.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&f&&N&&w&&P){const M=l.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),T=P.getBoundingClientRect();if(l.dir!=="rtl"){const fe=T.left-V.left,we=k.left-fe,Oe=M.left-we,Te=M.width+Oe,pt=Math.max(Te,V.width),Ot=window.innerWidth-$s,Yt=tc(we,[$s,Math.max($s,Ot-pt)]);u.style.minWidth=Te+"px",u.style.left=Yt+"px"}else{const fe=V.right-T.right,we=window.innerWidth-k.right-fe,Oe=window.innerWidth-M.right-we,Te=M.width+Oe,pt=Math.max(Te,V.width),Ot=window.innerWidth-$s,Yt=tc(we,[$s,Math.max($s,Ot-pt)]);u.style.minWidth=Te+"px",u.style.right=Yt+"px"}const z=g(),E=window.innerHeight-$s*2,$=N.scrollHeight,R=window.getComputedStyle(f),X=parseInt(R.borderTopWidth,10),Y=parseInt(R.paddingTop,10),O=parseInt(R.borderBottomWidth,10),I=parseInt(R.paddingBottom,10),D=X+Y+$+I+O,W=Math.min(w.offsetHeight*5,D),B=window.getComputedStyle(N),U=parseInt(B.paddingTop,10),J=parseInt(B.paddingBottom,10),se=M.top+M.height/2-$s,ue=E-se,ge=w.offsetHeight/2,oe=w.offsetTop+ge,de=X+Y+oe,le=D-de;if(de<=se){const fe=z.length>0&&w===z[z.length-1].ref.current;u.style.bottom="0px";const we=f.clientHeight-N.offsetTop-N.offsetHeight,Oe=Math.max(ue,ge+(fe?J:0)+we+O),Te=de+Oe;u.style.height=Te+"px"}else{const fe=z.length>0&&w===z[0].ref.current;u.style.top="0px";const Oe=Math.max(se,X+N.offsetTop+(fe?U:0)+ge)+le;u.style.height=Oe+"px",N.scrollTop=de-se+N.offsetTop}u.style.margin=`${$s}px 0`,u.style.minHeight=W+"px",u.style.maxHeight=E+"px",a==null||a(),requestAnimationFrame(()=>v.current=!0)}},[g,l.trigger,l.valueNode,u,f,N,w,P,l.dir,a]);ar(()=>C(),[C]);const[L,q]=m.useState();ar(()=>{f&&q(window.getComputedStyle(f).zIndex)},[f]);const A=m.useCallback(M=>{M&&j.current===!0&&(C(),_==null||_(),j.current=!1)},[C,_]);return e.jsx(Q6,{scope:s,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:e.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:e.jsx(Me.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});b1.displayName=K6;var G6="SelectPopperPosition",yp=m.forwardRef((t,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:i=$s,...l}=t,d=Gu(s);return e.jsx(Tu,{...d,...l,ref:r,align:a,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yp.displayName=G6;var[Q6,kx]=zi(No,{}),bp="SelectViewport",j1=m.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:a,...i}=t,l=Ya(bp,s),d=kx(bp,s),u=rt(r,l.onViewportChange),h=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Yu.Slot,{scope:s,children:e.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,f=>{const y=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:g}=d;if(g!=null&&g.current&&x){const v=Math.abs(h.current-y.scrollTop);if(v>0){const j=window.innerHeight-$s*2,N=parseFloat(x.style.minHeight),w=parseFloat(x.style.height),P=Math.max(N,w);if(P<j){const _=P+v,C=Math.min(j,_),L=_-C;x.style.height=C+"px",x.style.bottom==="0px"&&(y.scrollTop=L>0?L:0,x.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});j1.displayName=bp;var w1="SelectGroup",[X6,J6]=zi(w1),Z6=m.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,i=gr();return e.jsx(X6,{scope:s,id:i,children:e.jsx(Me.div,{role:"group","aria-labelledby":i,...a,ref:r})})});Z6.displayName=w1;var N1="SelectLabel",S1=m.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,i=J6(N1,s);return e.jsx(Me.div,{id:i.id,...a,ref:r})});S1.displayName=N1;var hu="SelectItem",[eI,k1]=zi(hu),C1=m.forwardRef((t,r)=>{const{__scopeSelect:s,value:a,disabled:i=!1,textValue:l,...d}=t,u=Ha(hu,s),h=Ya(hu,s),f=u.value===a,[y,x]=m.useState(l??""),[g,v]=m.useState(!1),j=rt(r,_=>{var C;return(C=h.itemRefCallback)==null?void 0:C.call(h,_,a,i)}),N=gr(),w=m.useRef("touch"),P=()=>{i||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(eI,{scope:s,value:a,disabled:i,textId:N,isSelected:f,onItemTextChange:m.useCallback(_=>{x(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:e.jsx(Yu.ItemSlot,{scope:s,value:a,disabled:i,textValue:y,children:e.jsx(Me.div,{role:"option","aria-labelledby":N,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:j,onFocus:Ce(d.onFocus,()=>v(!0)),onBlur:Ce(d.onBlur,()=>v(!1)),onClick:Ce(d.onClick,()=>{w.current!=="mouse"&&P()}),onPointerUp:Ce(d.onPointerUp,()=>{w.current==="mouse"&&P()}),onPointerDown:Ce(d.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Ce(d.onPointerMove,_=>{var C;w.current=_.pointerType,i?(C=h.onItemLeave)==null||C.call(h):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(d.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=h.onItemLeave)==null||C.call(h))}),onKeyDown:Ce(d.onKeyDown,_=>{var L;((L=h.searchRef)==null?void 0:L.current)!==""&&_.key===" "||($6.includes(_.key)&&P(),_.key===" "&&_.preventDefault())})})})})});C1.displayName=hu;var Ml="SelectItemText",P1=m.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:i,...l}=t,d=Ha(Ml,s),u=Ya(Ml,s),h=k1(Ml,s),f=z6(Ml,s),[y,x]=m.useState(null),g=rt(r,P=>x(P),h.onItemTextChange,P=>{var _;return(_=u.itemTextRefCallback)==null?void 0:_.call(u,P,h.value,h.disabled)}),v=y==null?void 0:y.textContent,j=m.useMemo(()=>e.jsx("option",{value:h.value,disabled:h.disabled,children:v},h.value),[h.disabled,h.value,v]),{onNativeOptionAdd:N,onNativeOptionRemove:w}=f;return ar(()=>(N(j),()=>w(j)),[N,w,j]),e.jsxs(e.Fragment,{children:[e.jsx(Me.span,{id:h.textId,...l,ref:g}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Di.createPortal(l.children,d.valueNode):null]})});P1.displayName=Ml;var _1="SelectItemIndicator",E1=m.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return k1(_1,s).isSelected?e.jsx(Me.span,{"aria-hidden":!0,...a,ref:r}):null});E1.displayName=_1;var jp="SelectScrollUpButton",R1=m.forwardRef((t,r)=>{const s=Ya(jp,t.__scopeSelect),a=kx(jp,t.__scopeSelect),[i,l]=m.useState(!1),d=rt(r,a.onScrollButtonChange);return ar(()=>{if(s.viewport&&s.isPositioned){let u=function(){const f=h.scrollTop>0;l(f)};const h=s.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[s.viewport,s.isPositioned]),i?e.jsx(D1,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=s;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});R1.displayName=jp;var wp="SelectScrollDownButton",T1=m.forwardRef((t,r)=>{const s=Ya(wp,t.__scopeSelect),a=kx(wp,t.__scopeSelect),[i,l]=m.useState(!1),d=rt(r,a.onScrollButtonChange);return ar(()=>{if(s.viewport&&s.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<f;l(y)};const h=s.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[s.viewport,s.isPositioned]),i?e.jsx(D1,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=s;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});T1.displayName=wp;var D1=m.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:a,...i}=t,l=Ya("SelectScrollButton",s),d=m.useRef(null),u=Ku(s),h=m.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return m.useEffect(()=>()=>h(),[h]),ar(()=>{var y;const f=u().find(x=>x.ref.current===document.activeElement);(y=f==null?void 0:f.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),e.jsx(Me.div,{"aria-hidden":!0,...i,ref:r,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var f;(f=l.onItemLeave)==null||f.call(l),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{h()})})}),tI="SelectSeparator",A1=m.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return e.jsx(Me.div,{"aria-hidden":!0,...a,ref:r})});A1.displayName=tI;var Np="SelectArrow",rI=m.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,i=Gu(s),l=Ha(Np,s),d=Ya(Np,s);return l.open&&d.position==="popper"?e.jsx(Du,{...i,...a,ref:r}):null});rI.displayName=Np;var sI="SelectBubbleInput",M1=m.forwardRef(({__scopeSelect:t,value:r,...s},a)=>{const i=m.useRef(null),l=rt(a,i),d=Sx(r);return m.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==r&&y){const x=new Event("change",{bubbles:!0});y.call(u,r),u.dispatchEvent(x)}},[d,r]),e.jsx(Me.select,{...s,style:{...Qb,...s.style},ref:l,defaultValue:r})});M1.displayName=sI;function I1(t){return t===""||t===void 0}function O1(t){const r=sr(t),s=m.useRef(""),a=m.useRef(0),i=m.useCallback(d=>{const u=s.current+d;r(u),(function h(f){s.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>h(""),1e3))})(u)},[r]),l=m.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,i,l]}function F1(t,r,s){const i=r.length>1&&Array.from(r).every(f=>f===r[0])?r[0]:r,l=s?t.indexOf(s):-1;let d=nI(t,Math.max(l,0));i.length===1&&(d=d.filter(f=>f!==s));const h=d.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==s?h:void 0}function nI(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var aI=d1,L1=m1,oI=f1,iI=p1,lI=x1,$1=g1,cI=j1,V1=S1,B1=C1,dI=P1,uI=E1,U1=R1,z1=T1,q1=A1;const Xe=aI,Je=oI,Ye=m.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(L1,{ref:a,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(iI,{asChild:!0,children:e.jsx(Fi,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=L1.displayName;const W1=m.forwardRef(({className:t,...r},s)=>e.jsx(U1,{ref:s,className:Re("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(EE,{className:"h-4 w-4"})}));W1.displayName=U1.displayName;const H1=m.forwardRef(({className:t,...r},s)=>e.jsx(z1,{ref:s,className:Re("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Fi,{className:"h-4 w-4"})}));H1.displayName=z1.displayName;const Ke=m.forwardRef(({className:t,children:r,position:s="popper",...a},i)=>e.jsx(lI,{children:e.jsxs($1,{ref:i,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...a,children:[e.jsx(W1,{}),e.jsx(cI,{className:Re("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(H1,{})]})}));Ke.displayName=$1.displayName;const mI=m.forwardRef(({className:t,...r},s)=>e.jsx(V1,{ref:s,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));mI.displayName=V1.displayName;const te=m.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(B1,{ref:a,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(uI,{children:e.jsx(oc,{className:"h-4 w-4"})})}),e.jsx(dI,{children:r})]}));te.displayName=B1.displayName;const hI=m.forwardRef(({className:t,...r},s)=>e.jsx(q1,{ref:s,className:Re("-mx-1 my-1 h-px bg-muted",t),...r}));hI.displayName=q1.displayName;const Y1={"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Tirupati","Kadapa","Anantapur","Chittoor","Rajahmundry","Kakinada","Nizamabad","Ongole","Eluru","Machilipatnam","Proddatur","Tadepalligudem","Tenali","Chilakaluripet","Adoni"],"Arunachal Pradesh":["Itanagar","Naharlagun","Pasighat","Tezpur","Dibrugarh","Jorhat","Tinsukia","North Lakhimpur","Dhemaji","Bomdila","Ziro","Along","Roing","Tezu","Khonsa","Changlang","Namsai","Seppa","Koloriang","Yingkiong"],Assam:["Guwahati","Silchar","Dibrugarh","Jorhat","Nagaon","Tinsukia","Tezpur","Bongaigaon","Dhubri","Diphu","North Lakhimpur","Karimganj","Goalpara","Barpeta","Lanka","Lumding","Mangaldoi","Silapathar","Hailakandi","Sivasagar"],Bihar:["Patna","Gaya","Bhagalpur","Muzaffarpur","Darbhanga","Purnia","Arrah","Begusarai","Katihar","Munger","Chapra","Sasaram","Hajipur","Dehri","Bettiah","Motihari","Buxar","Kishanganj","Sitamarhi","Jamalpur"],Chhattisgarh:["Raipur","Bhilai","Bilaspur","Korba","Rajnandgaon","Durg","Raigarh","Jagdalpur","Ambikapur","Bhatapara","Chirmiri","Dhamtari","Mahasamund","Kanker","Kawardha","Janjgir","Mungeli","Sakti","Tilda","Baloda Bazar"],Goa:["Panaji","Margao","Vasco da Gama","Mapusa","Ponda","Mormugao","Sanquelim","Bicholim","Curchorem","Quepem","Sanguem","Canacona","Pernem","Tivim","Aldona","Siolim","Calangute","Candolim","Baga","Anjuna"],Gujarat:["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Jamnagar","Junagadh","Gandhinagar","Anand","Navsari","Morbi","Nadiad","Surendranagar","Bharuch","Mehsana","Bhuj","Porbandar","Palanpur","Valsad","Vapi"],Haryana:["Faridabad","Gurgaon","Panipat","Ambala","Yamunanagar","Rohtak","Hisar","Karnal","Sonipat","Panchkula","Sirsa","Bhiwani","Kaithal","Rewari","Palwal","Thanesar","Bahadurgarh","Jind","Narnaul","Fatehabad"],"Himachal Pradesh":["Shimla","Dharamshala","Solan","Mandi","Palampur","Baddi","Nahan","Una","Hamirpur","Chamba","Kullu","Manali","Kangra","Bilaspur","Sundarnagar","Parwanoo","Paonta Sahib","Nalagarh","Rampur","Theog"],Jharkhand:["Ranchi","Jamshedpur","Dhanbad","Bokaro","Deoghar","Phusro","Hazaribagh","Giridih","Ramgarh","Jhumri Telaiya","Medininagar","Chaibasa","Chatra","Gumla","Dumka","Madhupur","Chirkunda","Jagannathpur","Muri","Tenu"],Karnataka:["Bangalore","Hubli","Mysore","Gulbarga","Belgaum","Mangalore","Davangere","Bellary","Bijapur","Shimoga","Tumkur","Raichur","Bidar","Hospet","Hassan","Gadag","Udupi","Robertsonpet","Bhadravati","Chitradurga"],Kerala:["Thiruvananthapuram","Kochi","Kozhikode","Thrissur","Kollam","Palakkad","Alappuzha","Malappuram","Kannur","Kasaragod","Kottayam","Idukki","Wayanad","Pathanamthitta","Ernakulam","Kannur","Kochi","Thrissur","Kozhikode","Malappuram"],"Madhya Pradesh":["Bhopal","Indore","Gwalior","Jabalpur","Ujjain","Sagar","Dewas","Satna","Ratlam","Rewa","Murwara","Singrauli","Burhanpur","Khandwa","Morena","Bhind","Chhindwara","Guna","Shivpuri","Vidisha"],Maharashtra:["Mumbai","Pune","Nagpur","Thane","Nashik","Aurangabad","Solapur","Amravati","Kolhapur","Nanded","Sangli","Malegaon","Ulhasnagar","Latur","Dhule","Ahmednagar","Chandrapur","Parbhani","Ichalkaranji","Jalgaon"],Manipur:["Imphal","Thoubal","Bishnupur","Churachandpur","Senapati","Tamenglong","Chandel","Ukhrul","Kakching","Jiribam","Moreh","Lilong","Mayang Imphal","Wangjing","Kakching","Lamlai","Sekmai","Khongman","Konthoujam","Sagolband"],Meghalaya:["Shillong","Tura","Jowai","Nongstoin","Baghmara","Williamnagar","Nongpoh","Mairang","Mawkyrwat","Resubelpara","Ampati","Mawphlang","Mawryngkneng","Pynursla","Sohra","Mawkyrwat","Nongstoin","Baghmara","Williamnagar","Nongpoh"],Mizoram:["Aizawl","Lunglei","Saiha","Champhai","Kolasib","Serchhip","Mamit","Lawngtlai","Saitual","Hnahthial","Khawzawl","Saitual","Darlawn","Tlabung","Vairengte","Bilkhawthlir","Thingsulthliah","Reiek","Phullen","Thenzawl"],Nagaland:["Kohima","Dimapur","Mokokchung","Tuensang","Wokha","Zunheboto","Phek","Kiphire","Longleng","Peren","Mon","Noklak","Shamator","Tseminyu","Bhandari","Chumukedima","Medziphema","Niuland","Pfutsero","Tuli"],Odisha:["Bhubaneswar","Cuttack","Rourkela","Berhampur","Sambalpur","Puri","Balasore","Bhadrak","Baripada","Bargarh","Jharsuguda","Bhubaneswar","Cuttack","Rourkela","Berhampur","Sambalpur","Puri","Balasore","Bhadrak","Baripada"],Punjab:["Ludhiana","Amritsar","Jalandhar","Patiala","Bathinda","Mohali","Batala","Pathankot","Moga","Abohar","Malerkotla","Khanna","Phagwara","Muktsar","Barnala","Rajpura","Firozpur","Kapurthala","Sangrur","Fazilka"],Rajasthan:["Jaipur","Jodhpur","Udaipur","Kota","Bikaner","Ajmer","Bharatpur","Alwar","Bhilwara","Ganganagar","Sikar","Pali","Beawar","Kishangarh","Hanumangarh","Baran","Chittorgarh","Dungarpur","Jhunjhunu","Nagaur"],Sikkim:["Gangtok","Namchi","Mangan","Gyalshing","Rangpo","Singtam","Jorethang","Rhenock","Rongli","Pakyong","Ravangla","Lachen","Lachung","Yuksom","Pelling","Tashiding","Rumtek","Temi","Chungthang","Dikchu"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Erode","Vellore","Thoothukkudi","Dindigul","Thanjavur","Ranipet","Sivakasi","Karur","Udhagamandalam","Hosur","Nagercoil","Kanchipuram","Cuddalore"],Telangana:["Hyderabad","Warangal","Nizamabad","Khammam","Karimnagar","Ramagundam","Mahbubnagar","Nalgonda","Adilabad","Suryapet","Miryalaguda","Tadepalligudem","Kothagudem","Mancherial","Bodhan","Sangareddy","Vikarabad","Jagtial","Nirmal","Kamareddy"],Tripura:["Agartala","Dharmanagar","Udaipur","Ambassa","Kailashahar","Belonia","Khowai","Teliamura","Sabroom","Sonamura","Bishalgarh","Kamalpur","Amarpur","Kumarghat","Jirania","Melaghar","Santirbazar","Panisagar","Dhalai","Sepahijala"],"Uttar Pradesh":["Lucknow","Kanpur","Ghaziabad","Agra","Meerut","Varanasi","Allahabad","Bareilly","Aligarh","Moradabad","Saharanpur","Gorakhpur","Firozabad","Jhansi","Muzaffarnagar","Mathura","Shahjahanpur","Rampur","Modinagar","Hapur"],Uttarakhand:["Dehradun","Haridwar","Roorkee","Kashipur","Rudrapur","Haldwani","Rishikesh","Ramnagar","Pithoragarh","Manglaur","Nainital","Mussoorie","Almora","Bageshwar","Champawat","Pauri","Tehri","Uttarkashi","Chamoli","Rudraprayag"],"West Bengal":["Kolkata","Asansol","Siliguri","Durgapur","Bardhaman","Malda","Bahraich","Habra","Kharagpur","Shantipur","Dankuni","Dhulian","Ranaghat","Haldia","Raiganj","Krishnanagar","Nabadwip","Medinipur","Jalpaiguri","Balurghat"],Delhi:["New Delhi","Central Delhi","North Delhi","South Delhi","East Delhi","West Delhi","North East Delhi","North West Delhi","South East Delhi","South West Delhi","Shahdara","Karol Bagh","Paharganj","Connaught Place","Lajpat Nagar","Saket","Dwarka","Rohini","Pitampura","Janakpuri"],"Jammu and Kashmir":["Srinagar","Jammu","Anantnag","Baramulla","Sopore","Kathua","Udhampur","Punch","Rajauri","Kishtwar","Doda","Ramban","Reasi","Samba","Ganderbal","Bandipora","Kupwara","Shopian","Kulgam","Pulwama"],Ladakh:["Leh","Kargil","Drass","Zanskar","Nubra","Changthang","Suru","Sham","Khaltsi","Nyoma","Durbuk","Turtuk","Hemis","Alchi","Lamayuru","Diskit","Panamik","Sumur","Tegar","Chushul"],Puducherry:["Puducherry","Karaikal","Mahe","Yanam","Ozhukarai","Villianur","Bahour","Mannadipet","Nettapakkam","Ariyankuppam","Kurumbapet","Muthialpet","Reddiarpalayam","Thirubuvanai","Embalam","Korkadu","Kalapet","Mudaliarpet","Sedarapet","Thirunallar"]},fu=t=>Y1[t]||[],Cx=()=>Object.keys(Y1),fI=()=>{const t=dr(),{toast:r}=ot(),[s,a]=m.useState({state:"",city:"",propertyType:"",budgetRange:""}),[i,l]=m.useState([]),d=(f,y)=>{a(x=>{const g={...x,[f]:y};if(f==="state"){g.city="";const v=fu(y);l(v)}return g})},u=()=>{const f=new URLSearchParams;Object.entries(s).forEach(([y,x])=>{x&&f.append(y,x)}),t(`/properties?${f.toString()}`),r({title:"Searching Properties",description:"Fnding properties that match your criteria..."})},h=Cx().map(f=>({value:f,label:f}));return e.jsx("section",{className:"bg-gradient-hero py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary-foreground mb-4",children:"Find Your Perfect Property"}),e.jsx("p",{className:"text-xl text-estate-blue-lighter max-w-2xl mx-auto",children:"Discover premium properties with our trusted platform. Your dream home awaits."})]}),e.jsx("div",{className:"bg-background rounded-lg shadow-strong p-6 max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"State"}),e.jsxs(Xe,{value:s.state,onValueChange:f=>d("state",f),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select State"})}),e.jsx(Ke,{children:h.map(f=>e.jsx(te,{value:f.value,children:f.label},f.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"City"}),e.jsxs(Xe,{value:s.city,onValueChange:f=>d("city",f),disabled:!s.state,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:s.state?"Select City":"Select State first"})}),e.jsx(Ke,{children:i.map(f=>e.jsx(te,{value:f,children:f},f))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Property Type"}),e.jsxs(Xe,{value:s.propertyType,onValueChange:f=>d("propertyType",f),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Property Type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"apartment",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),"Apartment"]})}),e.jsx(te,{value:"villa",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-4 w-4"}),"Villa"]})}),e.jsx(te,{value:"commercial",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hy,{className:"h-4 w-4"}),"Commercial"]})}),e.jsx(te,{value:"industrial",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hy,{className:"h-4 w-4"}),"Industrial"]})}),e.jsx(te,{value:"land",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(VE,{className:"h-4 w-4"}),"Land"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Budget Range"}),e.jsxs(Xe,{value:s.budgetRange,onValueChange:f=>d("budgetRange",f),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Budget"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"0-5000000",children:"0 - 50 Lakh"}),e.jsx(te,{value:"5000000-10000000",children:"50 Lakh - 1 Crore"}),e.jsx(te,{value:"10000000-20000000",children:"1 Crore - 2 Crore"}),e.jsx(te,{value:"20000000-50000000",children:"2 Crore - 5 Crore"}),e.jsx(te,{value:"50000000+",children:"5 Crore+"}),e.jsx(te,{value:"100000-500000",children:"$100K - $500K"}),e.jsx(te,{value:"500000-1000000",children:"$500K - $1M"}),e.jsx(te,{value:"1000000+",children:"$1M+"})]})]})]}),e.jsxs(H,{onClick:u,className:"bg-accent hover:bg-accent/90 text-accent-foreground h-10",children:[e.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Search Properties"]})]})})]})})},Qu=({id:t,name:r,location:s,price_range:a,completion_date:i,images:l,status:d,total_units:u,available_units:h,project_type:f,showSaveButton:y=!1,isSaved:x=!1,onSaveToggle:g})=>{var q;const{profile:v}=It(),{toast:j}=ot(),[N,w]=m.useState(x),[P,_]=m.useState(!1),C=async A=>{if(A.preventDefault(),A.stopPropagation(),!v){j({title:"Authentication Required",description:"Please log in to save projects",variant:"destructive"});return}_(!0);try{N?(await re.unsaveProject(t),w(!1),j({title:"Project Removed",description:"Project removed from your saved list"}),g==null||g(t,!1)):(await re.saveProject(t),w(!0),j({title:"Project Saved",description:"Project added to your saved list"}),g==null||g(t,!0))}catch(M){console.error("Error toggling save status:",M);const V=(M==null?void 0:M.message)||"Failed to update save status";j({title:"Error",description:V,variant:"destructive"})}finally{_(!1)}},L=A=>{switch(A){case"ongoing":return"bg-blue-500 text-white";case"completed":return"bg-green-500 text-white";case"planned":return"bg-yellow-500 text-white";case"on_hold":return"bg-gray-500 text-white";default:return"bg-blue-500 text-white"}};return console.log("ProjectCard rendering with id:",t),console.log("ProjectCard images:",l),!t||t==="undefined"||t==="null"||t.trim()===""?(console.error("ProjectCard: Invalid project ID:",t),e.jsx(G,{className:"p-4 text-center",children:e.jsx("p",{className:"text-red-500",children:"Invalid Project ID"})})):e.jsx(He,{to:`/project/${t}`,children:e.jsxs(G,{className:"group hover:shadow-strong transition-all duration-300 overflow-hidden border border-border hover:border-estate-blue/20 cursor-pointer h-full flex flex-col",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l&&l.length>0?typeof l[0]=="string"?l[0]:((q=l[0])==null?void 0:q.url)||"/placeholder.svg":"/placeholder.svg",alt:r,className:"w-full h-40 sm:h-48 lg:h-52 object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{console.log("Image failed to load:",A.currentTarget.src),A.currentTarget.src="/placeholder.svg"}}),e.jsx(xe,{className:`absolute top-2 left-2 sm:top-3 sm:left-3 text-xs sm:text-sm ${L(d)}`,children:d.replace("_"," ").toUpperCase()}),e.jsxs("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 flex gap-1 sm:gap-2",children:[e.jsx(xe,{variant:"secondary",className:"text-xs sm:text-sm",children:f}),y&&v&&e.jsx(H,{size:"sm",variant:"ghost",className:"h-7 w-7 sm:h-8 sm:w-8 p-0 bg-white/90 hover:bg-white text-gray-600 hover:text-red-500",onClick:C,disabled:P,children:P?e.jsx(Cr,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):N?e.jsx(mo,{className:"h-3 w-3 sm:h-4 sm:w-4 fill-red-500 text-red-500"}):e.jsx(Zf,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),e.jsxs(Q,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg text-foreground mb-2 group-hover:text-estate-blue transition-colors line-clamp-2",children:r}),e.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground mb-3",children:[e.jsx(Mt,{className:"h-3 w-3 sm:h-4 sm:w-4 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm line-clamp-2",children:typeof s=="string"?s:s&&typeof s=="object"&&`${s.address||""}, ${s.city||""}, ${s.state||""}`.trim().replace(/^,\s*|,\s*$/g,"")||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-estate-blue",children:a}),u&&e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground",children:[e.jsx(Ct,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{className:"hidden sm:inline",children:[h||0,"/",u," units"]}),e.jsxs("span",{className:"sm:hidden",children:[h||0,"/",u]})]})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground mt-auto",children:[e.jsx(Jt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsxs("span",{children:["Expected: ",new Date(i).toLocaleDateString()]})]})]})]})})},pI=({refreshTrigger:t})=>{const[r,s]=m.useState([]),[a,i]=m.useState(!0),{toast:l}=ot(),d=dr();m.useEffect(()=>{u()},[t]);const u=async()=>{var h;try{i(!0);const f=await re.getProjects({limit:6});if(f.error)throw new Error(f.error);const y=((h=f.data)==null?void 0:h.projects)||f.data||[];console.log("Raw projects data:",y);const x=y.map(g=>{var v;return console.log("Processing project:",g.name,"Images:",g.images),{id:g._id||g.id,name:g.name,location:g.location?`${g.location.address||""}, ${g.location.city||""}, ${g.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:g.priceRange?`${g.priceRange.min}${g.priceRange.unit==="lakh"?"L":g.priceRange.unit==="crore"?"Cr":""} - ${g.priceRange.max}${g.priceRange.unit==="lakh"?"L":g.priceRange.unit==="crore"?"Cr":""}`:"Price on request",completion_date:g.completionDate,images:((v=g.images)==null?void 0:v.map(j=>j?typeof j=="string"?j:(j==null?void 0:j.url)||null:null).filter(j=>j!==null&&j!==""))||[],status:g.status==="under_construction"?"ongoing":g.status==="ready_to_move"?"completed":g.status==="planning"?"planned":g.status,project_type:g.projectType||"residential",total_units:g.totalUnits,available_units:g.availableUnits}});s(x)}catch(f){console.error("Error fetching projects:",f),l({title:"Error",description:"Failed to load projects. Showing sample data.",variant:"destructive"}),s([{id:"sample-1",name:"Skyline Residences",location:"Downtown Mumbai, Maharashtra",price_range:"45L - 1.2Cr",completion_date:"2024-12-31",images:["/assets/apartment-1.jpg"],status:"ongoing",project_type:"residential",total_units:120,available_units:85},{id:"sample-2",name:"Garden Villas Estate",location:"Suburban Bangalore, Karnataka",price_range:"80L - 2.5Cr",completion_date:"2025-06-30",images:["/assets/villa-1.jpg"],status:"planned",project_type:"luxury_villas",total_units:45,available_units:45},{id:"sample-3",name:"Metro Business Hub",location:"Financial District, Delhi",price_range:"2Cr - 8Cr",completion_date:"2025-03-31",images:["/assets/commercial-1.jpg"],status:"ongoing",project_type:"commercial",total_units:80,available_units:20}])}finally{i(!1)}};return a?e.jsx("section",{className:"py-16 bg-estate-gray-light",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})})}):e.jsx("section",{className:"py-16 bg-estate-gray-light",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Current Builder Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Exclusive new developments from trusted builders"})]}),e.jsxs(H,{variant:"outline",className:"group",onClick:()=>d("/projects"),children:["See All Projects",e.jsx(Bn,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(h=>e.jsx(Qu,{id:h.id,name:h.name,location:h.location,price_range:h.price_range,completion_date:h.completion_date,images:h.images||[],status:h.status,total_units:h.total_units,available_units:h.available_units,project_type:h.project_type,showSaveButton:!0},h.id)):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No projects available at the moment."})})})]})})},Xu=({id:t,title:r,location:s,price:a,area:i,image:l,type:d,status:u})=>{const{user:h}=It(),{toast:f}=ot(),[y,x]=m.useState(!1),[g,v]=m.useState(!1);m.useEffect(()=>{h&&t&&j()},[h,t]);const j=async()=>{var C;try{const L=await re.checkIfLiked(t);x(((C=L.data)==null?void 0:C.hasLiked)||!1)}catch(L){console.error("Error checking saved status:",L)}},N=async C=>{if(C.preventDefault(),C.stopPropagation(),!h){f({title:"Login Required",description:"Please login to save properties",variant:"destructive"});return}v(!0);try{y?(await re.unlikeProperty(t),x(!1),f({title:"Removed from Saved",description:"Property removed from your saved list"})):(await re.likeProperty(t),x(!0),f({title:"Saved Property",description:"Property added to your saved list"}))}catch(L){console.error("Error toggling save:",L),f({title:"Error",description:"Failed to update saved status",variant:"destructive"})}finally{v(!1)}},w=C=>{switch(C){case"For Sale":return"bg-estate-success text-white";case"For Rent":return"bg-accent text-accent-foreground";case"Sold":return"bg-muted text-muted-foreground";default:return"bg-estate-success text-white"}},P=C=>{C.currentTarget.src="/placeholder.svg"},_=C=>{};return!t||t==="undefined"||t==="null"||t.trim()===""?(console.error("PropertyCard: Invalid property ID:",t),e.jsx(G,{className:"p-4 text-center",children:e.jsx("p",{className:"text-red-500",children:"Invalid Property ID"})})):e.jsx(He,{to:`/property/${t}`,children:e.jsxs(G,{className:"group hover:shadow-strong transition-all duration-500 overflow-hidden border border-border hover:border-estate-blue/20 cursor-pointer hover-lift smooth-transition h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:l||"/placeholder.svg",alt:r,className:"w-full h-40 sm:h-48 lg:h-52 object-cover group-hover:scale-110 transition-all duration-500 ease-out",onError:P,onLoad:_}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(xe,{className:`absolute top-2 left-2 sm:top-3 sm:left-3 text-xs sm:text-sm ${w(u)} smooth-transition group-hover:scale-105`,children:u}),e.jsx(H,{variant:"ghost",size:"sm",className:`absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 h-7 w-7 sm:h-8 sm:w-8 rounded-full transition-all duration-200 ${y?"bg-red-500 text-white hover:bg-red-600":"bg-white/90 text-gray-600 hover:bg-white hover:text-red-500"}`,onClick:N,disabled:g,children:e.jsx(mo,{className:`h-3 w-3 sm:h-4 sm:w-4 ${y?"fill-current":""}`})}),e.jsx(xe,{variant:"secondary",className:"absolute top-10 right-2 sm:top-12 sm:right-3 text-xs sm:text-sm smooth-transition group-hover:scale-105",children:d})]}),e.jsxs(Q,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg text-foreground mb-2 group-hover:text-estate-blue transition-colors line-clamp-2",children:r}),e.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground mb-3",children:[e.jsx(Mt,{className:"h-3 w-3 sm:h-4 sm:w-4 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm line-clamp-2",children:s})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-estate-blue",children:a}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground",children:[e.jsx(Sj,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{children:i})]})]})]})]})})},xI=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),{toast:i}=ot(),l=dr();m.useEffect(()=>{d()},[]);const d=async()=>{var u;try{const h=await re.getProperties({limit:6,status:"active"});if(h.error)throw new Error(h.error);const f=((u=h.data)==null?void 0:u.properties)||h.data||[];r(f)}catch(h){console.error("Error fetching properties:",h),i({title:"Error",description:"Failed to load properties",variant:"destructive"})}finally{a(!1)}};return s?e.jsx("section",{className:"py-16 bg-background",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})})}):e.jsx("section",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Properties"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover our handpicked premium properties"})]}),e.jsxs(H,{variant:"outline",className:"group",onClick:()=>l("/properties"),children:["See All Properties",e.jsx(Bn,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(u=>{var j,N,w,P,_,C;const h=((j=u.images)==null?void 0:j.find(L=>L.isPrimary))||((N=u.images)==null?void 0:N[0]),f=(h==null?void 0:h.url)||h||"/placeholder.svg",y=u.listingType==="rent"?`${(u.monthlyRent||u.price).toLocaleString()}/month`:`${u.price.toLocaleString()}`,x=`${((w=u.location)==null?void 0:w.address)||""}, ${((P=u.location)==null?void 0:P.city)||""}`,g=((_=u.propertyType)==null?void 0:_.charAt(0).toUpperCase())+((C=u.propertyType)==null?void 0:C.slice(1))||"Property",v=u.listingType==="rent"?"For Rent":u.status==="active"?"For Sale":u.status==="sold"?"Sold":"For Sale";return e.jsx(Xu,{id:u._id,title:u.title,location:x,price:y,area:`${u.area} sq ft`,image:f,type:g,status:v},u._id)}):e.jsx("div",{className:"col-span-full text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No properties available at the moment."})})})]})})},gI=()=>{const[t,r]=m.useState({clients:0,properties:0,brokers:0,loading:!0});m.useEffect(()=>{(async()=>{try{const d=await re.rpc("get_public_stats");if(error)throw error;const u=data;r({clients:(u==null?void 0:u.clients)||0,properties:(u==null?void 0:u.properties)||0,brokers:(u==null?void 0:u.brokers)||0,loading:!1})}catch(d){console.error("Error fetching stats:",d),r(u=>({...u,loading:!1}))}})()},[]);const s=l=>l>=1e3?(l/1e3).toFixed(0)+"K+":l.toString()+"+",a=[{icon:Ct,number:t.loading?"...":t.clients.toString(),label:"Happy Clients",description:"Satisfied customers worldwide"},{icon:yt,number:t.loading?"...":s(t.properties),label:"Properties Listed",description:"Premium listings available"},{icon:yo,number:"25+",label:"Years Experience",description:"Industry expertise and trust"}],i=[{name:"Yash Dhankecha ",role:"Property Investor",quote:"Exceptional service and professionalism. Found my dream property within weeks!",rating:4},{name:"Harsh Vyas",role:"First-time Buyer",quote:"The team guided me through every step. Transparent, reliable, and trustworthy.",rating:5},{name:"Karansinh Desai ",role:"Real Estate Developer",quote:"Outstanding market knowledge and innovative approach. Highly recommended!",rating:5}];return e.jsx("section",{className:"py-16 bg-estate-gray-light",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:a.map((l,d)=>e.jsx(G,{className:"text-center border-none shadow-soft hover:shadow-medium transition-shadow",children:e.jsxs(Q,{className:"p-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-estate-blue rounded-full flex items-center justify-center",children:e.jsx(l.icon,{className:"h-8 w-8 text-primary-foreground"})})}),e.jsx("div",{className:"text-3xl font-bold text-estate-blue mb-2",children:l.number}),e.jsx("div",{className:"font-semibold text-foreground",children:l.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.description})]})},d))}),e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"What Our Clients Say"}),e.jsx("p",{className:"text-muted-foreground",children:"Real experiences from satisfied customers"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((l,d)=>e.jsx(G,{className:"border-none shadow-soft",children:e.jsxs(Q,{className:"p-6",children:[e.jsx("div",{className:"flex mb-4",children:[...Array(l.rating)].map((u,h)=>e.jsx("div",{className:"w-5 h-5 bg-estate-warning rounded-full mr-1"},h))}),e.jsxs("p",{className:"text-muted-foreground mb-4 italic",children:['"',l.quote,'"']}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-foreground",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.role})]})]})},d))})]})})},vn=()=>e.jsx("footer",{className:"bg-estate-blue text-primary-foreground",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mb-4",children:["Milkat",e.jsx("span",{className:"text-estate-blue-lighter",children:"Post"})]}),e.jsx("p",{className:"text-estate-blue-lighter max-w-md mx-auto",children:"Your trusted partner in real estate. Connecting buyers, sellers, and developers with the best properties and opportunities."})]}),e.jsxs("div",{className:"border-t border-estate-blue-light pt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("div",{className:"text-sm text-estate-blue-lighter",children:" 2024 MilkatPost. All rights reserved."}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:"#",className:"text-estate-blue-lighter hover:text-white transition-colors",children:e.jsx(TE,{className:"h-5 w-5"})}),e.jsx("a",{href:"#",className:"text-estate-blue-lighter hover:text-white transition-colors",children:e.jsx($t,{className:"h-5 w-5"})})]})]})]})}),vI=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsx(fI,{}),e.jsx(pI,{}),e.jsx(xI,{}),e.jsx(gI,{}),e.jsx(vn,{})]}),eb="/assets/hero-cityscape-pIHODK6I.jpg",yI=()=>{const t=["Building Trust.","Creating Value.","Guiding Your Investment."],[r,s]=m.useState(0),[a,i]=m.useState(""),[l,d]=m.useState(!1);m.useEffect(()=>{const h=t[r%t.length],y=setTimeout(()=>{if(l){const x=h.slice(0,a.length-1);i(x),x===""&&(d(!1),s(g=>(g+1)%t.length))}else{const x=h.slice(0,a.length+1);i(x),x===h&&setTimeout(()=>d(!0),900)}},l?20:50);return()=>clearTimeout(y)},[a,l,r]);const u=[{icon:$a,title:"Innovation",description:"Pioneering technology-driven solutions in real estate"},{icon:Vn,title:"Transparency",description:"Complete transparency in all transactions and processes"},{icon:Ad,title:"Global Presence",description:"Serving clients across India, USA, UAE, Canada, and Kenya"},{icon:Ct,title:"Leadership",description:"Industry leaders with decades of combined experience"},{icon:yo,title:"Recognition",description:"Award-winning platform trusted by thousands of clients"},{icon:Ol,title:"Professional Service",description:"Dedicated support from property experts and advisors"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsx("section",{className:"relative py-24 md:py-28",style:{backgroundImage:`linear-gradient(135deg, hsl(220 85% 25% / 0.85), hsl(220 85% 35% / 0.85)), url(${eb})`,backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("div",{className:"container mx-auto px-6 text-center text-white",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:[a,e.jsx("span",{className:"opacity-80 animate-pulse",children:"|"})]}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Your global partner for residential, commercial and investment real estate."}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[e.jsx("a",{href:"#story",className:"px-6 py-3 rounded-md bg-white text-estate-blue font-medium shadow-soft hover:shadow-medium transition-shadow",children:"Our Story"}),e.jsx("a",{href:"#why",className:"px-6 py-3 rounded-md bg-transparent border border-white/50 text-white hover:bg-white/10 transition-colors",children:"Why Choose Us"})]})]})}),e.jsx("section",{id:"story",className:"py-20",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[e.jsxs("div",{className:"order-2 lg:order-1",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Our Story"}),e.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Founded in 2009, MilkatPost began as a vision to revolutionize how people discover, evaluate, and acquire real estate. What started as a local initiative has grown into a global platform serving clients across five countries."}),e.jsx("p",{children:"Our journey has been marked by continuous innovation, unwavering commitment to transparency, and a deep understanding of diverse real estate markets. From luxury villas in Mumbai to commercial spaces in Dubai, we've facilitated thousands of successful transactions."}),e.jsx("p",{children:"Today, we're proud to be the preferred choice for NRI investors, first-time buyers, seasoned investors, and developers alike."})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Vn,{className:"h-5 w-5 text-estate-blue"})," Ethics & Transparency"]}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Ad,{className:"h-5 w-5 text-estate-blue"})," Global Expertise"]}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Ws,{className:"h-5 w-5 text-estate-blue"})," Tech-driven Approach"]}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Ct,{className:"h-5 w-5 text-estate-blue"})," Personalized Service"]})]})]}),e.jsx("div",{className:"order-1 lg:order-2",children:e.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden shadow-medium",children:[e.jsx("img",{src:eb,alt:"Cityscape",className:"h-full w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]})})]})})}),e.jsx("section",{className:"py-20 bg-estate-blue-lighter/30",id:"values",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:"Our Core Values"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((h,f)=>e.jsx(G,{className:"border-0 shadow-soft hover:shadow-medium transition-shadow",children:e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-estate-blue/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(h.icon,{className:"w-8 h-8 text-estate-blue"})}),e.jsx("h3",{className:"text-xl font-semibold mb-4",children:h.title}),e.jsx("p",{className:"text-muted-foreground",children:h.description})]})},f))})]})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(G,{className:"border-0 shadow-soft",children:e.jsxs(Q,{className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Our Mission"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Empower clients with transparent information, expert guidance, and seamless experiences to make confident real estate decisions."})]})}),e.jsx(G,{className:"border-0 shadow-soft",children:e.jsxs(Q,{className:"p-8",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Our Vision"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To be the most trusted global platform for discovering, investing, and managing real estate."})]})})]})})}),e.jsx("section",{id:"why",className:"py-20 bg-gradient-card",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Why Choose MilkatPost"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Vn,title:"Secure & Transparent",desc:"Verified listings, secure transactions, full transparency."},{icon:Ad,title:"Global Network",desc:"Local expertise with worldwide reach and insights."},{icon:Ct,title:"Expert Guidance",desc:"Dedicated advisors throughout your journey."},{icon:yo,title:"Award-Winning",desc:"Recognized for service excellence and innovation."},{icon:Ol,title:"Investment Focus",desc:"Data-led advisory for strong ROI."},{icon:Mt,title:"Prime Locations",desc:"Handpicked projects in sought-after areas."}].map((h,f)=>e.jsx(G,{className:"border-0 shadow-soft hover:shadow-medium transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-md bg-estate-blue/10 flex items-center justify-center shrink-0",children:e.jsx(h.icon,{className:"w-6 h-6 text-estate-blue"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:h.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h.desc})]})]})})},f))})]})}),e.jsx("section",{id:"services",className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Services"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Vn,title:"Legal Advisory",desc:"End-to-end legal due diligence and documentation."},{icon:Ct,title:"Interior Design",desc:"Bespoke interiors tailored to your lifestyle."},{icon:yt,title:"Architecture Consultation",desc:"Concept to blueprint with expert architects."},{icon:Ol,title:"Property Valuation",desc:"Accurate valuations using market data and comps."},{icon:Ad,title:"Investment Planning",desc:"Portfolio strategy for rental yield and appreciation."},{icon:Mt,title:"Mortgage Assistance",desc:"Best financing options with leading lenders."}].map((h,f)=>e.jsx(G,{className:"border-0 shadow-soft hover:shadow-medium transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-md bg-estate-blue/10 flex items-center justify-center shrink-0",children:e.jsx(h.icon,{className:"w-6 h-6 text-estate-blue"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:h.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h.desc})]})]})})},f))})]})}),e.jsx(vn,{})]})},Se=m.forwardRef(({className:t,type:r,...s},a)=>e.jsx("input",{type:r,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));Se.displayName="Input";var K1=["PageUp","PageDown"],G1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Q1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qi="Slider",[Sp,bI,jI]=Ii(qi),[X1]=vr(qi,[jI]),[wI,Ju]=X1(qi),J1=m.forwardRef((t,r)=>{const{name:s,min:a=0,max:i=100,step:l=1,orientation:d="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:f=[a],value:y,onValueChange:x=()=>{},onValueCommit:g=()=>{},inverted:v=!1,form:j,...N}=t,w=m.useRef(new Set),P=m.useRef(0),C=d==="horizontal"?NI:SI,[L=[],q]=fs({prop:y,defaultProp:f,onChange:z=>{var $;($=[...w.current][P.current])==null||$.focus(),x(z)}}),A=m.useRef(L);function M(z){const E=EI(L,z);T(z,E)}function V(z){T(z,P.current)}function k(){const z=A.current[P.current];L[P.current]!==z&&g(L)}function T(z,E,{commit:$}={commit:!1}){const R=AI(l),X=MI(Math.round((z-a)/l)*l+a,R),Y=tc(X,[a,i]);q((O=[])=>{const I=PI(O,Y,E);if(DI(I,h*l)){P.current=I.indexOf(Y);const D=String(I)!==String(O);return D&&$&&g(I),D?I:O}else return O})}return e.jsx(wI,{scope:t.__scopeSlider,name:s,disabled:u,min:a,max:i,valueIndexToChangeRef:P,thumbs:w.current,values:L,orientation:d,form:j,children:e.jsx(Sp.Provider,{scope:t.__scopeSlider,children:e.jsx(Sp.Slot,{scope:t.__scopeSlider,children:e.jsx(C,{"aria-disabled":u,"data-disabled":u?"":void 0,...N,ref:r,onPointerDown:Ce(N.onPointerDown,()=>{u||(A.current=L)}),min:a,max:i,inverted:v,onSlideStart:u?void 0:M,onSlideMove:u?void 0:V,onSlideEnd:u?void 0:k,onHomeKeyDown:()=>!u&&T(a,0,{commit:!0}),onEndKeyDown:()=>!u&&T(i,L.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:E})=>{if(!u){const X=K1.includes(z.key)||z.shiftKey&&G1.includes(z.key)?10:1,Y=P.current,O=L[Y],I=l*X*E;T(O+I,Y,{commit:!0})}}})})})})});J1.displayName=qi;var[Z1,e2]=X1(qi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),NI=m.forwardRef((t,r)=>{const{min:s,max:a,dir:i,inverted:l,onSlideStart:d,onSlideMove:u,onSlideEnd:h,onStepKeyDown:f,...y}=t,[x,g]=m.useState(null),v=rt(r,C=>g(C)),j=m.useRef(void 0),N=Po(i),w=N==="ltr",P=w&&!l||!w&&l;function _(C){const L=j.current||x.getBoundingClientRect(),q=[0,L.width],M=Px(q,P?[s,a]:[a,s]);return j.current=L,M(C-L.left)}return e.jsx(Z1,{scope:t.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:e.jsx(t2,{dir:N,"data-orientation":"horizontal",...y,ref:v,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const L=_(C.clientX);d==null||d(L)},onSlideMove:C=>{const L=_(C.clientX);u==null||u(L)},onSlideEnd:()=>{j.current=void 0,h==null||h()},onStepKeyDown:C=>{const q=Q1[P?"from-left":"from-right"].includes(C.key);f==null||f({event:C,direction:q?-1:1})}})})}),SI=m.forwardRef((t,r)=>{const{min:s,max:a,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...f}=t,y=m.useRef(null),x=rt(r,y),g=m.useRef(void 0),v=!i;function j(N){const w=g.current||y.current.getBoundingClientRect(),P=[0,w.height],C=Px(P,v?[a,s]:[s,a]);return g.current=w,C(N-w.top)}return e.jsx(Z1,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(t2,{"data-orientation":"vertical",...f,ref:x,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const w=j(N.clientY);l==null||l(w)},onSlideMove:N=>{const w=j(N.clientY);d==null||d(w)},onSlideEnd:()=>{g.current=void 0,u==null||u()},onStepKeyDown:N=>{const P=Q1[v?"from-bottom":"from-top"].includes(N.key);h==null||h({event:N,direction:P?-1:1})}})})}),t2=m.forwardRef((t,r)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:h,...f}=t,y=Ju(qi,s);return e.jsx(Me.span,{...f,ref:r,onKeyDown:Ce(t.onKeyDown,x=>{x.key==="Home"?(d(x),x.preventDefault()):x.key==="End"?(u(x),x.preventDefault()):K1.concat(G1).includes(x.key)&&(h(x),x.preventDefault())}),onPointerDown:Ce(t.onPointerDown,x=>{const g=x.target;g.setPointerCapture(x.pointerId),x.preventDefault(),y.thumbs.has(g)?g.focus():a(x)}),onPointerMove:Ce(t.onPointerMove,x=>{x.target.hasPointerCapture(x.pointerId)&&i(x)}),onPointerUp:Ce(t.onPointerUp,x=>{const g=x.target;g.hasPointerCapture(x.pointerId)&&(g.releasePointerCapture(x.pointerId),l(x))})})}),r2="SliderTrack",s2=m.forwardRef((t,r)=>{const{__scopeSlider:s,...a}=t,i=Ju(r2,s);return e.jsx(Me.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...a,ref:r})});s2.displayName=r2;var kp="SliderRange",n2=m.forwardRef((t,r)=>{const{__scopeSlider:s,...a}=t,i=Ju(kp,s),l=e2(kp,s),d=m.useRef(null),u=rt(r,d),h=i.values.length,f=i.values.map(g=>i2(g,i.min,i.max)),y=h>1?Math.min(...f):0,x=100-Math.max(...f);return e.jsx(Me.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:u,style:{...t.style,[l.startEdge]:y+"%",[l.endEdge]:x+"%"}})});n2.displayName=kp;var Cp="SliderThumb",a2=m.forwardRef((t,r)=>{const s=bI(t.__scopeSlider),[a,i]=m.useState(null),l=rt(r,u=>i(u)),d=m.useMemo(()=>a?s().findIndex(u=>u.ref.current===a):-1,[s,a]);return e.jsx(kI,{...t,ref:l,index:d})}),kI=m.forwardRef((t,r)=>{const{__scopeSlider:s,index:a,name:i,...l}=t,d=Ju(Cp,s),u=e2(Cp,s),[h,f]=m.useState(null),y=rt(r,_=>f(_)),x=h?d.form||!!h.closest("form"):!0,g=Qp(h),v=d.values[a],j=v===void 0?0:i2(v,d.min,d.max),N=_I(a,d.values.length),w=g==null?void 0:g[u.size],P=w?RI(w,j,u.direction):0;return m.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${j}% + ${P}px)`},children:[e.jsx(Sp.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Me.span,{role:"slider","aria-label":t["aria-label"]||N,"aria-valuemin":d.min,"aria-valuenow":v,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...l,ref:y,style:v===void 0?{display:"none"}:t.style,onFocus:Ce(t.onFocus,()=>{d.valueIndexToChangeRef.current=a})})}),x&&e.jsx(o2,{name:i??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:v},a)]})});a2.displayName=Cp;var CI="RadioBubbleInput",o2=m.forwardRef(({__scopeSlider:t,value:r,...s},a)=>{const i=m.useRef(null),l=rt(i,a),d=Sx(r);return m.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==r&&y){const x=new Event("input",{bubbles:!0});y.call(u,r),u.dispatchEvent(x)}},[d,r]),e.jsx(Me.input,{style:{display:"none"},...s,ref:l,defaultValue:r})});o2.displayName=CI;function PI(t=[],r,s){const a=[...t];return a[s]=r,a.sort((i,l)=>i-l)}function i2(t,r,s){const l=100/(s-r)*(t-r);return tc(l,[0,100])}function _I(t,r){return r>2?`Value ${t+1} of ${r}`:r===2?["Minimum","Maximum"][t]:void 0}function EI(t,r){if(t.length===1)return 0;const s=t.map(i=>Math.abs(i-r)),a=Math.min(...s);return s.indexOf(a)}function RI(t,r,s){const a=t/2,l=Px([0,50],[0,a]);return(a-l(r)*s)*s}function TI(t){return t.slice(0,-1).map((r,s)=>t[s+1]-r)}function DI(t,r){if(r>0){const s=TI(t);return Math.min(...s)>=r}return!0}function Px(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(t[1]-t[0]);return r[0]+a*(s-t[0])}}function AI(t){return(String(t).split(".")[1]||"").length}function MI(t,r){const s=Math.pow(10,r);return Math.round(t*s)/s}var l2=J1,II=s2,OI=n2,FI=a2;const pu=m.forwardRef(({className:t,...r},s)=>e.jsxs(l2,{ref:s,className:Re("relative flex w-full touch-none select-none items-center",t),...r,children:[e.jsx(II,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(OI,{className:"absolute h-full bg-primary"})}),e.jsx(FI,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pu.displayName=l2.displayName;var Zu="Checkbox",[LI]=vr(Zu),[$I,_x]=LI(Zu);function VI(t){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:i,disabled:l,form:d,name:u,onCheckedChange:h,required:f,value:y="on",internal_do_not_use_render:x}=t,[g,v]=fs({prop:s,defaultProp:i??!1,onChange:h,caller:Zu}),[j,N]=m.useState(null),[w,P]=m.useState(null),_=m.useRef(!1),C=j?!!d||!!j.closest("form"):!0,L={checked:g,disabled:l,setChecked:v,control:j,setControl:N,name:u,form:d,value:y,hasConsumerStoppedPropagationRef:_,required:f,defaultChecked:Ma(i)?!1:i,isFormControl:C,bubbleInput:w,setBubbleInput:P};return e.jsx($I,{scope:r,...L,children:BI(x)?x(L):a})}var c2="CheckboxTrigger",d2=m.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...a},i)=>{const{control:l,value:d,disabled:u,checked:h,required:f,setControl:y,setChecked:x,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:j}=_x(c2,t),N=rt(i,y),w=m.useRef(h);return m.useEffect(()=>{const P=l==null?void 0:l.form;if(P){const _=()=>x(w.current);return P.addEventListener("reset",_),()=>P.removeEventListener("reset",_)}},[l,x]),e.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Ma(h)?"mixed":h,"aria-required":f,"data-state":p2(h),"data-disabled":u?"":void 0,disabled:u,value:d,...a,ref:N,onKeyDown:Ce(r,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:Ce(s,P=>{x(_=>Ma(_)?!0:!_),j&&v&&(g.current=P.isPropagationStopped(),g.current||P.stopPropagation())})})});d2.displayName=c2;var Ex=m.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:a,checked:i,defaultChecked:l,required:d,disabled:u,value:h,onCheckedChange:f,form:y,...x}=t;return e.jsx(VI,{__scopeCheckbox:s,checked:i,defaultChecked:l,disabled:u,required:d,onCheckedChange:f,name:a,form:y,value:h,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(d2,{...x,ref:r,__scopeCheckbox:s}),g&&e.jsx(f2,{__scopeCheckbox:s})]})})});Ex.displayName=Zu;var u2="CheckboxIndicator",m2=m.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:a,...i}=t,l=_x(u2,s);return e.jsx(yr,{present:a||Ma(l.checked)||l.checked===!0,children:e.jsx(Me.span,{"data-state":p2(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...t.style}})})});m2.displayName=u2;var h2="CheckboxBubbleInput",f2=m.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:d,required:u,disabled:h,name:f,value:y,form:x,bubbleInput:g,setBubbleInput:v}=_x(h2,t),j=rt(s,v),N=Sx(l),w=Qp(a);m.useEffect(()=>{const _=g;if(!_)return;const C=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(C,"checked").set,A=!i.current;if(N!==l&&q){const M=new Event("click",{bubbles:A});_.indeterminate=Ma(l),q.call(_,Ma(l)?!1:l),_.dispatchEvent(M)}},[g,N,l,i]);const P=m.useRef(Ma(l)?!1:l);return e.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??P.current,required:u,disabled:h,name:f,value:y,form:x,...r,tabIndex:-1,ref:j,style:{...r.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});f2.displayName=h2;function BI(t){return typeof t=="function"}function Ma(t){return t==="indeterminate"}function p2(t){return Ma(t)?"indeterminate":t?"checked":"unchecked"}const Ia=m.forwardRef(({className:t,...r},s)=>e.jsx(Ex,{ref:s,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:e.jsx(m2,{className:Re("flex items-center justify-center text-current"),children:e.jsx(oc,{className:"h-4 w-4"})})}));Ia.displayName=Ex.displayName;var UI="Label",x2=m.forwardRef((t,r)=>e.jsx(Me.label,{...t,ref:r,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));x2.displayName=UI;var g2=x2;const zI=ac("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=m.forwardRef(({className:t,...r},s)=>e.jsx(g2,{ref:s,className:Re(zI(),t),...r}));ne.displayName=g2.displayName;var em="Collapsible",[qI,v2]=vr(em),[WI,Rx]=qI(em),y2=m.forwardRef((t,r)=>{const{__scopeCollapsible:s,open:a,defaultOpen:i,disabled:l,onOpenChange:d,...u}=t,[h,f]=fs({prop:a,defaultProp:i??!1,onChange:d,caller:em});return e.jsx(WI,{scope:s,disabled:l,contentId:gr(),open:h,onOpenToggle:m.useCallback(()=>f(y=>!y),[f]),children:e.jsx(Me.div,{"data-state":Ax(h),"data-disabled":l?"":void 0,...u,ref:r})})});y2.displayName=em;var b2="CollapsibleTrigger",j2=m.forwardRef((t,r)=>{const{__scopeCollapsible:s,...a}=t,i=Rx(b2,s);return e.jsx(Me.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Ax(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:r,onClick:Ce(t.onClick,i.onOpenToggle)})});j2.displayName=b2;var Tx="CollapsibleContent",Dx=m.forwardRef((t,r)=>{const{forceMount:s,...a}=t,i=Rx(Tx,t.__scopeCollapsible);return e.jsx(yr,{present:s||i.open,children:({present:l})=>e.jsx(HI,{...a,ref:r,present:l})})});Dx.displayName=Tx;var HI=m.forwardRef((t,r)=>{const{__scopeCollapsible:s,present:a,children:i,...l}=t,d=Rx(Tx,s),[u,h]=m.useState(a),f=m.useRef(null),y=rt(r,f),x=m.useRef(0),g=x.current,v=m.useRef(0),j=v.current,N=d.open||u,w=m.useRef(N),P=m.useRef(void 0);return m.useEffect(()=>{const _=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(_)},[]),ar(()=>{const _=f.current;if(_){P.current=P.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const C=_.getBoundingClientRect();x.current=C.height,v.current=C.width,w.current||(_.style.transitionDuration=P.current.transitionDuration,_.style.animationName=P.current.animationName),h(a)}},[d.open,a]),e.jsx(Me.div,{"data-state":Ax(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!N,...l,ref:y,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...t.style},children:N&&i})});function Ax(t){return t?"open":"closed"}var w2=y2,YI=j2,KI=Dx;const GI=w2,QI=Dx,XI=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[d,u]=m.useState("created_at"),[h,f]=m.useState("all"),[y,x]=m.useState("all"),[g,v]=m.useState("all"),[j,N]=m.useState([0,1e7]),[w,P]=m.useState([0,5e3]),[_,C]=m.useState([]),[L,q]=m.useState(!1),A=wn(),M=dr(),{toast:V}=ot(),[k,T]=m.useState({country:"",state:"",city:"",propertyType:"",budgetRange:""});m.useEffect(()=>{const O=new URLSearchParams(A.search),I={country:O.get("country")||"",state:O.get("state")||"",city:O.get("city")||"",propertyType:O.get("propertyType")||"",budgetRange:O.get("budgetRange")||""};T(I),I.propertyType&&f(I.propertyType),Object.values(I).some(W=>W!=="")&&t.length===0&&V({title:"Searching Properties",description:"Loading properties matching your search criteria..."})},[A.search]);const z=["Swimming Pool","Gym","Parking","Security","Garden","Elevator","Power Backup","Water Supply","Air Conditioning","Balcony","Modular Kitchen","Furnished","Semi-Furnished"];m.useEffect(()=>{E()},[d,h,y,g,i,k,j,w,_]);const E=async()=>{var O;try{a(!0);const I={page:1,limit:50,status:"active"};if(k.country&&(I.country=k.country),k.state&&(I.state=k.state),k.city&&(I.city=k.city),k.propertyType&&(I.propertyType=k.propertyType),k.budgetRange){const B=k.budgetRange;if(B.includes("-")){const[U,J]=B.split("-");J&&!J.includes("+")?(I.minPrice=U,I.maxPrice=J):I.minPrice=U}}h!=="all"&&(I.propertyType=h),y!=="all"&&(I.status=y),g!=="all"&&(I.listingType=g),(j[0]>0||j[1]<1e7)&&(I.minPrice=j[0],I.maxPrice=j[1]),(w[0]>0||w[1]<5e3)&&(I.minArea=w[0],I.maxArea=w[1]),_.length>0&&(I.amenities=_.join(",")),i&&(I.search=i),d==="price_asc"?(I.sort="price",I.order="asc"):d==="price_desc"?(I.sort="price",I.order="desc"):d==="area"?(I.sort="area",I.order="desc"):(I.sort="createdAt",I.order="desc"),console.log("Fetching properties with params:",I);const D=await re.getProperties(I);if(D.error)throw new Error(D.error);const W=((O=D.data)==null?void 0:O.properties)||D.data||[];console.log("Received properties:",W),console.log(` Successfully loaded ${W.length} properties from database`),r(W)}catch(I){console.error("Error fetching properties:",I),V({title:"Error",description:"Failed to load properties. Please try again.",variant:"destructive"})}finally{a(!1)}},$=O=>{C(I=>I.includes(O)?I.filter(D=>D!==O):[...I,O])},R=()=>{l(""),f("all"),x("all"),v("all"),N([0,1e7]),P([0,5e3]),C([]),X()},X=()=>{M("/properties",{replace:!0})},Y=Object.values(k).some(O=>O!=="");return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsxs("section",{className:"bg-gradient-hero py-12 sm:py-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:e.jsxs("div",{className:"animate-slide-in-down",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white text-center mb-4",children:"Property Listings"}),e.jsx("p",{className:"text-lg sm:text-xl text-white/90 text-center max-w-2xl mx-auto animate-fade-in-up px-4",style:{animationDelay:"200ms"},children:"Discover your perfect property from our extensive collection of homes, apartments, and commercial spaces."})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent"})]}),e.jsx("section",{className:"py-6 sm:py-8 border-b",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[Y&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Active Filters:"}),k.country&&e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["Country: ",k.country,e.jsx(Et,{className:"w-3 h-3 cursor-pointer",onClick:X})]}),k.state&&e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["State: ",k.state,e.jsx(Et,{className:"w-3 h-3 cursor-pointer",onClick:X})]}),k.city&&e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["City: ",k.city,e.jsx(Et,{className:"w-3 h-3 cursor-pointer",onClick:X})]}),k.propertyType&&e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["Type: ",k.propertyType,e.jsx(Et,{className:"w-3 h-3 cursor-pointer",onClick:X})]}),k.budgetRange&&e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:["Budget: ",k.budgetRange,e.jsx(Et,{className:"w-3 h-3 cursor-pointer",onClick:X})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:X,className:"text-muted-foreground hover:text-foreground text-xs",children:"Clear All"})]})}),e.jsx(G,{className:"animate-fade-in-up",style:{animationDelay:"400ms"},children:e.jsx(Q,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative sm:col-span-2 lg:col-span-1",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search properties...",value:i,onChange:O=>l(O.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:g,onValueChange:v,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Listing Type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Listings"}),e.jsx(te,{value:"sale",children:"For Sale"}),e.jsx(te,{value:"rent",children:"For Rent"})]})]}),e.jsxs(Xe,{value:d,onValueChange:u,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"created_at",children:"Newest First"}),e.jsx(te,{value:"price_asc",children:"Price: Low to High"}),e.jsx(te,{value:"price_desc",children:"Price: High to Low"}),e.jsx(te,{value:"area",children:"Area"})]})]}),e.jsxs(H,{onClick:()=>q(!L),variant:"outline",className:"sm:col-span-2 lg:col-span-1",children:[e.jsx(Pu,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced Filters"}),e.jsx("span",{className:"sm:hidden",children:"Filters"}),e.jsx(Fi,{className:`w-4 h-4 ml-2 transition-transform ${L?"rotate-180":""}`})]})]}),e.jsx(GI,{open:L,onOpenChange:q,children:e.jsxs(QI,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{children:"Property Type"}),e.jsxs(Xe,{value:h,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"All Types"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Types"}),e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"industrial",children:"Industrial"}),e.jsx(te,{value:"land",children:"Land"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{children:"Status"}),e.jsxs(Xe,{value:y,onValueChange:x,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"All Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"available",children:"Available"}),e.jsx(te,{value:"sold",children:"Sold"}),e.jsx(te,{value:"rented",children:"Rented"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ne,{children:[g==="rent"?"Monthly Rent":"Price"," Range ()"]}),e.jsxs("div",{className:"px-2",children:[e.jsx(pu,{value:j,onValueChange:N,max:g==="rent"?2e5:1e7,min:0,step:g==="rent"?1e3:1e5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[e.jsxs("span",{children:["",j[0].toLocaleString()]}),e.jsxs("span",{children:["",j[1].toLocaleString()]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{children:"Area Range (sq ft)"}),e.jsxs("div",{className:"px-2",children:[e.jsx(pu,{value:w,onValueChange:P,max:5e3,min:0,step:100,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[e.jsxs("span",{children:[w[0]," sq ft"]}),e.jsxs("span",{children:[w[1]," sq ft"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{children:"Amenities"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:z.map(O=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ia,{id:O,checked:_.includes(O),onCheckedChange:()=>$(O)}),e.jsx(ne,{htmlFor:O,className:"text-sm",children:O})]},O))})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{variant:"ghost",onClick:R,children:"Clear All Filters"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:E,variant:"outline",children:"Apply Filters"}),e.jsx(H,{onClick:()=>q(!1),variant:"outline",children:"Close"})]})]})]})})]})})})]})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(9)].map((O,I)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 h-64 rounded-xl mb-4"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg mb-2"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg w-3/4"})]},I))}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:t.map((O,I)=>{var ue,ge;const D=((ue=O.images)==null?void 0:ue.find(oe=>oe.isPrimary))||((ge=O.images)==null?void 0:ge[0]),W=(D==null?void 0:D.url)||"/placeholder.svg",B=O.listingType==="rent"?`${(O.monthlyRent||O.price).toLocaleString()}/month`:`${O.price.toLocaleString()}`,U=`${O.location.address}, ${O.location.city}`,J=O.propertyType.charAt(0).toUpperCase()+O.propertyType.slice(1),se=O.listingType==="rent"?"For Rent":O.status==="active"?"For Sale":O.status==="sold"?"Sold":"For Sale";return e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${I*100}ms`,animationFillMode:"both"},children:e.jsx(Xu,{id:O._id,title:O.title,location:U,price:B,area:`${O.area} sq ft`,image:W,type:J,status:se})},O._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:Y?"No Properties Match Your Search":"No Properties Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:Y?"Try adjusting your search criteria or clear the filters to see all properties.":"Try adjusting your search criteria or filters."}),Y&&e.jsx(H,{onClick:X,variant:"outline",children:"Clear Search Filters"})]})})})]})};var JI="Separator",tb="horizontal",ZI=["horizontal","vertical"],N2=m.forwardRef((t,r)=>{const{decorative:s,orientation:a=tb,...i}=t,l=eO(a)?a:tb,u=s?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(Me.div,{"data-orientation":l,...u,...i,ref:r})});N2.displayName=JI;function eO(t){return ZI.includes(t)}var S2=N2;const Hs=m.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...a},i)=>e.jsx(S2,{ref:i,decorative:s,orientation:r,className:Re("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Hs.displayName=S2.displayName;const Zt=m.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));Zt.displayName="Textarea";const tO=()=>{var ue,ge,oe,de;const{id:t}=Hl(),{user:r,profile:s}=It(),{toast:a}=ot(),i=t||window.location.pathname.split("/").pop(),l=new URLSearchParams(window.location.search),d=window.location.hash.split("/").pop(),u=i||l.get("id")||d;console.log("PropertyDetails component loaded with ID:",t),console.log("Extracted property ID:",i),console.log("Final property ID:",u),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname);const[h,f]=m.useState(null),[y,x]=m.useState([]),[g,v]=m.useState(!0),[j,N]=m.useState(!1),[w,P]=m.useState(0),[_,C]=m.useState(0),[L,q]=m.useState(!0),[A,M]=m.useState({message:""}),[V,k]=m.useState(!1),[T,z]=m.useState(""),[E,$]=m.useState("");m.useEffect(()=>{u&&u!=="undefined"&&u!==""&&u.length>0&&u!=="null"&&!u.includes("undefined")?(R(),Y(),W()):(console.error("Property ID is undefined or invalid:",{id:t,propertyId:i,finalPropertyId:u}),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname),a({title:"Invalid Property ID",description:"The property ID in the URL is invalid or missing. Redirecting to properties page.",variant:"destructive"}),setTimeout(()=>{window.location.href="/properties"},2e3),v(!1))},[u,r]),m.useEffect(()=>{h&&X()},[h]);const R=async()=>{var le;try{if(!(u&&u!=="undefined"&&u!==""&&u.length>0&&u!=="null"&&!u.includes("undefined"))){console.error("Cannot fetch property details: ID is invalid:",u),v(!1);return}const fe=await re.getProperty(u);if(fe.error)throw new Error(fe.error);const we=((le=fe.data)==null?void 0:le.property)||fe.data;console.log("Property details loaded:",we),f(we)}catch(he){console.error("Error fetching property:",he),a({title:"Error",description:"Failed to load property details.",variant:"destructive"})}finally{v(!1)}},X=async()=>{var le,he;try{if(!t)return;const fe={propertyType:h==null?void 0:h.propertyType,city:(le=h==null?void 0:h.location)==null?void 0:le.city,limit:3},we=await re.getProperties(fe);if(we.error)throw new Error(we.error);const Te=(((he=we.data)==null?void 0:he.properties)||we.data||[]).filter(pt=>pt._id!==t);x(Te)}catch(fe){console.error("Error fetching related properties:",fe)}},Y=async()=>{var le;if(!(!r||!u))try{const he=await re.checkIfLiked(u);N(((le=he.data)==null?void 0:le.hasLiked)||!1)}catch(he){console.error("Error checking saved status:",he),N(!1)}},O=async()=>{if(!r||!t){a({title:"Login Required",description:"Please login to save properties.",variant:"destructive"});return}try{j?(await re.unlikeProperty(u),N(!1),a({title:"Removed from Saved",description:"Property removed from your saved list"})):(await re.likeProperty(u),N(!0),a({title:"Saved Property",description:"Property added to your saved list"}))}catch(le){console.error("Error toggling save:",le),a({title:"Error",description:"Failed to update saved status.",variant:"destructive"})}},I=async le=>{if(le.preventDefault(),!r){a({title:"Login Required",description:"Please login to send inquiries.",variant:"destructive"});return}try{const he={inquiryType:"property_inquiry",subject:`Inquiry about ${(h==null?void 0:h.title)||"Property"}`,message:A.message,contactPreference:"phone",propertyId:t},fe=await re.createInquiry(he);if(fe.error)throw new Error(fe.error);a({title:"Message Sent Successfully!",description:"Your inquiry has been sent to the property owner. They will contact you soon."}),M({message:""})}catch(he){console.error("Error sending inquiry:",he),a({title:"Error",description:(he==null?void 0:he.message)||"Failed to send message. Please try again.",variant:"destructive"})}},D=()=>{if(!r){a({title:"Login Required",description:"Please login to proceed with purchase.",variant:"destructive"});return}a({title:"Purchase Initiated",description:"Redirecting to payment gateway..."})},W=async()=>{if(u)try{const le=await re.getShareCount(u);le.data&&P(le.data.shareCount)}catch(le){console.error("Error fetching share count:",le)}},B=async(le,he)=>{if(!r){a({title:"Login Required",description:"Please login to share properties.",variant:"destructive"});return}try{await re.shareProperty(u,le,he),P(Oe=>Oe+1);const fe=window.location.href,we=`Check out this amazing property: ${h==null?void 0:h.title}`;switch(le){case"copy_link":navigator.clipboard.writeText(fe),a({title:"Link Copied",description:"Property link copied to clipboard!"});break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(we+" "+fe)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(fe)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(we)}&url=${encodeURIComponent(fe)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(fe)}`,"_blank");break;case"email":window.open(`mailto:${he}?subject=${encodeURIComponent(we)}&body=${encodeURIComponent(fe)}`,"_blank");break}a({title:"Property Shared",description:`Property shared via ${le}!`}),k(!1)}catch(fe){console.error("Error sharing property:",fe),a({title:"Error",description:(fe==null?void 0:fe.message)||"Failed to share property.",variant:"destructive"})}},U=()=>{var le;((le=h==null?void 0:h.images)==null?void 0:le.length)>1&&C(he=>he===h.images.length-1?0:he+1)},J=()=>{var le;((le=h==null?void 0:h.images)==null?void 0:le.length)>1&&C(he=>he===0?h.images.length-1:he-1)},se=le=>{C(le)};return g?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-estate-blue"})}):h?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsx(He,{to:"/",children:e.jsxs(H,{variant:"ghost",className:"flex items-center gap-2 hover:bg-accent",children:[e.jsx(ji,{className:"w-4 h-4"}),"Back to Home"]})})}),e.jsxs("section",{className:"relative",children:[e.jsx("div",{className:"h-96 md:h-[500px] bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden animate-fade-in-up rounded-lg shadow-lg",children:h.images&&h.images.length>0?e.jsxs("div",{className:"relative w-full h-full",children:[L&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-estate-blue border-t-transparent rounded-full animate-spin"})}),e.jsx("img",{src:((ue=h.images[_])==null?void 0:ue.url)||h.images[_]||"/placeholder.svg",alt:`${h.title} - Image ${_+1}`,className:"w-full h-full object-cover transition-all duration-500 ease-out",onLoad:()=>q(!1),onError:le=>{le.currentTarget.src="/placeholder.svg",q(!1)}}),h.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(H,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white smooth-transition hover:scale-110",onClick:J,children:e.jsx(yj,{className:"w-4 h-4"})}),e.jsx(H,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white smooth-transition hover:scale-110",onClick:U,children:e.jsx(Bp,{className:"w-4 h-4"})})]}),h.images.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[_+1," / ",h.images.length]})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-estate-gray-light",children:e.jsx(_t,{className:"w-20 h-20 text-estate-gray"})})}),h.images&&h.images.length>1&&e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:h.images.map((le,he)=>e.jsx("button",{onClick:()=>se(he),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-colors ${he===_?"border-estate-blue":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("img",{src:(le==null?void 0:le.url)||le||"/placeholder.svg",alt:`Thumbnail ${he+1}`,className:"w-full h-full object-cover",onError:fe=>{fe.currentTarget.src="/placeholder.svg"}})},he))})}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 animate-fade-in-right",children:[e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white smooth-transition hover:scale-105",onClick:O,children:[e.jsx(mo,{className:`w-4 h-4 mr-2 smooth-transition ${j?"fill-red-500 text-red-500":""}`}),j?"Saved":"Save"]}),e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white smooth-transition hover:scale-105",onClick:()=>k(!0),children:[e.jsx(kj,{className:"w-4 h-4 mr-2"}),"Share ",w>0&&`(${w})`]})]})]}),e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"animate-fade-in-up bg-white rounded-xl p-6 shadow-lg border border-gray-100",style:{animationDelay:"200ms"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-gray-900",children:h.title}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(ge=h.location)==null?void 0:ge.address,", ",(oe=h.location)==null?void 0:oe.city,", ",(de=h.location)==null?void 0:de.state]})]})]}),e.jsx(xe,{variant:h.status==="available"?"default":"secondary",children:h.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yn,{className:"w-5 h-5 mr-2 text-estate-blue"}),e.jsxs("span",{className:"font-semibold",children:["",h.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sj,{className:"w-5 h-5 mr-2 text-estate-blue"}),e.jsxs("span",{children:[h.area," sq.ft"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_t,{className:"w-5 h-5 mr-2 text-estate-blue"}),e.jsx("span",{className:"capitalize",children:h.propertyType})]})]})]}),e.jsx(Hs,{}),e.jsxs("div",{className:"animate-fade-in-up bg-white rounded-xl p-6 shadow-lg border border-gray-100",style:{animationDelay:"400ms"},children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:h.description||"No description available for this property."})]}),h.amenities&&h.amenities.length>0&&e.jsxs("div",{className:"animate-fade-in-up bg-white rounded-xl p-6 shadow-lg border border-gray-100",style:{animationDelay:"600ms"},children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:h.amenities.map((le,he)=>e.jsx(xe,{variant:"outline",className:"smooth-transition hover:scale-105",children:le},he))})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{className:"animate-fade-in-left bg-gradient-to-br from-white to-gray-50 shadow-xl border-0",style:{animationDelay:"300ms"},children:[e.jsx(ve,{className:"bg-gradient-to-r from-estate-blue to-estate-blue-light text-white rounded-t-lg",children:e.jsx(ye,{className:"text-xl",children:"Contact Owner"})}),e.jsxs(Q,{className:"space-y-4",children:[h.owner&&e.jsxs("div",{className:"p-4 bg-estate-blue-lighter/20 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Property Owner"}),h.owner.phone&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Pr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:h.owner.phone})]})]}),h.listingType==="sale"&&e.jsxs(H,{onClick:D,className:"w-full bg-estate-blue hover:bg-estate-blue-dark text-white smooth-transition hover:scale-105 hover:shadow-lg",size:"lg",children:[e.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Buy Now - ",h.price.toLocaleString()]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Your Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-800 dark:text-gray-200",children:(s==null?void 0:s.fullName)||(r==null?void 0:r.phone)||"Not available"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phone:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-800 dark:text-gray-200",children:(r==null?void 0:r.phone)||"Not available"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"message",children:"Your Message *"}),e.jsx(Zt,{id:"message",placeholder:"I'm interested in this property. Please provide more details...",value:A.message,onChange:le=>M({...A,message:le.target.value}),rows:4,required:!0})]}),e.jsxs(H,{type:"submit",className:"w-full smooth-transition hover:scale-105",children:[e.jsx(ic,{className:"w-4 h-4 mr-2"}),"Send Inquiry"]})]})]})]})})]}),y.length>0&&e.jsxs("section",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Related Properties"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(le=>{var Ot,Yt,or,Bt;const he=((Ot=le.images)==null?void 0:Ot.find(er=>er.isPrimary))||((Yt=le.images)==null?void 0:Yt[0]),fe=(he==null?void 0:he.url)||he||"/placeholder.svg",we=le.listingType==="rent"?`${(le.monthlyRent||le.price).toLocaleString()}/month`:`${le.price.toLocaleString()}`,Oe=`${(or=le.location)==null?void 0:or.address}, ${(Bt=le.location)==null?void 0:Bt.city}`,Te=le.propertyType.charAt(0).toUpperCase()+le.propertyType.slice(1),pt=le.listingType==="rent"?"For Rent":le.status==="active"?"For Sale":le.status==="sold"?"Sold":"For Sale";return e.jsx(Xu,{id:le._id,title:le.title,location:Oe,price:we,area:`${le.area} sq ft`,image:fe,type:Te,status:pt},le._id)})})]})]}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md animate-scale-in",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Share Property"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>B("copy_link"),children:" Copy Link"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>B("whatsapp"),children:" WhatsApp"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>B("facebook"),children:" Facebook"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>B("twitter"),children:" Twitter"}),e.jsx(H,{variant:"outline",className:"w-full justify-start",onClick:()=>B("linkedin"),children:" LinkedIn"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{placeholder:"Email address",value:E,onChange:le=>$(le.target.value),className:"flex-1"}),e.jsx(H,{onClick:()=>B("email",E),disabled:!E,children:" Email"})]})]}),e.jsx("div",{className:"flex gap-2 mt-4",children:e.jsx(H,{variant:"outline",className:"flex-1",onClick:()=>k(!1),children:"Cancel"})})]})})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),e.jsx(He,{to:"/properties",children:e.jsx(H,{children:"Browse Properties"})})]})})},rO=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[d,u]=m.useState("created_at"),[h,f]=m.useState("all"),{toast:y}=ot();m.useEffect(()=>{x()},[d,h,i]);const x=async()=>{var g;try{a(!0);const v={page:1,limit:50};h!=="all"&&(v.status=h),i&&(v.search=i),d==="price_asc"?(v.sort="priceRange.min",v.order="asc"):d==="price_desc"?(v.sort="priceRange.min",v.order="desc"):d==="name"?(v.sort="name",v.order="asc"):(v.sort="createdAt",v.order="desc"),console.log("Fetching projects with params:",v);const j=await re.getProjects(v);if(j.error)throw j.error;r(((g=j.data)==null?void 0:g.projects)||[])}catch(v){console.error("Error fetching projects:",v),y({title:"Error",description:"Failed to load projects. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsx("section",{className:"bg-gradient-hero py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Builder Projects"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto",children:"Explore ongoing and upcoming real estate projects from leading developers and builders across the country."})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search projects...",value:i,onChange:g=>l(g.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:h,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"planning",children:"Planning"}),e.jsx(te,{value:"under_construction",children:"Under Construction"}),e.jsx(te,{value:"ready_to_move",children:"Ready to Move"}),e.jsx(te,{value:"launched",children:"Launched"})]})]}),e.jsxs(Xe,{value:d,onValueChange:u,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"created_at",children:"Newest First"}),e.jsx(te,{value:"completion_date",children:"Completion Date"}),e.jsx(te,{value:"name",children:"Name"})]})]}),e.jsx(H,{onClick:x,variant:"outline",children:"Refresh"})]})})})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((g,v)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},v))}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(g=>{var v,j,N,w,P,_;return e.jsx(Qu,{id:g._id,name:g.name,location:`${((v=g.location)==null?void 0:v.city)||""}, ${((j=g.location)==null?void 0:j.state)||""}`.trim().replace(/^,\s*|,\s*$/g,""),price_range:`${((N=g.priceRange)==null?void 0:N.min)||0} - ${((w=g.priceRange)==null?void 0:w.max)||0} ${((P=g.priceRange)==null?void 0:P.unit)||""}`,completion_date:g.completionDate,images:((_=g.images)==null?void 0:_.map(C=>C?typeof C=="string"?C:(C==null?void 0:C.url)||null:null).filter(Boolean))||[],status:g.status==="under_construction"?"ongoing":g.status==="ready_to_move"?"completed":g.status==="planning"?"planned":g.status,project_type:g.projectType||"residential",total_units:g.totalUnits,available_units:g.availableUnits,showSaveButton:!0},g._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No Projects Found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})})})]})},sO=({propertyId:t,projectId:r,propertyTitle:s,onSuccess:a,onCancel:i,showUserInfo:l=!1})=>{const[d,u]=m.useState({subject:"",message:"",contactPreference:"phone"}),[h,f]=m.useState(!1),{toast:y}=ot(),{user:x}=It(),g=async j=>{if(j.preventDefault(),!x){y({title:"Authentication Required",description:"Please log in to make an inquiry",variant:"destructive"});return}if(!d.subject.trim()||!d.message.trim()){y({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}f(!0);try{const N={inquiryType:t?"property_inquiry":"project_inquiry",subject:d.subject,message:d.message,contactPreference:d.contactPreference,propertyId:t||void 0,projectId:r||void 0},w=await re.createInquiry(N);if(w.error)throw new Error(w.error);y({title:"Inquiry Sent Successfully",description:"Your inquiry has been sent to the property owner. You'll receive a response soon!"}),u({subject:"",message:"",contactPreference:"phone"}),a==null||a()}catch(N){console.error("Error submitting inquiry:",N),y({title:"Error",description:"Failed to send inquiry. Please try again.",variant:"destructive"})}finally{f(!1)}},v=(j,N)=>{u(w=>({...w,[j]:N}))};return e.jsxs(G,{className:"w-full max-w-2xl mx-auto",children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-5 w-5 text-blue-500"}),"Make an Inquiry"]}),s&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["About: ",s]})]}),e.jsxs(Q,{children:[l&&x&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(nr,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Your Information"})]}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",x.phone]}),x.email&&e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",x.email]})]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"subject",children:"Subject *"}),e.jsx(Se,{id:"subject",placeholder:"What would you like to know?",value:d.subject,onChange:j=>v("subject",j.target.value),maxLength:200,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.subject.length,"/200 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"message",children:"Message *"}),e.jsx(Zt,{id:"message",placeholder:"Please provide details about your inquiry...",value:d.message,onChange:j=>v("message",j.target.value),rows:4,maxLength:2e3,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.message.length,"/2000 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactPreference",children:"Preferred Contact Method"}),e.jsxs(Xe,{value:d.contactPreference,onValueChange:j=>v("contactPreference",j),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select contact method"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"phone",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pr,{className:"h-4 w-4"}),"Phone"]})}),e.jsx(te,{value:"email",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mr,{className:"h-4 w-4"}),"Email"]})}),e.jsx(te,{value:"whatsapp",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ic,{className:"h-4 w-4"}),"WhatsApp"]})})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(H,{type:"submit",disabled:h,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Un,{className:"h-4 w-4 mr-2"}),"Send Inquiry"]})}),i&&e.jsx(H,{type:"button",variant:"outline",onClick:i,disabled:h,children:"Cancel"})]})]})]})]})},nO=()=>{var q;const{id:t}=Hl(),{user:r}=It(),{toast:s}=ot(),a=dr(),i=t||window.location.pathname.split("/").pop(),l=new URLSearchParams(window.location.search),d=window.location.hash.split("/").pop(),u=i||l.get("id")||d;console.log("ProjectDetails component loaded with ID:",t),console.log("Extracted project ID:",i),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname),console.log("URL search params:",window.location.search),console.log("URL hash:",window.location.hash),console.log("useParams result:",Hl()),console.log("Final Project ID:",u);const h=window.location.pathname.split("/");console.log("URL parts:",h),console.log("Last URL part:",h[h.length-1]),console.log('Is last part "undefined"?',h[h.length-1]==="undefined");const[f,y]=m.useState(null),[x,g]=m.useState([]),[v,j]=m.useState(!0);m.useEffect(()=>{if(u&&u!=="undefined"&&u!==""&&u.length>0&&u!=="null"&&!u.includes("undefined"))N(),w();else{console.error("Project ID is undefined or invalid:",{id:t,projectId:i,finalProjectId:u}),console.log("Current URL:",window.location.href),console.log("URL pathname:",window.location.pathname);const M=window.location.href.includes("/undefined");console.log('URL contains "undefined":',M),s({title:"Invalid Project ID",description:(M?"The URL contains 'undefined' instead of a valid project ID. This usually happens when navigation occurs with an undefined project ID.":"The project ID in the URL is invalid or missing.")+" Redirecting to projects page.",variant:"destructive"}),setTimeout(()=>{a("/projects")},2e3),j(!1)}},[u]);const N=async()=>{var M,V;if(!(u&&u!=="undefined"&&u!==""&&u.length>0&&u!=="null"&&!u.includes("undefined"))){console.error("Cannot fetch project details: ID is invalid:",u),j(!1);return}try{console.log("Fetching project details for ID:",u);let k=await re.getProject(u);if(console.log("Regular project response:",k),k.error&&(console.log("Regular project not found, trying redevelopment project..."),k=await re.getRedevelopmentProject(u),console.log("Redevelopment project response:",k)),k.error){console.error("Both project types failed:",k.error),s({title:"Project Not Found",description:"The project you're looking for doesn't exist or has been removed.",variant:"destructive"}),j(!1);return}console.log("Project data received:",k.data);const T=((M=k.data)==null?void 0:M.project)||k.data;if(console.log("Raw project data:",T),!T)throw new Error("No project data found in response");const z={...T,name:T.name||T.title||"Untitled Project",location:T.location?typeof T.location=="string"?T.location:`${T.location.address||""}, ${T.location.city||""}, ${T.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:T.priceRange?`${T.priceRange.min}${T.priceRange.unit==="lakh"?"L":T.priceRange.unit==="crore"?"Cr":""} - ${T.priceRange.max}${T.priceRange.unit==="lakh"?"L":T.priceRange.unit==="crore"?"Cr":""}`:T.price_range||"Price on request",total_units:T.totalUnits||T.total_units,available_units:T.availableUnits||T.available_units,completion_date:T.completionDate||T.completion_date||((V=T.timeline)==null?void 0:V.expectedCompletionDate),status:T.status||"unknown",amenities:T.amenities||T.expectedAmenities||[],images:T.images||[],brochures:T.brochures||[],documents:T.documents||[],description:T.description||"No description available",developers:T.developer||T.developers,project_type:T.projectType||T.project_type||"residential"};console.log("Transformed project data:",z),y(z)}catch(k){console.error("Error fetching project:",k),s({title:"Error",description:"Failed to load project details. Please try again.",variant:"destructive"})}finally{j(!1)}},w=async()=>{try{const A=await re.getProjects();if(A.error)throw new Error(A.error);let M=[];Array.isArray(A.data)?M=A.data:A.data&&Array.isArray(A.data.projects)?M=A.data.projects:A.data&&Array.isArray(A.data.data)&&(M=A.data.data);const k=M.filter(T=>T._id!==t).slice(0,3).map(T=>{var z;return{id:T._id||T.id,name:T.name,location:T.location?typeof T.location=="string"?T.location:`${T.location.address||""}, ${T.location.city||""}, ${T.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:T.priceRange?`${T.priceRange.min}${T.priceRange.unit==="lakh"?"L":T.priceRange.unit==="crore"?"Cr":""} - ${T.priceRange.max}${T.priceRange.unit==="lakh"?"L":T.priceRange.unit==="crore"?"Cr":""}`:T.price_range||"Price on request",completion_date:T.completionDate||T.completion_date,images:((z=T.images)==null?void 0:z.map(E=>E?typeof E=="string"?E:(E==null?void 0:E.url)||null:null).filter(Boolean))||[],status:T.status==="under_construction"?"ongoing":T.status==="ready_to_move"?"completed":T.status==="planning"?"planned":T.status,project_type:T.projectType||T.project_type||"residential",total_units:T.totalUnits||T.total_units,available_units:T.availableUnits||T.available_units}});g(k)}catch(A){console.error("Error fetching related projects:",A),g([])}},P=async()=>{const A={title:f.name,text:`Check out this amazing project: ${f.name}`,url:window.location.href};if(navigator.share)try{await navigator.share(A)}catch(M){M.name!=="AbortError"&&(console.error("Error sharing:",M),await _())}else await _()},_=async()=>{try{await navigator.clipboard.writeText(window.location.href),s({title:"Link Copied!",description:"Project link has been copied to your clipboard."})}catch(A){console.error("Failed to copy to clipboard:",A),C()}},C=()=>{const A=document.createElement("textarea");A.value=window.location.href,A.style.position="fixed",A.style.left="-999999px",A.style.top="-999999px",document.body.appendChild(A),A.focus(),A.select();try{document.execCommand("copy"),s({title:"Link Copied!",description:"Project link has been copied to your clipboard."})}catch(M){console.error("Fallback copy failed:",M),s({title:"Copy Failed",description:"Unable to copy link. Please copy manually from the address bar.",variant:"destructive"})}finally{document.body.removeChild(A)}};if(!i||i==="undefined")return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invalid Project ID"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The project ID in the URL is invalid or missing."}),e.jsx(He,{to:"/projects",children:e.jsx(H,{children:"Browse Projects"})})]})});if(v)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-estate-blue mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading project details..."})]})});if(!f)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Project Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The project you're looking for doesn't exist or has been removed."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(He,{to:"/projects",children:e.jsx(H,{children:"Browse Projects"})}),e.jsx(H,{variant:"outline",onClick:()=>a(-1),children:"Go Back"})]})]})});const L=A=>{switch(A){case"ongoing":return"bg-blue-500 text-white";case"completed":return"bg-green-500 text-white";case"planned":return"bg-yellow-500 text-white";case"on_hold":return"bg-gray-500 text-white";default:return"bg-blue-500 text-white"}};return console.log("ProjectDetails rendering with project:",f),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("section",{className:"relative",children:[e.jsx("div",{className:"h-96 md:h-[500px] bg-gradient-card",children:f.images&&f.images[0]?e.jsx("img",{src:((q=f.images[0])==null?void 0:q.url)||(typeof f.images[0]=="string"?f.images[0]:null),alt:f.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-estate-gray-light",children:e.jsx(yt,{className:"w-20 h-20 text-estate-gray"})})}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between",children:[e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:()=>a(-1),children:[e.jsx(ji,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs(H,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:P,children:[e.jsx(kj,{className:"w-4 h-4 mr-2"}),"Share"]})]})]}),e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3",children:f.name||"Untitled Project"}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"break-words",children:f.location||"Location not specified"})]})]}),e.jsx(xe,{className:`${L(f.status)} self-start`,children:f.status?f.status.replace("_"," ").toUpperCase():"UNKNOWN"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-base sm:text-lg",children:[e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(yt,{className:"w-5 h-5 mr-2 text-estate-blue flex-shrink-0"}),e.jsx("span",{className:"font-semibold truncate",children:f.price_range||"Price on request"})]}),f.total_units&&e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(Ct,{className:"w-5 h-5 mr-2 text-estate-blue flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[f.available_units||0,"/",f.total_units," units"]})]}),f.completion_date&&e.jsxs("div",{className:"flex items-center min-w-0",children:[e.jsx(Jt,{className:"w-5 h-5 mr-2 text-estate-blue flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Expected: ",new Date(f.completion_date).toLocaleDateString()]})]})]})]}),e.jsx(Hs,{}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About Project"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:f.description||"No description available for this project."})]}),f.amenities&&f.amenities.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.amenities.map((A,M)=>e.jsx(xe,{variant:"outline",children:A},M))})]}),f.images&&f.images.length>1&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f.images.map((A,M)=>e.jsxs("div",{className:"relative group cursor-pointer",children:[e.jsx("img",{src:(A==null?void 0:A.url)||(typeof A=="string"?A:null),alt:`${f.name} - Image ${M+1}`,className:"w-full h-32 object-cover rounded-lg border hover:shadow-lg transition-shadow"}),(A==null?void 0:A.isPrimary)&&e.jsx(xe,{className:"absolute top-2 left-2 text-xs",children:"Primary"})]},M))})]}),f.videos&&f.videos.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Videos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.videos.map((A,M)=>e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:(A==null?void 0:A.url)||(typeof A=="string"?A:null),controls:!0,className:"w-full h-64 object-cover rounded-lg border",poster:A==null?void 0:A.thumbnail,children:"Your browser does not support the video tag."}),(A==null?void 0:A.caption)&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:A.caption})]},M))})]}),f.brochures&&f.brochures.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Brochures"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.brochures.map((A,M)=>e.jsx(G,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:(A==null?void 0:A.name)||`Project Brochure ${M+1}`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF Document"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{const V=(A==null?void 0:A.url)||(typeof A=="string"?A:null);V&&window.open(V,"_blank")},children:"View PDF"})]})})},M))})]}),f.documents&&f.documents.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Project Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.documents.map((A,M)=>e.jsx(G,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:(A==null?void 0:A.name)||`Project Document ${M+1}`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:A!=null&&A.type?A.type.replace("_"," ").toUpperCase():"PDF Document"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{const V=(A==null?void 0:A.url)||(typeof A=="string"?A:null);V&&window.open(V,"_blank")},children:"View PDF"})]})})},M))})]}),f.floor_plans&&Object.keys(f.floor_plans).length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Floor Plans"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(f.floor_plans).map(([A,M])=>e.jsx(G,{children:e.jsxs(Q,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-2 capitalize",children:A?A.replace("_"," "):"Unknown Type"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[M.area&&e.jsxs("p",{children:["Area: ",M.area]}),M.price&&e.jsxs("p",{children:["Price: ",M.price]}),M.description&&e.jsx("p",{children:M.description})]})]})},A))})]})]}),e.jsx("div",{className:"space-y-6 lg:sticky lg:top-8",children:e.jsxs("div",{className:"space-y-4",children:[f.developers&&e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Developer Information"})}),e.jsx(Q,{children:e.jsxs("div",{className:"p-4 bg-estate-blue-lighter/20 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.developers.company_name||"Developer",f.developers.verification_status==="verified"&&e.jsx(xe,{className:"bg-green-100 text-green-800 text-xs",children:"Verified"})]}),f.developers.website&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),e.jsx("a",{href:f.developers.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"Visit Website"})]})]})})]}),e.jsx(sO,{projectId:u,propertyTitle:f==null?void 0:f.name,showUserInfo:!0,onSuccess:()=>{s({title:"Inquiry Sent Successfully",description:"Your inquiry has been sent to the developer. You'll receive a response soon!"})}})]})})]}),x.length>0&&e.jsxs("section",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Similar Projects"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(A=>e.jsx(Qu,{id:A.id,name:A.name,location:A.location,price_range:A.price_range,completion_date:A.completion_date,images:A.images||[],status:A.status,total_units:A.total_units,available_units:A.available_units,project_type:A.project_type},A.id))})]})]})]})},aO=()=>{const t=[{id:1,title:"Top 10 Real Estate Investment Tips for 2024",excerpt:"Discover the latest strategies for maximizing your real estate investments in today's market. From location analysis to market timing, learn the essential tips every investor should know.",category:"Investment",author:"Rajesh Kumar",date:"March 15, 2024",readTime:"5 min read",image:"/api/placeholder/400/250"},{id:2,title:"NRI Property Investment: Complete Guide",excerpt:"Everything Non-Resident Indians need to know about investing in Indian real estate. Legal requirements, tax implications, and best practices for overseas investors.",category:"NRI Guide",author:"Priya Sharma",date:"March 12, 2024",readTime:"8 min read",image:"/api/placeholder/400/250"},{id:3,title:"Mumbai Real Estate Market Trends 2024",excerpt:"An in-depth analysis of Mumbai's property market, including price trends, upcoming projects, and investment hotspots. What buyers and investors need to know.",category:"Market Analysis",author:"Amit Patel",date:"March 10, 2024",readTime:"6 min read",image:"/api/placeholder/400/250"},{id:4,title:"First-Time Home Buyer's Checklist",excerpt:"A comprehensive checklist for first-time home buyers. From budgeting and loan approval to property inspection and legal documentation.",category:"Buying Guide",author:"Sneha Verma",date:"March 8, 2024",readTime:"7 min read",image:"/api/placeholder/400/250"},{id:5,title:"Commercial Real Estate: Opportunities in Tier 2 Cities",excerpt:"Exploring the growing commercial real estate opportunities in India's tier 2 cities. Market potential, rental yields, and investment prospects.",category:"Commercial",author:"Vikram Singh",date:"March 5, 2024",readTime:"6 min read",image:"/api/placeholder/400/250"},{id:6,title:"Sustainable Housing: Green Building Trends",excerpt:"The rise of eco-friendly and sustainable housing solutions. Green building certifications, energy efficiency, and their impact on property values.",category:"Sustainability",author:"Dr. Meera Joshi",date:"March 3, 2024",readTime:"5 min read",image:"/api/placeholder/400/250"}],r=["All","Investment","NRI Guide","Market Analysis","Buying Guide","Commercial","Sustainability"],s=t[0],a=t.slice(1);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-hero py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Real Estate Blog"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto",children:"Stay updated with the latest real estate news, market insights, investment tips, and industry trends."})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:r.map(i=>e.jsx(H,{variant:i==="All"?"default":"outline",size:"sm",className:"rounded-full",children:i},i))})})}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Featured Article"}),e.jsx(G,{className:"overflow-hidden shadow-medium hover:shadow-strong transition-shadow",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/2",children:e.jsx("div",{className:"h-64 md:h-full bg-gradient-card flex items-center justify-center",children:e.jsx("div",{className:"text-6xl text-estate-gray",children:""})})}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsxs(ve,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xe,{children:s.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.readTime})]}),e.jsx("h3",{className:"text-2xl font-bold",children:s.title})]}),e.jsxs(Q,{children:[e.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:s.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:s.author})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:s.date})]})]}),e.jsxs(H,{children:["Read More",e.jsx(Bn,{className:"w-4 h-4 ml-2"})]})]})]})]})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Latest Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(i=>e.jsxs(G,{className:"overflow-hidden hover:shadow-medium transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"h-48 bg-gradient-card flex items-center justify-center",children:e.jsx("div",{className:"text-4xl text-estate-gray",children:""})}),e.jsxs(ve,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xe,{variant:"outline",children:i.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i.readTime})]}),e.jsx("h3",{className:"text-xl font-semibold group-hover:text-estate-blue transition-colors",children:i.title})]}),e.jsxs(Q,{children:[e.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:i.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(nr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:i.author})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:i.date})]})]})]})]},i.id))})]}),e.jsx("section",{className:"mt-16 py-16 bg-gradient-primary rounded-2xl text-center",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stay Updated with Real Estate Insights"}),e.jsx("p",{className:"text-white/90 mb-8",children:"Subscribe to our newsletter for the latest market trends, investment tips, and exclusive property opportunities."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg border-0 focus:outline-none focus:ring-2 focus:ring-white/30"}),e.jsx(H,{variant:"secondary",className:"whitespace-nowrap",children:"Subscribe Now"})]})]})})]})]})},k2=({selectedState:t,selectedCity:r,onStateChange:s,onCityChange:a})=>{const[i,l]=m.useState([]);return m.useEffect(()=>{if(t){const d=fu(t);l(d),r&&!d.includes(r)&&a("")}else l([])},[t]),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"state",children:"State *"}),e.jsxs(Xe,{value:t,onValueChange:s,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select state"})}),e.jsx(Ke,{children:Cx().map(d=>e.jsx(te,{value:d,children:d},d))})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"city",children:"City *"}),e.jsxs(Xe,{value:r,onValueChange:a,disabled:!t,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:t?"Select city":"Select state first"})}),e.jsx(Ke,{children:i.map(d=>e.jsx(te,{value:d,children:d},d))})]})]})]})},In={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/webp,application/pdf",VITE_API_URL:"https://milkatpost.com/api",VITE_APP_DESCRIPTION:"Real Estate Management Platform",VITE_APP_NAME:"Milkat Post",VITE_APP_VERSION:"1.0.0",VITE_CSP_NONCE:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG:"false",VITE_ENABLE_PRECACHING:"true",VITE_ENABLE_SERVICE_WORKER:"true",VITE_GA_TRACKING_ID:"your-production-google-analytics-id",VITE_MAX_FILE_SIZE:"10485760",VITE_NODE_ENV:"production",VITE_SUPPORT_EMAIL:"support@milkatpost.com",VITE_WS_URL:"wss://milkatpost.com"},oO=()=>{const{user:t}=It(),r=dr(),{toast:s}=ot(),a=m.useRef(null),i=m.useRef(null),[l,d]=m.useState(!1),[u,h]=m.useState(!1),[f,y]=m.useState({title:"",description:"",price:"",area:"",location:"",city:"",state:"",country:"India",property_type:"",listing_type:"",images:[],videos:[],amenities:[]}),[x,g]=m.useState(""),[v,j]=m.useState(null),N=["Swimming Pool","Gym/Fitness Center","Parking","Security","24/7 Power Backup","Elevator/Lift","Garden/Landscaping","Playground","Club House","Internet/Wi-Fi","Air Conditioning","Balcony","Furnished","Semi-Furnished"],w=["Apartment","Villa","Independent House","Duplex","Penthouse","Studio","Farmhouse","Row House","Bungalow","Residential Land","Commercial Space","Office Space","Retail Shop","Warehouse","Industrial Land"],P=["For Sale","For Rent","Redevelopment"];if(!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx(_t,{className:"w-16 h-16 text-estate-gray mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to post your property listing."}),e.jsx(H,{onClick:()=>r("/auth"),className:"w-full",children:"Go to Login"})]})})});const _=(R,X)=>{y(Y=>({...Y,[R]:X}))},C=R=>{y(X=>({...X,state:R,city:""}))},L=R=>{y(X=>({...X,city:R}))},q=R=>{y(X=>({...X,amenities:X.amenities.includes(R)?X.amenities.filter(Y=>Y!==R):[...X.amenities,R]}))},A=()=>{const R=x.trim();if(R&&!f.amenities.includes(R)){const X=R.toLowerCase().replace(/\s+/g,"_");["parking","security","gym","swimming_pool","garden","playground","clubhouse","power_backup","water_supply","elevator","balcony","terrace","modular_kitchen","wardrobe","ac","furnished","semi_furnished"].includes(X)?(y(O=>({...O,amenities:[...O.amenities,R]})),g("")):s({title:"Invalid amenity",description:"This amenity is not supported. Please choose from the predefined list or use a supported amenity.",variant:"destructive"})}},M=R=>{y(X=>({...X,amenities:X.amenities.filter(Y=>Y!==R)}))},V=async R=>{const X=R.target.files;if(!(!X||!t)){h(!0);try{if(typeof import.meta<"u"&&(In==null?void 0:In.VITE_MOCK_OTP)==="true"){const O=[];let I=0;for(const D of Array.from(X)){const W=new FileReader;W.onload=B=>{var U;(U=B.target)!=null&&U.result&&(O.push(B.target.result),I++,I===X.length&&(y(J=>({...J,images:[...J.images,...O]})),s({title:"Success!",description:`${O.length} image(s) uploaded successfully.`}),h(!1)))},W.readAsDataURL(D)}}else{const O=Array.from(X),I=await re.uploadPropertyImages(O);if(I.error)throw new Error(I.error);const D=I.data.images.map(W=>({url:W.url,caption:W.caption||"Property image",isPrimary:W.isPrimary||!1}));y(W=>({...W,images:[...W.images,...D]})),s({title:"Success!",description:`${D.length} image(s) uploaded successfully.`}),h(!1)}}catch(Y){console.error("Error uploading images:",Y),s({title:"Error",description:"Failed to upload images. Please try again.",variant:"destructive"}),h(!1)}}},k=async R=>{const X=R.target.files;if(!(!X||!t)){h(!0);try{if(typeof import.meta<"u"&&(In==null?void 0:In.VITE_MOCK_OTP)==="true"){const O=[];for(const I of Array.from(X)){if(I.size>100*1024*1024){s({title:"File too large",description:`${I.name} is larger than 100MB. Please choose a smaller file.`,variant:"destructive"});continue}const D=`https://example.com/mock-video-${Date.now()}-${Math.random().toString(36).substring(7)}.mp4`;O.push(D)}y(I=>({...I,videos:[...I.videos,...O]})),s({title:"Success!",description:`${O.length} video(s) uploaded successfully.`}),h(!1)}else{const O=Array.from(X),I=[];for(const D of O){if(D.size>100*1024*1024){s({title:"File too large",description:`${D.name} is larger than 100MB. Please choose a smaller file.`,variant:"destructive"});continue}try{const W=await re.uploadSingleFile(D,"property_video");if(W.error){console.error(`Error uploading ${D.name}:`,W.error),s({title:"Upload Warning",description:`Failed to upload ${D.name}. Please try again.`,variant:"destructive"});continue}const B=W.data.media.url.startsWith("http")?W.data.media.url:`http://localhost:5000${W.data.media.url}`;I.push(B)}catch(W){console.error(`Error uploading ${D.name}:`,W),s({title:"Upload Warning",description:`Failed to upload ${D.name}. Please try again.`,variant:"destructive"})}}I.length>0&&(y(D=>({...D,videos:[...D.videos,...I]})),s({title:"Success!",description:`${I.length} video(s) uploaded successfully.`})),h(!1)}}catch(Y){console.error("Error uploading videos:",Y),s({title:"Error",description:"Failed to upload videos. Please try again.",variant:"destructive"}),h(!1)}}},T=R=>{y(X=>({...X,images:X.images.filter(Y=>(typeof Y=="string"?Y:Y.url)!==R)}))},z=R=>{y(X=>({...X,videos:X.videos.filter(Y=>Y!==R)})),v===R&&j(null)},E=R=>{j(v===R?null:R)},$=async R=>{if(R.preventDefault(),!l){if(!f.title||f.title.length<5){s({title:"Validation Error",description:"Title must be at least 5 characters long.",variant:"destructive"});return}if(!f.description||f.description.length<10){s({title:"Validation Error",description:"Description must be at least 10 characters long.",variant:"destructive"});return}if(!f.price||parseFloat(f.price)<=0){s({title:"Validation Error",description:"Please enter a valid price.",variant:"destructive"});return}if(!f.area||parseFloat(f.area)<=0){s({title:"Validation Error",description:"Please enter a valid area.",variant:"destructive"});return}if(!f.location||f.location.length<5){s({title:"Validation Error",description:"Location must be at least 5 characters long.",variant:"destructive"});return}if(!f.city||f.city.length<2){s({title:"Validation Error",description:"Please select a valid city.",variant:"destructive"});return}if(!f.state||f.state.length<2){s({title:"Validation Error",description:"Please select a valid state.",variant:"destructive"});return}if(!f.property_type){s({title:"Validation Error",description:"Please select a property type.",variant:"destructive"});return}if(!f.listing_type){s({title:"Validation Error",description:"Please select a listing type.",variant:"destructive"});return}d(!0);try{if(typeof import.meta<"u"&&(In==null?void 0:In.VITE_MOCK_OTP)==="true")s({title:"Success!",description:"Your property listing has been posted successfully."}),r("/properties");else{const Y={Apartment:"apartment",Villa:"villa","Independent House":"house",Duplex:"house",Penthouse:"apartment",Studio:"apartment",Farmhouse:"house","Row House":"house",Bungalow:"house","Residential Land":"plot","Commercial Space":"commercial","Office Space":"office","Retail Shop":"shop",Warehouse:"warehouse","Industrial Land":"other"},O={"For Sale":"sale","For Rent":"rent",Redevelopment:"lease"},I={"Swimming Pool":"swimming_pool","Gym/Fitness Center":"gym",Parking:"parking",Security:"security","24/7 Power Backup":"power_backup","Elevator/Lift":"elevator","Garden/Landscaping":"garden",Playground:"playground","Club House":"clubhouse","Air Conditioning":"ac",Balcony:"balcony",Furnished:"furnished","Semi-Furnished":"semi_furnished"},D=["parking","security","gym","swimming_pool","garden","playground","clubhouse","power_backup","water_supply","elevator","balcony","terrace","modular_kitchen","wardrobe","ac","furnished","semi_furnished"],W={title:f.title,description:f.description,price:parseFloat(f.price),area:parseFloat(f.area),location:{address:f.location,city:f.city,state:f.state,country:f.country},propertyType:Y[f.property_type]||"other",listingType:O[f.listing_type]||"sale",images:f.images.map((U,J)=>typeof U=="string"?{url:U,caption:`Property image ${J+1}`,isPrimary:J===0}:{url:U.url,caption:U.caption||`Property image ${J+1}`,isPrimary:U.isPrimary||J===0}),videos:f.videos.map((U,J)=>({url:U,caption:`Property video ${J+1}`})),amenities:(()=>{const U=f.amenities.map(ue=>I[ue]||ue.toLowerCase().replace(/\s+/g,"_")),J=U.filter(ue=>D.includes(ue)),se=U.length-J.length;return se>0&&s({title:"Some amenities removed",description:`${se} amenity(ies) were removed as they are not supported. Only predefined amenities are allowed.`,variant:"destructive"}),J})()};console.log("Sending property data:",W);const B=await re.createProperty(W);if(B.error)throw console.error("Property creation error:",B.error),new Error(B.error);s({title:"Success!",description:"Your property listing has been posted successfully."}),r("/properties")}}catch(X){console.error("Error posting property:",X),s({title:"Error",description:"Failed to post property. Please try again.",variant:"destructive"})}finally{d(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx(ks,{}),e.jsx("main",{className:"container py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Post Your Property"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"List your property and connect with potential buyers, renters, and investors"})]}),e.jsxs(G,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsx(ve,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-estate-blue rounded-lg flex items-center justify-center",children:e.jsx(_t,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-2xl font-bold text-slate-900",children:"Property Details"}),e.jsx("p",{className:"text-slate-600",children:"Complete all sections to create your listing"})]})]})}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:$,className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(_t,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"title",children:"Title *"}),e.jsx(Se,{id:"title",placeholder:"Enter property title",value:f.title,onChange:R=>_("title",R.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"description",children:"Description *"}),e.jsx(Zt,{id:"description",placeholder:"Describe your property",value:f.description,onChange:R=>_("description",R.target.value),required:!0,className:"min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"price",children:"Price (INR) *"}),e.jsx(Se,{id:"price",type:"number",placeholder:"Enter price",value:f.price,onChange:R=>_("price",R.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"area",children:"Area (sqft) *"}),e.jsx(Se,{id:"area",type:"number",placeholder:"Enter area in sqft",value:f.area,onChange:R=>_("area",R.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-8 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Location Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"location",children:"Location *"}),e.jsx(Se,{id:"location",placeholder:"Enter detailed location",value:f.location,onChange:R=>_("location",R.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"State & City *"}),e.jsx(k2,{selectedState:f.state,selectedCity:f.city,onStateChange:C,onCityChange:L})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"property_type",children:"Property Type *"}),e.jsxs(Xe,{value:f.property_type,onValueChange:R=>_("property_type",R),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select property type"})}),e.jsx(Ke,{children:w.map(R=>e.jsx(te,{value:R,children:R},R))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"listing_type",children:"Listing Type *"}),e.jsxs(Xe,{value:f.listing_type,onValueChange:R=>_("listing_type",R),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select listing type"})}),e.jsx(Ke,{children:P.map(R=>e.jsx(te,{value:R,children:R},R))})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-8 border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Amenities & Features"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:N.map(R=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${f.amenities.includes(R)?"border-primary bg-primary/10":"border-input hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ia,{id:R,checked:f.amenities.includes(R),onCheckedChange:()=>q(R),className:"rounded-full"}),e.jsx(ne,{htmlFor:R,className:"text-sm font-medium cursor-pointer",children:R})]})},R))}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ne,{htmlFor:"other-amenity",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{id:"other-amenity",value:x,onChange:R=>g(R.target.value),placeholder:"e.g., terrace, wardrobe, modular kitchen",onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),A())}),e.jsx(H,{type:"button",onClick:A,disabled:!x.trim(),variant:"outline",className:"whitespace-nowrap",children:"Add Amenity"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported amenities: terrace, wardrobe, modular kitchen, water supply"})]}),f.amenities.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Selected Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.amenities.map((R,X)=>e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1 py-2 px-3 text-sm",children:[R,e.jsx("button",{type:"button",onClick:()=>M(R),className:"ml-1 hover:text-destructive",children:e.jsx(Et,{className:"w-3 h-3"})})]},X))})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-8 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(ep,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Photos & Videos"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"block mb-2",children:"Images"}),e.jsxs(H,{type:"button",variant:"outline",onClick:()=>{var R;return(R=a.current)==null?void 0:R.click()},disabled:u,className:"w-full h-12 border-2 border-dashed border-orange-300 hover:border-orange-400 hover:bg-orange-50 transition-all duration-200",children:[e.jsx(ep,{className:"mr-2 h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:u?"Uploading...":"Upload Images"})]}),e.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:V})]}),f.images.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[f.images.length," image",f.images.length!==1?"s":""," uploaded"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:f.images.map((R,X)=>{const Y=typeof R=="string"?R:R.url;return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-xl border-2 border-orange-200 hover:border-orange-300 transition-colors",children:e.jsx("img",{src:Y,alt:`Property ${X+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:O=>{console.error("Image failed to load:",Y),O.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSIjOWNhM2FmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgRXJyb3I8L3RleHQ+PC9zdmc+"}})}),e.jsx("button",{type:"button",onClick:()=>T(Y),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-lg",children:e.jsx(Et,{className:"w-3 h-3"})})]},X)})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"block mb-2",children:"Videos"}),e.jsxs(H,{type:"button",variant:"outline",onClick:()=>{var R;return(R=i.current)==null?void 0:R.click()},disabled:u,className:"w-full h-12 border-2 border-dashed border-orange-300 hover:border-orange-400 hover:bg-orange-50 transition-all duration-200",children:[e.jsx(tp,{className:"mr-2 h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:u?"Uploading...":"Upload Videos"})]}),e.jsx("input",{ref:i,type:"file",accept:"video/*",multiple:!0,className:"hidden",onChange:k})]}),f.videos.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4",children:f.videos.map((R,X)=>e.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[v===R?e.jsx("video",{src:R,className:"w-full h-32 object-cover",controls:!0,autoPlay:!0,onEnded:()=>j(null)}):e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:R,className:"w-full h-32 object-cover",muted:!0}),e.jsx("button",{type:"button",onClick:()=>E(R),className:"absolute inset-0 flex items-center justify-center bg-black/50 hover:bg-black/70 transition-colors",children:e.jsx(Nj,{className:"w-8 h-8 text-white"})})]}),e.jsx("button",{type:"button",onClick:()=>z(R),className:"absolute top-1 right-1 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-md",children:e.jsx(Et,{className:"w-3 h-3"})})]},X))})]})]})]}),e.jsx("div",{className:"flex justify-center pt-8",children:e.jsx(H,{type:"submit",className:"w-full md:w-auto px-12 py-4 bg-gradient-to-r from-estate-blue to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",disabled:l||u,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting Property..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5"}),"Post Property"]})})})]})})]})]})}),e.jsx(vn,{})]})},Cf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/webp,application/pdf",VITE_API_URL:"https://milkatpost.com/api",VITE_APP_DESCRIPTION:"Real Estate Management Platform",VITE_APP_NAME:"Milkat Post",VITE_APP_VERSION:"1.0.0",VITE_CSP_NONCE:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG:"false",VITE_ENABLE_PRECACHING:"true",VITE_ENABLE_SERVICE_WORKER:"true",VITE_GA_TRACKING_ID:"your-production-google-analytics-id",VITE_MAX_FILE_SIZE:"10485760",VITE_NODE_ENV:"production",VITE_SUPPORT_EMAIL:"support@milkatpost.com",VITE_WS_URL:"wss://milkatpost.com"},iO=()=>{const{id:t}=Hl(),{user:r}=It(),s=dr(),{toast:a}=ot(),i=m.useRef(null),[l,d]=m.useState(!1),[u,h]=m.useState(!0),[f,y]=m.useState(!1),[x,g]=m.useState({title:"",description:"",price:"",area:"",location:"",city:"",state:"",country:"India",property_type:"",listing_type:"",images:[],amenities:[]}),[v,j]=m.useState(""),N=["Swimming Pool","Gym/Fitness Center","Parking","Security","24/7 Power Backup","Elevator/Lift","Garden/Landscaping","Playground","Club House","Internet/Wi-Fi","Air Conditioning","Balcony","Furnished","Semi-Furnished"],w={swimming_pool:"Swimming Pool",gym:"Gym/Fitness Center",parking:"Parking",security:"Security",power_backup:"24/7 Power Backup",elevator:"Elevator/Lift",garden:"Garden/Landscaping",playground:"Playground",clubhouse:"Club House",water_supply:"Internet/Wi-Fi",ac:"Air Conditioning",balcony:"Balcony",furnished:"Furnished",semi_furnished:"Semi-Furnished"},P={"Swimming Pool":"swimming_pool","Gym/Fitness Center":"gym",Parking:"parking",Security:"security","24/7 Power Backup":"power_backup","Elevator/Lift":"elevator","Garden/Landscaping":"garden",Playground:"playground","Club House":"clubhouse","Internet/Wi-Fi":"water_supply","Air Conditioning":"ac",Balcony:"balcony",Furnished:"furnished","Semi-Furnished":"semi_furnished"};if(m.useEffect(()=>{(async()=>{var T,z,E,$,R,X;if(!t||!r){console.log("Missing id or user:",{id:t,user:r});return}console.log("Fetching property with ID:",t);try{h(!0);const{data:Y,error:O}=await re.getProperty(t);if(console.log("Property API response:",{data:Y,error:O}),O)throw O;if(Y){const I=Y.property||Y;console.log("Setting form data with property:",I),g({title:I.title||"",description:I.description||"",price:((T=I.price)==null?void 0:T.toString())||"",area:((z=I.area)==null?void 0:z.toString())||"",location:((E=I.location)==null?void 0:E.address)||I.location||"",city:(($=I.location)==null?void 0:$.city)||I.city||"",state:((R=I.location)==null?void 0:R.state)||I.state||"",country:((X=I.location)==null?void 0:X.country)||I.country||"India",property_type:I.propertyType||I.property_type||"",listing_type:I.listingType||I.listing_type||"",images:I.images||[],amenities:(I.amenities||[]).map(D=>w[D]||D)}),console.log("Form data set successfully")}else console.log("No data received from API")}catch(Y){console.error("Error fetching property:",Y),a({title:"Error",description:"Failed to load property data",variant:"destructive"}),s("/buyer-seller/dashboard")}finally{h(!1)}})()},[t,r,s,a]),!r)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx(_t,{className:"w-16 h-16 text-estate-gray mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to edit your property listing."}),e.jsx(H,{onClick:()=>s("/auth"),className:"w-full",children:"Go to Login"})]})})});if(u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const _=(k,T)=>{g(z=>({...z,[k]:T}))},C=k=>{g(T=>({...T,amenities:T.amenities.includes(k)?T.amenities.filter(z=>z!==k):[...T.amenities,k]}))},L=()=>{v.trim()&&!x.amenities.includes(v.trim())&&(g(k=>({...k,amenities:[...k.amenities,v.trim()]})),j(""))},q=k=>{g(T=>({...T,amenities:T.amenities.filter(z=>z!==k)}))},A=async k=>{const T=k.target.files;if(!(!T||!r)){y(!0);try{if(typeof import.meta<"u"&&(Cf==null?void 0:Cf.VITE_MOCK_OTP)==="true"){const E=[];let $=0;for(const R of Array.from(T)){const X=new FileReader;X.onload=Y=>{var O;(O=Y.target)!=null&&O.result&&(E.push(Y.target.result),$++,$===T.length&&(g(I=>({...I,images:[...I.images,...E]})),a({title:"Success!",description:`${E.length} image(s) uploaded successfully.`}),y(!1)))},X.readAsDataURL(R)}}else{const E=Array.from(T),$=await re.uploadPropertyImages(E);if($.error)throw new Error($.error);const R=$.data.images.map(X=>({url:X.url,caption:X.caption||"Property image",isPrimary:X.isPrimary||!1}));g(X=>({...X,images:[...X.images,...R]})),a({title:"Success!",description:`${R.length} image(s) uploaded successfully.`}),y(!1)}}catch(z){console.error("Error uploading images:",z),a({title:"Error",description:"Failed to upload images. Please try again.",variant:"destructive"}),y(!1)}}},M=k=>{g(T=>({...T,images:T.images.filter(z=>(typeof z=="string"?z:z.url)!==k)}))},V=async k=>{if(k.preventDefault(),!(!r||!t)){d(!0);try{const{error:T}=await re.updateProperty(t,{title:x.title,description:x.description,price:parseFloat(x.price),area:parseInt(x.area),location:{address:x.location,city:x.city,state:x.state,country:x.country},propertyType:x.property_type,listingType:x.listing_type,images:x.images,amenities:x.amenities.map(z=>P[z]||z.toLowerCase().replace(/\s+/g,"_"))});if(T)throw T;if(a({title:"Property Updated Successfully!",description:"Your property listing has been updated."}),!t||t==="undefined"||t==="null"||t.trim()===""){console.error("Invalid property ID for navigation:",t),a({title:"Navigation Error",description:"Invalid property ID. Redirecting to properties page.",variant:"destructive"}),s("/properties");return}s(`/property/${t}`)}catch(T){console.error("Error updating property:",T),a({title:"Error",description:"Failed to update property. Please try again.",variant:"destructive"})}finally{d(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-hero py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsxs(H,{variant:"ghost",onClick:()=>s("/buyer-seller/dashboard"),className:"text-white hover:text-white/80 p-0 h-auto",children:[e.jsx(ji,{className:"w-6 h-6 mr-2"}),"Back to Dashboard"]})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Edit Your Property"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto",children:"Update your property details to keep your listing current and attract the right buyers."})]})}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("form",{onSubmit:V,className:"space-y-8",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Basic Information"})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"title",children:"Property Title *"}),e.jsx(Se,{id:"title",placeholder:"e.g. Spacious 3BHK Apartment in Prime Location",value:x.title,onChange:k=>_("title",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"description",children:"Description"}),e.jsx(Zt,{id:"description",placeholder:"Describe your property, its features, and surroundings...",rows:4,value:x.description,onChange:k=>_("description",k.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"property_type",children:"Property Type *"}),e.jsxs(Xe,{value:x.property_type,onValueChange:k=>_("property_type",k),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select property type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"industrial",children:"Industrial"}),e.jsx(te,{value:"land",children:"Land"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"listing_type",children:"Listing Type *"}),e.jsxs(Xe,{value:x.listing_type,onValueChange:k=>_("listing_type",k),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select listing type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"sale",children:"For Sale"}),e.jsx(te,{value:"rent",children:"For Rent"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"price",children:"Price () *"}),e.jsx(Se,{id:"price",type:"number",placeholder:"5000000",value:x.price,onChange:k=>_("price",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"area",children:"Area (sq.ft) *"}),e.jsx(Se,{id:"area",type:"number",placeholder:"1200",value:x.area,onChange:k=>_("area",k.target.value),required:!0})]})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Location Details"})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"location",children:"Address/Location *"}),e.jsx(Se,{id:"location",placeholder:"e.g. Sector 21, Near Metro Station",value:x.location,onChange:k=>_("location",k.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"city",children:"City *"}),e.jsx(Se,{id:"city",placeholder:"Mumbai",value:x.city,onChange:k=>_("city",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"state",children:"State *"}),e.jsx(Se,{id:"state",placeholder:"Maharashtra",value:x.state,onChange:k=>_("state",k.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"country",children:"Country *"}),e.jsxs(Xe,{value:x.country,onValueChange:k=>_("country",k),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"India",children:"India"}),e.jsx(te,{value:"USA",children:"USA"}),e.jsx(te,{value:"UAE",children:"UAE"}),e.jsx(te,{value:"Canada",children:"Canada"}),e.jsx(te,{value:"Kenya",children:"Kenya"})]})]})]})]})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Amenities"})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-3 block",children:"Select Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:N.map(k=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ia,{id:k,checked:x.amenities.includes(k),onCheckedChange:()=>C(k)}),e.jsx(ne,{htmlFor:k,className:"text-sm font-normal cursor-pointer",children:k})]},k))})]}),e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Other Amenities"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{placeholder:"Add custom amenity",value:v,onChange:k=>j(k.target.value),onKeyPress:k=>k.key==="Enter"&&(k.preventDefault(),L())}),e.jsx(H,{type:"button",onClick:L,variant:"outline",children:"Add"})]})]}),x.amenities.length>0&&e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Selected Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.amenities.map((k,T)=>e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1",children:[k,e.jsx("button",{type:"button",onClick:()=>q(k),className:"ml-1 hover:text-destructive",children:e.jsx(Et,{className:"w-3 h-3"})})]},T))})]})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Property Images"})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{var k;return(k=i.current)==null?void 0:k.click()},children:f?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading images..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ep,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"Click to upload more property images"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Support: JPG, PNG, WEBP (Max 5MB per image)"})]})}),e.jsx("input",{ref:i,type:"file",accept:"image/*",multiple:!0,onChange:A,className:"hidden"}),x.images.length>0&&e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium mb-2 block",children:"Current Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:x.images.map((k,T)=>{const z=typeof k=="string"?k:k.url;return e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:z,alt:`Property ${T+1}`,className:"w-full h-32 object-cover rounded-lg border"}),e.jsx("button",{type:"button",onClick:()=>M(z),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Et,{className:"w-4 h-4"})})]},T)})})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(H,{type:"button",variant:"outline",onClick:()=>s("/buyer-seller/dashboard"),className:"flex-1",children:"Cancel"}),e.jsx(H,{type:"submit",disabled:l,className:"flex-1",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating Property..."]}):"Update Property"})]})]})})})]})},Pf={},lO=()=>{const{user:t}=It(),{profile:r}=Wa(),s=dr(),{toast:a}=ot(),i=typeof import.meta<"u"&&(Pf==null?void 0:Pf.VITE_MOCK_OTP)==="true",[l,d]=m.useState(!1),[u,h]=m.useState({purpose:"",budget:{min:"",max:"",currency:"INR"},propertyType:"",location:{city:"",state:"",area:"",pincode:""},area:{min:"",max:"",unit:"sqft"},description:"",preferences:{furnished:"any",age:"any",floor:"any",facing:"any"},amenities:[],contact:{phone:"",email:"",preferredTime:"any"},priority:"medium",timeline:"flexible"});if(!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(G,{className:"w-full max-w-md",children:e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx(Ur,{className:"w-16 h-16 text-estate-gray mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please login to submit your property requirements."}),e.jsx(H,{onClick:()=>s("/auth"),className:"w-full",children:"Go to Login"})]})})});const f=v=>{switch(v){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/"}},y=v=>{h({...u,location:{...u.location,state:v,city:""}})},x=v=>{h({...u,location:{...u.location,city:v}})},g=async v=>{if(v.preventDefault(),console.log("SubmitRequirement form submitted:",{user:t==null?void 0:t.id,formData:u}),!(t!=null&&t.id)){console.error("No authenticated user found during requirement submission"),a({title:"Authentication Required",description:"Please login to submit requirements.",variant:"destructive"});return}const N=[{field:"purpose",value:u.purpose,label:"Purpose"},{field:"propertyType",value:u.propertyType,label:"Property Type"},{field:"city",value:u.location.city,label:"City"},{field:"state",value:u.location.state,label:"State"},{field:"phone",value:u.contact.phone,label:"Phone Number"}].filter(w=>!w.value||w.value.trim()==="");if(N.length>0){const w=N.map(P=>P.label).join(", ");a({title:"Missing Required Fields",description:`Please fill in the following required fields: ${w}`,variant:"destructive"});return}d(!0);try{console.log("Attempting to create requirement with data:",u);let w;if(i){const _=JSON.parse(localStorage.getItem("mock_requirements")||"[]"),C={id:`req_${Date.now()}`,user_id:t.id,purpose:u.purpose,budget:u.budget,propertyType:u.propertyType,location:u.location,description:u.description,created_at:new Date().toISOString()};_.push(C),localStorage.setItem("mock_requirements",JSON.stringify(_)),w=null}else w=(await re.createRequirement({purpose:u.purpose,budget:{min:u.budget.min?parseInt(u.budget.min):void 0,max:u.budget.max?parseInt(u.budget.max):void 0,currency:u.budget.currency},propertyType:u.propertyType,location:{city:u.location.city,state:u.location.state,area:u.location.area,pincode:u.location.pincode},area:{min:u.area.min?parseInt(u.area.min):void 0,max:u.area.max?parseInt(u.area.max):void 0,unit:u.area.unit},description:u.description,preferences:u.preferences,amenities:u.amenities,contact:{phone:u.contact.phone,email:u.contact.email,preferredTime:u.contact.preferredTime},priority:u.priority,timeline:u.timeline})).error;if(w)throw console.error("Error during requirement creation:",w),w;console.log("Requirement created successfully"),a({title:"Requirement Submitted Successfully!",description:"Your property requirement has been submitted. Our team will contact you soon."});const P=f((r==null?void 0:r.role)||"buyer");s(P)}catch(w){if(console.error("Error submitting requirement:",w),w!=null&&w.errors&&Array.isArray(w.errors)){const P=w.errors.map(_=>`${_.field}: ${_.message}`).join(", ");a({title:"Validation Error",description:`Please fix the following issues: ${P}`,variant:"destructive"})}else w!=null&&w.message?a({title:"Error submitting requirement",description:w.message,variant:"destructive"}):a({title:"Error submitting requirement",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsxs("section",{className:"bg-gradient-hero py-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"container mx-auto px-6 text-center relative z-10",children:e.jsxs("div",{className:"animate-slide-in-down",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Submit Your Property Requirement"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto animate-fade-in-up",style:{animationDelay:"200ms"},children:"Tell us what you're looking for and we'll help you find the perfect property."})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent"})]}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-6 max-w-6xl",children:e.jsxs(G,{className:"animate-fade-in-up",style:{animationDelay:"400ms"},children:[e.jsx(ve,{className:"bg-gradient-to-r from-estate-blue to-estate-blue-light text-white",children:e.jsxs(ye,{className:"text-2xl flex items-center gap-2",children:[e.jsx(Ur,{className:"w-6 h-6"}),"Property Requirements"]})}),e.jsx(Q,{className:"p-8",children:e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"purpose",className:"text-sm font-medium",children:"Purpose *"}),e.jsxs(Xe,{value:u.purpose,onValueChange:v=>h({...u,purpose:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{placeholder:"Select purpose"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"buy",children:"Buy"}),e.jsx(te,{value:"rent",children:"Rent"}),e.jsx(te,{value:"invest",children:"Invest"}),e.jsx(te,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"propertyType",className:"text-sm font-medium",children:"Property Type *"}),e.jsxs(Xe,{value:u.propertyType,onValueChange:v=>h({...u,propertyType:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{placeholder:"Select property type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"house",children:"House"}),e.jsx(te,{value:"plot",children:"Plot"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"office",children:"Office"}),e.jsx(te,{value:"shop",children:"Shop"}),e.jsx(te,{value:"warehouse",children:"Warehouse"}),e.jsx(te,{value:"other",children:"Other"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Budget Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"budgetMin",className:"text-sm font-medium",children:"Minimum Budget ()"}),e.jsx(Se,{id:"budgetMin",type:"number",placeholder:"e.g., 5000000",value:u.budget.min,onChange:v=>h({...u,budget:{...u.budget,min:v.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"budgetMax",className:"text-sm font-medium",children:"Maximum Budget ()"}),e.jsx(Se,{id:"budgetMax",type:"number",placeholder:"e.g., 10000000",value:u.budget.max,onChange:v=>h({...u,budget:{...u.budget,max:v.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"currency",className:"text-sm font-medium",children:"Currency"}),e.jsxs(Xe,{value:u.budget.currency,onValueChange:v=>h({...u,budget:{...u.budget,currency:v}}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"INR",children:"INR ()"}),e.jsx(te,{value:"USD",children:"USD ($)"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"State & City *"}),e.jsx(k2,{selectedState:u.location.state,selectedCity:u.location.city,onStateChange:y,onCityChange:x})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"area",className:"text-sm font-medium",children:"Area/Locality"}),e.jsx(Se,{id:"area",placeholder:"e.g., Bandra West",value:u.location.area,onChange:v=>h({...u,location:{...u.location,area:v.target.value}}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"pincode",className:"text-sm font-medium",children:"Pincode"}),e.jsx(Se,{id:"pincode",placeholder:"e.g., 400050",value:u.location.pincode,onChange:v=>h({...u,location:{...u.location,pincode:v.target.value}}),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number *"}),e.jsx(Se,{id:"phone",type:"tel",placeholder:"e.g., +91 9876543210",value:u.contact.phone,onChange:v=>h({...u,contact:{...u.contact,phone:v.target.value}}),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),e.jsx(Se,{id:"email",type:"email",placeholder:"e.g., john@example.com",value:u.contact.email,onChange:v=>h({...u,contact:{...u.contact,email:v.target.value}}),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-estate-blue border-b border-estate-blue/20 pb-2",children:"Additional Information"}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"description",className:"text-sm font-medium",children:"Detailed Description"}),e.jsx(Zt,{id:"description",placeholder:"Describe your requirements in detail... (e.g., specific amenities, preferred floor, facing, etc.)",value:u.description,onChange:v=>h({...u,description:v.target.value}),rows:4,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priority",className:"text-sm font-medium",children:"Priority"}),e.jsxs(Xe,{value:u.priority,onValueChange:v=>h({...u,priority:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"low",children:"Low"}),e.jsx(te,{value:"medium",children:"Medium"}),e.jsx(te,{value:"high",children:"High"}),e.jsx(te,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"timeline",className:"text-sm font-medium",children:"Timeline"}),e.jsxs(Xe,{value:u.timeline,onValueChange:v=>h({...u,timeline:v}),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"immediate",children:"Immediate"}),e.jsx(te,{value:"1_month",children:"1 Month"}),e.jsx(te,{value:"3_months",children:"3 Months"}),e.jsx(te,{value:"6_months",children:"6 Months"}),e.jsx(te,{value:"1_year",children:"1 Year"}),e.jsx(te,{value:"flexible",children:"Flexible"})]})]})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-border",children:e.jsx(H,{type:"submit",className:"w-full bg-estate-blue hover:bg-estate-blue-dark text-white smooth-transition hover:scale-105 hover:shadow-lg",disabled:l,size:"lg",children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting Requirement..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ur,{className:"w-5 h-5"}),"Submit Requirement"]})})})]})})]})})}),e.jsx(vn,{})]})},cO=()=>{const{toast:t}=ot(),[r,s]=m.useState(!1),[a,i]=m.useState({name:"",email:"",phone:"",subject:"",message:"",office:""}),l=(u,h)=>{i(f=>({...f,[u]:h}))},d=async u=>{u.preventDefault(),s(!0);try{const h=await re.submitContactForm({name:a.name,email:a.email,phone:a.phone,subject:a.subject,message:a.message});h.error?t({title:"Error",description:h.error,variant:"destructive"}):(t({title:"Message Sent!",description:"Thank you for contacting us. We'll get back to you within 24 hours."}),i({name:"",email:"",phone:"",subject:"",message:"",office:""}))}catch(h){console.error("Contact form submission error:",h),t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}s(!1)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(G,{className:"shadow-soft",children:[e.jsxs(ve,{className:"bg-gradient-primary text-white",children:[e.jsxs(ye,{className:"flex items-center gap-3 text-xl",children:[e.jsx(ic,{className:"w-6 h-6"}),"Contact Us"]}),e.jsx("p",{className:"text-white/90 text-sm",children:"We'll get back to you within 24 hours"})]}),e.jsx(Q,{className:"p-8",children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),e.jsx(Se,{id:"name",value:a.name,onChange:u=>l("name",u.target.value),className:"h-11",placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),e.jsx(Se,{id:"email",type:"email",value:a.email,onChange:u=>l("email",u.target.value),className:"h-11",placeholder:"Enter your email address",required:!0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number"}),e.jsx(Se,{id:"phone",value:a.phone,onChange:u=>l("phone",u.target.value),className:"h-11",placeholder:"Enter your phone number"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"subject",className:"text-sm font-medium",children:"Subject *"}),e.jsxs(Xe,{value:a.subject,onValueChange:u=>l("subject",u),children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Select subject"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"buying",children:"Property Buying Inquiry"}),e.jsx(te,{value:"selling",children:"Property Selling Inquiry"}),e.jsx(te,{value:"renting",children:"Property Rental Inquiry"}),e.jsx(te,{value:"investment",children:"Investment Consultation"}),e.jsx(te,{value:"nri",children:"NRI Services"}),e.jsx(te,{value:"commercial",children:"Commercial Properties"}),e.jsx(te,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"message",className:"text-sm font-medium",children:"Message *"}),e.jsx(Zt,{id:"message",placeholder:"Tell us about your requirements or questions...",rows:6,value:a.message,onChange:u=>l("message",u.target.value),className:"resize-none",required:!0})]}),e.jsx(H,{type:"submit",className:"w-full h-12 bg-estate-blue hover:bg-estate-blue-light text-white font-medium",disabled:r,children:r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Un,{className:"w-4 h-4"}),"Send Message"]})})]})})]})})}),e.jsx(vn,{})]})},dO=()=>{var q;dr();const{user:t,refreshUser:r}=It(),{profile:s,updateProfile:a}=Wa(),{toast:i}=ot(),[l,d]=m.useState(""),[u,h]=m.useState(""),[f,y]=m.useState(""),[x,g]=m.useState(""),[v,j]=m.useState(!1),[N,w]=m.useState(!1),[P,_]=m.useState({});m.useEffect(()=>{var A;(s||t)&&(d((s==null?void 0:s.fullName)||""),h(((A=s==null?void 0:s.user)==null?void 0:A.email)||(t==null?void 0:t.email)||""),y((t==null?void 0:t.phone)||(s==null?void 0:s.phone)||""),g((s==null?void 0:s.address)||""))},[s,t]),m.useEffect(()=>{var A;if(s){const M=l!==(s.fullName||"")||u!==(((A=s==null?void 0:s.user)==null?void 0:A.email)||(t==null?void 0:t.email)||"")||x!==(s.address||"");w(M)}},[l,u,x,s,t]);const C=()=>{const A={};return l.trim()||(A.fullName="Full name is required"),u.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(A.email="Please enter a valid email address"):A.email="Email is required",x&&x.length>500&&(A.address="Address must be less than 500 characters"),_(A),Object.keys(A).length===0},L=async()=>{if(t){if(!C()){i({title:"Validation Error",description:"Please fix the errors before saving.",variant:"destructive"});return}j(!0),_({});try{const{error:A}=await a({fullName:l.trim(),email:u.trim(),phone:f.trim(),address:x.trim()});A?i({title:"Error",description:String(A),variant:"destructive"}):(i({title:"Profile Updated",description:"Your changes have been saved successfully.",action:e.jsx(Ws,{className:"h-4 w-4 text-green-600"})}),w(!1))}catch{i({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{j(!1)}}};return t?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-estate-blue to-estate-blue-light bg-clip-text text-transparent",children:"Personal Profile"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Manage your personal information"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(G,{className:"shadow-soft",children:[e.jsx(ve,{className:"pb-4",children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"h-5 w-5 text-estate-blue"}),"Personal Information",s&&e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full ml-auto",children:" Saved"})]})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name *"}),e.jsx(Se,{id:"fullName",value:l,onChange:A=>d(A.target.value),placeholder:s!=null&&s.fullName?"":"Enter your full name",className:P.fullName?"border-destructive":""}),P.fullName&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(Gt,{className:"h-3 w-3"}),P.fullName]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{id:"email",type:"email",value:u,onChange:A=>h(A.target.value),placeholder:(q=s==null?void 0:s.user)!=null&&q.email||t!=null&&t.email?"":"Enter your email",className:`pl-10 ${P.email?"border-destructive":""}`})]}),P.email&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(Gt,{className:"h-3 w-3"}),P.email]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Registered Mobile Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{value:f||"Not registered",disabled:!0,className:"pl-10 bg-muted/50"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile number cannot be changed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Current Role"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"w-3 h-3 bg-estate-blue rounded-full"})}),e.jsx(Se,{value:t!=null&&t.role?t.role.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase()):s!=null&&s.role?s.role.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase()):"Not assigned",disabled:!0,className:"pl-10 bg-muted/50 font-medium"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your current system role"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(Zt,{id:"address",rows:4,value:x,onChange:A=>g(A.target.value),placeholder:s!=null&&s.address?"":"Enter your complete address...",className:`pl-10 ${P.address?"border-destructive":""}`})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[P.address&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(Gt,{className:"h-3 w-3"}),P.address]}),e.jsxs("p",{className:"text-xs text-muted-foreground ml-auto",children:[x.length,"/500 characters"]})]})]})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(H,{onClick:L,disabled:v||!N,className:"min-w-32 bg-estate-blue hover:bg-estate-blue-light",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(FE,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})})]})}),e.jsx(vn,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ks,{}),e.jsx("div",{className:"container mx-auto px-6 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto text-center",children:e.jsxs("div",{className:"bg-muted/50 rounded-lg p-12",children:[e.jsx(nr,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to manage your profile settings."}),e.jsx(H,{asChild:!0,children:e.jsx("a",{href:"/auth",children:"Sign In"})})]})})}),e.jsx(vn,{})]})},C2=({phone:t,onVerify:r,onResend:s,onBack:a,loading:i,resendLoading:l})=>{const[d,u]=m.useState(""),[h,f]=m.useState(0),y=m.useRef([]),{toast:x}=ot(),g=C=>C.startsWith("+")?C:`+${C}`,v=(C,L)=>{var M;if(C.length>1)return;const q=d.split("");q[L]=C;const A=q.join("");u(A),C&&L<5&&((M=y.current[L+1])==null||M.focus())},j=(C,L)=>{var q;C.key==="Backspace"&&!d[L]&&L>0&&((q=y.current[L-1])==null||q.focus())},N=C=>{var A;C.preventDefault();const L=C.clipboardData.getData("text").slice(0,6);u(L);const q=Math.min(L.length-1,5);(A=y.current[q])==null||A.focus()},w=()=>{f(60);const C=setInterval(()=>{f(L=>L<=1?(clearInterval(C),0):L-1)},1e3)},P=async()=>{try{await s(),w(),x({title:"OTP Sent",description:"A new OTP has been sent to your phone number."})}catch{x({title:"Resend Failed",description:"Failed to resend OTP. Please try again.",variant:"destructive"})}},_=async()=>{if(d.length!==6){x({title:"Invalid OTP",description:"Please enter a complete 6-digit OTP.",variant:"destructive"});return}await r(d)};return m.useEffect(()=>{w()},[]),e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ve,{className:"space-y-1 text-center pb-6",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(ye,{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Verify Your Phone"}),e.jsxs(Qe,{className:"text-sm sm:text-base",children:["We've sent a 6-digit verification code to"," ",e.jsx("span",{className:"font-semibold text-foreground",children:g(t)})]})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{htmlFor:"otp",className:"text-center block text-sm font-medium text-foreground",children:"Enter verification code"}),e.jsx("div",{className:"flex justify-center gap-2 sm:gap-3",children:Array.from({length:6}).map((C,L)=>e.jsx(Se,{ref:q=>y.current[L]=q,type:"text",inputMode:"numeric",maxLength:1,value:d[L]||"",onChange:q=>v(q.target.value,L),onKeyDown:q=>j(q,L),onPaste:L===0?N:void 0,className:"w-10 h-10 sm:w-14 sm:h-14 text-center text-lg sm:text-xl font-bold border-2 focus:border-estate-blue rounded-lg",disabled:i},L))})]}),e.jsx(H,{className:"w-full h-11 bg-estate-blue hover:bg-estate-blue-light text-white font-medium",onClick:_,disabled:i||d.length!==6,children:i?"Verifying...":"Verify Code"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Didn't receive the code? "}),e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-estate-blue hover:text-estate-blue-light text-sm",onClick:P,disabled:h>0||l,children:l?"Sending...":h>0?`Resend in ${h}s`:e.jsxs(e.Fragment,{children:[e.jsx(OE,{className:"w-4 h-4 mr-1"}),"Resend Code"]})})]}),e.jsx("div",{children:e.jsxs(H,{variant:"link",className:"p-0 h-auto font-medium text-estate-blue hover:text-estate-blue-light text-sm",onClick:a,children:[e.jsx(ji,{className:"w-4 h-4 mr-1"}),"Change Phone Number"]})})]})]})]})};var tm="Popover",[P2]=vr(tm,[qa]),pc=qa(),[uO,Ka]=P2(tm),_2=t=>{const{__scopePopover:r,children:s,open:a,defaultOpen:i,onOpenChange:l,modal:d=!1}=t,u=pc(r),h=m.useRef(null),[f,y]=m.useState(!1),[x,g]=fs({prop:a,defaultProp:i??!1,onChange:l,caller:tm});return e.jsx(Zp,{...u,children:e.jsx(uO,{scope:r,contentId:gr(),triggerRef:h,open:x,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(v=>!v),[g]),hasCustomAnchor:f,onCustomAnchorAdd:m.useCallback(()=>y(!0),[]),onCustomAnchorRemove:m.useCallback(()=>y(!1),[]),modal:d,children:s})})};_2.displayName=tm;var E2="PopoverAnchor",mO=m.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=Ka(E2,s),l=pc(s),{onCustomAnchorAdd:d,onCustomAnchorRemove:u}=i;return m.useEffect(()=>(d(),()=>u()),[d,u]),e.jsx(cc,{...l,...a,ref:r})});mO.displayName=E2;var R2="PopoverTrigger",T2=m.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=Ka(R2,s),l=pc(s),d=rt(r,i.triggerRef),u=e.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":O2(i.open),...a,ref:d,onClick:Ce(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:e.jsx(cc,{asChild:!0,...l,children:u})});T2.displayName=R2;var Mx="PopoverPortal",[hO,fO]=P2(Mx,{forceMount:void 0}),D2=t=>{const{__scopePopover:r,forceMount:s,children:a,container:i}=t,l=Ka(Mx,r);return e.jsx(hO,{scope:r,forceMount:s,children:e.jsx(yr,{present:s||l.open,children:e.jsx(Oi,{asChild:!0,container:i,children:a})})})};D2.displayName=Mx;var Ti="PopoverContent",A2=m.forwardRef((t,r)=>{const s=fO(Ti,t.__scopePopover),{forceMount:a=s.forceMount,...i}=t,l=Ka(Ti,t.__scopePopover);return e.jsx(yr,{present:a||l.open,children:l.modal?e.jsx(xO,{...i,ref:r}):e.jsx(gO,{...i,ref:r})})});A2.displayName=Ti;var pO=Fa("PopoverContent.RemoveScroll"),xO=m.forwardRef((t,r)=>{const s=Ka(Ti,t.__scopePopover),a=m.useRef(null),i=rt(r,a),l=m.useRef(!1);return m.useEffect(()=>{const d=a.current;if(d)return Fu(d)},[]),e.jsx(mc,{as:pO,allowPinchZoom:!0,children:e.jsx(M2,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,d=>{var u;d.preventDefault(),l.current||(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,d=>{const u=d.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;l.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),gO=m.forwardRef((t,r)=>{const s=Ka(Ti,t.__scopePopover),a=m.useRef(!1),i=m.useRef(!1);return e.jsx(M2,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,u;(d=t.onCloseAutoFocus)==null||d.call(t,l),l.defaultPrevented||(a.current||(u=s.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),M2=m.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:y,...x}=t,g=Ka(Ti,s),v=pc(s);return Iu(),e.jsx(dc,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:e.jsx(Co,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:y,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:e.jsx(Tu,{"data-state":O2(g.open),role:"dialog",id:g.contentId,...v,...x,ref:r,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),I2="PopoverClose",vO=m.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=Ka(I2,s);return e.jsx(Me.button,{type:"button",...a,ref:r,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});vO.displayName=I2;var yO="PopoverArrow",bO=m.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=pc(s);return e.jsx(Du,{...i,...a,ref:r})});bO.displayName=yO;function O2(t){return t?"open":"closed"}var jO=_2,wO=T2,NO=D2,F2=A2;const L2=jO,$2=wO,Ix=m.forwardRef(({className:t,align:r="center",sideOffset:s=4,...a},i)=>e.jsx(NO,{children:e.jsx(F2,{ref:i,align:r,sideOffset:s,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Ix.displayName=F2.displayName;var rb=1,SO=.9,kO=.8,CO=.17,_f=.1,Ef=.999,PO=.9999,_O=.99,EO=/[\\\/_+.#"@\[\(\{&]/,RO=/[\\\/_+.#"@\[\(\{&]/g,TO=/[\s-]/,V2=/[\s-]/g;function Pp(t,r,s,a,i,l,d){if(l===r.length)return i===t.length?rb:_O;var u=`${i},${l}`;if(d[u]!==void 0)return d[u];for(var h=a.charAt(l),f=s.indexOf(h,i),y=0,x,g,v,j;f>=0;)x=Pp(t,r,s,a,f+1,l+1,d),x>y&&(f===i?x*=rb:EO.test(t.charAt(f-1))?(x*=kO,v=t.slice(i,f-1).match(RO),v&&i>0&&(x*=Math.pow(Ef,v.length))):TO.test(t.charAt(f-1))?(x*=SO,j=t.slice(i,f-1).match(V2),j&&i>0&&(x*=Math.pow(Ef,j.length))):(x*=CO,i>0&&(x*=Math.pow(Ef,f-i))),t.charAt(f)!==r.charAt(l)&&(x*=PO)),(x<_f&&s.charAt(f-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&s.charAt(f-1)!==a.charAt(l))&&(g=Pp(t,r,s,a,f+1,l+2,d),g*_f>x&&(x=g*_f)),x>y&&(y=x),f=s.indexOf(h,f+1);return d[u]=y,y}function sb(t){return t.toLowerCase().replace(V2," ")}function DO(t,r,s){return t=s&&s.length>0?`${t+" "+s.join(" ")}`:t,Pp(t,r,sb(t),sb(r),0,0,{})}var rm="Dialog",[B2,U2]=vr(rm),[AO,en]=B2(rm),z2=t=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:i,onOpenChange:l,modal:d=!0}=t,u=m.useRef(null),h=m.useRef(null),[f,y]=fs({prop:a,defaultProp:i??!1,onChange:l,caller:rm});return e.jsx(AO,{scope:r,triggerRef:u,contentRef:h,contentId:gr(),titleId:gr(),descriptionId:gr(),open:f,onOpenChange:y,onOpenToggle:m.useCallback(()=>y(x=>!x),[y]),modal:d,children:s})};z2.displayName=rm;var q2="DialogTrigger",W2=m.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=en(q2,s),l=rt(r,i.triggerRef);return e.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Lx(i.open),...a,ref:l,onClick:Ce(t.onClick,i.onOpenToggle)})});W2.displayName=q2;var Ox="DialogPortal",[MO,H2]=B2(Ox,{forceMount:void 0}),Y2=t=>{const{__scopeDialog:r,forceMount:s,children:a,container:i}=t,l=en(Ox,r);return e.jsx(MO,{scope:r,forceMount:s,children:m.Children.map(a,d=>e.jsx(yr,{present:s||l.open,children:e.jsx(Oi,{asChild:!0,container:i,children:d})}))})};Y2.displayName=Ox;var xu="DialogOverlay",K2=m.forwardRef((t,r)=>{const s=H2(xu,t.__scopeDialog),{forceMount:a=s.forceMount,...i}=t,l=en(xu,t.__scopeDialog);return l.modal?e.jsx(yr,{present:a||l.open,children:e.jsx(OO,{...i,ref:r})}):null});K2.displayName=xu;var IO=Fa("DialogOverlay.RemoveScroll"),OO=m.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=en(xu,s);return e.jsx(mc,{as:IO,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Me.div,{"data-state":Lx(i.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),So="DialogContent",G2=m.forwardRef((t,r)=>{const s=H2(So,t.__scopeDialog),{forceMount:a=s.forceMount,...i}=t,l=en(So,t.__scopeDialog);return e.jsx(yr,{present:a||l.open,children:l.modal?e.jsx(FO,{...i,ref:r}):e.jsx(LO,{...i,ref:r})})});G2.displayName=So;var FO=m.forwardRef((t,r)=>{const s=en(So,t.__scopeDialog),a=m.useRef(null),i=rt(r,s.contentRef,a);return m.useEffect(()=>{const l=a.current;if(l)return Fu(l)},[]),e.jsx(Q2,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=s.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,l=>l.preventDefault())})}),LO=m.forwardRef((t,r)=>{const s=en(So,t.__scopeDialog),a=m.useRef(!1),i=m.useRef(!1);return e.jsx(Q2,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,u;(d=t.onCloseAutoFocus)==null||d.call(t,l),l.defaultPrevented||(a.current||(u=s.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;((f=s.triggerRef.current)==null?void 0:f.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),Q2=m.forwardRef((t,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...d}=t,u=en(So,s),h=m.useRef(null),f=rt(r,h);return Iu(),e.jsxs(e.Fragment,{children:[e.jsx(dc,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:e.jsx(Co,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Lx(u.open),...d,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(VO,{titleId:u.titleId}),e.jsx(UO,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Fx="DialogTitle",X2=m.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=en(Fx,s);return e.jsx(Me.h2,{id:i.titleId,...a,ref:r})});X2.displayName=Fx;var J2="DialogDescription",Z2=m.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=en(J2,s);return e.jsx(Me.p,{id:i.descriptionId,...a,ref:r})});Z2.displayName=J2;var eS="DialogClose",tS=m.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=en(eS,s);return e.jsx(Me.button,{type:"button",...a,ref:r,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});tS.displayName=eS;function Lx(t){return t?"open":"closed"}var rS="DialogTitleWarning",[$O,sS]=M_(rS,{contentName:So,titleName:Fx,docsSlug:"dialog"}),VO=({titleId:t})=>{const r=sS(rS),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},BO="DialogDescriptionWarning",UO=({contentRef:t,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sS(BO).contentName}}.`;return m.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");r&&i&&(document.getElementById(r)||console.warn(a))},[a,t,r]),null},$x=z2,nS=W2,Vx=Y2,sm=K2,nm=G2,Bx=X2,Ux=Z2,zx=tS,Tl='[cmdk-group=""]',Rf='[cmdk-group-items=""]',zO='[cmdk-group-heading=""]',aS='[cmdk-item=""]',nb=`${aS}:not([aria-disabled="true"])`,_p="cmdk-item-select",si="data-value",qO=(t,r,s)=>DO(t,r,s),oS=m.createContext(void 0),xc=()=>m.useContext(oS),iS=m.createContext(void 0),qx=()=>m.useContext(iS),lS=m.createContext(void 0),cS=m.forwardRef((t,r)=>{let s=ni(()=>{var U,J;return{search:"",value:(J=(U=t.value)!=null?U:t.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=ni(()=>new Set),i=ni(()=>new Map),l=ni(()=>new Map),d=ni(()=>new Set),u=dS(t),{label:h,children:f,value:y,onValueChange:x,filter:g,shouldFilter:v,loop:j,disablePointerSelection:N=!1,vimBindings:w=!0,...P}=t,_=gr(),C=gr(),L=gr(),q=m.useRef(null),A=tF();ko(()=>{if(y!==void 0){let U=y.trim();s.current.value=U,M.emit()}},[y]),ko(()=>{A(6,$)},[]);let M=m.useMemo(()=>({subscribe:U=>(d.current.add(U),()=>d.current.delete(U)),snapshot:()=>s.current,setState:(U,J,se)=>{var ue,ge,oe,de;if(!Object.is(s.current[U],J)){if(s.current[U]=J,U==="search")E(),T(),A(1,z);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(L);le?le.focus():(ue=document.getElementById(_))==null||ue.focus()}if(A(7,()=>{var le;s.current.selectedItemId=(le=R())==null?void 0:le.id,M.emit()}),se||A(5,$),((ge=u.current)==null?void 0:ge.value)!==void 0){let le=J??"";(de=(oe=u.current).onValueChange)==null||de.call(oe,le);return}}M.emit()}},emit:()=>{d.current.forEach(U=>U())}}),[]),V=m.useMemo(()=>({value:(U,J,se)=>{var ue;J!==((ue=l.current.get(U))==null?void 0:ue.value)&&(l.current.set(U,{value:J,keywords:se}),s.current.filtered.items.set(U,k(J,se)),A(2,()=>{T(),M.emit()}))},item:(U,J)=>(a.current.add(U),J&&(i.current.has(J)?i.current.get(J).add(U):i.current.set(J,new Set([U]))),A(3,()=>{E(),T(),s.current.value||z(),M.emit()}),()=>{l.current.delete(U),a.current.delete(U),s.current.filtered.items.delete(U);let se=R();A(4,()=>{E(),(se==null?void 0:se.getAttribute("id"))===U&&z(),M.emit()})}),group:U=>(i.current.has(U)||i.current.set(U,new Set),()=>{l.current.delete(U),i.current.delete(U)}),filter:()=>u.current.shouldFilter,label:h||t["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:_,inputId:L,labelId:C,listInnerRef:q}),[]);function k(U,J){var se,ue;let ge=(ue=(se=u.current)==null?void 0:se.filter)!=null?ue:qO;return U?ge(U,s.current.search,J):0}function T(){if(!s.current.search||u.current.shouldFilter===!1)return;let U=s.current.filtered.items,J=[];s.current.filtered.groups.forEach(ue=>{let ge=i.current.get(ue),oe=0;ge.forEach(de=>{let le=U.get(de);oe=Math.max(le,oe)}),J.push([ue,oe])});let se=q.current;X().sort((ue,ge)=>{var oe,de;let le=ue.getAttribute("id"),he=ge.getAttribute("id");return((oe=U.get(he))!=null?oe:0)-((de=U.get(le))!=null?de:0)}).forEach(ue=>{let ge=ue.closest(Rf);ge?ge.appendChild(ue.parentElement===ge?ue:ue.closest(`${Rf} > *`)):se.appendChild(ue.parentElement===se?ue:ue.closest(`${Rf} > *`))}),J.sort((ue,ge)=>ge[1]-ue[1]).forEach(ue=>{var ge;let oe=(ge=q.current)==null?void 0:ge.querySelector(`${Tl}[${si}="${encodeURIComponent(ue[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function z(){let U=X().find(se=>se.getAttribute("aria-disabled")!=="true"),J=U==null?void 0:U.getAttribute(si);M.setState("value",J||void 0)}function E(){var U,J,se,ue;if(!s.current.search||u.current.shouldFilter===!1){s.current.filtered.count=a.current.size;return}s.current.filtered.groups=new Set;let ge=0;for(let oe of a.current){let de=(J=(U=l.current.get(oe))==null?void 0:U.value)!=null?J:"",le=(ue=(se=l.current.get(oe))==null?void 0:se.keywords)!=null?ue:[],he=k(de,le);s.current.filtered.items.set(oe,he),he>0&&ge++}for(let[oe,de]of i.current)for(let le of de)if(s.current.filtered.items.get(le)>0){s.current.filtered.groups.add(oe);break}s.current.filtered.count=ge}function $(){var U,J,se;let ue=R();ue&&(((U=ue.parentElement)==null?void 0:U.firstChild)===ue&&((se=(J=ue.closest(Tl))==null?void 0:J.querySelector(zO))==null||se.scrollIntoView({block:"nearest"})),ue.scrollIntoView({block:"nearest"}))}function R(){var U;return(U=q.current)==null?void 0:U.querySelector(`${aS}[aria-selected="true"]`)}function X(){var U;return Array.from(((U=q.current)==null?void 0:U.querySelectorAll(nb))||[])}function Y(U){let J=X()[U];J&&M.setState("value",J.getAttribute(si))}function O(U){var J;let se=R(),ue=X(),ge=ue.findIndex(de=>de===se),oe=ue[ge+U];(J=u.current)!=null&&J.loop&&(oe=ge+U<0?ue[ue.length-1]:ge+U===ue.length?ue[0]:ue[ge+U]),oe&&M.setState("value",oe.getAttribute(si))}function I(U){let J=R(),se=J==null?void 0:J.closest(Tl),ue;for(;se&&!ue;)se=U>0?ZO(se,Tl):eF(se,Tl),ue=se==null?void 0:se.querySelector(nb);ue?M.setState("value",ue.getAttribute(si)):O(U)}let D=()=>Y(X().length-1),W=U=>{U.preventDefault(),U.metaKey?D():U.altKey?I(1):O(1)},B=U=>{U.preventDefault(),U.metaKey?Y(0):U.altKey?I(-1):O(-1)};return m.createElement(Me.div,{ref:r,tabIndex:-1,...P,"cmdk-root":"",onKeyDown:U=>{var J;(J=P.onKeyDown)==null||J.call(P,U);let se=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||se))switch(U.key){case"n":case"j":{w&&U.ctrlKey&&W(U);break}case"ArrowDown":{W(U);break}case"p":case"k":{w&&U.ctrlKey&&B(U);break}case"ArrowUp":{B(U);break}case"Home":{U.preventDefault(),Y(0);break}case"End":{U.preventDefault(),D();break}case"Enter":{U.preventDefault();let ue=R();if(ue){let ge=new Event(_p);ue.dispatchEvent(ge)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:V.inputId,id:V.labelId,style:sF},h),am(t,U=>m.createElement(iS.Provider,{value:M},m.createElement(oS.Provider,{value:V},U))))}),WO=m.forwardRef((t,r)=>{var s,a;let i=gr(),l=m.useRef(null),d=m.useContext(lS),u=xc(),h=dS(t),f=(a=(s=h.current)==null?void 0:s.forceMount)!=null?a:d==null?void 0:d.forceMount;ko(()=>{if(!f)return u.item(i,d==null?void 0:d.id)},[f]);let y=uS(i,l,[t.value,t.children,l],t.keywords),x=qx(),g=Ua(A=>A.value&&A.value===y.current),v=Ua(A=>f||u.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);m.useEffect(()=>{let A=l.current;if(!(!A||t.disabled))return A.addEventListener(_p,j),()=>A.removeEventListener(_p,j)},[v,t.onSelect,t.disabled]);function j(){var A,M;N(),(M=(A=h.current).onSelect)==null||M.call(A,y.current)}function N(){x.setState("value",y.current,!0)}if(!v)return null;let{disabled:w,value:P,onSelect:_,forceMount:C,keywords:L,...q}=t;return m.createElement(Me.div,{ref:Hn(l,r),...q,id:i,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!g,"data-disabled":!!w,"data-selected":!!g,onPointerMove:w||u.getDisablePointerSelection()?void 0:N,onClick:w?void 0:j},t.children)}),HO=m.forwardRef((t,r)=>{let{heading:s,children:a,forceMount:i,...l}=t,d=gr(),u=m.useRef(null),h=m.useRef(null),f=gr(),y=xc(),x=Ua(v=>i||y.filter()===!1?!0:v.search?v.filtered.groups.has(d):!0);ko(()=>y.group(d),[]),uS(d,u,[t.value,t.heading,h]);let g=m.useMemo(()=>({id:d,forceMount:i}),[i]);return m.createElement(Me.div,{ref:Hn(u,r),...l,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},s&&m.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},s),am(t,v=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?f:void 0},m.createElement(lS.Provider,{value:g},v))))}),YO=m.forwardRef((t,r)=>{let{alwaysRender:s,...a}=t,i=m.useRef(null),l=Ua(d=>!d.search);return!s&&!l?null:m.createElement(Me.div,{ref:Hn(i,r),...a,"cmdk-separator":"",role:"separator"})}),KO=m.forwardRef((t,r)=>{let{onValueChange:s,...a}=t,i=t.value!=null,l=qx(),d=Ua(f=>f.search),u=Ua(f=>f.selectedItemId),h=xc();return m.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),m.createElement(Me.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:i?t.value:d,onChange:f=>{i||l.setState("search",f.target.value),s==null||s(f.target.value)}})}),GO=m.forwardRef((t,r)=>{let{children:s,label:a="Suggestions",...i}=t,l=m.useRef(null),d=m.useRef(null),u=Ua(f=>f.selectedItemId),h=xc();return m.useEffect(()=>{if(d.current&&l.current){let f=d.current,y=l.current,x,g=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let v=f.offsetHeight;y.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return g.observe(f),()=>{cancelAnimationFrame(x),g.unobserve(f)}}},[]),m.createElement(Me.div,{ref:Hn(l,r),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":a,id:h.listId},am(t,f=>m.createElement("div",{ref:Hn(d,h.listInnerRef),"cmdk-list-sizer":""},f)))}),QO=m.forwardRef((t,r)=>{let{open:s,onOpenChange:a,overlayClassName:i,contentClassName:l,container:d,...u}=t;return m.createElement($x,{open:s,onOpenChange:a},m.createElement(Vx,{container:d},m.createElement(sm,{"cmdk-overlay":"",className:i}),m.createElement(nm,{"aria-label":t.label,"cmdk-dialog":"",className:l},m.createElement(cS,{ref:r,...u}))))}),XO=m.forwardRef((t,r)=>Ua(s=>s.filtered.count===0)?m.createElement(Me.div,{ref:r,...t,"cmdk-empty":"",role:"presentation"}):null),JO=m.forwardRef((t,r)=>{let{progress:s,children:a,label:i="Loading...",...l}=t;return m.createElement(Me.div,{ref:r,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},am(t,d=>m.createElement("div",{"aria-hidden":!0},d)))}),as=Object.assign(cS,{List:GO,Item:WO,Input:KO,Group:HO,Separator:YO,Dialog:QO,Empty:XO,Loading:JO});function ZO(t,r){let s=t.nextElementSibling;for(;s;){if(s.matches(r))return s;s=s.nextElementSibling}}function eF(t,r){let s=t.previousElementSibling;for(;s;){if(s.matches(r))return s;s=s.previousElementSibling}}function dS(t){let r=m.useRef(t);return ko(()=>{r.current=t}),r}var ko=typeof window>"u"?m.useEffect:m.useLayoutEffect;function ni(t){let r=m.useRef();return r.current===void 0&&(r.current=t()),r}function Ua(t){let r=qx(),s=()=>t(r.snapshot());return m.useSyncExternalStore(r.subscribe,s,s)}function uS(t,r,s,a=[]){let i=m.useRef(),l=xc();return ko(()=>{var d;let u=(()=>{var f;for(let y of s){if(typeof y=="string")return y.trim();if(typeof y=="object"&&"current"in y)return y.current?(f=y.current.textContent)==null?void 0:f.trim():i.current}})(),h=a.map(f=>f.trim());l.value(t,u,h),(d=r.current)==null||d.setAttribute(si,u),i.current=u}),i}var tF=()=>{let[t,r]=m.useState(),s=ni(()=>new Map);return ko(()=>{s.current.forEach(a=>a()),s.current=new Map},[t]),(a,i)=>{s.current.set(a,i),r({})}};function rF(t){let r=t.type;return typeof r=="function"?r(t.props):"render"in r?r.render(t.props):t}function am({asChild:t,children:r},s){return t&&m.isValidElement(r)?m.cloneElement(rF(r),{ref:r.ref},s(r.props.children)):s(r)}var sF={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Oa=$x,Bl=nS,nF=Vx,mS=m.forwardRef(({className:t,...r},s)=>e.jsx(sm,{ref:s,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));mS.displayName=sm.displayName;const zn=m.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(nF,{children:[e.jsx(mS,{}),e.jsxs(nm,{ref:a,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[r,e.jsxs(zx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zn.displayName=nm.displayName;const qn=({className:t,...r})=>e.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});qn.displayName="DialogHeader";const Wn=m.forwardRef(({className:t,...r},s)=>e.jsx(Bx,{ref:s,className:Re("text-lg font-semibold leading-none tracking-tight",t),...r}));Wn.displayName=Bx.displayName;const Ul=m.forwardRef(({className:t,...r},s)=>e.jsx(Ux,{ref:s,className:Re("text-sm text-muted-foreground",t),...r}));Ul.displayName=Ux.displayName;const hS=m.forwardRef(({className:t,...r},s)=>e.jsx(as,{ref:s,className:Re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...r}));hS.displayName=as.displayName;const fS=m.forwardRef(({className:t,...r},s)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Ur,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(as.Input,{ref:s,className:Re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...r})]}));fS.displayName=as.Input.displayName;const pS=m.forwardRef(({className:t,...r},s)=>e.jsx(as.List,{ref:s,className:Re("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...r}));pS.displayName=as.List.displayName;const xS=m.forwardRef((t,r)=>e.jsx(as.Empty,{ref:r,className:"py-6 text-center text-sm",...t}));xS.displayName=as.Empty.displayName;const gS=m.forwardRef(({className:t,...r},s)=>e.jsx(as.Group,{ref:s,className:Re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...r}));gS.displayName=as.Group.displayName;const aF=m.forwardRef(({className:t,...r},s)=>e.jsx(as.Separator,{ref:s,className:Re("-mx-1 h-px bg-border",t),...r}));aF.displayName=as.Separator.displayName;const vS=m.forwardRef(({className:t,...r},s)=>e.jsx(as.Item,{ref:s,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...r}));vS.displayName=as.Item.displayName;const eu=[{code:"IN",name:"India",flag:"",dialCode:"+91"},{code:"US",name:"United States",flag:"",dialCode:"+1"},{code:"GB",name:"United Kingdom",flag:"",dialCode:"+44"},{code:"CA",name:"Canada",flag:"",dialCode:"+1"},{code:"AU",name:"Australia",flag:"",dialCode:"+61"},{code:"DE",name:"Germany",flag:"",dialCode:"+49"},{code:"FR",name:"France",flag:"",dialCode:"+33"},{code:"IT",name:"Italy",flag:"",dialCode:"+39"},{code:"ES",name:"Spain",flag:"",dialCode:"+34"},{code:"JP",name:"Japan",flag:"",dialCode:"+81"},{code:"KR",name:"South Korea",flag:"",dialCode:"+82"},{code:"CN",name:"China",flag:"",dialCode:"+86"},{code:"SG",name:"Singapore",flag:"",dialCode:"+65"},{code:"MY",name:"Malaysia",flag:"",dialCode:"+60"},{code:"TH",name:"Thailand",flag:"",dialCode:"+66"},{code:"ID",name:"Indonesia",flag:"",dialCode:"+62"},{code:"PH",name:"Philippines",flag:"",dialCode:"+63"},{code:"VN",name:"Vietnam",flag:"",dialCode:"+84"},{code:"BR",name:"Brazil",flag:"",dialCode:"+55"},{code:"MX",name:"Mexico",flag:"",dialCode:"+52"},{code:"AR",name:"Argentina",flag:"",dialCode:"+54"},{code:"ZA",name:"South Africa",flag:"",dialCode:"+27"},{code:"EG",name:"Egypt",flag:"",dialCode:"+20"},{code:"NG",name:"Nigeria",flag:"",dialCode:"+234"},{code:"KE",name:"Kenya",flag:"",dialCode:"+254"},{code:"RU",name:"Russia",flag:"",dialCode:"+7"},{code:"TR",name:"Turkey",flag:"",dialCode:"+90"},{code:"SA",name:"Saudi Arabia",flag:"",dialCode:"+966"},{code:"AE",name:"United Arab Emirates",flag:"",dialCode:"+971"},{code:"IL",name:"Israel",flag:"",dialCode:"+972"}],oF=({selectedCountry:t,onCountryChange:r,className:s})=>{const[a,i]=m.useState(!1);return e.jsxs(L2,{open:a,onOpenChange:i,children:[e.jsx($2,{asChild:!0,children:e.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":a,className:Re("justify-between min-w-[120px] h-10 px-3",s),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:t.flag}),e.jsx("span",{className:"font-mono text-sm",children:t.dialCode})]}),e.jsx(Fi,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Ix,{className:"w-[300px] p-0",align:"start",children:e.jsxs(hS,{children:[e.jsx(fS,{placeholder:"Search country..."}),e.jsxs(pS,{children:[e.jsx(xS,{children:"No country found."}),e.jsx(gS,{children:eu.map(l=>e.jsxs(vS,{value:`${l.name} ${l.dialCode}`,onSelect:()=>{r(l),i(!1)},className:"flex items-center gap-3 px-3 py-2",children:[e.jsx("span",{className:"text-lg",children:l.flag}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.dialCode})]}),e.jsx(oc,{className:Re("ml-auto h-4 w-4",t.code===l.code?"opacity-100":"opacity-0")})]},l.code))})]})]})})]})},yS=({value:t,onChange:r,placeholder:s="Phone number",disabled:a=!1,className:i})=>{const[l,d]=m.useState(eu[0]),[u,h]=m.useState("");m.useEffect(()=>{if(!t){h("");return}if(t.startsWith("+")){const x=eu.find(v=>t.startsWith(v.dialCode))||eu[0];x.code!==l.code&&d(x);const g=t.replace(x.dialCode,"").replace(/\D/g,"");h(g.slice(0,10))}},[t]);const f=x=>{const g=x.target.value.replace(/\D/g,"");g.length<=10&&(h(g),r(`${l.dialCode}${g}`))},y=x=>{d(x),r(`${x.dialCode}${u}`)};return e.jsxs("div",{className:Re("flex gap-2",i),children:[e.jsx(oF,{selectedCountry:l,onCountryChange:y,className:"shrink-0"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{type:"tel",placeholder:s,value:u,onChange:f,disabled:a,className:"pl-10 h-10",maxLength:10}),e.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-muted-foreground",children:[u.length,"/10"]})]})]})},Tf={},iF=()=>{console.log("[Auth] Component initializing");const[t]=Ob(),r=t.get("mode"),[s,a]=m.useState(r!=="register"),[i,l]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState(""),[y,x]=m.useState(!1),[g,v]=m.useState(!1),[j,N]=m.useState(!1),[w,P]=m.useState(!1),[_,C]=m.useState([]),[L,q]=m.useState(""),[A,M]=m.useState(!1),[V,k]=m.useState([]),[T,z]=m.useState(!1),E=dr(),{toast:$}=ot(),{user:R,sendOTP:X,verifyOTP:Y,signUpWithSMSForNewRole:O}=It(),{profile:I,loading:D,createProfile:W}=Wa(),B=typeof import.meta<"u"&&(Tf==null?void 0:Tf.VITE_MOCK_OTP)==="true";console.log("[Auth] Initial state:",{user:!!R,userId:R==null?void 0:R.id,profile:!!I,profileLoading:D,isLogin:s,mode:r});const U=[{value:"buyer_seller",label:"Property Buyer & Seller",description:"Buy, sell, or rent properties - all in one place",icon:nr,color:"text-blue-600"},{value:"broker",label:"Real Estate Broker",description:"Licensed real estate professional",icon:Ol,color:"text-purple-600"},{value:"developer",label:"Property Developer",description:"Builder & redevelopment specialist",icon:yt,color:"text-orange-600"},{value:"society_owner",label:"Society Owner/Secretary",description:"Managing society redevelopment",icon:Vn,color:"text-red-600"},{value:"society_member",label:"Society Member",description:"Flat owner in housing society",icon:Ct,color:"text-indigo-600"}];m.useEffect(()=>{const fe=t.get("mode");a(fe!=="register")},[t]),m.useEffect(()=>{if(console.log("[Auth] Auth redirect effect triggered",{user:!!R,userId:R==null?void 0:R.id,profileLoading:D,showOTPVerification:j,showRoleSelection:w,pathname:window.location.pathname}),R&&!D){console.log("[Auth] User authenticated, checking redirect conditions",{pathname:window.location.pathname,showOTPVerification:j,showRoleSelection:w});const fe=window.location.pathname.includes("/auth");if(console.log("[Auth] Is on auth page:",fe),fe&&!j&&!w)if(I!=null&&I.role){const we=J(I.role);console.log("[Auth] Redirecting to dashboard:",we),E(we,{replace:!0})}else console.log("[Auth] No profile role found, redirecting to home"),E("/",{replace:!0})}},[R,I,D,j,w,E]),m.useEffect(()=>{if(s&&i&&i.length>=10){const fe=setTimeout(()=>{se(i)},500);return()=>clearTimeout(fe)}else k([]),M(!1)},[i,s]);const J=fe=>{switch(fe){case"admin":return"/admin/dashboard";case"buyer_seller":return"/buyer-seller/dashboard";case"broker":return"/broker/dashboard";case"developer":return"/developer/dashboard";case"society_owner":return"/society-owner/dashboard";case"society_member":return"/society-member/dashboard";default:return"/"}},se=async fe=>{if(!fe||fe.length<10){k([]);return}try{z(!0);const we=await re.getAvailableRoles(fe);we.data&&we.data.roles?(k(we.data.roles),we.data.roles.length>0&&M(!0)):(k([]),M(!1))}catch(we){console.error("Error fetching available roles:",we),k([]),M(!1)}finally{z(!1)}},ue=fe=>({buyer_seller:"Property Buyer & Seller",broker:"Real Estate Broker",developer:"Property Developer",society_owner:"Society Owner/Secretary",society_member:"Society Member",admin:"Administrator"})[fe]||fe;if(R&&D)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-estate-blue"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});const ge=async fe=>{if(fe.preventDefault(),w){console.log("[Auth] Form submission blocked - role selection is active");return}if(console.log("[Auth] handleSubmit called, isLogin:",s,"selectedLoginRole:",L),B){if(!i){$({title:"Phone required",description:"Enter any phone to receive the mock OTP (123456).",variant:"destructive"});return}}else if(!/^\+[1-9]\d{7,14}$/.test(i)){$({title:"Invalid phone number",description:"Enter a valid phone in international format, e.g. +919876543210.",variant:"destructive"});return}x(!0);try{if(s)console.log("[Auth] Proceeding with login for role:",L),await de();else{if(!d||!h){$({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}console.log("[Auth] Attempting signup with:",{phone:i,fullName:d,selectedRole:h});const{error:we}=await O(i,d,h);if(console.log("[Auth] Signup response error:",we),we){const Oe=we.message||we||"Failed to send OTP";if(console.log("[Auth] Error message:",Oe),Oe.includes("already have this role")||Oe.includes("ROLE_EXISTS")){$({title:"Role already exists",description:"You already have this role. Please login instead.",variant:"destructive"});return}if(Oe.includes("Validation failed")||Oe.includes("Invalid")){$({title:"Invalid information",description:Oe,variant:"destructive"});return}$({title:"Failed to send OTP",description:/provider|phone auth|sms/i.test(Oe)?"SMS provider not enabled. For development, set VITE_MOCK_OTP=true and use code 123456.":Oe,variant:"destructive"})}else{N(!0);const Oe=B?sessionStorage.getItem(`mock_otp_${i}`)||"123456":null;$({title:"OTP Sent!",description:B?`Development OTP: ${Oe}`:"Please check your phone for the verification code."})}}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{x(!1)}},oe=async fe=>{if(console.log("[Auth] Role selected:",fe),console.log("[Auth] Current state - showRoleSelection:",w,"showOTPVerification:",j),!w){console.log("[Auth] Role selection called but not in role selection mode");return}x(!0),q(fe),console.log("[Auth] selectedLoginRole set to:",fe);try{await de(fe)}catch(we){console.error("[Auth] Error in handleRoleSelection:",we)}finally{x(!1)}},de=async fe=>{console.log("[Auth] proceedWithLogin called, passed role:",fe,"selectedLoginRole:",L);try{const we=fe||L||(_.length===1?_[0].role:null);if(console.log("[Auth] roleToUse:",we),!we){$({title:"No role selected",description:"Please select a role to continue.",variant:"destructive"});return}const{error:Oe}=await X(i,we);if(Oe){const Te=Oe.message||"Failed to send OTP";$({title:"Failed to send OTP",description:/provider|phone auth|sms/i.test(Te)?"SMS provider not enabled. For development, set VITE_MOCK_OTP=true and use code 123456.":Te,variant:"destructive"})}else{P(!1),N(!0);const Te=B?sessionStorage.getItem(`mock_otp_${i}`)||"123456":null;$({title:"OTP Sent!",description:B?`Development OTP: ${Te}`:"Please check your phone for the verification code."})}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}},le=async fe=>{x(!0);try{const we=s?L:h,{data:Oe,error:Te}=await Y(i,fe,we);if(Te)$({title:"Verification failed",description:Te.message,variant:"destructive"});else{!s&&(Oe!=null&&Oe.user)&&await W({role:h,full_name:d,phone:i}),$({title:"Success!",description:s?"You've been successfully logged in.":"Your account has been created successfully."});const Ot=J(s?L:h);console.log("[Auth] OTP verification successful, redirecting to dashboard:",Ot),E(Ot,{replace:!0})}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{x(!1)}},he=async()=>{v(!0);try{const{error:fe}=s?await X(i,L):await O(i,d,h);if(fe)$({title:"Failed to resend OTP",description:fe.message,variant:"destructive"});else{const we=B?sessionStorage.getItem(`mock_otp_${i}`)||"123456":null;B&&$({title:"OTP Sent",description:`Development OTP: ${we}`})}}catch{$({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{v(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-estate-blue-lighter to-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:j?e.jsx(C2,{phone:i,onVerify:le,onResend:he,onBack:()=>N(!1),loading:y,resendLoading:g}):w?e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ve,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(ye,{className:"text-2xl font-bold text-foreground",children:"Select Your Role"}),e.jsx(Qe,{children:"You have multiple roles. Please select which one you want to sign in as."})]}),e.jsxs(Q,{className:"space-y-4",children:[_.map((fe,we)=>{const Oe=U.find(pt=>pt.value===fe.role),Te=(Oe==null?void 0:Oe.icon)||nr;return e.jsx("button",{className:"w-full h-auto p-4 justify-start rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground text-left",onClick:pt=>{pt.preventDefault(),pt.stopPropagation(),oe(fe.role)},disabled:y,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:`h-5 w-5 ${(Oe==null?void 0:Oe.color)||"text-gray-600"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:(Oe==null?void 0:Oe.label)||fe.role}),e.jsx("div",{className:"text-sm text-muted-foreground",children:fe.full_name})]}),y&&L===fe.role&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-estate-blue border-t-transparent"})})]})},we)}),e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-muted-foreground hover:text-foreground",onClick:()=>{P(!1),C([]),q("")},children:" Back to login"})})]})]}):e.jsxs(G,{className:"shadow-strong border-0 w-full",children:[e.jsxs(ve,{className:"space-y-1 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-estate-blue mb-2",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(ye,{className:"text-2xl font-bold text-foreground",children:s?"Welcome back":"Create account"}),e.jsx(Qe,{children:s?"Sign in to your account to continue":"Sign up to start exploring properties"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fullName",className:"text-sm font-medium text-foreground",children:"Full Name"}),e.jsx(Se,{id:"fullName",placeholder:"Enter your full name",type:"text",value:d,onChange:fe=>u(fe.target.value),required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"role",className:"text-sm font-medium text-foreground",children:"Select Your Role"}),e.jsxs(Xe,{value:h,onValueChange:f,required:!0,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Choose your role in real estate"})}),e.jsx(Ke,{children:U.map(fe=>{const we=fe.icon;return e.jsx(te,{value:fe.value,children:e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx(we,{className:`h-4 w-4 ${fe.color}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:fe.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:fe.description})]})]})},fe.value)})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:"Phone Number"}),e.jsx(yS,{value:i,onChange:l,placeholder:"Enter your phone number",disabled:y}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send you a verification code via SMS"})]}),s&&A&&V.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium text-foreground",children:"Select Role to Login"}),e.jsxs(Xe,{value:L,onValueChange:q,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Choose your role"})}),e.jsx(Ke,{children:V.map(fe=>e.jsx(te,{value:fe.role,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:ue(fe.role)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",fe.status,"  ",fe.verificationStatus,")"]})]})})},fe.role))})]}),T&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading available roles..."})]}),s&&i&&i.length>=10&&!T&&V.length===0&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No registered roles found for this phone number. Please register first."})}),e.jsx(H,{className:"w-full h-11 bg-estate-blue hover:bg-estate-blue-light text-white font-medium",type:"submit",disabled:y,children:y?"Sending...":s?"Send Verification Code":"Create Account"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:s?"Don't have an account?":"Already have an account?"}),e.jsx(H,{variant:"link",className:"p-0 h-auto font-medium text-estate-blue hover:text-estate-blue-light",onClick:()=>{s?(a(!1),E("/auth?mode=register")):(a(!0),E("/auth")),l(""),u(""),f(""),q(""),P(!1),M(!1),C([])},children:s?"Create new account":"Sign in instead"})]}),e.jsx("div",{className:"text-center",children:e.jsx(He,{to:"/",className:"text-sm text-muted-foreground hover:text-estate-blue transition-colors",children:" Back to home"})})]})]})})})},lF=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[d,u]=m.useState("created_at"),[h,f]=m.useState("all"),[y,x]=m.useState("all"),[g,v]=m.useState([0,1e5]),[j,N]=m.useState([]),[w,P]=m.useState("all"),_=dr(),{toast:C}=ot(),L=["Furnished","Semi-Furnished","Parking","Security","Gym","Swimming Pool","Garden","Elevator","Power Backup","Water Supply","Air Conditioning","Balcony","Modular Kitchen","Internet/WiFi"],q=[{value:"all",label:"Any Duration"},{value:"1 month",label:"Monthly"},{value:"3 months",label:"Quarterly"},{value:"6 months",label:"6 Months"},{value:"11 months",label:"11 Months"},{value:"1 year",label:"1 Year"},{value:"2 years",label:"2+ Years"}];m.useEffect(()=>{A()},[d,h,y,i,g,j,w]);const A=async()=>{try{j.length>0;const k=await re.getProperties();if(k.error)throw k.error;r(k.data||[])}catch(k){console.error("Error fetching rental properties:",k),C({title:"Error",description:"Failed to load rental properties. Please try again.",variant:"destructive"})}finally{a(!1)}},M=k=>{N(T=>T.includes(k)?T.filter(z=>z!==k):[...T,k])},V=()=>{l(""),f("all"),x("all"),v([0,1e5]),N([]),P("all")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-green-600 via-green-700 to-green-800 py-16",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:"Properties for Rent"}),e.jsx("p",{className:"text-xl text-white/90 text-center max-w-2xl mx-auto mb-8",children:"Find your perfect rental home with flexible lease terms and great amenities"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx(_t,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.length}),e.jsx("div",{className:"text-white/90 text-sm",children:"Available Rentals"})]})}),e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx(Yn,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"15K+"}),e.jsx("div",{className:"text-white/90 text-sm",children:"Starting From"})]})}),e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx(Mt,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"25+"}),e.jsx("div",{className:"text-white/90 text-sm",children:"Locations"})]})}),e.jsx(G,{className:"bg-white/10 border-white/20",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx(Jt,{className:"h-8 w-8 text-white mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"Flexible"}),e.jsx("div",{className:"text-white/90 text-sm",children:"Lease Terms"})]})})]})]})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Find Your Perfect Rental"}),e.jsx(Qe,{children:"Use our advanced filters to find rentals that match your needs and budget"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search location or property...",value:i,onChange:k=>l(k.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:h,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Property Type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Types"}),e.jsx(te,{value:"apartment",children:"Apartment"}),e.jsx(te,{value:"villa",children:"Villa"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"pg",children:"PG/Hostel"})]})]}),e.jsxs(Xe,{value:y,onValueChange:x,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Furnishing"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"Any Furnishing"}),e.jsx(te,{value:"furnished",children:"Furnished"}),e.jsx(te,{value:"semi_furnished",children:"Semi-Furnished"}),e.jsx(te,{value:"unfurnished",children:"Unfurnished"})]})]}),e.jsxs(Xe,{value:d,onValueChange:u,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"created_at",children:"Newest First"}),e.jsx(te,{value:"rent_asc",children:"Rent: Low to High"}),e.jsx(te,{value:"rent_desc",children:"Rent: High to Low"}),e.jsx(te,{value:"area",children:"Area"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-4 border rounded-lg bg-muted/20",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Monthly Rent Range ()"}),e.jsx(pu,{value:g,onValueChange:v,max:1e5,min:0,step:5e3,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["",g[0].toLocaleString()]}),e.jsxs("span",{children:["",g[1].toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Preferred Lease Term"}),e.jsxs(Xe,{value:w,onValueChange:P,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Any Duration"})}),e.jsx(Ke,{children:q.map(k=>e.jsx(te,{value:k.value,children:k.label},k.value))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:L.slice(0,8).map(k=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ia,{id:k,checked:j.includes(k),onCheckedChange:()=>M(k)}),e.jsx(ne,{htmlFor:k,className:"text-xs",children:k})]},k))})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{variant:"ghost",onClick:V,children:"Clear All Filters"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:A,variant:"outline",children:"Apply Filters"}),e.jsx(H,{onClick:()=>_("/post-property"),className:"bg-green-600 hover:bg-green-700",children:"List Your Property"})]})]})]})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(9)].map((k,T)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},T))}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(k=>e.jsxs("div",{className:"relative",children:[e.jsx(Xu,{id:k.id,title:k.title,location:`${k.location}, ${k.city}`,price:`${k.monthly_rent.toLocaleString()}/month`,area:`${k.area} sq ft`,image:k.images[0]||"/placeholder.svg",type:k.property_type,status:"For Rent"}),e.jsxs("div",{className:"absolute top-2 right-2 space-y-1",children:[k.furnished_status&&e.jsx(xe,{className:"bg-green-100 text-green-800 text-xs",children:k.furnished_status.replace("_"," ")}),k.security_deposit&&e.jsxs(xe,{variant:"outline",className:"text-xs bg-white",children:["Deposit: ",k.security_deposit.toLocaleString()]})]})]},k.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(_t,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No Rental Properties Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search criteria or filters to find more rental options."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{onClick:V,variant:"outline",children:"Clear Filters"}),e.jsx(H,{onClick:()=>_("/post-property"),className:"bg-green-600 hover:bg-green-700",children:"List Your Rental Property"})]})]})})})]})};var Df={exports:{}},Af={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function cF(){if(ab)return Af;ab=1;var t=ju();function r(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var s=typeof Object.is=="function"?Object.is:r,a=t.useState,i=t.useEffect,l=t.useLayoutEffect,d=t.useDebugValue;function u(x,g){var v=g(),j=a({inst:{value:v,getSnapshot:g}}),N=j[0].inst,w=j[1];return l(function(){N.value=v,N.getSnapshot=g,h(N)&&w({inst:N})},[x,v,g]),i(function(){return h(N)&&w({inst:N}),x(function(){h(N)&&w({inst:N})})},[x]),d(v),v}function h(x){var g=x.getSnapshot;x=x.value;try{var v=g();return!s(x,v)}catch{return!0}}function f(x,g){return g()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Af.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Af}var ob;function dF(){return ob||(ob=1,Df.exports=cF()),Df.exports}var uF=dF();function mF(){return uF.useSyncExternalStore(hF,()=>!0,()=>!1)}function hF(){return()=>{}}var Wx="Avatar",[fF]=vr(Wx),[pF,bS]=fF(Wx),jS=m.forwardRef((t,r)=>{const{__scopeAvatar:s,...a}=t,[i,l]=m.useState("idle");return e.jsx(pF,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:e.jsx(Me.span,{...a,ref:r})})});jS.displayName=Wx;var wS="AvatarImage",NS=m.forwardRef((t,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:i=()=>{},...l}=t,d=bS(wS,s),u=xF(a,l),h=sr(f=>{i(f),d.onImageLoadingStatusChange(f)});return ar(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?e.jsx(Me.img,{...l,ref:r,src:a}):null});NS.displayName=wS;var SS="AvatarFallback",kS=m.forwardRef((t,r)=>{const{__scopeAvatar:s,delayMs:a,...i}=t,l=bS(SS,s),[d,u]=m.useState(a===void 0);return m.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(h)}},[a]),d&&l.imageLoadingStatus!=="loaded"?e.jsx(Me.span,{...i,ref:r}):null});kS.displayName=SS;function ib(t,r){return t?r?(t.src!==r&&(t.src=r),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xF(t,{referrerPolicy:r,crossOrigin:s}){const a=mF(),i=m.useRef(null),l=a?(i.current||(i.current=new window.Image),i.current):null,[d,u]=m.useState(()=>ib(l,t));return ar(()=>{u(ib(l,t))},[l,t]),ar(()=>{const h=x=>()=>{u(x)};if(!l)return;const f=h("loaded"),y=h("error");return l.addEventListener("load",f),l.addEventListener("error",y),r&&(l.referrerPolicy=r),typeof s=="string"&&(l.crossOrigin=s),()=>{l.removeEventListener("load",f),l.removeEventListener("error",y)}},[l,s,r]),d}var CS=jS,PS=NS,_S=kS;const ES=m.forwardRef(({className:t,...r},s)=>e.jsx(CS,{ref:s,className:Re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r}));ES.displayName=CS.displayName;const RS=m.forwardRef(({className:t,...r},s)=>e.jsx(PS,{ref:s,className:Re("aspect-square h-full w-full",t),...r}));RS.displayName=PS.displayName;const TS=m.forwardRef(({className:t,...r},s)=>e.jsx(_S,{ref:s,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r}));TS.displayName=_S.displayName;const gF=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[d,u]=m.useState("all"),[h,f]=m.useState("experience"),{toast:y}=ot(),x=["Residential Properties","Commercial Properties","Luxury Real Estate","Investment Properties","Rental Management","Land Development","Industrial Properties","Agricultural Land","NRI Investments"];m.useEffect(()=>{g()},[i,d,h]);const g=async()=>{try{const N=await re.getBrokers();if(N.error)throw N.error;r(N.data||[])}catch(N){console.error("Error fetching brokers:",N),y({title:"Error",description:"Failed to load broker profiles. Please try again.",variant:"destructive"})}finally{a(!1)}},v=N=>N.split(" ").map(w=>w[0]).join("").toUpperCase(),j=()=>{l(""),u("all")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800 py-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Professional Real Estate Brokers"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-8",children:"Connect with certified brokers who can help you buy, sell, or invest in properties with confidence"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{asChild:!0,size:"lg",className:"bg-white text-purple-700 hover:bg-white/90",children:e.jsxs(He,{to:"/auth?mode=register",children:[e.jsx(jj,{className:"w-5 h-5 mr-2"}),"Become a Broker"]})}),e.jsx(H,{asChild:!0,variant:"outline",size:"lg",className:"border-white text-white hover:bg-white/10",children:e.jsx(He,{to:"/contact",children:"Contact Us"})})]})]})})}),e.jsx("section",{className:"py-8 border-b",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ur,{className:"h-5 w-5"}),"Find the Right Broker"]}),e.jsx(Qe,{children:"Search by name, specialization, or location to find brokers that match your needs"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search brokers...",value:i,onChange:N=>l(N.target.value),className:"pl-9"})]}),e.jsxs(Xe,{value:d,onValueChange:u,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Specialization"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Specializations"}),x.map(N=>e.jsx(te,{value:N,children:N},N))]})]}),e.jsxs(Xe,{value:h,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Sort By"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"experience",children:"Most Experienced"}),e.jsx(te,{value:"commission",children:"Best Commission"}),e.jsx(te,{value:"newest",children:"Newest First"})]})]}),e.jsxs(H,{onClick:j,variant:"outline",children:[e.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]})})]})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Available Brokers"}),e.jsxs("p",{className:"text-muted-foreground",children:[t.length," brokers found ",i&&`for "${i}"`]})]})}),s?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((N,w)=>e.jsx("div",{className:"animate-pulse",children:e.jsx(G,{className:"h-80",children:e.jsxs(Q,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})},w))}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(N=>e.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(ES,{className:"h-12 w-12",children:[e.jsx(RS,{src:N.profiles.profile_picture||void 0}),e.jsx(TS,{children:v(N.profiles.full_name)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:N.profiles.full_name}),N.profiles.company_name&&e.jsx("p",{className:"text-sm text-muted-foreground",children:N.profiles.company_name})]})]}),N.profiles.verification_status==="verified"&&e.jsxs(xe,{className:"bg-green-100 text-green-800",children:[e.jsx($n,{className:"w-3 h-3 mr-1"}),"Verified"]})]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Specializations:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.specialization.slice(0,2).map((w,P)=>e.jsx(xe,{variant:"outline",className:"text-xs",children:w},P)),N.specialization.length>2&&e.jsxs(xe,{variant:"outline",className:"text-xs",children:["+",N.specialization.length-2," more"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[N.years_experience&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yo,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[N.years_experience," years"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[N.commission_rate,"% commission"]})]})]}),N.office_address&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Mt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("span",{className:"text-muted-foreground line-clamp-2",children:N.office_address})]}),N.profiles.bio&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:N.profiles.bio}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(H,{asChild:!0,className:"flex-1",children:e.jsxs(He,{to:`/contact?broker=${N.id}`,children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Contact"]})}),N.profiles.phone&&e.jsx(H,{variant:"outline",asChild:!0,children:e.jsx("a",{href:`tel:${N.profiles.phone}`,children:e.jsx(Pr,{className:"w-4 h-4"})})}),N.profiles.website&&e.jsx(H,{variant:"outline",asChild:!0,children:e.jsx("a",{href:N.profiles.website,target:"_blank",rel:"noopener noreferrer",children:e.jsx(xr,{className:"w-4 h-4"})})})]})]})]},N.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Ct,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"No Brokers Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:i||d!=="all"?"Try adjusting your search criteria to find more brokers.":"No verified brokers are available at the moment."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{onClick:j,variant:"outline",children:"Clear Filters"}),e.jsx(H,{asChild:!0,children:e.jsx(He,{to:"/auth?mode=register",children:"Become a Broker"})})]})]})]})}),e.jsx("section",{className:"bg-muted/30 py-16",children:e.jsxs("div",{className:"container mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Your Real Estate Journey?"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Whether you're looking to buy, sell, or invest, our network of professional brokers is here to guide you every step of the way."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{asChild:!0,size:"lg",children:e.jsx(He,{to:"/properties",children:"Browse Properties"})}),e.jsx(H,{asChild:!0,variant:"outline",size:"lg",children:e.jsx(He,{to:"/auth?mode=register",children:"Join Our Network"})})]})]})})]})};var tn="Accordion",vF=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Hx,yF,bF]=Ii(tn),[om]=vr(tn,[bF,v2]),Yx=v2(),DS=ke.forwardRef((t,r)=>{const{type:s,...a}=t,i=a,l=a;return e.jsx(Hx.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?e.jsx(SF,{...l,ref:r}):e.jsx(NF,{...i,ref:r})})});DS.displayName=tn;var[AS,jF]=om(tn),[MS,wF]=om(tn,{collapsible:!1}),NF=ke.forwardRef((t,r)=>{const{value:s,defaultValue:a,onValueChange:i=()=>{},collapsible:l=!1,...d}=t,[u,h]=fs({prop:s,defaultProp:a??"",onChange:i,caller:tn});return e.jsx(AS,{scope:t.__scopeAccordion,value:ke.useMemo(()=>u?[u]:[],[u]),onItemOpen:h,onItemClose:ke.useCallback(()=>l&&h(""),[l,h]),children:e.jsx(MS,{scope:t.__scopeAccordion,collapsible:l,children:e.jsx(IS,{...d,ref:r})})})}),SF=ke.forwardRef((t,r)=>{const{value:s,defaultValue:a,onValueChange:i=()=>{},...l}=t,[d,u]=fs({prop:s,defaultProp:a??[],onChange:i,caller:tn}),h=ke.useCallback(y=>u((x=[])=>[...x,y]),[u]),f=ke.useCallback(y=>u((x=[])=>x.filter(g=>g!==y)),[u]);return e.jsx(AS,{scope:t.__scopeAccordion,value:d,onItemOpen:h,onItemClose:f,children:e.jsx(MS,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(IS,{...l,ref:r})})})}),[kF,im]=om(tn),IS=ke.forwardRef((t,r)=>{const{__scopeAccordion:s,disabled:a,dir:i,orientation:l="vertical",...d}=t,u=ke.useRef(null),h=rt(u,r),f=yF(s),x=Po(i)==="ltr",g=Ce(t.onKeyDown,v=>{var V;if(!vF.includes(v.key))return;const j=v.target,N=f().filter(k=>{var T;return!((T=k.ref.current)!=null&&T.disabled)}),w=N.findIndex(k=>k.ref.current===j),P=N.length;if(w===-1)return;v.preventDefault();let _=w;const C=0,L=P-1,q=()=>{_=w+1,_>L&&(_=C)},A=()=>{_=w-1,_<C&&(_=L)};switch(v.key){case"Home":_=C;break;case"End":_=L;break;case"ArrowRight":l==="horizontal"&&(x?q():A());break;case"ArrowDown":l==="vertical"&&q();break;case"ArrowLeft":l==="horizontal"&&(x?A():q());break;case"ArrowUp":l==="vertical"&&A();break}const M=_%P;(V=N[M].ref.current)==null||V.focus()});return e.jsx(kF,{scope:s,disabled:a,direction:i,orientation:l,children:e.jsx(Hx.Slot,{scope:s,children:e.jsx(Me.div,{...d,"data-orientation":l,ref:h,onKeyDown:a?void 0:g})})})}),gu="AccordionItem",[CF,Kx]=om(gu),OS=ke.forwardRef((t,r)=>{const{__scopeAccordion:s,value:a,...i}=t,l=im(gu,s),d=jF(gu,s),u=Yx(s),h=gr(),f=a&&d.value.includes(a)||!1,y=l.disabled||t.disabled;return e.jsx(CF,{scope:s,open:f,disabled:y,triggerId:h,children:e.jsx(w2,{"data-orientation":l.orientation,"data-state":US(f),...u,...i,ref:r,disabled:y,open:f,onOpenChange:x=>{x?d.onItemOpen(a):d.onItemClose(a)}})})});OS.displayName=gu;var FS="AccordionHeader",LS=ke.forwardRef((t,r)=>{const{__scopeAccordion:s,...a}=t,i=im(tn,s),l=Kx(FS,s);return e.jsx(Me.h3,{"data-orientation":i.orientation,"data-state":US(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:r})});LS.displayName=FS;var Ep="AccordionTrigger",$S=ke.forwardRef((t,r)=>{const{__scopeAccordion:s,...a}=t,i=im(tn,s),l=Kx(Ep,s),d=wF(Ep,s),u=Yx(s);return e.jsx(Hx.ItemSlot,{scope:s,children:e.jsx(YI,{"aria-disabled":l.open&&!d.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId,...u,...a,ref:r})})});$S.displayName=Ep;var VS="AccordionContent",BS=ke.forwardRef((t,r)=>{const{__scopeAccordion:s,...a}=t,i=im(tn,s),l=Kx(VS,s),d=Yx(s);return e.jsx(KI,{role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation,...d,...a,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});BS.displayName=VS;function US(t){return t?"open":"closed"}var PF=DS,_F=OS,EF=LS,zS=$S,qS=BS;const RF=PF,WS=m.forwardRef(({className:t,...r},s)=>e.jsx(_F,{ref:s,className:Re("border-b",t),...r}));WS.displayName="AccordionItem";const HS=m.forwardRef(({className:t,children:r,...s},a)=>e.jsx(EF,{className:"flex",children:e.jsxs(zS,{ref:a,className:Re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[r,e.jsx(Fi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));HS.displayName=zS.displayName;const YS=m.forwardRef(({className:t,children:r,...s},a)=>e.jsx(qS,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:Re("pb-4 pt-0",t),children:r})}));YS.displayName=qS.displayName;var lm="Tabs",[TF]=vr(lm,[Ou]),KS=Ou(),[DF,Gx]=TF(lm),GS=m.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,onValueChange:i,defaultValue:l,orientation:d="horizontal",dir:u,activationMode:h="automatic",...f}=t,y=Po(u),[x,g]=fs({prop:a,onChange:i,defaultProp:l??"",caller:lm});return e.jsx(DF,{scope:s,baseId:gr(),value:x,onValueChange:g,orientation:d,dir:y,activationMode:h,children:e.jsx(Me.div,{dir:y,"data-orientation":d,...f,ref:r})})});GS.displayName=lm;var QS="TabsList",XS=m.forwardRef((t,r)=>{const{__scopeTabs:s,loop:a=!0,...i}=t,l=Gx(QS,s),d=KS(s);return e.jsx(ww,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:a,children:e.jsx(Me.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:r})})});XS.displayName=QS;var JS="TabsTrigger",ZS=m.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,disabled:i=!1,...l}=t,d=Gx(JS,s),u=KS(s),h=rk(d.baseId,a),f=sk(d.baseId,a),y=a===d.value;return e.jsx(Nw,{asChild:!0,...u,focusable:!i,active:y,children:e.jsx(Me.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":f,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:r,onMouseDown:Ce(t.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?d.onValueChange(a):x.preventDefault()}),onKeyDown:Ce(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&d.onValueChange(a)}),onFocus:Ce(t.onFocus,()=>{const x=d.activationMode!=="manual";!y&&!i&&x&&d.onValueChange(a)})})})});ZS.displayName=JS;var ek="TabsContent",tk=m.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,forceMount:i,children:l,...d}=t,u=Gx(ek,s),h=rk(u.baseId,a),f=sk(u.baseId,a),y=a===u.value,x=m.useRef(y);return m.useEffect(()=>{const g=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(yr,{present:i||y,children:({present:g})=>e.jsx(Me.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!g,id:f,tabIndex:0,...d,ref:r,style:{...t.style,animationDuration:x.current?"0s":void 0},children:g&&l})})});tk.displayName=ek;function rk(t,r){return`${t}-trigger-${r}`}function sk(t,r){return`${t}-content-${r}`}var AF=GS,nk=XS,ak=ZS,ok=tk;const hs=AF,ss=m.forwardRef(({className:t,...r},s)=>e.jsx(nk,{ref:s,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));ss.displayName=nk.displayName;const Ge=m.forwardRef(({className:t,...r},s)=>e.jsx(ak,{ref:s,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r}));Ge.displayName=ak.displayName;const st=m.forwardRef(({className:t,...r},s)=>e.jsx(ok,{ref:s,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));st.displayName=ok.displayName;const MF=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(""),[d,u]=m.useState("all"),{toast:h}=ot(),f=[{value:"all",label:"All Categories"},{value:"general",label:"General"},{value:"buyer",label:"For Buyers"},{value:"seller",label:"For Sellers"},{value:"broker",label:"For Brokers"},{value:"developer",label:"For Developers"},{value:"nri",label:"NRI Services"},{value:"investment",label:"Investment"}];m.useEffect(()=>{y()},[i,d]);const y=async()=>{try{const j=await re.getSupportTickets();if(j.error)throw j.error;r(j.data||[])}catch(j){console.error("Error fetching FAQs:",j),h({title:"Error",description:"Failed to load FAQs. Please try again.",variant:"destructive"})}finally{a(!1)}},x=()=>{l(""),u("all")},g=t.filter(j=>{const N=i===""||j.question.toLowerCase().includes(i.toLowerCase())||j.answer.toLowerCase().includes(i.toLowerCase())||j.tags.some(P=>P.toLowerCase().includes(i.toLowerCase())),w=d==="all"||j.category===d;return N&&w}),v=j=>t.filter(N=>N.category===j);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 py-16",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(nf,{className:"h-16 w-16 text-white mx-auto mb-6"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-8",children:"Get instant answers to common questions about buying, selling, and investing in real estate"}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Se,{placeholder:"Search FAQs...",value:i,onChange:j=>l(j.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/60"})]})})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsx("div",{className:"mb-8",children:e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search questions, answers, or topics...",value:i,onChange:j=>l(j.target.value),className:"pl-9"})]}),e.jsx("div",{className:"flex gap-2",children:i||d!=="all"?e.jsx(H,{variant:"ghost",onClick:x,children:"Clear Search"}):null})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:f.map(j=>e.jsxs(xe,{variant:d===j.value?"default":"outline",className:"cursor-pointer",onClick:()=>u(j.value),children:[j.label,j.value!=="all"&&e.jsxs("span",{className:"ml-1",children:["(",v(j.value).length,")"]})]},j.value))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(hs,{value:d,onValueChange:u,className:"space-y-6",children:[e.jsxs(ss,{className:"grid grid-cols-3 lg:grid-cols-4 w-full",children:[e.jsx(Ge,{value:"all",children:"All"}),e.jsx(Ge,{value:"buyer",children:"Buyers"}),e.jsx(Ge,{value:"seller",children:"Sellers"}),e.jsx(Ge,{value:"nri",children:"NRI"})]}),e.jsx("div",{className:"space-y-6",children:s?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((j,N)=>e.jsx(G,{className:"animate-pulse",children:e.jsxs(Q,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})},N))}):g.length>0?e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsx(RF,{type:"single",collapsible:!0,className:"space-y-2",children:g.map((j,N)=>e.jsxs(WS,{value:`item-${N}`,className:"border rounded-lg px-4",children:[e.jsx(HS,{className:"text-left hover:no-underline",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(nf,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:j.question})]})}),e.jsxs(YS,{className:"pl-8 pb-4",children:[e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-line",children:j.answer})}),j.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:j.tags.map((w,P)=>e.jsx(xe,{variant:"outline",className:"text-xs",children:w},P))})]})]},j.id))})})}):e.jsx(G,{children:e.jsxs(Q,{className:"p-12 text-center",children:[e.jsx(nf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No FAQs Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:i?`No questions match "${i}". Try different keywords or browse by category.`:"No FAQs available for this category."}),e.jsx(H,{variant:"outline",onClick:x,children:"Clear Search"})]})})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Browse by Category"}),e.jsx("div",{className:"space-y-2",children:f.filter(j=>j.value!=="all").map(j=>{const N=v(j.value).length;return e.jsxs(H,{variant:d===j.value?"default":"ghost",className:"w-full justify-between",onClick:()=>u(j.value),children:[e.jsx("span",{children:j.label}),e.jsx(xe,{variant:"outline",children:N})]},j.value)})})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Still Need Help?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Can't find what you're looking for? Our support team is here to help."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(H,{className:"w-full",variant:"outline",children:[e.jsx(ic,{className:"w-4 h-4 mr-2"}),"Live Chat"]}),e.jsxs(H,{className:"w-full",variant:"outline",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Email Support"]}),e.jsxs(H,{className:"w-full",variant:"outline",children:[e.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Call Us"]})]})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Popular Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["platform","about","search","properties","listing","sell","commission","earnings","nri","investment","legal"].map(j=>e.jsx(xe,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground",onClick:()=>l(j),children:j},j))})]})})]})]})]})]})},IF=()=>{const t=wn();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},OF=()=>{const[t]=Ob(),r=t.get("invitation"),s=t.get("society"),[a,i]=m.useState(null),[l,d]=m.useState(!0),[u,h]=m.useState(!1),[f,y]=m.useState(!1),[x,g]=m.useState(!1),[v,j]=m.useState(""),[N,w]=m.useState(""),[P,_]=m.useState(""),[C,L]=m.useState(!1),{toast:q}=ot(),{user:A}=It();m.useEffect(()=>{r&&s&&M()},[r,s]);const M=async()=>{try{const{data:z,error:E}=await re.select(`
          *,
          societies (
            name,
            address,
            city,
            state
          )
        `).maybeSingle();if(E)throw E;if(!z){q({title:"Invalid Invitation",description:"This invitation link is invalid or does not exist",variant:"destructive"});return}if(z.status!=="pending"){q({title:"Invalid Invitation",description:"This invitation has already been used or expired",variant:"destructive"});return}if(new Date(z.expires_at)<new Date){q({title:"Expired Invitation",description:"This invitation has expired",variant:"destructive"});return}i(z),j(z.phone||""),w(z.name||"")}catch(z){q({title:"Error",description:z.message,variant:"destructive"})}finally{d(!1)}},V=async z=>{z.preventDefault(),h(!0);try{if(!/^\+[1-9]\d{7,14}$/.test(v)){q({title:"Invalid phone number",description:"Enter a valid phone in international format, e.g. +919876543210.",variant:"destructive"});return}const{error:$}=await re.sendOTP(v);if($){q({title:"Failed to send OTP",description:$.message,variant:"destructive"});return}g(!0),q({title:"OTP Sent!",description:"Please check your phone for the verification code."})}catch(E){q({title:"Error",description:E.message,variant:"destructive"})}finally{h(!1)}},k=async z=>{h(!0);try{const{data:E,error:$}=await re.verifyOTP(v,z);if($){q({title:"Verification failed",description:$.message,variant:"destructive"});return}E.user&&(await re({full_name:a==null?void 0:a.name,phone:a==null?void 0:a.phone,role:"society_member"}),await re({society_id:s,user_id:E.user.id,flat_number:a==null?void 0:a.flat_number,status:"active"}),await re({status:"accepted"}),y(!0),q({title:"Registration Successful!",description:"You are now a member of the society."}))}catch(E){q({title:"Registration Failed",description:E.message,variant:"destructive"})}finally{h(!1)}},T=async()=>{L(!0);try{const{error:z}=await re.sendOTP({phone:v});q(z?{title:"Failed to resend OTP",description:z.message,variant:"destructive"}:{title:"OTP Sent",description:"A new OTP has been sent to your phone number."})}catch{q({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}finally{L(!1)}};return!r||!s?e.jsx(su,{to:"/auth"}):A?e.jsx(su,{to:"/society-member/dashboard"}):l?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading invitation details..."})]})}):a?f?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ve,{className:"text-center",children:[e.jsx(bt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx(ye,{className:"text-green-600",children:"Registration Complete!"}),e.jsxs(Qe,{children:["Welcome to ",a.societies.name]})]}),e.jsxs(Q,{className:"text-center space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Flat Number:"})," ",a.flat_number]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Society:"})," ",a.societies.name]})]}),e.jsx(H,{onClick:()=>window.location.href="/society-member/dashboard",className:"w-full",children:"Go to Member Dashboard"})]})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(G,{className:"w-full max-w-2xl",children:[e.jsxs(ve,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yt,{className:"h-8 w-8 text-primary"}),e.jsx(Ct,{className:"h-6 w-6 text-primary"})]})}),e.jsx(ye,{children:"Society Member Registration"}),e.jsxs(Qe,{children:["Complete your registration to join ",a.societies.name]})]}),e.jsxs(Q,{className:"space-y-6",children:[x?e.jsx(C2,{phone:v,onVerify:k,onResend:T,onBack:()=>g(!1),loading:u,resendLoading:C}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Invitation Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{className:"ml-2 font-medium",children:a.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Flat:"}),e.jsx(xe,{variant:"secondary",className:"ml-2",children:a.flat_number})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{className:"ml-2",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Society:"}),e.jsx("span",{className:"ml-2",children:a.societies.name})]})]})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fullName",children:"Full Name"}),e.jsx(Se,{id:"fullName",value:N,onChange:z=>w(z.target.value),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),e.jsx(yS,{value:v,onChange:j,placeholder:"Enter your phone number",disabled:u}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send you a verification code via SMS"})]}),e.jsx(H,{type:"submit",disabled:u,className:"w-full",children:u?"Sending OTP...":"Send Verification Code"})]})]}),e.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["By registering, you agree to become a member of ",a.societies.name]})]})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(ve,{className:"text-center",children:[e.jsx(ye,{className:"text-destructive",children:"Invalid Invitation"}),e.jsx(Qe,{children:"The invitation link is invalid or has expired."})]}),e.jsx(Q,{className:"text-center",children:e.jsx(H,{onClick:()=>window.location.href="/auth",children:"Go to Login"})})]})})},ai=m.forwardRef(({className:t,...r},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Re("w-full caption-bottom text-sm",t),...r})}));ai.displayName="Table";const oi=m.forwardRef(({className:t,...r},s)=>e.jsx("thead",{ref:s,className:Re("[&_tr]:border-b",t),...r}));oi.displayName="TableHeader";const ii=m.forwardRef(({className:t,...r},s)=>e.jsx("tbody",{ref:s,className:Re("[&_tr:last-child]:border-0",t),...r}));ii.displayName="TableBody";const FF=m.forwardRef(({className:t,...r},s)=>e.jsx("tfoot",{ref:s,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));FF.displayName="TableFooter";const Bs=m.forwardRef(({className:t,...r},s)=>e.jsx("tr",{ref:s,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r}));Bs.displayName="TableRow";const ut=m.forwardRef(({className:t,...r},s)=>e.jsx("th",{ref:s,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));ut.displayName="TableHead";const mt=m.forwardRef(({className:t,...r},s)=>e.jsx("td",{ref:s,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));mt.displayName="TableCell";const LF=m.forwardRef(({className:t,...r},s)=>e.jsx("caption",{ref:s,className:Re("mt-4 text-sm text-muted-foreground",t),...r}));LF.displayName="TableCaption";const $F=()=>{const[t,r]=m.useState({totalUsers:0,totalProperties:0,totalInquiries:0,totalTickets:0,pendingApprovals:0,totalProjects:0,totalBrokers:0,totalDevelopers:0,monthlyRevenue:0}),[s,a]=m.useState([]),[i,l]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState([]),[y,x]=m.useState([]),[g,v]=m.useState({userGrowth:[],propertyViews:[],inquiries:[]}),[j,N]=m.useState(!0),[w,P]=m.useState("all"),[_,C]=m.useState(""),[L,q]=m.useState(null),[A,M]=m.useState(""),{toast:V}=ot();m.useEffect(()=>{k()},[]);const k=async()=>{var D,W,B,U,J,se,ue,ge;try{N(!0);const[oe,de,le,he,fe,we,Oe,Te]=await Promise.all([re.getUsers(),re.getProperties(),re.getInquiries(),re.getSupportTickets(),re.getUsers({status:"pending_verification"}),re.getProjects(),re.getBrokers(),re.getDevelopers()]),pt=((D=oe.data)==null?void 0:D.length)||0,Ot=((W=de.data)==null?void 0:W.length)||0,Yt=((B=le.data)==null?void 0:B.length)||0,or=((U=he.data)==null?void 0:U.length)||0,Bt=((J=fe.data)==null?void 0:J.length)||0,er=((se=we.data)==null?void 0:se.length)||0,ae=((ue=Oe.data)==null?void 0:ue.length)||0,Le=((ge=Te.data)==null?void 0:ge.length)||0,ie=de.data||[],_e=(ie==null?void 0:ie.reduce((We,jt)=>We+(jt.price||0),0))||0;r({totalUsers:pt||0,totalProperties:Ot||0,totalInquiries:Yt||0,totalTickets:or||0,pendingApprovals:Bt||0,totalProjects:er||0,totalBrokers:ae||0,totalDevelopers:Le||0,monthlyRevenue:_e});const{data:Ae}=await re.getUsers();a(Ae||[]);const{data:Ie}=await re.getProperties(),{data:Ze}=await re.getUsers(),ht=(Ze||[]).reduce((We,jt)=>(We[jt.id]=jt.full_name,We),{});l((Ie||[]).map(We=>({...We,owner_name:ht[We.owner_id]||"Unknown Owner"})));const{data:wt}=await re.getProjects();u(wt||[]);const{data:qe}=await re.getDevelopers();f((qe||[]).map(We=>({...We,user_name:ht[We.user_id]||"Unknown User"})));const{data:gt}=await re.getSupportTickets();x((gt||[]).map(We=>({...We,user_name:ht[We.user_id]||"Unknown User"})))}catch(oe){console.error("Error fetching dashboard data:",oe),V({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{N(!1)}},T=async(D,W,B)=>{try{const U=B==="status"?"status":"verification_status",{error:J}=await re.updateUser(D,{[U]:W});if(J)throw J;V({title:"Success",description:`User ${B} updated successfully`}),k()}catch{V({title:"Error",description:`Failed to update user ${B}`,variant:"destructive"})}},z=async(D,W)=>{try{const{error:B}=await re.updateProperty(D,{status:W});if(B)throw B;V({title:"Success",description:"Property status updated successfully"}),k()}catch{V({title:"Error",description:"Failed to update property status",variant:"destructive"})}},E=async D=>{try{const{error:W}=await re.deleteProperty(D);if(W)throw W;V({title:"Success",description:"Property deleted successfully"}),k()}catch{V({title:"Error",description:"Failed to delete property",variant:"destructive"})}},$=async(D,W)=>{try{const{error:B}=await re.updateProject(D,{status:W});if(B)throw B;V({title:"Success",description:"Project status updated successfully"}),k()}catch{V({title:"Error",description:"Failed to update project status",variant:"destructive"})}},R=async(D,W,B)=>{try{console.log(`Updating developer ${D} ${B} to ${W}`);const U=B==="status"?"status":"verification_status",{error:J}=await re.updateDeveloper(D,{[U]:W});if(J)throw console.error("Database update error:",J),J;console.log(`Successfully updated developer ${B}`),V({title:"Success",description:`Developer ${B} updated successfully`}),k()}catch(U){console.error("Error updating developer status:",U),V({title:"Error",description:`Failed to update developer ${B}`,variant:"destructive"})}},X=async(D,W)=>{try{const{error:B}=await re.updateSupportTicket(D,{status:W});if(B)throw B;V({title:"Success",description:"Ticket status updated successfully"}),k(),q(null)}catch{V({title:"Error",description:"Failed to update ticket status",variant:"destructive"})}},Y=s.filter(D=>{var U;const W=w==="all"||D.role===w,B=(U=D.full_name)==null?void 0:U.toLowerCase().includes(_.toLowerCase());return W&&B}),O=D=>{switch(D){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=D=>{switch(D){case"verified":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return j?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your MilkatPost platform"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{asChild:!0,variant:"outline",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"List Property"]})}),e.jsxs(H,{onClick:k,children:[e.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),e.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers})]})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xr,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Properties"}),e.jsx("div",{className:"text-2xl font-bold",children:t.totalProperties})]})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($t,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Projects"}),e.jsx("div",{className:"text-2xl font-bold",children:t.totalProjects})]})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fl,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"}),e.jsxs("div",{className:"text-2xl font-bold",children:["",(t.monthlyRevenue/1e5).toFixed(1),"L"]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Inquiries"}),e.jsx("div",{className:"text-lg font-semibold",children:t.totalInquiries})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Support Tickets"}),e.jsx("div",{className:"text-lg font-semibold",children:t.totalTickets})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approvals"}),e.jsx("div",{className:"text-lg font-semibold text-orange-600",children:t.pendingApprovals})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Brokers"}),e.jsx("div",{className:"text-lg font-semibold",children:t.totalBrokers})]})})})]}),e.jsxs(hs,{defaultValue:"users",className:"space-y-4",children:[e.jsxs(ss,{className:"grid w-full grid-cols-6",children:[e.jsx(Ge,{value:"users",children:"Users"}),e.jsx(Ge,{value:"properties",children:"Properties"}),e.jsx(Ge,{value:"projects",children:"Projects"}),e.jsx(Ge,{value:"developers",children:"Developers"}),e.jsx(Ge,{value:"support",children:"Support"}),e.jsx(Ge,{value:"analytics",children:"Analytics"})]}),e.jsx(st,{value:"users",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"User Management"}),e.jsx(Qe,{children:"Manage user accounts, roles, and verification status"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx(Se,{placeholder:"Search users...",value:_,onChange:D=>C(D.target.value),className:"max-w-sm"}),e.jsxs(Xe,{value:w,onValueChange:P,children:[e.jsx(Ye,{className:"w-48",children:e.jsx(Je,{placeholder:"Filter by role"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Roles"}),e.jsx(te,{value:"buyer",children:"Buyers"}),e.jsx(te,{value:"seller",children:"Sellers"}),e.jsx(te,{value:"broker",children:"Brokers"}),e.jsx(te,{value:"developer",children:"Developers"}),e.jsx(te,{value:"admin",children:"Admins"})]})]})]}),e.jsx("div",{className:"space-y-4",children:Y.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium",children:D.full_name||"No Name"}),e.jsx(xe,{variant:"outline",className:"capitalize",children:D.role})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(xe,{className:O(D.status),children:D.status}),e.jsx(xe,{className:I(D.verification_status),children:D.verification_status})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Joined: ",new Date(D.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[D.status==="active"?e.jsx(H,{variant:"outline",size:"sm",onClick:()=>T(D.id,"suspended","status"),children:e.jsx(qE,{className:"w-4 h-4"})}):e.jsx(H,{variant:"outline",size:"sm",onClick:()=>T(D.id,"active","status"),children:e.jsx(zE,{className:"w-4 h-4"})}),D.verification_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",onClick:()=>T(D.id,"verified","verification"),children:"Approve"}),e.jsx(H,{variant:"destructive",size:"sm",onClick:()=>T(D.id,"rejected","verification"),children:"Reject"})]}),e.jsx(H,{variant:"ghost",size:"sm",children:e.jsx(Br,{className:"w-4 h-4"})})]})]},D.id))})]})]})}),e.jsx(st,{value:"properties",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Property Management"}),e.jsx(Qe,{children:"Manage all property listings on the platform"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Se,{placeholder:"Search properties...",value:_,onChange:D=>C(D.target.value),className:"max-w-sm"}),e.jsxs(Xe,{defaultValue:"all",children:[e.jsx(Ye,{className:"w-48",children:e.jsx(Je,{placeholder:"Filter by status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Properties"}),e.jsx(te,{value:"available",children:"Available"}),e.jsx(te,{value:"pending",children:"Pending"}),e.jsx(te,{value:"sold",children:"Sold"}),e.jsx(te,{value:"rented",children:"Rented"}),e.jsx(te,{value:"suspended",children:"Suspended"})]})]})]}),e.jsxs(ai,{children:[e.jsx(oi,{children:e.jsxs(Bs,{children:[e.jsx(ut,{children:"Title"}),e.jsx(ut,{children:"Owner"}),e.jsx(ut,{children:"Type"}),e.jsx(ut,{children:"Price"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Location"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(ii,{children:i.filter(D=>D.title.toLowerCase().includes(_.toLowerCase())).map(D=>{var W;return e.jsxs(Bs,{children:[e.jsx(mt,{className:"font-medium",children:D.title}),e.jsx(mt,{children:D.owner_name}),e.jsx(mt,{className:"capitalize",children:D.property_type}),e.jsxs(mt,{children:["",(W=D.price)==null?void 0:W.toLocaleString()]}),e.jsx(mt,{children:e.jsx(xe,{variant:D.status==="available"?"default":D.status==="suspended"?"destructive":D.status==="pending"?"outline":"secondary",children:D.status})}),e.jsx(mt,{children:D.location}),e.jsx(mt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/property/${D.id}`,"_blank"),children:e.jsx(Br,{className:"w-4 h-4"})}),D.status==="pending"?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(H,{size:"sm",onClick:()=>z(D.id,"available"),children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Approve"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>z(D.id,"suspended"),children:[e.jsx(Ks,{className:"w-3 h-3 mr-1"}),"Reject"]})]}):e.jsxs(Xe,{onValueChange:B=>z(D.id,B),children:[e.jsx(Ye,{className:"w-24",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"available",children:"Available"}),e.jsx(te,{value:"sold",children:"Sold"}),e.jsx(te,{value:"rented",children:"Rented"}),e.jsx(te,{value:"suspended",children:"Suspend"})]})]}),e.jsx(H,{size:"sm",variant:"destructive",onClick:()=>E(D.id),children:e.jsx(Gs,{className:"w-4 h-4"})})]})})]},D.id)})})]})]})})]})}),e.jsx(st,{value:"projects",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Project Management"}),e.jsx(Qe,{children:"Manage all development projects"})]}),e.jsx(Q,{children:e.jsxs(ai,{children:[e.jsx(oi,{children:e.jsxs(Bs,{children:[e.jsx(ut,{children:"Project Name"}),e.jsx(ut,{children:"Builder"}),e.jsx(ut,{children:"Location"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Units"}),e.jsx(ut,{children:"Available"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(ii,{children:d.map(D=>e.jsxs(Bs,{children:[e.jsx(mt,{className:"font-medium",children:D.name}),e.jsx(mt,{children:D.builder}),e.jsx(mt,{children:D.location}),e.jsx(mt,{children:e.jsx(xe,{variant:D.status==="completed"?"default":"secondary",children:D.status})}),e.jsx(mt,{children:D.total_units}),e.jsx(mt,{children:D.available_units}),e.jsx(mt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/project/${D.id}`,"_blank"),children:e.jsx(Br,{className:"w-4 h-4"})}),D.status==="pending"?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(H,{size:"sm",onClick:()=>$(D.id,"ongoing"),children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Approve"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>$(D.id,"suspended"),children:[e.jsx(Ks,{className:"w-3 h-3 mr-1"}),"Reject"]})]}):e.jsxs(Xe,{onValueChange:W=>$(D.id,W),children:[e.jsx(Ye,{className:"w-28",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"ongoing",children:"Ongoing"}),e.jsx(te,{value:"completed",children:"Completed"}),e.jsx(te,{value:"suspended",children:"Suspend"})]})]}),e.jsx(H,{size:"sm",variant:"outline",children:e.jsx(Gl,{className:"w-4 h-4"})})]})})]},D.id))})]})})]})}),e.jsx(st,{value:"developers",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Developer Management"}),e.jsx(Qe,{children:"Manage developer accounts and verification status"})]}),e.jsx(Q,{children:e.jsxs(ai,{children:[e.jsx(oi,{children:e.jsxs(Bs,{children:[e.jsx(ut,{children:"Company Name"}),e.jsx(ut,{children:"Contact Person"}),e.jsx(ut,{children:"Established"}),e.jsx(ut,{children:"Website"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Verification"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(ii,{children:h.map(D=>e.jsxs(Bs,{children:[e.jsx(mt,{className:"font-medium",children:D.company_name}),e.jsx(mt,{children:D.user_name}),e.jsx(mt,{children:D.established_year||"N/A"}),e.jsx(mt,{children:D.website?e.jsx("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Site"}):"N/A"}),e.jsx(mt,{children:e.jsx(xe,{className:O(D.status),children:D.status})}),e.jsx(mt,{children:e.jsx(xe,{className:I(D.verification_status),children:D.verification_status})}),e.jsx(mt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/developer/${D.id}`,"_blank"),children:e.jsx(Br,{className:"w-4 h-4"})}),D.verification_status==="pending"?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(H,{size:"sm",onClick:()=>R(D.id,"verified","verification"),children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Approve"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>R(D.id,"rejected","verification"),children:[e.jsx(Ks,{className:"w-3 h-3 mr-1"}),"Reject"]})]}):e.jsxs(Xe,{onValueChange:W=>R(D.id,W,"verification"),children:[e.jsx(Ye,{className:"w-28",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"verified",children:"Verified"}),e.jsx(te,{value:"pending",children:"Pending"}),e.jsx(te,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(Xe,{onValueChange:W=>R(D.id,W,"status"),children:[e.jsx(Ye,{className:"w-24",children:e.jsx(Je,{placeholder:"Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"active",children:"Active"}),e.jsx(te,{value:"inactive",children:"Inactive"})]})]})]})})]},D.id))})]})})]})}),e.jsx(st,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(G,{children:[e.jsx(ve,{className:"pb-3",children:e.jsx(ye,{className:"text-base",children:"Active Users (Last 30 Days)"})}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),e.jsxs(G,{children:[e.jsx(ve,{className:"pb-3",children:e.jsx(ye,{className:"text-base",children:"Property Views"})}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"12.4K"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),e.jsxs(G,{children:[e.jsx(ve,{className:"pb-3",children:e.jsx(ye,{className:"text-base",children:"Conversion Rate"})}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"3.2%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"-0.1% from last month"})]})]})]}),e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Revenue Analytics"}),e.jsx(Qe,{children:"Platform revenue insights and trends"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",(t.monthlyRevenue/1e5).toFixed(1),"L"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(t.monthlyRevenue*.85/1e5).toFixed(1),"L"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Month"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"+18%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Growth Rate"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(t.monthlyRevenue*12/1e5).toFixed(1),"L"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Projected Annual"})]})]}),e.jsx("div",{className:"text-center text-muted-foreground",children:"Revenue analytics chart would be displayed here"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"User Distribution"})}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Buyers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-3/4 h-full bg-blue-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"75%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Sellers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-1/2 h-full bg-green-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"50%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Brokers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-1/4 h-full bg-orange-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"25%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Developers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-muted rounded",children:e.jsx("div",{className:"w-1/5 h-full bg-purple-500 rounded"})}),e.jsx("span",{className:"text-sm",children:"20%"})]})]})]})})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Top Performance"})}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Most Viewed Property Type"}),e.jsx("span",{className:"font-medium",children:"Apartments"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Top Location"}),e.jsx("span",{className:"font-medium",children:"Mumbai"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average Property Price"}),e.jsx("span",{className:"font-medium",children:"85L"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Properties Listed Today"}),e.jsx("span",{className:"font-medium text-green-600",children:"+24"})]})})]})})]})]}),e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Data Export"}),e.jsx(Qe,{children:"Export platform data for analysis"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(H,{variant:"outline",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Export Users"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Export Properties"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Export Analytics"]})]})})]})]})}),e.jsx(st,{value:"support",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Support Tickets"}),e.jsx(Qe,{children:"Manage customer support tickets and inquiries"})]}),e.jsx(Q,{children:e.jsxs(ai,{children:[e.jsx(oi,{children:e.jsxs(Bs,{children:[e.jsx(ut,{children:"Subject"}),e.jsx(ut,{children:"User"}),e.jsx(ut,{children:"Category"}),e.jsx(ut,{children:"Priority"}),e.jsx(ut,{children:"Status"}),e.jsx(ut,{children:"Created"}),e.jsx(ut,{children:"Actions"})]})}),e.jsx(ii,{children:y.map(D=>e.jsxs(Bs,{children:[e.jsx(mt,{className:"font-medium",children:D.subject}),e.jsx(mt,{children:D.user_name}),e.jsx(mt,{className:"capitalize",children:D.category}),e.jsx(mt,{children:e.jsx(xe,{variant:D.priority==="high"?"destructive":D.priority==="medium"?"default":"secondary",children:D.priority})}),e.jsx(mt,{children:e.jsx(xe,{variant:D.status==="open"?"destructive":D.status==="in_progress"?"default":"secondary",children:D.status.replace("_"," ")})}),e.jsx(mt,{children:new Date(D.created_at).toLocaleDateString()}),e.jsx(mt,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs(Oa,{children:[e.jsx(Bl,{asChild:!0,children:e.jsx(H,{size:"sm",variant:"outline",onClick:()=>q(D),children:e.jsx(Br,{className:"w-4 h-4"})})}),e.jsxs(zn,{className:"max-w-2xl",children:[e.jsx(qn,{children:e.jsx(Wn,{children:D.subject})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"User"}),e.jsx("p",{className:"font-medium",children:D.user_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),e.jsx("p",{className:"font-medium capitalize",children:D.category})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:D.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Reply"}),e.jsx(Zt,{placeholder:"Type your response...",value:A,onChange:W=>M(W.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:()=>X(D.id,"resolved"),className:"flex-1",children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Resolve"]}),e.jsxs(H,{variant:"outline",onClick:()=>X(D.id,"in_progress"),children:[e.jsx(Ht,{className:"w-4 h-4 mr-2"}),"In Progress"]}),e.jsxs(H,{variant:"outline",children:[e.jsx($l,{className:"w-4 h-4 mr-2"}),"Reply"]})]})]})]})]})})})]},D.id))})]})})]})})]})]})})},Cs=()=>{const t=dr(),{signOut:r,user:s}=It(),{profile:a}=Wa(),{toast:i}=ot(),l=async()=>{try{localStorage.removeItem("selectedRole");const{error:u}=await r();u?i({title:"Error",description:"Failed to sign out",variant:"error"}):(t("/"),i({title:"Signed out",description:"You have been successfully signed out",variant:"success"}))}catch{i({title:"Error",description:"Something went wrong",variant:"error"})}},d=u=>{switch(u){case"admin":return"bg-red-100 text-red-800";case"buyer_seller":return"bg-blue-100 text-blue-800";case"broker":return"bg-purple-100 text-purple-800";case"developer":return"bg-orange-100 text-orange-800";case"society_owner":return"bg-teal-100 text-teal-800";case"society_member":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("nav",{className:"bg-white border-b border-border sticky top-0 z-50 shadow-soft",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0",children:[e.jsxs(He,{to:"/",className:"text-lg sm:text-xl font-bold text-estate-blue shrink-0",children:["Milkat",e.jsx("span",{className:"text-accent",children:"Post"})]}),e.jsx(H,{asChild:!0,variant:"ghost",size:"sm",className:"hidden sm:flex",children:e.jsxs(He,{to:"/",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Home"]})})]}),e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 shrink-0",children:a&&a.role&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:`${d(a.role)} text-xs sm:text-sm hidden sm:inline-flex`,children:a.role.replace("_"," ").replace(/\b\w/g,u=>u.toUpperCase())}),e.jsxs(kN,{children:[e.jsx(CN,{asChild:!0,children:e.jsxs(H,{variant:"ghost",className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3",children:[e.jsx(nr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline max-w-[100px] lg:max-w-[150px] truncate",children:a.fullName||"User"}),e.jsx(Fi,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})}),e.jsxs(lx,{align:"end",className:"w-56",children:[e.jsx(ui,{asChild:!0,children:e.jsxs(He,{to:"/profile",className:"flex items-center",children:[e.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Profile Settings"]})}),e.jsxs(ui,{className:"text-red-600 focus:text-red-600 cursor-pointer",onClick:l,children:[e.jsx(wj,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})})]})})})},VF=({inquiry:t,isOpen:r,onClose:s,onResponseSent:a})=>{var N,w,P,_,C,L,q,A,M,V;const[i,l]=m.useState(""),[d,u]=m.useState(!1),[h,f]=m.useState((t==null?void 0:t.status)||"pending"),{toast:y}=ot(),x=async k=>{if(k.preventDefault(),!i.trim()){y({title:"Response Required",description:"Please enter a response message",variant:"destructive"});return}u(!0);try{const T=await re.respondToInquiry(t._id,i);if(T.error)throw new Error(T.error);y({title:"Response Sent Successfully",description:"Your response has been sent to the buyer"}),a(),s(),l("")}catch(T){console.error("Error sending response:",T),y({title:"Error",description:(T==null?void 0:T.message)||"Failed to send response. Please try again.",variant:"destructive"})}finally{u(!1)}},g=async k=>{try{const T=await re.updateInquiryStatus(t._id,k);if(T.error)throw new Error(T.error);f(k),y({title:"Status Updated",description:`Inquiry marked as ${k}`}),a()}catch(T){console.error("Error updating status:",T),y({title:"Error",description:(T==null?void 0:T.message)||"Failed to update status",variant:"destructive"})}},v=k=>{switch(k){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"responded":return"bg-blue-100 text-blue-800 border-blue-200";case"closed":return"bg-green-100 text-green-800 border-green-200";case"spam":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=k=>{switch(k){case"pending":return e.jsx(Ht,{className:"h-4 w-4"});case"responded":return e.jsx(bt,{className:"h-4 w-4"});case"closed":return e.jsx(Ks,{className:"h-4 w-4"});case"spam":return e.jsx(Gt,{className:"h-4 w-4"});default:return e.jsx(Ht,{className:"h-4 w-4"})}};return!r||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($t,{className:"h-6 w-6 text-blue-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Inquiry Response"})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"h-5 w-5"}),"Buyer Information"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx(nr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:((N=t.inquirer)==null?void 0:N.phone)||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Buyer"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-full",children:e.jsx(Pr,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:((w=t.inquirer)==null?void 0:w.phone)||"Not provided"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Contact Number"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-full",children:e.jsx(mr,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:((P=t.inquirer)==null?void 0:P.email)||"Not provided"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Address"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-full",children:e.jsx($t,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 capitalize",children:t.contactPreference||"phone"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preferred Contact"})]})]})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"Property Details"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:((_=t.property)==null?void 0:_.title)||"Property"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx(Mt,{className:"h-4 w-4"}),((L=(C=t.property)==null?void 0:C.location)==null?void 0:L.city)||((A=(q=t.property)==null?void 0:q.location)==null?void 0:A.address)||"Location not specified"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Yn,{className:"h-4 w-4"}),"",((V=(M=t.property)==null?void 0:M.price)==null?void 0:V.toLocaleString())||"Price not specified"]})]})})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-5 w-5"}),"Inquiry Details"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Subject"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 mt-1",children:t.subject})]}),e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Message"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 mt-1 whitespace-pre-wrap",children:t.message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),"Status Management"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(xe,{className:v(h),children:[j(h),e.jsx("span",{className:"ml-1 capitalize",children:h})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:()=>g("responded"),disabled:h==="responded",children:"Mark as Responded"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>g("closed"),disabled:h==="closed",children:"Mark as Closed"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>g("pending"),disabled:h==="pending",children:"Mark as Pending"}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>g("spam"),disabled:h==="spam",className:"text-red-600 hover:text-red-700",children:"Mark as Spam"})]})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Un,{className:"h-5 w-5"}),"Send Response"]})}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"response",children:"Your Response *"}),e.jsx(Zt,{id:"response",placeholder:"Type your response to the buyer here...",value:i,onChange:k=>l(k.target.value),rows:6,required:!0,className:"mt-1"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length,"/2000 characters"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{type:"submit",disabled:d||!i.trim(),className:"flex-1",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Un,{className:"h-4 w-4 mr-2"}),"Send Response"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:s,disabled:d,children:"Cancel"})]})]})})]}),t.response&&e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5 text-green-500"}),"Previous Response"]})}),e.jsx(Q,{children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap mb-3",children:t.response.message}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Sent on ",new Date(t.response.respondedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})})]})]})]})]})})})},zl=({inquiries:t,onRefresh:r,type:s})=>{const[a,i]=m.useState(null),[l,d]=m.useState(!1);ot();const u=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"responded":return"bg-blue-100 text-blue-800 border-blue-200";case"closed":return"bg-green-100 text-green-800 border-green-200";case"spam":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=v=>{switch(v){case"pending":return e.jsx(Ht,{className:"h-4 w-4"});case"responded":return e.jsx(bt,{className:"h-4 w-4"});case"closed":return e.jsx(Ks,{className:"h-4 w-4"});case"spam":return e.jsx(Gt,{className:"h-4 w-4"});default:return e.jsx(Ht,{className:"h-4 w-4"})}},f=v=>{i(v),d(!0)},y=()=>{r()},x=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=(v,j=100)=>v.length<=j?v:v.substring(0,j)+"...";return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-800 w-fit mx-auto mb-4",children:e.jsx($t,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No inquiries yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:s==="received"?"Inquiries from potential buyers about your properties will appear here.":"Your inquiries to property owners will appear here."})]}):e.jsxs("div",{className:"space-y-4",children:[t.map(v=>{var j,N,w,P,_,C,L,q;return e.jsx(G,{className:"hover:shadow-md transition-shadow",children:e.jsxs(Q,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-800 dark:text-gray-100 mb-1",children:v.subject}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:g(v.message)})]}),e.jsxs(xe,{className:u(v.status),children:[h(v.status),e.jsx("span",{className:"ml-1 capitalize",children:v.status})]})]}),v.property&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:v.property.title})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Mt,{className:"h-4 w-4"}),e.jsx("span",{children:((j=v.property.location)==null?void 0:j.city)||((N=v.property.location)==null?void 0:N.address)||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Yn,{className:"h-4 w-4"}),e.jsxs("span",{children:["",(w=v.property.price)==null?void 0:w.toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:s==="received"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx("span",{children:((P=v.inquirer)==null?void 0:P.phone)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pr,{className:"h-4 w-4"}),e.jsx("span",{children:((_=v.inquirer)==null?void 0:_.phone)||"Not provided"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:((C=v.inquirer)==null?void 0:C.email)||"Not provided"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx("span",{children:((L=v.propertyOwner)==null?void 0:L.phone)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pr,{className:"h-4 w-4"}),e.jsx("span",{children:((q=v.propertyOwner)==null?void 0:q.phone)||"Not provided"})]})]})}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:x(v.createdAt)}),v.response&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Responded ",x(v.response.respondedAt)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>f(v),className:"flex items-center gap-2",children:[e.jsx(Br,{className:"h-4 w-4"}),"View Details"]}),s==="received"&&v.status!=="closed"&&e.jsxs(H,{variant:"default",size:"sm",onClick:()=>f(v),className:"flex items-center gap-2",children:[e.jsx($l,{className:"h-4 w-4"}),v.response?"Reply":"Respond"]})]})]}),v.response&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Your Response"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:g(v.response.message,150)})]})})]})},v._id)}),e.jsx(VF,{inquiry:a,isOpen:l,onClose:()=>{d(!1),i(null)},onResponseSent:y})]})},BF=({userId:t,onInquiryUpdate:r})=>{const[s,a]=m.useState([]),[i,l]=m.useState(!1),{toast:d}=ot();m.useEffect(()=>{const f=async()=>{var x;try{const g=await re.getMyInquiries();if(!g.error&&((x=g.data)!=null&&x.inquiries)){const v=g.data.inquiries.filter(j=>j.status==="responded"&&j.response&&!j.notificationShown);v.length>0&&(a(v),l(!0),d({title:"New Response Received!",description:`You have ${v.length} new response${v.length>1?"s":""} to your inquiries.`}))}}catch(g){console.error("Error checking for responses:",g)}};f();const y=setInterval(f,3e4);return()=>clearInterval(y)},[t,d]);const u=()=>{l(!1),a([])},h=f=>{a(y=>y.filter(x=>x._id!==f._id)),s.length===1&&l(!1),r==null||r()};return!i||s.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md w-full",children:e.jsx(G,{className:"shadow-lg border-l-4 border-l-blue-500",children:e.jsxs(Q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx(Ra,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["New Response",s.length>1?"s":""]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.length," new response",s.length>1?"s":""," to your inquiries"]})]})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:u,className:"text-gray-500 hover:text-gray-700",children:e.jsx(Et,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[s.slice(0,3).map(f=>{var y,x;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>h(f),children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:((y=f.property)==null?void 0:y.title)||"Property Inquiry"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Response from ",((x=f.propertyOwner)==null?void 0:x.phone)||"Property Owner"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"Responded"]})})]},f._id)}),s.length>3&&e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",s.length-3," more response",s.length-3>1?"s":""]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(H,{size:"sm",className:"flex-1",onClick:()=>{u(),r==null||r()},children:"View All"}),e.jsx(H,{size:"sm",variant:"outline",onClick:u,children:"Dismiss"})]})]})})})},UF=()=>{const[t,r]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(!1),[d,u]=m.useState(null),{toast:h}=ot(),{profile:f}=It();m.useEffect(()=>{(f!=null&&f.id||f!=null&&f.user)&&y()},[f==null?void 0:f.id,f==null?void 0:f.user]);const y=async(v=!1)=>{var N;const j=(f==null?void 0:f.id)||(f==null?void 0:f.user);if(!j){a(!1);return}try{v?l(!0):a(!0),u(null);const w=await re.getSavedProjects(j);if(w.error)throw new Error(w.error);const _=(((N=w.data)==null?void 0:N.projects)||[]).map(C=>{var L;return{id:C._id||C.id,name:C.name,location:C.location?`${C.location.address||""}, ${C.location.city||""}, ${C.location.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Location not specified",price_range:C.priceRange?`${C.priceRange.min}${C.priceRange.unit==="lakh"?"L":C.priceRange.unit==="crore"?"Cr":""} - ${C.priceRange.max}${C.priceRange.unit==="lakh"?"L":C.priceRange.unit==="crore"?"Cr":""}`:"Price on request",completion_date:C.completionDate,images:((L=C.images)==null?void 0:L.map(q=>q?typeof q=="string"?q:(q==null?void 0:q.url)||null:null).filter(q=>q!==null&&q!==""))||[],status:C.status==="under_construction"?"ongoing":C.status==="ready_to_move"?"completed":C.status==="planning"?"planned":C.status,project_type:C.projectType||"residential",total_units:C.totalUnits,available_units:C.availableUnits}});r(_)}catch(w){console.error("Error fetching saved projects:",w);const P=(w==null?void 0:w.message)||"Failed to load saved projects";u(P),h({title:"Error",description:P,variant:"destructive"}),r([])}finally{a(!1),l(!1)}},x=(v,j)=>{j||(r(N=>N.filter(w=>w.id!==v)),h({title:"Project Removed",description:"Project removed from your saved list"}))},g=()=>{y(!0)};return s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Saved Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Projects you've saved for later"})]})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading saved projects..."})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Saved Projects"}),e.jsx("p",{className:"text-muted-foreground",children:"Projects you've saved for later"})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:g,disabled:i,className:"flex items-center gap-2",children:[e.jsx(La,{className:`h-4 w-4 ${i?"animate-spin":""}`}),i?"Refreshing...":"Refresh"]})]}),d?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(Zf,{className:"h-16 w-16 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Error Loading Saved Projects"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:d})]}),e.jsxs(H,{onClick:g,disabled:i,children:[e.jsx(La,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Try Again"]})]}):t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Zf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No saved projects yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start exploring projects and save the ones you like to view them here later."}),e.jsx(H,{asChild:!0,children:e.jsx("a",{href:"/projects",children:"Browse Projects"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(v=>e.jsx(Qu,{id:v.id,name:v.name,location:v.location,price_range:v.price_range,completion_date:v.completion_date,images:v.images||[],status:v.status,total_units:v.total_units,available_units:v.available_units,project_type:v.project_type,showSaveButton:!0,isSaved:!0,onSaveToggle:x},v.id))})]})},zF=()=>{const[t,r]=m.useState([]),[s,a]=m.useState([]),[i,l]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState([]),[y,x]=m.useState(!0),[g,v]=m.useState(!1),{user:j,profile:N}=It(),{toast:w}=ot();m.useEffect(()=>{j&&P()},[j]);const P=async()=>{var A,M,V,k,T;try{x(!0),console.log(" Fetching buyer-seller dashboard data...");const[z,E,$,R,X]=await Promise.allSettled([re.getLikes(),j!=null&&j.id?re.getSavedProjects(j.id):Promise.resolve({error:!0,data:[]}),j!=null&&j.id?re.getProperties({owner_id:j.id}):Promise.resolve({error:!0,data:[]}),re.getMyInquiries().catch(()=>({error:!0,data:[]})),re.getMyPropertyInquiries().catch(()=>({error:!0,data:[]}))]);if(z.status==="fulfilled"&&!z.value.error){const Y=((A=z.value.data)==null?void 0:A.likes)||[];console.log(" Saved properties loaded:",Y.length),r(Y)}else console.log(" Failed to load saved properties"),r([]);if(E.status==="fulfilled"&&!E.value.error){const Y=((M=E.value.data)==null?void 0:M.projects)||[];console.log(" Saved projects loaded:",Y.length),a(Y)}else console.log(" Failed to load saved projects"),a([]);if($.status==="fulfilled"&&!$.value.error){const Y=((V=$.value.data)==null?void 0:V.properties)||$.value.data||[];console.log(" My properties loaded:",Y.length),l(Y)}else console.log(" Failed to load my properties"),l([]);if(R.status==="fulfilled"&&!R.value.error){const Y=((k=R.value.data)==null?void 0:k.inquiries)||[];console.log(" My inquiries loaded:",Y.length),u(Y)}else console.log(" My inquiries not available"),u([]);if(X.status==="fulfilled"&&!X.value.error){const Y=((T=X.value.data)==null?void 0:T.inquiries)||[];console.log(" Property inquiries loaded:",Y.length),f(Y)}else console.log(" Property inquiries not available"),f([])}catch(z){console.error(" Dashboard fetch error:",z),w({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"}),r([]),l([]),u([]),f([])}finally{x(!1)}},_=async()=>{v(!0),await P(),v(!1),w({title:"Success",description:"Dashboard data refreshed successfully!"})},C=async A=>{try{const{error:M}=await re.unlikeProperty(A);if(M)throw M;w({title:"Success",description:"Property removed from saved list"}),r(V=>Array.isArray(V)?V.filter(k=>k.property._id!==A):[])}catch(M){console.error("Error removing saved property:",M),w({title:"Error",description:"Failed to remove property",variant:"destructive"})}},L=async A=>{if(window.confirm("Are you sure you want to delete this property? This action cannot be undone."))try{const{error:M}=await re.deleteProperty(A);if(M)throw M;l(V=>Array.isArray(V)?V.filter(k=>k._id!==A):[]),w({title:"Success",description:"Property deleted successfully"})}catch(M){console.error("Error deleting property:",M),w({title:"Error",description:"Failed to delete property",variant:"destructive"})}},q=A=>{switch(A){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return y?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(Cs,{}),e.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your property dashboard..."})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(Cs,{}),(j==null?void 0:j.id)&&e.jsx(BF,{userId:j.id,onInquiryUpdate:P}),e.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 dark:from-blue-900/10 dark:to-purple-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx("div",{className:"relative p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-gray-800 to-blue-600 dark:from-white dark:to-blue-400 bg-clip-text text-transparent",children:["Welcome back, ",(N==null?void 0:N.fullName)||"Property Owner"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Manage your properties, track inquiries, and discover new opportunities"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[e.jsx(H,{asChild:!0,variant:"outline",className:"w-full sm:w-auto bg-white/80 backdrop-blur-sm border-gray-300 hover:bg-white hover:border-blue-400 transition-all duration-200",children:e.jsxs(He,{to:"/properties",children:[e.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Browse Properties"]})}),e.jsx(H,{asChild:!0,className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"List New Property"]})}),e.jsxs(H,{variant:"outline",size:"sm",onClick:_,disabled:g,className:"w-full sm:w-auto",children:[e.jsx(La,{className:`w-4 h-4 mr-2 ${g?"animate-spin":""}`}),"Refresh"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-red-50 dark:from-gray-800 dark:to-red-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 dark:from-red-900/10 dark:to-pink-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Saved Properties"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:t.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Properties you love"})]}),e.jsx("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-900/30",children:e.jsx(mo,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-orange-50 dark:from-gray-800 dark:to-orange-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-yellow-500/5 dark:from-orange-900/10 dark:to-yellow-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Saved Projects"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:s.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Projects you saved"})]}),e.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/30",children:e.jsx(yt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 dark:from-blue-900/10 dark:to-cyan-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"My Properties"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:i.length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total listings"})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(_t,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-indigo-500/5 dark:from-purple-900/10 dark:to-indigo-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"relative p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"New Queries"}),e.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:h.filter(A=>A.status==="pending").length}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Awaiting response"})]}),e.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx($t,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]})]}),e.jsxs(hs,{defaultValue:"saved",className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ss,{className:"relative grid w-full grid-cols-5 bg-transparent p-2 h-auto",children:[e.jsxs(Ge,{value:"saved",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(mo,{className:"w-4 h-4 mr-2"}),"Saved Properties"]}),e.jsxs(Ge,{value:"saved-projects",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(yt,{className:"w-4 h-4 mr-2"}),"Saved Projects"]}),e.jsxs(Ge,{value:"my-properties",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"My Properties"]}),e.jsxs(Ge,{value:"my-inquiries",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"My Inquiries"]}),e.jsxs(Ge,{value:"property-inquiries",className:"relative px-4 py-3 text-sm font-medium transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-blue-400 rounded-lg",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Property Inquiries"]})]})]}),e.jsx(st,{value:"saved",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-red-50 dark:from-gray-800 dark:to-red-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 dark:from-red-900/10 dark:to-pink-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(mo,{className:"h-6 w-6 text-red-500"}),"Saved Properties"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Properties you've saved for later viewing"})]}),e.jsxs(xe,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[t.length," saved"]})]})}),e.jsx(Q,{className:"relative p-6",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-red-100 dark:bg-red-900/30 w-fit mx-auto mb-4",children:e.jsx(mo,{className:"h-12 w-12 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No saved properties yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Start browsing properties and save the ones you like! Your saved properties will appear here."}),e.jsx(H,{asChild:!0,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600",children:e.jsxs(He,{to:"/properties",children:[e.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Browse Properties"]})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(A=>{var V,k;const M=A.property;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700",children:(k=(V=M.images)==null?void 0:V[0])!=null&&k.url?e.jsx("img",{src:M.images[0].url,alt:M.title,className:"w-full h-full object-cover",onError:T=>{T.currentTarget.src="/placeholder.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(_t,{className:"h-12 w-12 text-gray-400"})})}),e.jsx(Q,{className:"relative p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1 text-gray-800 dark:text-gray-100",children:M.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"line-clamp-1",children:[M.location.address,", ",M.location.city]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-blue-600 dark:text-blue-400",children:[e.jsx(Yn,{className:"w-4 h-4"}),e.jsx("span",{children:M.price.toLocaleString()})]}),e.jsx(xe,{variant:"outline",className:"capitalize",children:M.propertyType})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{asChild:!0,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:e.jsxs(He,{to:`/property/${M._id}`,children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),"View Details"]})}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>C(M._id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Gs,{className:"w-4 h-4"})})]})]})})]},A._id)})})})]})}),e.jsx(st,{value:"saved-projects",className:"space-y-6",children:e.jsx(UF,{})}),e.jsx(st,{value:"my-properties",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 dark:from-blue-900/10 dark:to-cyan-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(_t,{className:"h-6 w-6 text-blue-500"}),"My Properties"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your property listings and track their performance"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(xe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[i.length," total"]}),e.jsx(H,{asChild:!0,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"Add Property"]})})]})]})}),e.jsx(Q,{className:"relative p-6",children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 rounded-full bg-blue-100 dark:bg-blue-900/30 w-fit mx-auto mb-4",children:e.jsx(_t,{className:"h-12 w-12 text-blue-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No properties listed yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Start by listing your first property! You can manage all your listings from this dashboard."}),e.jsx(H,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"List Your First Property"]})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(A=>{var M,V;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700",children:[(V=(M=A.images)==null?void 0:M[0])!=null&&V.url?e.jsx("img",{src:A.images[0].url,alt:A.title,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.src="/placeholder.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(_t,{className:"h-12 w-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(xe,{className:q(A.status),children:A.status})})]}),e.jsx(Q,{className:"relative p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1 text-gray-800 dark:text-gray-100",children:A.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"line-clamp-1",children:[A.location.address,", ",A.location.city]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-blue-600 dark:text-blue-400",children:[e.jsx(Yn,{className:"w-4 h-4"}),e.jsx("span",{children:A.price.toLocaleString()})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[A.area," sq ft"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(xe,{variant:"outline",className:"capitalize text-xs",children:A.propertyType}),e.jsxs(xe,{variant:"outline",className:"capitalize text-xs",children:["For ",A.listingType]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1",children:e.jsxs(He,{to:`/property/${A._id}`,children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),"View"]})}),e.jsx(H,{asChild:!0,size:"sm",variant:"outline",children:e.jsx(He,{to:`/edit-property/${A._id}`,children:e.jsx(Gl,{className:"w-4 h-4"})})}),e.jsx(H,{size:"sm",variant:"outline",onClick:()=>L(A._id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Gs,{className:"w-4 h-4"})})]})]})})]},A._id)})})})]})}),e.jsx(st,{value:"my-inquiries",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-green-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 dark:from-green-900/10 dark:to-emerald-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx($t,{className:"h-6 w-6 text-green-500"}),"My Inquiries"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Track inquiries you've made to property owners and their responses"})]}),e.jsxs(xe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[d.length," inquiries"]})]})}),e.jsx(Q,{className:"relative p-6",children:e.jsx(zl,{inquiries:d,onRefresh:P,type:"sent"})})]})}),e.jsx(st,{value:"property-inquiries",className:"space-y-6",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-indigo-500/5 dark:from-purple-900/10 dark:to-indigo-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(Ct,{className:"h-6 w-6 text-purple-500"}),"Property Inquiries"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Respond to inquiries from potential buyers about your listed properties"})]}),e.jsxs(xe,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[h.filter(A=>A.status==="pending").length," pending"]})]})}),e.jsx(Q,{className:"relative p-6",children:e.jsx(zl,{inquiries:h,onRefresh:P,type:"received"})})]})})]})]})]})},qF=()=>{const[t,r]=m.useState(null),[s,a]=m.useState([]),[i,l]=m.useState({totalListings:0,activeClients:0,totalCommission:0,pendingInquiries:0}),[d,u]=m.useState(!0),{profile:h}=It(),{toast:f}=ot();m.useEffect(()=>{h&&y()},[h==null?void 0:h.id,h==null?void 0:h.user]);const y=async()=>{var j;const v=(h==null?void 0:h.id)||(h==null?void 0:h.user);if(!(!h||!v))try{u(!0);const N=new AbortController,w=setTimeout(()=>N.abort(),3e3);try{const[P,_]=await Promise.allSettled([re.getBrokers({user_id:v}),re.getProperties({owner_id:v})]);clearTimeout(w),P.status==="fulfilled"&&!P.value.error?r((j=P.value.data)==null?void 0:j[0]):r(null),_.status==="fulfilled"&&!_.value.error?a(_.value.data||[]):a([]),l({totalListings:_.status==="fulfilled"?(_.value.data||[]).length:0,activeClients:0,totalCommission:0,pendingInquiries:0})}catch(P){clearTimeout(w),console.error("Broker dashboard fetch error:",P),r(null),a([]),l({totalListings:0,activeClients:0,totalCommission:0,pendingInquiries:0})}}catch(N){console.error("Error fetching broker dashboard data:",N),r(null),a([]),l({totalListings:0,activeClients:0,totalCommission:0,pendingInquiries:0})}finally{u(!1)}},x=v=>{switch(v){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=async()=>{f({title:"Info",description:"Broker profile creation will be available soon"})};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Cs,{}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Broker Dashboard"}),e.jsxs("p",{className:"text-muted-foreground mt-3",children:["Welcome back, ",h==null?void 0:h.fullName,t.status==="pending"&&e.jsx(xe,{className:"ml-2 bg-yellow-100 text-yellow-800",children:"Pending Approval"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(H,{asChild:!0,children:e.jsxs(He,{to:"/post-property",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Add Listing"]})})})]}),t.status==="pending"&&e.jsx(G,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($n,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Profile Under Review"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Your broker profile is being reviewed by our team. Full features will be available once approved."})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xr,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Listings"}),e.jsx("div",{className:"text-2xl font-bold",children:i.totalListings})]})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Clients"}),e.jsx("div",{className:"text-2xl font-bold",children:i.activeClients})]})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fl,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"}),e.jsxs("div",{className:"text-2xl font-bold",children:["",i.totalCommission.toLocaleString()]})]})]})})}),e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($t,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"New Inquiries"}),e.jsx("div",{className:"text-2xl font-bold",children:i.pendingInquiries})]})]})})})]}),e.jsxs(hs,{defaultValue:"listings",className:"space-y-4",children:[e.jsxs(ss,{children:[e.jsx(Ge,{value:"listings",children:"My Listings"}),e.jsx(Ge,{value:"clients",children:"Clients"}),e.jsx(Ge,{value:"leads",children:"Leads"}),e.jsx(Ge,{value:"commissions",children:"Commissions"}),e.jsx(Ge,{value:"profile",children:"Broker Profile"})]}),e.jsx(st,{value:"listings",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Property Listings"}),e.jsx(Qe,{children:"Manage properties you're representing"})]}),e.jsx(Q,{children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No listings yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by adding properties for your clients"}),e.jsx(H,{asChild:!0,children:e.jsx(He,{to:"/post-property",children:"Add First Listing"})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(v=>{var j;return e.jsxs(G,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-muted relative",children:(j=v.images)!=null&&j[0]?e.jsx("img",{src:v.images[0],alt:v.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(xr,{className:"h-12 w-12 text-muted-foreground"})})}),e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:v.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"line-clamp-1",children:[v.location,", ",v.city]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-primary",children:[e.jsx(Yn,{className:"w-4 h-4"}),e.jsx("span",{children:v.price.toLocaleString()})]}),e.jsx(xe,{className:x(v.status),children:v.status})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(xe,{variant:"outline",className:"capitalize text-xs",children:v.property_type}),e.jsxs(xe,{variant:"outline",className:"capitalize text-xs",children:["For ",v.listing_type]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1",children:e.jsxs(He,{to:`/property/${v.id}`,children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"hidden xs:inline",children:"View"})]})}),e.jsx(H,{asChild:!0,size:"sm",variant:"outline",children:e.jsx(He,{to:`/edit-property/${v.id}`,children:e.jsx(Gl,{className:"w-4 h-4"})})})]})]})})]},v.id)})})})]})}),e.jsx(st,{value:"clients",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Client Management"}),e.jsx(Qe,{children:"Manage your buyer and seller clients"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Client management features coming soon"})]})})]})}),e.jsx(st,{value:"leads",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Lead Management"}),e.jsx(Qe,{children:"Track and convert your property leads"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx($a,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No leads yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Lead tracking features coming soon"})]})})]})}),e.jsx(st,{value:"commissions",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Commission Tracking"}),e.jsx(Qe,{children:"Monitor your earnings and payments"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Fl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No commission data"}),e.jsx("p",{className:"text-muted-foreground",children:"Commission tracking coming soon"})]})})]})}),e.jsx(st,{value:"profile",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Broker Profile"}),e.jsx(Qe,{children:"Manage your professional information and specializations"})]}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialization.map((v,j)=>e.jsx(xe,{variant:"outline",children:v},j))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Commission Rate"}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:[t.commission_rate,"%"]})]}),t.years_experience&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Experience"}),e.jsxs("p",{children:[t.years_experience," years"]})]}),t.license_number&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"License Number"}),e.jsx("p",{className:"font-mono",children:t.license_number})]})]}),e.jsx(H,{variant:"outline",disabled:!0,children:"Update Profile (Coming Soon)"})]})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Cs,{}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(G,{className:"text-center py-12",children:[e.jsxs(ve,{children:[e.jsx(jj,{className:"h-16 w-16 text-primary mx-auto mb-4"}),e.jsx(ye,{className:"text-3xl",children:"Welcome to Your Broker Dashboard"}),e.jsx(Qe,{className:"text-lg mt-2",children:"Complete your broker profile to start managing listings and clients"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-left",children:[e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsx(xr,{className:"h-8 w-8 text-blue-500 mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Manage Listings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"List properties for your clients and manage multiple listings efficiently"})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsx(Ct,{className:"h-8 w-8 text-green-500 mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Client Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep track of buyers, sellers, and their property requirements"})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-6",children:[e.jsx(Fl,{className:"h-8 w-8 text-purple-500 mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Commission Tracking"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor your earnings and commission payments automatically"})]})})]}),e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs(H,{onClick:g,size:"lg",disabled:d,children:[e.jsx(Vl,{className:"w-5 h-5 mr-2"}),d?"Creating Profile...":"Set Up Broker Profile"]})})]})]})})})]})},WF=({onUpdate:t,existingProfile:r})=>{const{profile:s}=Wa(),{toast:a}=ot(),[i,l]=m.useState(!1),[d,u]=m.useState({companyName:"",companyDescription:"",establishedYear:null,contactInfo:{phone:"",email:"",alternatePhone:"",address:"",city:"",state:"",pincode:""},businessType:"private_limited",registrationNumber:"",panNumber:"",gstNumber:"",reraRegistration:[],specializations:[],serviceAreas:[],languages:[],certifications:[],awards:[],team:[],status:"active",verificationStatus:"unverified",verificationDocuments:[]});m.useEffect(()=>{var x,g,v,j,N,w,P,_,C,L,q,A,M,V,k,T,z,E;r&&u({companyName:r.companyName||r.company_name||"",companyDescription:r.companyDescription||r.company_description||"",establishedYear:r.establishedYear||r.established_year||null,contactInfo:{phone:((x=r.contactInfo)==null?void 0:x.phone)||((g=r.contact_info)==null?void 0:g.phone)||"",email:((v=r.contactInfo)==null?void 0:v.email)||((j=r.contact_info)==null?void 0:j.email)||"",alternatePhone:((N=r.contactInfo)==null?void 0:N.alternatePhone)||"",address:((w=r.contactInfo)==null?void 0:w.address)||((P=r.contact_info)==null?void 0:P.address)||"",city:((_=r.contactInfo)==null?void 0:_.city)||"",state:((C=r.contactInfo)==null?void 0:C.state)||"",pincode:((L=r.contactInfo)==null?void 0:L.pincode)||""},socialMedia:{facebook:((q=r.socialMedia)==null?void 0:q.facebook)||((A=r.social_media)==null?void 0:A.facebook)||"",twitter:((M=r.socialMedia)==null?void 0:M.twitter)||((V=r.social_media)==null?void 0:V.twitter)||"",linkedin:((k=r.socialMedia)==null?void 0:k.linkedin)||((T=r.social_media)==null?void 0:T.linkedin)||"",instagram:((z=r.socialMedia)==null?void 0:z.instagram)||"",youtube:((E=r.socialMedia)==null?void 0:E.youtube)||""},businessType:r.businessType||"private_limited",registrationNumber:r.registrationNumber||"",panNumber:r.panNumber||"",gstNumber:r.gstNumber||"",reraRegistration:r.reraRegistration||[],specializations:r.specializations||[],serviceAreas:r.serviceAreas||[],languages:r.languages||[],certifications:r.certifications||[],awards:r.awards||[],team:r.team||[],status:r.status||"active",verificationStatus:r.verificationStatus||"unverified",verificationDocuments:r.verificationDocuments||[]})},[r]);const h=(x,g)=>{u(v=>({...v,[x]:g}))},f=(x,g)=>{u(v=>({...v,contactInfo:{...v.contactInfo,[x]:g}}))},y=async x=>{var g,v,j,N;if(x.preventDefault(),!!s){l(!0);try{if(!d.companyName||d.companyName.trim().length<2){a({title:"Validation Error",description:"Company name is required and must be at least 2 characters long.",variant:"destructive"});return}const w={companyName:d.companyName.trim(),...d.companyDescription&&{companyDescription:d.companyDescription.trim()},...d.establishedYear&&{establishedYear:parseInt(d.establishedYear.toString())},...d.contactInfo&&Object.keys(d.contactInfo).length>0&&{contactInfo:d.contactInfo},...d.socialMedia&&Object.keys(d.socialMedia).length>0&&{socialMedia:d.socialMedia},...d.businessType&&{businessType:d.businessType},...d.registrationNumber&&{registrationNumber:d.registrationNumber},...d.panNumber&&{panNumber:d.panNumber},...d.gstNumber&&{gstNumber:d.gstNumber},...d.specializations&&d.specializations.length>0&&{specializations:d.specializations},...d.serviceAreas&&d.serviceAreas.length>0&&{serviceAreas:d.serviceAreas},...d.languages&&d.languages.length>0&&{languages:d.languages}};console.log("Sending developer data:",w),console.log("Existing profile:",r);const P=(r==null?void 0:r.id)||(r==null?void 0:r._id);if(P){console.log("Updating existing profile with ID:",P);const{error:_}=await re.updateDeveloper(P,w);if(_)throw _}else{console.log("Creating new profile");const{error:_}=await re.createDeveloper(w);if(_)throw _}a({title:"Success",description:"Developer profile updated successfully!"}),t()}catch(w){console.error("Error updating developer profile:",w);let P="Failed to update developer profile. Please try again.";(v=(g=w==null?void 0:w.response)==null?void 0:g.data)!=null&&v.errors?P=`Validation failed: ${w.response.data.errors.map(C=>C.msg).join(", ")}`:(N=(j=w==null?void 0:w.response)==null?void 0:j.data)!=null&&N.message&&(P=w.response.data.message),a({title:"Error",description:P,variant:"destructive"})}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 dark:from-blue-900/10 dark:to-indigo-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(xr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs(ye,{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Company Profile",d.verificationStatus==="verified"&&e.jsxs(xe,{className:"px-2 py-1 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Verified"]}),d.verificationStatus==="pending"&&e.jsxs(xe,{className:"px-2 py-1 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 shadow-md",children:[e.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Pending"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Complete your company information to build trust with potential clients"})]})]})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-green-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 dark:from-green-900/10 dark:to-emerald-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative",children:e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Da,{className:"h-5 w-5 text-green-500"}),"Basic Information"]})}),e.jsxs(Q,{className:"relative space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"companyName",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Company Name *"}),e.jsx(Se,{id:"companyName",value:d.companyName,onChange:x=>h("companyName",x.target.value),required:!0,className:"mt-1",placeholder:"Enter your company name"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"establishedYear",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Established Year"}),e.jsx(Se,{id:"establishedYear",type:"number",min:"1900",max:new Date().getFullYear(),value:d.establishedYear||"",onChange:x=>h("establishedYear",parseInt(x.target.value)||null),className:"mt-1",placeholder:"e.g., 2010"}),d.establishedYear&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Experience: ",new Date().getFullYear()-d.establishedYear," years"]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"companyDescription",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Company Description"}),e.jsx(Zt,{id:"companyDescription",placeholder:"Tell us about your company, specialization, and experience...",className:"min-h-[120px] mt-1",value:d.companyDescription,onChange:x=>h("companyDescription",x.target.value)})]})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 dark:from-purple-900/10 dark:to-pink-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative",children:e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Pr,{className:"h-5 w-5 text-purple-500"}),"Contact Information"]})}),e.jsxs(Q,{className:"relative space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactEmail",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Email"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Se,{id:"contactEmail",type:"email",value:d.contactInfo.email||"",onChange:x=>f("email",x.target.value),className:"pl-10",placeholder:"contact@yourcompany.com"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactPhone",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Phone"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Se,{id:"contactPhone",value:d.contactInfo.phone||"",onChange:x=>f("phone",x.target.value),className:"pl-10",placeholder:"+91 98765 43210"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactCity",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"City"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Se,{id:"contactCity",value:d.contactInfo.city||"",onChange:x=>f("city",x.target.value),className:"pl-10",placeholder:"Mumbai"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactState",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"State"}),e.jsx(Se,{id:"contactState",value:d.contactInfo.state||"",onChange:x=>f("state",x.target.value),className:"mt-1",placeholder:"Maharashtra"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactPincode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pincode"}),e.jsx(Se,{id:"contactPincode",value:d.contactInfo.pincode||"",onChange:x=>f("pincode",x.target.value),className:"mt-1",placeholder:"400001"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"contactAddress",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Complete Address"}),e.jsx(Zt,{id:"contactAddress",placeholder:"Complete business address...",className:"min-h-[100px] mt-1",value:d.contactInfo.address||"",onChange:x=>f("address",x.target.value)})]})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-teal-50 dark:from-gray-800 dark:to-teal-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/5 to-cyan-500/5 dark:from-teal-900/10 dark:to-cyan-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"relative",children:[e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Vn,{className:"h-5 w-5 text-teal-500"}),"Business Information"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Legal and registration details for verification"})]}),e.jsxs(Q,{className:"relative space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"businessType",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Type"}),e.jsxs(Xe,{value:d.businessType,onValueChange:x=>h("businessType",x),children:[e.jsx(Ye,{className:"mt-1",children:e.jsx(Je,{placeholder:"Select business type"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"private_limited",children:"Private Limited"}),e.jsx(te,{value:"public_limited",children:"Public Limited"}),e.jsx(te,{value:"partnership",children:"Partnership"}),e.jsx(te,{value:"sole_proprietorship",children:"Sole Proprietorship"}),e.jsx(te,{value:"llp",children:"LLP"}),e.jsx(te,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"registrationNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Registration Number"}),e.jsx(Se,{id:"registrationNumber",value:d.registrationNumber,onChange:x=>h("registrationNumber",x.target.value),className:"mt-1",placeholder:"Company registration number"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"panNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PAN Number"}),e.jsx(Se,{id:"panNumber",value:d.panNumber,onChange:x=>h("panNumber",x.target.value.toUpperCase()),className:"mt-1",placeholder:"ABCDE1234F",maxLength:10})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"gstNumber",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"GST Number"}),e.jsx(Se,{id:"gstNumber",value:d.gstNumber,onChange:x=>h("gstNumber",x.target.value.toUpperCase()),className:"mt-1",placeholder:"22ABCDE1234F1Z5"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{type:"submit",disabled:i,className:"px-8 py-3 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group text-lg font-semibold",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Update Profile"]})})})]})]})},HF=({onSuccess:t,onCancel:r,existingProject:s})=>{const{profile:a}=Wa(),{toast:i}=ot(),[l,d]=m.useState(!1),[u,h]=m.useState(null),[f,y]=m.useState([]),x=[{label:"Parking",value:"parking"},{label:"Security",value:"security"},{label:"Gym",value:"gym"},{label:"Swimming Pool",value:"swimming_pool"},{label:"Garden",value:"garden"},{label:"Playground",value:"playground"},{label:"Club House",value:"clubhouse"},{label:"Power Backup",value:"power_backup"},{label:"Water Supply",value:"water_supply"},{label:"Elevator",value:"elevator"},{label:"Balcony",value:"balcony"},{label:"Terrace",value:"terrace"},{label:"Modular Kitchen",value:"modular_kitchen"},{label:"Wardrobe",value:"wardrobe"},{label:"Air Conditioning",value:"ac"},{label:"Furnished",value:"furnished"},{label:"Semi Furnished",value:"semi_furnished"},{label:"Conference Room",value:"conference_room"},{label:"Business Center",value:"business_center"},{label:"Retail Shops",value:"retail_shops"},{label:"Restaurant",value:"restaurant"},{label:"Spa",value:"spa"},{label:"Tennis Court",value:"tennis_court"},{label:"Basketball Court",value:"basketball_court"},{label:"Badminton Court",value:"badminton_court"},{label:"Cricket Net",value:"cricket_net"},{label:"Jogging Track",value:"jogging_track"},{label:"Cycling Track",value:"cycling_track"},{label:"Amphitheater",value:"amphitheater"},{label:"Library",value:"library"},{label:"Kids Play Area",value:"kids_play_area"}],[g,v]=m.useState({name:"",description:"",projectType:"residential",status:"planning",location:{address:"",city:"",state:"",country:"India"},priceRange:{min:"",max:"",unit:"lakh"},totalUnits:"",availableUnits:"",completionDate:"",possessionDate:"",launchDate:"",amenities:[],images:[],videos:[],brochures:[],reraNumber:""}),[j,N]=m.useState({images:!1,videos:!1,brochures:!1}),[w,P]=m.useState([]);m.useEffect(()=>{var E,$,R,X,Y,O,I,D,W,B,U,J,se,ue,ge;_(),s&&(v({name:s.name||"",description:s.description||"",projectType:s.projectType||"residential",status:s.status||"planning",location:{address:((E=s.location)==null?void 0:E.address)||"",city:(($=s.location)==null?void 0:$.city)||"",state:((R=s.location)==null?void 0:R.state)||"",country:((X=s.location)==null?void 0:X.country)||"India"},priceRange:{min:((O=(Y=s.priceRange)==null?void 0:Y.min)==null?void 0:O.toString())||"",max:((D=(I=s.priceRange)==null?void 0:I.max)==null?void 0:D.toString())||"",unit:((W=s.priceRange)==null?void 0:W.unit)||"lakh"},totalUnits:((B=s.totalUnits)==null?void 0:B.toString())||"",availableUnits:((U=s.availableUnits)==null?void 0:U.toString())||"",completionDate:s.completionDate?new Date(s.completionDate).toISOString().split("T")[0]:"",possessionDate:s.possessionDate?new Date(s.possessionDate).toISOString().split("T")[0]:"",launchDate:s.launchDate?new Date(s.launchDate).toISOString().split("T")[0]:"",amenities:s.amenities||[],images:((J=s.images)==null?void 0:J.map(oe=>typeof oe=="string"?{url:oe,caption:"",isPrimary:!1}:oe))||[],videos:((se=s.videos)==null?void 0:se.map(oe=>typeof oe=="string"?{url:oe,caption:"",thumbnail:""}:oe))||[],brochures:((ue=s.brochures)==null?void 0:ue.map(oe=>typeof oe=="string"?{url:oe,name:"Brochure"}:oe))||[],reraNumber:s.reraNumber||""}),(ge=s.location)!=null&&ge.state&&P(fu(s.location.state)),y(s.amenities||[]))},[s,a]);const _=async()=>{if(console.log("fetchDeveloperProfile called, profile:",a),!a){console.log("No profile found, returning");return}try{console.log("Fetching developer profile for user_id:",a.id);const{data:E,error:$}=await re.getMyDeveloperProfile();if(console.log("Developer profile query result:",{data:E,error:$}),$)throw console.error("Database error:",$),$;E!=null&&E.developer?(console.log("Developer profile found:",E.developer),h(E.developer)):(console.log("No developer profile found for user"),i({title:"Developer Profile Required",description:"Please complete your developer profile setup first",variant:"destructive"}))}catch(E){console.error("Error fetching developer profile:",E),i({title:"Error",description:"Failed to load developer profile",variant:"destructive"})}},C=(E,$)=>{v(R=>({...R,[E]:$}))},L=(E,$)=>{v(R=>{const X={...R.location,[E]:$};return E==="state"&&(X.city="",P(fu($))),{...R,location:X}})},q=(E,$)=>{v(R=>({...R,priceRange:{...R.priceRange,[E]:$}}))},A=E=>{const R=f.includes(E)?f.filter(X=>X!==E):[...f,E];y(R),v(X=>({...X,amenities:R}))},M=E=>{const $=f.filter(R=>R!==E);y($),v(R=>({...R,amenities:$}))},V=async(E,$)=>{if(E){if($==="images"&&!E.type.startsWith("image/")){i({title:"Invalid File Type",description:"Please select an image file",variant:"destructive"});return}if($==="videos"&&!E.type.startsWith("video/")){i({title:"Invalid File Type",description:"Please select a video file",variant:"destructive"});return}if($==="brochures"&&E.type!=="application/pdf"){i({title:"Invalid File Type",description:"Please select a PDF file",variant:"destructive"});return}if(E.size>10*1024*1024){i({title:"File Too Large",description:"File size must be less than 10MB",variant:"destructive"});return}N(R=>({...R,[$]:!0}));try{let R,X;if($==="brochures"){console.log(" Uploading PDF locally:",E.name);const Y=await re.uploadSingleFile(E,"project_brochure","nestly_estate/project_brochures");R=Y.data,X=Y.error}else if($==="images"){console.log(" Uploading images to Cloudinary:",E.name);const Y=await re.uploadProjectImages([E]);R=Y.data,X=Y.error}else{console.log(` Uploading ${$} to Cloudinary:`,E.name);const Y=await re.uploadSingleFile(E,`project_${$}`,`nestly_estate/project_${$}`);R=Y.data,X=Y.error}if(X)throw X;console.log("Upload response data structure:",R),v(Y=>{var D;let O="";if($==="images"&&R.images&&R.images.length>0)O=R.images[0].url;else if((D=R.media)!=null&&D.url)O=R.media.url;else if(R.url)O=R.url;else if(typeof R=="string")O=R;else throw console.error("Could not extract URL from upload response:",R),console.error("Available keys in data:",Object.keys(R)),new Error("Invalid upload response: no URL found");if(!O||O.trim()==="")throw console.error("Empty URL extracted from upload response:",R),new Error("Invalid upload response: empty URL");if(!O.startsWith("http")&&!O.startsWith("/"))throw console.error("Invalid URL format:",O),new Error("Invalid upload response: malformed URL");const I={url:O,...$==="images"&&{caption:"",isPrimary:Y[$].length===0},...$==="videos"&&{caption:"",thumbnail:""},...$==="brochures"&&{name:E.name},uploadedAt:new Date().toISOString()};return console.log("Created media object:",I),{...Y,[$]:[...Y[$],I]}}),i({title:"Upload Successful",description:`${$.charAt(0).toUpperCase()+$.slice(1)} uploaded successfully ${$==="brochures"?"locally":"to Cloudinary"}`})}catch(R){console.error("Upload error:",R),i({title:"Upload Failed",description:R instanceof Error?R.message:"Failed to upload file. Please try again.",variant:"destructive"})}finally{N(R=>({...R,[$]:!1}))}}},k=(E,$)=>{v(R=>({...R,[E]:R[E].filter((X,Y)=>Y!==$)}))},T=()=>{v(E=>({...E,images:E.images.filter($=>$&&$.url&&$.url.trim()!==""),videos:E.videos.filter($=>$&&$.url&&$.url.trim()!==""),brochures:E.brochures.filter($=>$&&$.url&&$.url.trim()!=="")}))},z=async E=>{var I,D,W,B,U,J,se,ue,ge,oe,de,le;if(E.preventDefault(),!a){i({title:"Error",description:"User not authenticated",variant:"destructive"});return}if(!u){i({title:"Developer Profile Required",description:"Please complete your developer profile setup before adding projects. Go to the Company Profile tab to set up your profile.",variant:"destructive"});return}if(!g.name||g.name.trim().length<5){i({title:"Validation Error",description:"Project name must be at least 5 characters long",variant:"destructive"});return}if(!g.location.address||g.location.address.trim().length<5){i({title:"Validation Error",description:"Address must be at least 5 characters long",variant:"destructive"});return}if(!g.location.city||g.location.city.trim().length<2){i({title:"Validation Error",description:"City must be at least 2 characters long",variant:"destructive"});return}if(!g.location.state||g.location.state.trim().length<2){i({title:"Validation Error",description:"State must be at least 2 characters long",variant:"destructive"});return}const $=parseFloat(g.priceRange.min),R=parseFloat(g.priceRange.max);if(isNaN($)||$<=0){i({title:"Validation Error",description:"Minimum price must be a positive number",variant:"destructive"});return}if(isNaN(R)||R<=0){i({title:"Validation Error",description:"Maximum price must be a positive number",variant:"destructive"});return}if(R<=$){i({title:"Validation Error",description:"Maximum price must be greater than minimum price",variant:"destructive"});return}const X=(I=g.images)==null?void 0:I.filter(he=>!he||!he.url||he.url.trim()===""),Y=(D=g.videos)==null?void 0:D.filter(he=>!he||!he.url||he.url.trim()===""),O=(W=g.brochures)==null?void 0:W.filter(he=>!he||!he.url||he.url.trim()==="");if(X&&X.length>0){i({title:"Validation Error",description:"Some images have invalid URLs. Please remove them or re-upload.",variant:"destructive"});return}if(Y&&Y.length>0){i({title:"Validation Error",description:"Some videos have invalid URLs. Please remove them or re-upload.",variant:"destructive"});return}if(O&&O.length>0){i({title:"Validation Error",description:"Some brochures have invalid URLs. Please remove them or re-upload.",variant:"destructive"});return}T(),d(!0);try{const he={name:g.name.trim(),description:((B=g.description)==null?void 0:B.trim())||void 0,projectType:g.projectType,status:g.status,location:{address:g.location.address.trim(),city:g.location.city.trim(),state:g.location.state.trim(),country:g.location.country||"India"},priceRange:{min:$,max:R,unit:g.priceRange.unit||"lakh"},totalUnits:g.totalUnits?parseInt(g.totalUnits):void 0,availableUnits:g.availableUnits?parseInt(g.availableUnits):void 0,completionDate:g.completionDate||void 0,possessionDate:g.possessionDate||void 0,launchDate:g.launchDate||void 0,amenities:g.amenities||[],images:((U=g.images)==null?void 0:U.map(Te=>typeof Te=="string"?{url:Te,caption:"",isPrimary:!1}:Te).filter(Te=>Te&&Te.url&&Te.url.trim()!==""))||[],videos:((J=g.videos)==null?void 0:J.map(Te=>typeof Te=="string"?{url:Te,caption:"",thumbnail:""}:Te).filter(Te=>Te&&Te.url&&Te.url.trim()!==""))||[],brochures:((se=g.brochures)==null?void 0:se.map(Te=>typeof Te=="string"?{url:Te,name:"Brochure"}:Te).filter(Te=>Te&&Te.url&&Te.url.trim()!==""))||[],reraNumber:((ue=g.reraNumber)==null?void 0:ue.trim())||void 0};console.log("Project data being sent to backend:",{...he,images:he.images,videos:he.videos,brochures:he.brochures});const fe=he.images.filter(Te=>!Te||!Te.url||Te.url.trim()===""),we=he.videos.filter(Te=>!Te||!Te.url||Te.url.trim()===""),Oe=he.brochures.filter(Te=>!Te||!Te.url||Te.url.trim()==="");if(fe.length>0||we.length>0||Oe.length>0)throw console.error("Invalid media objects found:",{invalidImages:fe,invalidVideos:we,invalidBrochures:Oe}),new Error("Invalid media objects detected. Please clean up and try again.");if(s){console.log("Existing project data:",s);const Te=s.id||s._id;if(console.log("Project ID:",Te),!Te)throw new Error("Project ID is required for updating");const{error:pt}=await re.updateProject(Te,he);if(pt)throw pt}else{const{error:Te}=await re.createProject(he);if(Te)throw Te}i({title:"Success",description:`Project ${s?"updated":"created"} successfully!`}),t()}catch(he){console.error("Error saving project:",he);let fe="Failed to save project. Please try again.";(oe=(ge=he==null?void 0:he.response)==null?void 0:ge.data)!=null&&oe.errors?fe=`Validation failed: ${he.response.data.errors.map(Oe=>Oe.msg).join(", ")}`:(le=(de=he==null?void 0:he.response)==null?void 0:de.data)!=null&&le.message?fe=he.response.data.message:he!=null&&he.message&&(fe=he.message),i({title:"Error",description:fe,variant:"destructive"})}finally{d(!1)}};return!u&&a?e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Developer Profile Required"})}),e.jsx(Q,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to complete your developer profile setup before you can add projects."}),e.jsx(H,{onClick:r,variant:"outline",children:"Go to Company Profile"})]})})]}):e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:s?"Edit Project":"Add New Project"})}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:z,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"name",children:"Project Name"}),e.jsx(Se,{id:"name",value:g.name,onChange:E=>C("name",E.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"description",children:"Project Description"}),e.jsx(Zt,{id:"description",value:g.description,onChange:E=>C("description",E.target.value),className:"min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Location Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"address",children:"Address"}),e.jsx(Se,{id:"address",value:g.location.address,onChange:E=>L("address",E.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"state",children:"State"}),e.jsxs(Xe,{value:g.location.state,onValueChange:E=>L("state",E),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select State"})}),e.jsx(Ke,{children:Cx().map(E=>e.jsx(te,{value:E,children:E},E))})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"city",children:"City"}),e.jsxs(Xe,{value:g.location.city,onValueChange:E=>L("city",E),disabled:!g.location.state,children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:g.location.state?"Select City":"Select State first"})}),e.jsx(Ke,{children:w.map(E=>e.jsx(te,{value:E,children:E},E))})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"projectType",children:"Project Type"}),e.jsxs(Xe,{value:g.projectType,onValueChange:E=>C("projectType",E),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"residential",children:"Residential"}),e.jsx(te,{value:"commercial",children:"Commercial"}),e.jsx(te,{value:"mixed_use",children:"Mixed Use"}),e.jsx(te,{value:"industrial",children:"Industrial"}),e.jsx(te,{value:"hospitality",children:"Hospitality"}),e.jsx(te,{value:"retail",children:"Retail"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"status",children:"Status"}),e.jsxs(Xe,{value:g.status,onValueChange:E=>C("status",E),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"planning",children:"Planning"}),e.jsx(te,{value:"under_construction",children:"Under Construction"}),e.jsx(te,{value:"ready_to_move",children:"Ready to Move"}),e.jsx(te,{value:"completed",children:"Completed"}),e.jsx(te,{value:"sold_out",children:"Sold Out"}),e.jsx(te,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"reraNumber",children:"RERA Number"}),e.jsx(Se,{id:"reraNumber",value:g.reraNumber,onChange:E=>C("reraNumber",E.target.value),placeholder:"e.g., P51700012345"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Price Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priceMin",children:"Minimum Price"}),e.jsx(Se,{id:"priceMin",type:"number",value:g.priceRange.min,onChange:E=>q("min",E.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priceMax",children:"Maximum Price"}),e.jsx(Se,{id:"priceMax",type:"number",value:g.priceRange.max,onChange:E=>q("max",E.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"priceUnit",children:"Price Unit"}),e.jsxs(Xe,{value:g.priceRange.unit,onValueChange:E=>q("unit",E),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"lakh",children:"Lakh"}),e.jsx(te,{value:"crore",children:"Crore"}),e.jsx(te,{value:"sqft",children:"Per Sq Ft"}),e.jsx(te,{value:"sqm",children:"Per Sq M"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"totalUnits",children:"Total Units"}),e.jsx(Se,{id:"totalUnits",type:"number",value:g.totalUnits,onChange:E=>C("totalUnits",E.target.value)})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"availableUnits",children:"Available Units"}),e.jsx(Se,{id:"availableUnits",type:"number",value:g.availableUnits,onChange:E=>C("availableUnits",E.target.value)})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"completionDate",children:"Expected Completion"}),e.jsx(Se,{id:"completionDate",type:"date",value:g.completionDate,onChange:E=>C("completionDate",E.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"possessionDate",children:"Possession Date"}),e.jsx(Se,{id:"possessionDate",type:"date",value:g.possessionDate,onChange:E=>C("possessionDate",E.target.value)})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"launchDate",children:"Launch Date"}),e.jsx(Se,{id:"launchDate",type:"date",value:g.launchDate,onChange:E=>C("launchDate",E.target.value)})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Project Media"}),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:T,className:"text-xs",children:"Clean Invalid Media"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Brochures (PDF)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:E=>{var R;const $=(R=E.target.files)==null?void 0:R[0];$&&V($,"brochures"),E.target.value=""},className:"hidden",id:"brochure-upload"}),e.jsx("label",{htmlFor:"brochure-upload",className:"cursor-pointer flex flex-col items-center",children:j.brochures?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Click to upload PDF brochure"})]})})]}),g.brochures.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.brochures.map((E,$)=>e.jsx("div",{className:"relative group border rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:typeof E=="object"&&E?E.name||`Brochure ${$+1}`:`Brochure ${$+1}`}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:typeof E=="string"?E:(E==null?void 0:E.url)||"#",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm",onClick:R=>R.stopPropagation(),children:"View"}),e.jsx(Et,{className:"h-4 w-4 text-gray-400 cursor-pointer hover:text-red-500",onClick:R=>{R.preventDefault(),R.stopPropagation(),k("brochures",$)}})]})]})},$))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:E=>{var R;const $=(R=E.target.files)==null?void 0:R[0];$&&V($,"images"),E.target.value=""},className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:j.images?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(DE,{className:"h-4 w-4"}),e.jsx("span",{children:"Click to upload project images"})]})})]}),g.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.images.map((E,$)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:typeof E=="string"?E:(E==null?void 0:E.url)||"",alt:`Project image ${$+1}`,className:"w-full h-24 object-cover rounded-lg border"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsx(Et,{className:"h-4 w-4 text-white cursor-pointer",onClick:R=>{R.preventDefault(),R.stopPropagation(),k("images",$)}})}),typeof E=="object"&&E&&(E==null?void 0:E.isPrimary)&&e.jsx(xe,{className:"absolute top-1 left-1 text-xs",children:"Primary"})]},$))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Videos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:"video/*",onChange:E=>{var R;const $=(R=E.target.files)==null?void 0:R[0];$&&V($,"videos"),E.target.value=""},className:"hidden",id:"video-upload"}),e.jsx("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center",children:j.videos?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tp,{className:"h-4 w-4"}),e.jsx("span",{children:"Click to upload project videos"})]})})]}),g.videos.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.videos.map((E,$)=>e.jsxs("div",{className:"relative group",children:[e.jsx("video",{src:typeof E=="string"?E:(E==null?void 0:E.url)||"",className:"w-full h-32 object-cover rounded-lg border",controls:!1,muted:!0}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsx(Et,{className:"h-4 w-4 text-white cursor-pointer",onClick:R=>{R.preventDefault(),R.stopPropagation(),k("videos",$)}})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(tp,{className:"h-6 w-6 text-white"})})})]},$))})]})]}),e.jsxs("div",{children:[e.jsx(ne,{children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mt-2",children:x.map(E=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${f.includes(E.value)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,onClick:()=>A(E.value),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:f.includes(E.value),onChange:()=>A(E.value),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm font-medium",children:E.label})]})},E.value))}),f.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs(ne,{className:"text-sm font-medium mb-2 block",children:["Selected Amenities (",f.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(E=>{var R;const $=((R=x.find(X=>X.value===E))==null?void 0:R.label)||E;return e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1",children:[$,e.jsx(Et,{className:"h-3 w-3 cursor-pointer",onClick:()=>M(E)})]},E)})})]})]}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(H,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(H,{type:"submit",disabled:l,children:l?"Saving...":s?"Update Project":"Create Project"})]})]})})]})},YF=({requirementId:t,onSuccess:r,proposal:s,isEditing:a=!1})=>{var I;const[i,l]=m.useState((s==null?void 0:s.title)||""),[d,u]=m.useState((s==null?void 0:s.description)||""),[h,f]=m.useState((s==null?void 0:s.timeline)||""),[y,x]=m.useState(((I=s==null?void 0:s.budget_estimate)==null?void 0:I.toString())||""),[g,v]=m.useState((s==null?void 0:s.terms_conditions)||""),[j,N]=m.useState((s==null?void 0:s.attachments)||[]),[w,P]=m.useState(""),[_,C]=m.useState((s==null?void 0:s.brochures)||[]),[L,q]=m.useState(!1),[A,M]=m.useState(!1),[V,k]=m.useState(null),{toast:T}=ot(),{user:z}=It();m.useEffect(()=>{E()},[]);const E=async()=>{var D,W;try{if(!z)return;const{data:B,error:U}=await re.getMyDeveloperProfile();if(U)throw U;k(((D=B==null?void 0:B.developer)==null?void 0:D.id)||((W=B==null?void 0:B.developer)==null?void 0:W._id))}catch{T({title:"Error",description:"You need to create a developer profile first",variant:"destructive"})}},$=()=>{w.trim()&&!j.includes(w.trim())&&(N([...j,w.trim()]),P(""))},R=D=>{N(j.filter(W=>W!==D))},X=async D=>{var U;const W=(U=D.target.files)==null?void 0:U[0];if(!W)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(W.type)){T({title:"Invalid file type",description:"Please upload PDF, JPEG, or PNG files only",variant:"destructive"});return}if(W.size>10*1024*1024){T({title:"File too large",description:"Please upload files smaller than 10MB",variant:"destructive"});return}q(!0);try{const J=new FormData;J.append("file",W);const se=await re.uploadSingleFile(J);if(se.error)throw new Error(se.error);C([..._,se.data.url]),T({title:"Brochure uploaded!",description:"Your brochure has been uploaded successfully."})}catch(J){T({title:"Upload failed",description:J.message||"Failed to upload brochure",variant:"destructive"})}finally{q(!1),D.target.value=""}},Y=D=>{C(_.filter(W=>W!==D))},O=async D=>{if(D.preventDefault(),!V){T({title:"Error",description:"Developer profile not found",variant:"destructive"});return}M(!0);try{const W={requirement_id:t,developer_id:V,title:i,description:d,timeline:h,budget_estimate:parseFloat(y),terms_conditions:g,attachments:j,brochures:_};if(a&&s){const{error:B}=await re.updateProposal(s.id,W);if(B)throw B;T({title:"Proposal updated!",description:"Your proposal has been updated successfully."})}else{const{error:B}=await re.createDeveloperProposal(W);if(B)throw B;T({title:"Proposal submitted!",description:"Your proposal has been submitted successfully."})}r==null||r()}catch(W){T({title:"Error",description:W.message,variant:"destructive"})}finally{M(!1)}};return e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:a?"Edit Proposal":"Submit Proposal"}),e.jsx(Qe,{children:a?"Update your proposal details":"Submit your proposal for this redevelopment requirement"})]}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"title",children:"Proposal Title"}),e.jsx(Se,{id:"title",value:i,onChange:D=>l(D.target.value),placeholder:"Enter proposal title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"description",children:"Description"}),e.jsx(Zt,{id:"description",value:d,onChange:D=>u(D.target.value),placeholder:"Describe your proposal in detail...",rows:4,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"timeline",children:"Timeline"}),e.jsx(Se,{id:"timeline",value:h,onChange:D=>f(D.target.value),placeholder:"e.g., 24 months",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"budget",children:"Budget Estimate ()"}),e.jsx(Se,{id:"budget",type:"number",value:y,onChange:D=>x(D.target.value),placeholder:"Enter budget in rupees",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"terms",children:"Terms & Conditions"}),e.jsx(Zt,{id:"terms",value:g,onChange:D=>v(D.target.value),placeholder:"Enter terms and conditions...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Project Brochures"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",id:"brochure-upload",accept:".pdf,.jpg,.jpeg,.png",onChange:X,className:"hidden",disabled:L}),e.jsx("label",{htmlFor:"brochure-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(Si,{className:"h-8 w-8 text-gray-400"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:L?e.jsx("span",{className:"text-blue-600",children:"Uploading brochure..."}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Click to upload brochures"}),e.jsx("p",{className:"text-xs",children:"PDF, JPEG, PNG (max 10MB)"})]})})]})})]}),_.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Uploaded Brochures:"}),e.jsx("div",{className:"space-y-2",children:_.map((D,W)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xt,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:["Brochure ",W+1]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>window.open(D,"_blank"),className:"text-blue-600 hover:text-blue-700",children:"View"}),e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(D),className:"text-red-600 hover:text-red-700",children:e.jsx(Gs,{className:"h-4 w-4"})})]})]},W))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{children:"Additional Attachments"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{value:w,onChange:D=>P(D.target.value),placeholder:"Add attachment URL or document name",onKeyPress:D=>D.key==="Enter"&&(D.preventDefault(),$())}),e.jsx(H,{type:"button",onClick:$,variant:"outline",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.map(D=>e.jsxs(xe,{variant:"secondary",className:"pr-1",children:[D,e.jsx("button",{type:"button",onClick:()=>R(D),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:e.jsx(Et,{className:"h-3 w-3"})})]},D))})]}),e.jsx(H,{type:"submit",disabled:A,className:"w-full",children:A?"Submitting...":a?"Update Proposal":"Submit Proposal"})]})})]})},KF=({requirementId:t})=>{const[r,s]=m.useState(null),[a,i]=m.useState(null),[l,d]=m.useState(null),[u,h]=m.useState([]),[f,y]=m.useState({}),[x,g]=m.useState({}),[v,j]=m.useState(!0),{toast:N}=ot();m.useEffect(()=>{w()},[t]);const w=async()=>{try{j(!0);const{data:P,error:_}=await re;if(_)throw _;if(s(P),P!=null&&P.society_id){const{data:C,error:L}=await re;if(L)throw L;if(i(C),C!=null&&C.owner_id){const{data:M,error:V}=await re;V&&V.code!=="PGRST116"?console.warn("Could not fetch owner profile:",V):M&&d(M)}const{data:q,error:A}=await re;if(A)throw A;if(h(q||[]),q&&q.length>0){const M=q.map($=>$.user_id),{data:V,error:k}=await re;if(k)console.warn("Could not fetch member profiles:",k);else if(V){const $={};V.forEach(R=>{$[R.id]={user_id:R.id,full_name:R.full_name,phone:R.phone}}),y($)}const T=q.map($=>$.id),{data:z,error:E}=await re;if(E)console.warn("Could not fetch flat details:",E);else if(z){const $={};z.forEach(R=>{$[R.society_member_id]=R}),g($)}}}}catch(P){console.error("Error fetching redevelopment details:",P),N({title:"Error",description:"Failed to load redevelopment details",variant:"destructive"})}finally{j(!1)}};return v?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!r||!a?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"Redevelopment requirement not found"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-5 w-5"}),"Society Information"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Society Details"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-lg",children:a.name}),e.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[a.address,", ",a.city,", ",a.state]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(xe,{variant:"outline",children:[a.total_flats," Flats"]}),a.year_built&&e.jsxs(xe,{variant:"outline",children:["Built ",a.year_built]}),a.society_type&&e.jsx(xe,{variant:"outline",children:a.society_type}),a.condition_status&&e.jsxs(xe,{variant:"secondary",children:[a.condition_status," condition"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Contact Person"}),e.jsxs("div",{className:"space-y-1",children:[(l==null?void 0:l.full_name)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx("span",{children:l.full_name})]}),(l==null?void 0:l.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Pr,{className:"h-4 w-4"}),e.jsx("span",{children:l.phone})]}),a.contact_email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:a.contact_email})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.amenities&&a.amenities.length>0?a.amenities.map((P,_)=>e.jsx(xe,{variant:"outline",className:"text-xs",children:P},_)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No amenities listed"})})]})]})})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"Redevelopment Requirement"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Type"}),e.jsx(xe,{children:r.requirement_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Budget Range"}),e.jsx("p",{className:"text-sm",children:r.budget_range||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Timeline"}),e.jsx("p",{className:"text-sm",children:r.timeline_expectation||"Not specified"})]})]}),r.description&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),e.jsx("p",{className:"text-sm",children:r.description})]}),r.special_needs&&r.special_needs.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Special Requirements"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.special_needs.map((P,_)=>e.jsx(xe,{variant:"outline",className:"text-xs",children:P},_))})]})]})]}),e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-5 w-5"}),"Society Members Details (",u.length," Members)"]}),e.jsx(Qe,{children:"Detailed information about all society members and their flats"})]}),e.jsx(Q,{children:u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No member details available"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ai,{children:[e.jsx(oi,{children:e.jsxs(Bs,{children:[e.jsx(ut,{children:"Flat No."}),e.jsx(ut,{children:"Member Name"}),e.jsx(ut,{children:"Contact"}),e.jsx(ut,{children:"Flat Type"}),e.jsx(ut,{children:"Floor"}),e.jsx(ut,{children:"Carpet Area (sq ft)"}),e.jsx(ut,{children:"Built-up Area (sq ft)"}),e.jsx(ut,{children:"Condition"}),e.jsx(ut,{children:"Ownership Type"}),e.jsx(ut,{children:"Additional Details"})]})}),e.jsx(ii,{children:u.map(P=>{const _=f[P.user_id],C=x[P.id];return e.jsxs(Bs,{children:[e.jsx(mt,{className:"font-medium",children:P.flat_number}),e.jsx(mt,{children:(_==null?void 0:_.full_name)||"N/A"}),e.jsx(mt,{children:(_==null?void 0:_.phone)||"N/A"}),e.jsx(mt,{children:(C==null?void 0:C.flat_type)||"N/A"}),e.jsx(mt,{children:(C==null?void 0:C.floor_number)||"N/A"}),e.jsx(mt,{children:C!=null&&C.carpet_area?`${C.carpet_area} sq ft`:"N/A"}),e.jsx(mt,{children:C!=null&&C.built_up_area?`${C.built_up_area} sq ft`:"N/A"}),e.jsx(mt,{children:C!=null&&C.flat_condition?e.jsx(xe,{variant:"outline",className:"capitalize",children:C.flat_condition}):"N/A"}),e.jsx(mt,{children:C!=null&&C.ownership_type?e.jsx(xe,{variant:"secondary",className:"capitalize",children:C.ownership_type}):"N/A"}),e.jsx(mt,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:(C==null?void 0:C.additional_details)||"",children:(C==null?void 0:C.additional_details)||"N/A"})})]},P.id)})})]})})})]})]})},GF=t=>{if(!t||t==="null"||t==="undefined"||t==="")return"N/A";try{const r=new Date(t);return isNaN(r.getTime())?"N/A":r.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch(r){return console.error("Error formatting date:",t,r),"N/A"}},QF=({className:t})=>{var R,X,Y;const[r,s]=m.useState([]),[a,i]=m.useState(!0),[l,d]=m.useState({status:"",city:"",state:"",minFlats:"",maxFlats:"",sortBy:"createdAt",sortOrder:"desc"}),[u,h]=m.useState(1),[f,y]=m.useState(!0),[x,g]=m.useState(!1),[v,j]=m.useState(null),[N,w]=m.useState({title:"",description:"",corpusAmount:"",rentAmount:"",timeline:"",terms:"",documents:[]}),[P,_]=m.useState(!1),[C,L]=m.useState(!1),q=dr(),A=async(O=1,I=!1)=>{var D;try{const W=new URLSearchParams({page:O.toString(),limit:"12"});l.status&&l.status!=="all"&&W.append("status",l.status),l.city&&W.append("city",l.city),l.state&&W.append("state",l.state),l.minFlats&&W.append("minFlats",l.minFlats),l.maxFlats&&W.append("maxFlats",l.maxFlats),l.sortBy&&W.append("sortBy",l.sortBy),l.sortOrder&&W.append("sortOrder",l.sortOrder);const B=await re.get(`/global-redevelopment/projects?${W}`);console.log("Redevelopment projects API response:",B);const U=((D=B==null?void 0:B.data)==null?void 0:D.projects)||[];console.log("New projects data:",U),U.forEach((se,ue)=>{var ge;console.log(`Project ${ue}:`,{_id:se._id,title:se.title,idType:typeof se._id,idLength:(ge=se._id)==null?void 0:ge.length,isUndefined:se._id==="undefined",isNull:se._id==="null"})});const J=U.filter(se=>{const ue=se._id&&se._id!=="undefined"&&se._id!=="null"&&se._id.trim()!=="";return ue||console.warn("Filtering out project with invalid ID:",se),ue});console.log(`Filtered ${U.length-J.length} projects with invalid IDs`),s(O===1||I?J:se=>[...se,...J]),y(U.length===12)}catch(W){console.error("Error fetching projects:",W),Be({title:"Error",description:"Failed to fetch redevelopment projects. Please try again.",variant:"destructive"})}finally{i(!1)}};m.useEffect(()=>{A()},[l]);const M=(O,I)=>{d(D=>({...D,[O]:I})),h(1)},V=()=>{const O=u+1;h(O),A(O)},k=O=>{if(O.hasProposal){Be({title:"Proposal Already Submitted",description:"You have already submitted a proposal for this project.",variant:"destructive"});return}j(O),w({title:`Proposal for ${O.title}`,description:"",corpusAmount:"",rentAmount:"",timeline:"",terms:"",documents:[]}),g(!0)},T=async O=>{const I=O.target.files;if(!(!I||I.length===0)){_(!0);try{const D=Array.from(I).map(async B=>{if(B.type!=="application/pdf")throw new Error(`${B.name} is not a PDF file. Please upload only PDF documents.`);const U=await re.uploadFile(B);if(U.error)throw new Error(U.error);return{name:B.name,type:"proposal",url:U.data.url}}),W=await Promise.all(D);w(B=>({...B,documents:[...B.documents,...W]})),Be({title:"Documents Uploaded",description:`${W.length} document(s) uploaded successfully.`})}catch(D){console.error("Error uploading documents:",D),Be({title:"Upload Error",description:D.message||"Failed to upload documents. Please try again.",variant:"destructive"})}finally{_(!1),O.target.value=""}}},z=async()=>{var O,I,D;if(v){L(!0);try{const W={title:N.title,description:N.description,fsi:((O=v.society)==null?void 0:O.fsi)||1,corpus:parseFloat(N.corpusAmount)||0,rent:parseFloat(N.rentAmount)||0,timeline:N.timeline,additionalTerms:N.terms,documents:N.documents};await re.post(`/global-redevelopment/projects/${v._id}/proposals`,W),Be({title:"Proposal Submitted",description:"Your proposal has been submitted successfully!"}),g(!1),j(null),w({title:"",description:"",corpusAmount:"",rentAmount:"",timeline:"",terms:"",documents:[]}),A(1,!0)}catch(W){console.error("Error submitting proposal:",W),Be({title:"Error",description:((D=(I=W.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to submit proposal. Please try again.",variant:"destructive"})}finally{L(!1)}}},E=O=>({planning:"bg-blue-500/20 text-blue-800 border-blue-500",tender_open:"bg-yellow-500/20 text-yellow-800 border-yellow-500",proposals_received:"bg-purple-500/20 text-purple-800 border-purple-500",voting:"bg-orange-500/20 text-orange-800 border-orange-500",developer_selected:"bg-green-500/20 text-green-800 border-green-500",construction:"bg-indigo-500/20 text-indigo-800 border-indigo-500",completed:"bg-emerald-500/20 text-emerald-800 border-emerald-500",cancelled:"bg-red-500/20 text-red-800 border-red-500"})[O]||"bg-gray-500/20 text-gray-800 border-gray-500",$=O=>!O||isNaN(O)?"N/A":`${O.toLocaleString("en-IN")}`;return a&&r.length===0?e.jsxs(G,{className:`rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 ${t}`,children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(yt,{className:"h-5 w-5 text-blue-500"}),"Global Redevelopment Projects"]})}),e.jsx(Q,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})})]}):e.jsxs("div",{className:`space-y-6 ${t}`,children:[e.jsx(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(yt,{className:"h-5 w-5 text-blue-500"}),"Global Redevelopment Projects"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover redevelopment opportunities from societies across the platform"})]})}),e.jsxs(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 dark:text-gray-100",children:[e.jsx(Pu,{className:"h-4 w-4 text-blue-500"}),"Filters"]})}),e.jsxs(Q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Status"}),e.jsxs(Xe,{value:l.status,onValueChange:O=>M("status",O),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"All Status"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"planning",children:"Planning"}),e.jsx(te,{value:"tender_open",children:"Tender Open"}),e.jsx(te,{value:"proposals_received",children:"Proposals Received"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"City"}),e.jsx(Se,{placeholder:"Enter city",value:l.city,onChange:O=>M("city",O.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"State"}),e.jsx(Se,{placeholder:"Enter state",value:l.state,onChange:O=>M("state",O.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Sort By"}),e.jsxs(Xe,{value:l.sortBy,onValueChange:O=>M("sortBy",O),children:[e.jsx(Ye,{children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"createdAt",children:"Date Created"}),e.jsx(te,{value:"totalFlats",children:"Total Flats"}),e.jsx(te,{value:"title",children:"Title"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Min Flats"}),e.jsx(Se,{type:"number",placeholder:"Minimum flats",value:l.minFlats,onChange:O=>M("minFlats",O.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Max Flats"}),e.jsx(Se,{type:"number",placeholder:"Maximum flats",value:l.maxFlats,onChange:O=>M("maxFlats",O.target.value)})]})]})]})]}),r.length===0?e.jsx(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800",children:e.jsxs(Q,{className:"text-center py-12",children:[e.jsx(yt,{className:"h-16 w-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No projects found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No redevelopment projects match your current filters."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(O=>{var I,D;return e.jsxs(G,{className:"rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs(ye,{className:"text-lg font-bold text-gray-800 dark:text-gray-100 line-clamp-2",children:[O.title,O.hasProposal&&e.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Proposal Sent)"})]}),e.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[e.jsx(xe,{className:`border ${E(O.status)} text-xs px-2 py-1`,children:O.status.replace("_"," ")}),(O.status==="voting"||O.status==="developer_selected"||O.status==="construction"||O.status==="completed"||O.status==="cancelled")&&e.jsx(xe,{variant:"outline",className:"text-xs px-2 py-1 bg-orange-50 text-orange-700 border-orange-200",children:"Submission Closed"})]})]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(yt,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:O.society.name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Mt,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{children:[O.society.city,", ",O.society.state]})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3",children:O.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yt,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[O.society.totalFlats||0," Flats"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($a,{className:"h-4 w-4 text-purple-500"}),e.jsxs("span",{children:["FSI: ",((I=O.society)==null?void 0:I.fsi)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:GF(O.expectedCompletion)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{children:["Status: ",O.status.replace("_"," ")]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 mb-2",children:"Requirements"}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:["Corpus: ",$(O.corpusAmount)]}),e.jsxs("div",{children:["Rent: ",O.rentAmount?`${$(O.rentAmount)}/month`:"N/A"]}),e.jsxs("div",{children:["Amenities: ",(D=O.society)!=null&&D.amenities&&O.society.amenities.length>0?O.society.amenities.slice(0,2).join(", ")+(O.society.amenities.length>2?"...":""):"N/A"]})]})]}),O.hasProposal&&e.jsx("div",{className:`border rounded-lg p-2 ${O.proposalStatus==="submitted"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":O.proposalStatus==="shortlisted"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":O.proposalStatus==="selected"?"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800":O.proposalStatus==="rejected"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}`,children:e.jsxs("div",{className:`text-xs ${O.proposalStatus==="submitted"?"text-blue-700 dark:text-blue-300":O.proposalStatus==="shortlisted"?"text-green-700 dark:text-green-300":O.proposalStatus==="selected"?"text-purple-700 dark:text-purple-300":O.proposalStatus==="rejected"?"text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300"}`,children:[e.jsx("strong",{children:"Your Proposal:"})," ",O.proposalStatus==="submitted"?"Submitted ":O.proposalStatus==="shortlisted"?"Shortlisted ":O.proposalStatus==="selected"?"Selected ":O.proposalStatus==="rejected"?"Not Selected":"Under Review"]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{var W;if(console.log("View Details clicked for project:",O),console.log("Project _id:",O._id),console.log("Project keys:",Object.keys(O)),console.log("Project type:",typeof O._id),console.log("Project _id length:",(W=O._id)==null?void 0:W.length),!O._id||O._id==="undefined"||O._id==="null"||O._id.trim()===""){console.error("Project _id is invalid:",O._id),Be({title:"Invalid Project",description:"This project has an invalid ID and cannot be viewed.",variant:"destructive"});return}console.log("Navigating to project:",O._id),q(`/project/${O._id}`)},className:"flex-1",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Details"]}),(()=>{const W=O.status==="voting"||O.status==="developer_selected"||O.status==="construction"||O.status==="completed"||O.status==="cancelled";return O.hasProposal?e.jsxs(H,{size:"sm",disabled:!0,className:`flex-1 ${O.proposalStatus==="submitted"?"bg-blue-100 text-blue-700 border-blue-200":O.proposalStatus==="shortlisted"?"bg-green-100 text-green-700 border-green-200":O.proposalStatus==="selected"?"bg-purple-100 text-purple-700 border-purple-200":O.proposalStatus==="rejected"?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"}`,title:"You have already submitted a proposal for this project",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),O.proposalStatus==="submitted"?"Already Sent ":O.proposalStatus==="shortlisted"?"Shortlisted ":O.proposalStatus==="selected"?"Selected ":O.proposalStatus==="rejected"?"Not Selected":"Under Review"]}):W?e.jsxs(H,{size:"sm",disabled:!0,className:"flex-1 bg-gray-100 text-gray-600 border-gray-200",title:O.status==="voting"?"Proposal submission closed - voting has started":O.status==="developer_selected"?"Developer has already been selected":O.status==="construction"?"Project is under construction":O.status==="completed"?"Project is completed":O.status==="cancelled"?"Project has been cancelled":"Submission deadline has passed",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),O.status==="voting"?"Voting Active":O.status==="developer_selected"?"Developer Selected":O.status==="construction"?"Under Construction":O.status==="completed"?"Completed":O.status==="cancelled"?"Cancelled":"Submission Closed"]}):e.jsxs(H,{size:"sm",onClick:()=>{console.log("Submit Proposal clicked for project:",O._id),k(O)},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Submit Proposal"]})})()]})]})]},O._id)})}),f&&e.jsx("div",{className:"text-center",children:e.jsx(H,{variant:"outline",onClick:V,disabled:a,className:"px-8 py-2",children:a?"Loading...":"Load More Projects"})}),x&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Submit Proposal"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:e.jsx(Et,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:v.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mt,{className:"h-4 w-4"}),(R=v.society)==null?void 0:R.city,", ",(X=v.society)==null?void 0:X.state]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(yt,{className:"h-4 w-4"}),(Y=v.society)==null?void 0:Y.totalFlats," Flats"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"proposal-title",children:"Proposal Title"}),e.jsx(Se,{id:"proposal-title",value:N.title,onChange:O=>w(I=>({...I,title:O.target.value})),placeholder:"Enter proposal title"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"proposal-description",children:"Description"}),e.jsx(Zt,{id:"proposal-description",value:N.description,onChange:O=>w(I=>({...I,description:O.target.value})),placeholder:"Describe your proposal in detail...",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"corpus-amount",children:"Corpus Amount ()"}),e.jsx(Se,{id:"corpus-amount",type:"number",value:N.corpusAmount,onChange:O=>w(I=>({...I,corpusAmount:O.target.value})),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"rent-amount",children:"Rent Amount ()"}),e.jsx(Se,{id:"rent-amount",type:"number",value:N.rentAmount,onChange:O=>w(I=>({...I,rentAmount:O.target.value})),placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"timeline",children:"Timeline"}),e.jsx(Se,{id:"timeline",value:N.timeline,onChange:O=>w(I=>({...I,timeline:O.target.value})),placeholder:"e.g., 24 months"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"terms",children:"Terms & Conditions"}),e.jsx(Zt,{id:"terms",value:N.terms,onChange:O=>w(I=>({...I,terms:O.target.value})),placeholder:"Enter any specific terms and conditions...",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Supporting Documents (PDF only)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[e.jsx("input",{type:"file",accept:".pdf",multiple:!0,onChange:T,disabled:P,className:"hidden",id:"document-upload"}),e.jsxs("label",{htmlFor:"document-upload",className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 p-4 rounded-lg transition-colors",children:[e.jsx(Si,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:P?"Uploading...":"Click to upload PDF documents"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Upload proposal documents, certificates, or other supporting materials"})]})]}),N.documents.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Uploaded Documents:"}),e.jsx("div",{className:"space-y-2",children:N.documents.map((O,I)=>e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-3 rounded-lg",children:[e.jsx(xt,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:O.name}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[O.type," Document"]})]})]},I))})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t",children:[e.jsx(H,{variant:"outline",onClick:()=>g(!1),disabled:C,children:"Cancel"}),e.jsx(H,{onClick:z,disabled:C||!N.title||!N.description,className:"bg-blue-500 hover:bg-blue-600",children:C?"Submitting...":"Submit Proposal"})]})]})})]})},XF=({url:t,name:r})=>{const[s,a]=m.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),r]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5 text-red-500"}),r]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>window.open(t,"_blank"),className:"gap-2",children:[e.jsx(RE,{className:"h-4 w-4"}),"Open in New Tab"]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>a(!1),children:e.jsx(Et,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"p-4 h-[calc(90vh-120px)]",children:e.jsx("iframe",{src:t,className:"w-full h-full border rounded",title:r})})]})})]})},JF=()=>{const[t,r]=m.useState(null),[s,a]=m.useState([]),[i,l]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState([]),[y,x]=m.useState([]),[g,v]=m.useState({totalProjects:0,activeProjects:0,totalProperties:0,totalInquiries:0,completedProjects:0,totalProposals:0,acceptedProposals:0}),[j,N]=m.useState([]),[w,P]=m.useState([]),[_,C]=m.useState(!1),[L,q]=m.useState(null),[A,M]=m.useState(null),[V,k]=m.useState(!0),[T,z]=m.useState(!1),[E,$]=m.useState(!1),[R,X]=m.useState(null),{profile:Y}=It(),{toast:O}=ot();m.useEffect(()=>{Y&&I()},[Y==null?void 0:Y.id,Y==null?void 0:Y.user]);const I=async(de=!1)=>{var he,fe,we,Oe,Te,pt,Ot;const le=(Y==null?void 0:Y.id)||(Y==null?void 0:Y.user);if(!Y||!le){k(!1);return}try{de?z(!0):k(!0);const Yt=new AbortController,or=setTimeout(()=>Yt.abort(),5e3),[Bt,er,ae,Le,ie,_e]=await Promise.allSettled([re.getMyDeveloperProfile(),re.getMyProjects(),re.getProperties({owner_id:le}),re.getMyInquiries(),re.getMyPropertyInquiries(),re.getDeveloperProposals()]);if(clearTimeout(or),Bt.status==="fulfilled"&&!Bt.value.error?r(((he=Bt.value.data)==null?void 0:he.developer)||null):r(null),er.status==="fulfilled"&&!er.value.error){const Ie=(((fe=er.value.data)==null?void 0:fe.projects)||[]).map(wt=>({...wt,id:wt._id||wt.id}));a(Ie);const Ze=Ie.filter(wt=>["planning","under_construction","ready_to_move"].includes(wt.status)).length,ht=Ie.filter(wt=>wt.status==="completed").length;v(wt=>({...wt,totalProjects:Ie.length,activeProjects:Ze,completedProjects:ht}))}else a([]);if(ae.status==="fulfilled"&&!ae.value.error){const Ae=((we=ae.value.data)==null?void 0:we.properties)||[];l(Ae),v(Ie=>({...Ie,totalProperties:Ae.length}))}else l([]);if(Le.status==="fulfilled"&&!Le.value.error){const Ae=((Oe=Le.value.data)==null?void 0:Oe.inquiries)||[];u(Ae),v(Ie=>({...Ie,totalInquiries:Ae.length}))}else u([]);if(ie.status==="fulfilled"&&!ie.value.error){const Ae=((Te=ie.value.data)==null?void 0:Te.inquiries)||[];f(Ae),v(Ie=>({...Ie,totalInquiries:Ie.totalInquiries+Ae.length}))}else f([]);try{const Ae=await re.getMyProjectInquiries();if(Ae.error)x([]);else{const Ie=((pt=Ae.data)==null?void 0:pt.inquiries)||[];x(Ie),v(Ze=>({...Ze,totalInquiries:Ze.totalInquiries+Ie.length}))}}catch(Ae){console.error("Error fetching project inquiries:",Ae),x([])}if(_e.status==="fulfilled"&&!_e.value.error){const Ae=((Ot=_e.value.data)==null?void 0:Ot.proposals)||[];P(Ae);const Ie=Ae.length,Ze=Ae.filter(ht=>ht.status==="selected").length;v(ht=>({...ht,totalProposals:Ie,acceptedProposals:Ze}))}else P([])}catch(Yt){console.error("Error fetching developer dashboard data:",Yt),r(null),a([]),l([]),u([]),f([]),x([]),P([]),N([]),v({totalProjects:0,totalProperties:0,activeProjects:0,completedProjects:0,totalInquiries:0,totalProposals:0,acceptedProposals:0})}finally{k(!1),z(!1)}},D=()=>{I(!0)},W=()=>{X(null),$(!0)},B=de=>{X(de),$(!0)},U=async de=>{if(confirm("Are you sure you want to delete this project?"))try{const le=await re.deleteProject(de);le.error?O({title:"Error",description:le.error||"Failed to delete project",variant:"destructive"}):(O({title:"Success",description:"Project deleted successfully"}),I(!0))}catch(le){console.error("Error deleting project:",le),O({title:"Error",description:"Failed to delete project",variant:"destructive"})}},J=()=>{$(!1),X(null),I(!0)},se=async()=>{if(Y)try{const{data:de,error:le}=await re.createDeveloper({companyName:Y.companyName||"My Development Company",companyDescription:"A professional development company",establishedYear:new Date().getFullYear()});if(le)throw le;r(de),O({title:"Success",description:"Developer profile created! Please complete your company information."})}catch{O({title:"Error",description:"Failed to create developer profile",variant:"destructive"})}},ue=de=>{switch(de){case"ongoing":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"planned":return"bg-yellow-100 text-yellow-800";case"on_hold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ge=de=>{switch(de){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},oe=async de=>{if(window.confirm("Are you sure you want to delete this property? This action cannot be undone."))try{const{error:le}=await re.deleteProperty(de);if(le)throw le;l(he=>he.filter(fe=>fe.id!==de)),O({title:"Success",description:"Property deleted successfully"})}catch(le){console.error("Error deleting property:",le),O({title:"Error",description:"Failed to delete property",variant:"destructive"})}};return V?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"}),e.jsx(Da,{className:"h-6 w-6 text-blue-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-6 text-lg font-medium",children:"Loading your developer dashboard..."})]})})})]}):t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 text-gray-900 dark:text-gray-100",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight lg:text-5xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 flex items-center gap-3",children:[e.jsx(Da,{className:"h-10 w-10 text-blue-500 animate-pulse"}),"Developer Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium",children:t.company_name}),t.verification_status==="pending"&&e.jsxs(xe,{className:"px-3 py-1 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 shadow-md",children:[e.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Pending Verification"]}),t.verification_status==="verified"&&e.jsxs(xe,{className:"px-3 py-1 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md",children:[e.jsx($n,{className:"w-3 h-3 mr-1"}),"Verified"]}),t.verification_status==="rejected"&&e.jsxs(xe,{className:"px-3 py-1 rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-white border-0 shadow-md",children:[e.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Verification Rejected"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:D,disabled:T,className:"px-4 py-2 rounded-full bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm shadow-lg hover:bg-white/70 dark:hover:bg-gray-700/70 transition-all duration-300 group disabled:opacity-50",children:[T?e.jsx(Cr,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(La,{className:"h-4 w-4 mr-2 group-hover:rotate-180 transition-transform duration-500"}),T?"Refreshing...":"Refresh Data"]}),e.jsx(H,{asChild:!0,className:"px-4 py-2 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-green-500/30 transition-all duration-300 group",children:e.jsxs(He,{to:"/post-property",children:[e.jsx(us,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform"}),"Post New Property"]})}),e.jsxs(H,{onClick:W,className:"px-4 py-2 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group",children:[e.jsx(us,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform"}),"Add Project"]})]})]}),t.verification_status==="pending"&&e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-950 dark:to-orange-950",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 dark:from-yellow-900/20 dark:to-orange-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-yellow-500/20 dark:bg-yellow-700/30 backdrop-blur-sm",children:e.jsx(Ht,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Profile Under Verification"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Your developer profile is being verified by our team. This helps build trust with potential customers."})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-950 dark:to-indigo-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-indigo-500/40",children:[e.jsx("div",{className:"absolute -top-8 -left-8 h-24 w-24 rounded-full bg-indigo-400/20 dark:bg-indigo-600/20 blur-xl animate-pulse-slow delay-200"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-800 dark:text-indigo-200",children:"Properties Listed"}),e.jsx("div",{className:"p-2 rounded-full bg-indigo-500/20 dark:bg-indigo-700/30 backdrop-blur-sm",children:e.jsx(_t,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-indigo-900 dark:text-indigo-100 leading-none",children:g.totalProperties}),e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 mt-2",children:"Properties listed"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-purple-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -right-8 h-24 w-24 rounded-full bg-purple-400/20 dark:bg-purple-600/20 blur-xl animate-pulse-slow delay-300"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Project Listed"}),e.jsx("div",{className:"p-2 rounded-full bg-purple-500/20 dark:bg-purple-700/30 backdrop-blur-sm",children:e.jsx($t,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-purple-900 dark:text-purple-100 leading-none",children:g.totalProjects}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:"Projects Listed"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950 dark:to-teal-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-teal-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -left-8 h-24 w-24 rounded-full bg-teal-400/20 dark:bg-teal-600/20 blur-xl animate-pulse-slow delay-500"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-teal-800 dark:text-teal-200",children:"Total Proposals"}),e.jsx("div",{className:"p-2 rounded-full bg-teal-500/20 dark:bg-teal-700/30 backdrop-blur-sm",children:e.jsx(fy,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-teal-900 dark:text-teal-100 leading-none",children:g.totalProposals}),e.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300 mt-2",children:"Proposals submitted"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-emerald-500/40",children:[e.jsx("div",{className:"absolute -top-8 -left-8 h-24 w-24 rounded-full bg-emerald-400/20 dark:bg-emerald-600/20 blur-xl animate-pulse-slow delay-600"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-emerald-800 dark:text-emerald-200",children:"Accepted Proposals"}),e.jsx("div",{className:"p-2 rounded-full bg-emerald-500/20 dark:bg-emerald-700/30 backdrop-blur-sm",children:e.jsx(bt,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})})]}),e.jsx("p",{className:"text-3xl font-extrabold text-emerald-900 dark:text-emerald-100 leading-none",children:g.acceptedProposals}),e.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-2",children:"Successfully accepted"})]})]})]}),e.jsxs(hs,{defaultValue:"company",className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full grid-cols-5 h-auto p-1 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 dark:from-gray-700/20 dark:to-gray-800/20 rounded-xl shadow-inner border border-gray-200 dark:border-gray-700",children:[e.jsxs(Ge,{value:"company",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-indigo-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-blue-400 dark:data-[state=active]:border-blue-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-300 text-xs md:text-sm",children:[e.jsx(xr,{className:"h-3 w-3 mr-1 md:mr-2"})," Company"]}),e.jsxs(Ge,{value:"projects",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-green-400 dark:data-[state=active]:border-green-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-300 text-xs md:text-sm",children:[e.jsx(Wd,{className:"h-3 w-3 mr-1 md:mr-2"})," Projects"]}),e.jsxs(Ge,{value:"properties",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-indigo-400 dark:data-[state=active]:border-indigo-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-300 text-xs md:text-sm",children:[e.jsx(_t,{className:"h-3 w-3 mr-1 md:mr-2"})," Properties"]}),e.jsxs(Ge,{value:"redevelopment",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-orange-400 dark:data-[state=active]:border-orange-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-orange-600 dark:hover:text-orange-300 text-xs md:text-sm",children:[e.jsx(fy,{className:"h-3 w-3 mr-1 md:mr-2"})," Redevelopment"]}),e.jsxs(Ge,{value:"inquiries",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-purple-400 dark:data-[state=active]:border-purple-700 rounded-lg py-2 px-3 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-300 text-xs md:text-sm",children:[e.jsx($t,{className:"h-3 w-3 mr-1 md:mr-2"})," Inquiries"]})]}),e.jsx(st,{value:"projects",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Development Projects"}),e.jsx(Qe,{children:"Manage your residential and commercial projects"})]}),e.jsx(Q,{children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start showcasing your development projects"}),e.jsx(H,{onClick:W,children:"Add First Project"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((de,le)=>{var he,fe,we,Oe;return e.jsxs(G,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-blue-500/20 group",children:[e.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 relative overflow-hidden",children:[(fe=(he=de.images)==null?void 0:he[0])!=null&&fe.url?e.jsx("img",{src:de.images[0].url,alt:de.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:Te=>{Te.currentTarget.src="/placeholder.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(xr,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-xl line-clamp-1 text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:de.name}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"line-clamp-1",children:typeof de.location=="object"?`${((we=de.location)==null?void 0:we.city)||""}${(Oe=de.location)!=null&&Oe.state?", "+de.location.state:""}`.trim()||"Location not specified":de.location||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:de.price_range}),e.jsx(xe,{className:ue(de.status),children:de.status.replace("_"," ")})]}),de.completion_date&&e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Jt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Completion: ",new Date(de.completion_date).toLocaleDateString()]})]}),de.documents&&de.documents.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-medium",children:["Documents (",de.documents.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:de.documents.map((Te,pt)=>e.jsx(XF,{url:Te.url,name:Te.name},pt))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-200 hover:border-blue-300 text-blue-700 hover:text-blue-800 transition-all duration-300",children:e.jsxs(He,{to:`/project/${de.id}`,children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),"View"]})}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>B(de),className:"bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 hover:border-green-300 text-green-700 hover:text-green-800 transition-all duration-300",children:[e.jsx(Gl,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(H,{size:"sm",variant:"destructive",onClick:()=>U(de.id),className:"bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border-red-200 hover:border-red-300 text-red-700 hover:text-red-800 transition-all duration-300",children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})]},de.id||de._id||`project-${le}`)})})})]})}),e.jsx(st,{value:"properties",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"My Properties"}),e.jsx(Qe,{children:"Manage your property listings"})]}),e.jsx(Q,{children:i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No properties listed yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by listing your first property!"}),e.jsx(H,{asChild:!0,children:e.jsx(He,{to:"/post-property",children:"List Property"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((de,le)=>{var he,fe,we;return e.jsxs(G,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-indigo-500/20 group",children:[e.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 relative overflow-hidden",children:[(he=de.images)!=null&&he[0]?e.jsx("img",{src:de.images[0],alt:de.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(_t,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-xl line-clamp-1 text-gray-900 dark:text-gray-100 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:de.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"line-clamp-1",children:typeof de.location=="object"?`${((fe=de.location)==null?void 0:fe.address)||""}${(we=de.location)!=null&&we.city?", "+de.location.city:""}`.trim()||de.city||"Location not specified":`${de.location||""}${de.city?", "+de.city:""}`.trim()||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-primary",children:[e.jsx(Yn,{className:"w-4 h-4"}),e.jsx("span",{children:de.price.toLocaleString()})]}),e.jsx(xe,{className:ge(de.status),children:de.status})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(xe,{variant:"outline",className:"capitalize text-xs",children:de.property_type}),e.jsxs(xe,{variant:"outline",className:"capitalize text-xs",children:["For ",de.listing_type]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"flex-1 bg-gradient-to-r from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 border-indigo-200 hover:border-indigo-300 text-indigo-700 hover:text-indigo-800 transition-all duration-300",children:e.jsxs(He,{to:`/property/${de.id}`,children:[e.jsx(Br,{className:"w-4 h-4 mr-1"}),"View"]})}),e.jsx(H,{asChild:!0,size:"sm",variant:"outline",className:"bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 hover:border-green-300 text-green-700 hover:text-green-800 transition-all duration-300",children:e.jsx(He,{to:`/edit-property/${de.id}`,children:e.jsx(Gl,{className:"w-4 h-4"})})}),e.jsx(H,{size:"sm",variant:"outline",onClick:()=>oe(de.id),className:"bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border-red-200 hover:border-red-300 text-red-700 hover:text-red-800 transition-all duration-300",children:e.jsx(Gs,{className:"w-4 h-4"})})]})]})})]},de.id||de._id||`property-${le}`)})})})]})}),e.jsx(st,{value:"redevelopment",className:"space-y-4",children:e.jsx(QF,{})}),e.jsx(st,{value:"inquiries",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx($t,{className:"h-5 w-5"}),"My Inquiries"]}),e.jsx(Qe,{children:"Inquiries you've made to property owners"})]}),e.jsx(Q,{children:e.jsx(zl,{inquiries:d,type:"sent",onRefresh:I})})]}),e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"Property Inquiries"]}),e.jsx(Qe,{children:"Inquiries about your listed properties"})]}),e.jsx(Q,{children:e.jsx(zl,{inquiries:h,type:"received",onRefresh:I})})]}),e.jsxs(G,{className:"lg:col-span-2",children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-5 w-5"}),"Project Inquiries"]}),e.jsx(Qe,{children:"Inquiries about your development projects"})]}),e.jsx(Q,{children:e.jsx(zl,{inquiries:y,type:"received",onRefresh:I})})]})]})}),e.jsx(st,{value:"company",className:"space-y-4",children:e.jsx(WF,{onUpdate:I,existingProfile:t})})]}),_&&L&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Submit Proposal"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{C(!1),q(null)},children:e.jsx(Et,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(YF,{requirementId:L,onSuccess:()=>{C(!1),q(null),I()}})})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-7xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center sticky top-0 bg-background z-10",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Redevelopment Details"}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>M(null),children:e.jsx(Et,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(KF,{requirementId:A})})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsx(HF,{onSuccess:J,onCancel:()=>{$(!1),X(null)},existingProject:R})})})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 text-gray-900 dark:text-gray-100",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"text-center p-12",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(xr,{className:"h-20 w-20 text-blue-500 mx-auto animate-bounce-slow"}),e.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Da,{className:"h-3 w-3 text-yellow-800 animate-pulse"})})]}),e.jsx(ye,{className:"text-4xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"Welcome to Your Developer Dashboard"}),e.jsx(Qe,{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Set up your developer profile to showcase your projects, manage inquiries, and connect with potential clients in the real estate market."})]}),e.jsxs(Q,{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx(xr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:"Project Showcase"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Display your residential and commercial development projects with stunning visuals and detailed information."})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-gray-900 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-500/20 dark:bg-green-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx($t,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:"Inquiry Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Handle customer inquiries and project interest efficiently with our integrated communication tools."})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 dark:from-purple-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-6 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-500/20 dark:bg-purple-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx($a,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 mb-2",children:"Performance Analytics"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track project views, inquiries, and customer engagement with detailed analytics and insights."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(H,{onClick:se,size:"lg",className:"px-8 py-4 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group text-lg font-semibold",children:[e.jsx(Vl,{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform"}),"Set Up Developer Profile",e.jsx(Bn,{className:"h-5 w-5 ml-3 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]}),e.jsx(H,{asChild:!0,variant:"outline",size:"lg",className:"px-8 py-4 rounded-full border-blue-400 dark:border-blue-600 bg-blue-50/50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-800/50 shadow-lg transition-all duration-300 group text-lg font-semibold",children:e.jsxs(He,{to:"/projects",children:[e.jsx(Br,{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform"}),"View All Projects",e.jsx(Bn,{className:"h-5 w-5 ml-3 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})})]})]})]})})})]})};var nt=function(){return nt=Object.assign||function(r){for(var s,a=1,i=arguments.length;a<i;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},nt.apply(this,arguments)};function ZF(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s}function ik(t,r,s){for(var a=0,i=r.length,l;a<i;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return t.concat(l||Array.prototype.slice.call(r))}function gc(t){return t.mode==="multiple"}function vc(t){return t.mode==="range"}function cm(t){return t.mode==="single"}var e8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function t8(t,r){return Qn(t,"LLLL y",r)}function r8(t,r){return Qn(t,"d",r)}function s8(t,r){return Qn(t,"LLLL",r)}function n8(t){return"".concat(t)}function a8(t,r){return Qn(t,"cccccc",r)}function o8(t,r){return Qn(t,"yyyy",r)}var i8=Object.freeze({__proto__:null,formatCaption:t8,formatDay:r8,formatMonthCaption:s8,formatWeekNumber:n8,formatWeekdayName:a8,formatYearCaption:o8}),l8=function(t,r,s){return Qn(t,"do MMMM (EEEE)",s)},c8=function(){return"Month: "},d8=function(){return"Go to next month"},u8=function(){return"Go to previous month"},m8=function(t,r){return Qn(t,"cccc",r)},h8=function(t){return"Week n. ".concat(t)},f8=function(){return"Year: "},p8=Object.freeze({__proto__:null,labelDay:l8,labelMonthDropdown:c8,labelNext:d8,labelPrevious:u8,labelWeekNumber:h8,labelWeekday:m8,labelYearDropdown:f8});function x8(){var t="buttons",r=e8,s=wx,a={},i={},l=1,d={},u=new Date;return{captionLayout:t,classNames:r,formatters:i8,labels:p8,locale:s,modifiersClassNames:a,modifiers:i,numberOfMonths:l,styles:d,today:u,mode:"default"}}function g8(t){var r=t.fromYear,s=t.toYear,a=t.fromMonth,i=t.toMonth,l=t.fromDate,d=t.toDate;return a?l=rs(a):r&&(l=new Date(r,0,1)),i?d=Hu(i):s&&(d=new Date(s,11,31)),{fromDate:l?_i(l):void 0,toDate:d?_i(d):void 0}}var lk=m.createContext(void 0);function v8(t){var r,s=t.initialProps,a=x8(),i=g8(s),l=i.fromDate,d=i.toDate,u=(r=s.captionLayout)!==null&&r!==void 0?r:a.captionLayout;u!=="buttons"&&(!l||!d)&&(u="buttons");var h;(cm(s)||gc(s)||vc(s))&&(h=s.onSelect);var f=nt(nt(nt({},a),s),{captionLayout:u,classNames:nt(nt({},a.classNames),s.classNames),components:nt({},s.components),formatters:nt(nt({},a.formatters),s.formatters),fromDate:l,labels:nt(nt({},a.labels),s.labels),mode:s.mode||a.mode,modifiers:nt(nt({},a.modifiers),s.modifiers),modifiersClassNames:nt(nt({},a.modifiersClassNames),s.modifiersClassNames),onSelect:h,styles:nt(nt({},a.styles),s.styles),toDate:d});return e.jsx(lk.Provider,{value:f,children:t.children})}function Vt(){var t=m.useContext(lk);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function ck(t){var r=Vt(),s=r.locale,a=r.classNames,i=r.styles,l=r.formatters.formatCaption;return e.jsx("div",{className:a.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:l(t.displayMonth,{locale:s})})}function y8(t){return e.jsx("svg",nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function dk(t){var r,s,a=t.onChange,i=t.value,l=t.children,d=t.caption,u=t.className,h=t.style,f=Vt(),y=(s=(r=f.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&s!==void 0?s:y8;return e.jsxs("div",{className:u,style:h,children:[e.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:a,children:l}),e.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[d,e.jsx(y,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function b8(t){var r,s=Vt(),a=s.fromDate,i=s.toDate,l=s.styles,d=s.locale,u=s.formatters.formatMonthCaption,h=s.classNames,f=s.components,y=s.labels.labelMonthDropdown;if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});var x=[];if(O6(a,i))for(var g=rs(a),v=a.getMonth();v<=i.getMonth();v++)x.push(kf(g,v));else for(var g=rs(new Date),v=0;v<=11;v++)x.push(kf(g,v));var j=function(w){var P=Number(w.target.value),_=kf(rs(t.displayMonth),P);t.onChange(_)},N=(r=f==null?void 0:f.Dropdown)!==null&&r!==void 0?r:dk;return e.jsx(N,{name:"months","aria-label":y(),className:h.dropdown_month,style:l.dropdown_month,onChange:j,value:t.displayMonth.getMonth(),caption:u(t.displayMonth,{locale:d}),children:x.map(function(w){return e.jsx("option",{value:w.getMonth(),children:u(w,{locale:d})},w.getMonth())})})}function j8(t){var r,s=t.displayMonth,a=Vt(),i=a.fromDate,l=a.toDate,d=a.locale,u=a.styles,h=a.classNames,f=a.components,y=a.formatters.formatYearCaption,x=a.labels.labelYearDropdown,g=[];if(!i)return e.jsx(e.Fragment,{});if(!l)return e.jsx(e.Fragment,{});for(var v=i.getFullYear(),j=l.getFullYear(),N=v;N<=j;N++)g.push(Zy(s1(new Date),N));var w=function(_){var C=Zy(rs(s),Number(_.target.value));t.onChange(C)},P=(r=f==null?void 0:f.Dropdown)!==null&&r!==void 0?r:dk;return e.jsx(P,{name:"years","aria-label":x(),className:h.dropdown_year,style:u.dropdown_year,onChange:w,value:s.getFullYear(),caption:y(s,{locale:d}),children:g.map(function(_){return e.jsx("option",{value:_.getFullYear(),children:y(_,{locale:d})},_.getFullYear())})})}function w8(t,r){var s=m.useState(t),a=s[0],i=s[1],l=r===void 0?a:r;return[l,i]}function N8(t){var r=t.month,s=t.defaultMonth,a=t.today,i=r||s||a||new Date,l=t.toDate,d=t.fromDate,u=t.numberOfMonths,h=u===void 0?1:u;if(l&&Ri(l,i)<0){var f=-1*(h-1);i=Js(l,f)}return d&&Ri(i,d)<0&&(i=d),rs(i)}function S8(){var t=Vt(),r=N8(t),s=w8(r,t.month),a=s[0],i=s[1],l=function(d){var u;if(!t.disableNavigation){var h=rs(d);i(h),(u=t.onMonthChange)===null||u===void 0||u.call(t,h)}};return[a,l]}function k8(t,r){for(var s=r.reverseMonths,a=r.numberOfMonths,i=rs(t),l=rs(Js(i,a)),d=Ri(l,i),u=[],h=0;h<d;h++){var f=Js(i,h);u.push(f)}return s&&(u=u.reverse()),u}function C8(t,r){if(!r.disableNavigation){var s=r.toDate,a=r.pagedNavigation,i=r.numberOfMonths,l=i===void 0?1:i,d=a?l:1,u=rs(t);if(!s)return Js(u,d);var h=Ri(s,t);if(!(h<l))return Js(u,d)}}function P8(t,r){if(!r.disableNavigation){var s=r.fromDate,a=r.pagedNavigation,i=r.numberOfMonths,l=i===void 0?1:i,d=a?l:1,u=rs(t);if(!s)return Js(u,-d);var h=Ri(u,s);if(!(h<=0))return Js(u,-d)}}var uk=m.createContext(void 0);function _8(t){var r=Vt(),s=S8(),a=s[0],i=s[1],l=k8(a,r),d=C8(a,r),u=P8(a,r),h=function(x){return l.some(function(g){return Nx(x,g)})},f=function(x,g){h(x)||(g&&c1(x,g)?i(Js(x,1+r.numberOfMonths*-1)):i(x))},y={currentMonth:a,displayMonths:l,goToMonth:i,goToDate:f,previousMonth:u,nextMonth:d,isDateDisplayed:h};return e.jsx(uk.Provider,{value:y,children:t.children})}function yc(){var t=m.useContext(uk);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function lb(t){var r,s=Vt(),a=s.classNames,i=s.styles,l=s.components,d=yc().goToMonth,u=function(y){d(Js(y,t.displayIndex?-t.displayIndex:0))},h=(r=l==null?void 0:l.CaptionLabel)!==null&&r!==void 0?r:ck,f=e.jsx(h,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:a.caption_dropdowns,style:i.caption_dropdowns,children:[e.jsx("div",{className:a.vhidden,children:f}),e.jsx(b8,{onChange:u,displayMonth:t.displayMonth}),e.jsx(j8,{onChange:u,displayMonth:t.displayMonth})]})}function E8(t){return e.jsx("svg",nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function R8(t){return e.jsx("svg",nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var vu=m.forwardRef(function(t,r){var s=Vt(),a=s.classNames,i=s.styles,l=[a.button_reset,a.button];t.className&&l.push(t.className);var d=l.join(" "),u=nt(nt({},i.button_reset),i.button);return t.style&&Object.assign(u,t.style),e.jsx("button",nt({},t,{ref:r,type:"button",className:d,style:u}))});function T8(t){var r,s,a=Vt(),i=a.dir,l=a.locale,d=a.classNames,u=a.styles,h=a.labels,f=h.labelPrevious,y=h.labelNext,x=a.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var g=f(t.previousMonth,{locale:l}),v=[d.nav_button,d.nav_button_previous].join(" "),j=y(t.nextMonth,{locale:l}),N=[d.nav_button,d.nav_button_next].join(" "),w=(r=x==null?void 0:x.IconRight)!==null&&r!==void 0?r:R8,P=(s=x==null?void 0:x.IconLeft)!==null&&s!==void 0?s:E8;return e.jsxs("div",{className:d.nav,style:u.nav,children:[!t.hidePrevious&&e.jsx(vu,{name:"previous-month","aria-label":g,className:v,style:u.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?e.jsx(w,{className:d.nav_icon,style:u.nav_icon}):e.jsx(P,{className:d.nav_icon,style:u.nav_icon})}),!t.hideNext&&e.jsx(vu,{name:"next-month","aria-label":j,className:N,style:u.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?e.jsx(P,{className:d.nav_icon,style:u.nav_icon}):e.jsx(w,{className:d.nav_icon,style:u.nav_icon})})]})}function cb(t){var r=Vt().numberOfMonths,s=yc(),a=s.previousMonth,i=s.nextMonth,l=s.goToMonth,d=s.displayMonths,u=d.findIndex(function(j){return Nx(t.displayMonth,j)}),h=u===0,f=u===d.length-1,y=r>1&&(h||!f),x=r>1&&(f||!h),g=function(){a&&l(a)},v=function(){i&&l(i)};return e.jsx(T8,{displayMonth:t.displayMonth,hideNext:y,hidePrevious:x,nextMonth:i,previousMonth:a,onPreviousClick:g,onNextClick:v})}function D8(t){var r,s=Vt(),a=s.classNames,i=s.disableNavigation,l=s.styles,d=s.captionLayout,u=s.components,h=(r=u==null?void 0:u.CaptionLabel)!==null&&r!==void 0?r:ck,f;return i?f=e.jsx(h,{id:t.id,displayMonth:t.displayMonth}):d==="dropdown"?f=e.jsx(lb,{displayMonth:t.displayMonth,id:t.id}):d==="dropdown-buttons"?f=e.jsxs(e.Fragment,{children:[e.jsx(lb,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(cb,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=e.jsxs(e.Fragment,{children:[e.jsx(h,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(cb,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:l.caption,children:f})}function A8(t){var r=Vt(),s=r.footer,a=r.styles,i=r.classNames.tfoot;return s?e.jsx("tfoot",{className:i,style:a.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function M8(t,r,s){for(var a=s?jo(new Date):jn(new Date,{locale:t,weekStartsOn:r}),i=[],l=0;l<7;l++){var d=$r(a,l);i.push(d)}return i}function I8(){var t=Vt(),r=t.classNames,s=t.styles,a=t.showWeekNumber,i=t.locale,l=t.weekStartsOn,d=t.ISOWeek,u=t.formatters.formatWeekdayName,h=t.labels.labelWeekday,f=M8(i,l,d);return e.jsxs("tr",{style:s.head_row,className:r.head_row,children:[a&&e.jsx("td",{style:s.head_cell,className:r.head_cell}),f.map(function(y,x){return e.jsx("th",{scope:"col",className:r.head_cell,style:s.head_cell,"aria-label":h(y,{locale:i}),children:u(y,{locale:i})},x)})]})}function O8(){var t,r=Vt(),s=r.classNames,a=r.styles,i=r.components,l=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:I8;return e.jsx("thead",{style:a.head,className:s.head,children:e.jsx(l,{})})}function F8(t){var r=Vt(),s=r.locale,a=r.formatters.formatDay;return e.jsx(e.Fragment,{children:a(t.date,{locale:s})})}var Qx=m.createContext(void 0);function L8(t){if(!gc(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Qx.Provider,{value:r,children:t.children})}return e.jsx($8,{initialProps:t.initialProps,children:t.children})}function $8(t){var r=t.initialProps,s=t.children,a=r.selected,i=r.min,l=r.max,d=function(f,y,x){var g,v;(g=r.onDayClick)===null||g===void 0||g.call(r,f,y,x);var j=!!(y.selected&&i&&(a==null?void 0:a.length)===i);if(!j){var N=!!(!y.selected&&l&&(a==null?void 0:a.length)===l);if(!N){var w=a?ik([],a):[];if(y.selected){var P=w.findIndex(function(_){return ts(f,_)});w.splice(P,1)}else w.push(f);(v=r.onSelect)===null||v===void 0||v.call(r,w,f,y,x)}}},u={disabled:[]};a&&u.disabled.push(function(f){var y=l&&a.length>l-1,x=a.some(function(g){return ts(g,f)});return!!(y&&!x)});var h={selected:a,onDayClick:d,modifiers:u};return e.jsx(Qx.Provider,{value:h,children:s})}function Xx(){var t=m.useContext(Qx);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function V8(t,r){var s=r||{},a=s.from,i=s.to;return a&&i?ts(i,t)&&ts(a,t)?void 0:ts(i,t)?{from:i,to:void 0}:ts(a,t)?void 0:vp(a,t)?{from:t,to:i}:{from:a,to:t}:i?vp(t,i)?{from:i,to:t}:{from:t,to:i}:a?c1(t,a)?{from:t,to:a}:{from:a,to:t}:{from:t,to:void 0}}var Jx=m.createContext(void 0);function B8(t){if(!vc(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Jx.Provider,{value:r,children:t.children})}return e.jsx(U8,{initialProps:t.initialProps,children:t.children})}function U8(t){var r=t.initialProps,s=t.children,a=r.selected,i=a||{},l=i.from,d=i.to,u=r.min,h=r.max,f=function(v,j,N){var w,P;(w=r.onDayClick)===null||w===void 0||w.call(r,v,j,N);var _=V8(v,a);(P=r.onSelect)===null||P===void 0||P.call(r,_,v,j,N)},y={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(y.range_start=[l],d?(y.range_end=[d],ts(l,d)||(y.range_middle=[{after:l,before:d}])):y.range_end=[l]):d&&(y.range_start=[d],y.range_end=[d]),u&&(l&&!d&&y.disabled.push({after:Sf(l,u-1),before:$r(l,u-1)}),l&&d&&y.disabled.push({after:l,before:$r(l,u-1)}),!l&&d&&y.disabled.push({after:Sf(d,u-1),before:$r(d,u-1)})),h){if(l&&!d&&(y.disabled.push({before:$r(l,-h+1)}),y.disabled.push({after:$r(l,h-1)})),l&&d){var x=pn(d,l)+1,g=h-x;y.disabled.push({before:Sf(l,g)}),y.disabled.push({after:$r(d,g)})}!l&&d&&(y.disabled.push({before:$r(d,-h+1)}),y.disabled.push({after:$r(d,h-1)}))}return e.jsx(Jx.Provider,{value:{selected:a,onDayClick:f,modifiers:y},children:s})}function Zx(){var t=m.useContext(Jx);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function tu(t){return Array.isArray(t)?ik([],t):t!==void 0?[t]:[]}function z8(t){var r={};return Object.entries(t).forEach(function(s){var a=s[0],i=s[1];r[a]=tu(i)}),r}var Zs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Zs||(Zs={}));var q8=Zs.Selected,On=Zs.Disabled,W8=Zs.Hidden,H8=Zs.Today,Mf=Zs.RangeEnd,If=Zs.RangeMiddle,Of=Zs.RangeStart,Y8=Zs.Outside;function K8(t,r,s){var a,i=(a={},a[q8]=tu(t.selected),a[On]=tu(t.disabled),a[W8]=tu(t.hidden),a[H8]=[t.today],a[Mf]=[],a[If]=[],a[Of]=[],a[Y8]=[],a);return t.fromDate&&i[On].push({before:t.fromDate}),t.toDate&&i[On].push({after:t.toDate}),gc(t)?i[On]=i[On].concat(r.modifiers[On]):vc(t)&&(i[On]=i[On].concat(s.modifiers[On]),i[Of]=s.modifiers[Of],i[If]=s.modifiers[If],i[Mf]=s.modifiers[Mf]),i}var mk=m.createContext(void 0);function G8(t){var r=Vt(),s=Xx(),a=Zx(),i=K8(r,s,a),l=z8(r.modifiers),d=nt(nt({},i),l);return e.jsx(mk.Provider,{value:d,children:t.children})}function hk(){var t=m.useContext(mk);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Q8(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function X8(t){return!!(t&&typeof t=="object"&&"from"in t)}function J8(t){return!!(t&&typeof t=="object"&&"after"in t)}function Z8(t){return!!(t&&typeof t=="object"&&"before"in t)}function eL(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function tL(t,r){var s,a=r.from,i=r.to;if(a&&i){var l=pn(i,a)<0;l&&(s=[i,a],a=s[0],i=s[1]);var d=pn(t,a)>=0&&pn(i,t)>=0;return d}return i?ts(i,t):a?ts(a,t):!1}function rL(t){return bx(t)}function sL(t){return Array.isArray(t)&&t.every(bx)}function nL(t,r){return r.some(function(s){if(typeof s=="boolean")return s;if(rL(s))return ts(t,s);if(sL(s))return s.includes(t);if(X8(s))return tL(t,s);if(eL(s))return s.dayOfWeek.includes(t.getDay());if(Q8(s)){var a=pn(s.before,t),i=pn(s.after,t),l=a>0,d=i<0,u=vp(s.before,s.after);return u?d&&l:l||d}return J8(s)?pn(t,s.after)>0:Z8(s)?pn(s.before,t)>0:typeof s=="function"?s(t):!1})}function eg(t,r,s){var a=Object.keys(r).reduce(function(l,d){var u=r[d];return nL(t,u)&&l.push(d),l},[]),i={};return a.forEach(function(l){return i[l]=!0}),s&&!Nx(t,s)&&(i.outside=!0),i}function aL(t,r){for(var s=rs(t[0]),a=Hu(t[t.length-1]),i,l,d=s;d<=a;){var u=eg(d,r),h=!u.disabled&&!u.hidden;if(!h){d=$r(d,1);continue}if(u.selected)return d;u.today&&!l&&(l=d),i||(i=d),d=$r(d,1)}return l||i}var oL=365;function fk(t,r){var s=r.moveBy,a=r.direction,i=r.context,l=r.modifiers,d=r.retry,u=d===void 0?{count:0,lastFocused:t}:d,h=i.weekStartsOn,f=i.fromDate,y=i.toDate,x=i.locale,g={day:$r,week:gp,month:Js,year:NM,startOfWeek:function(w){return i.ISOWeek?jo(w):jn(w,{locale:x,weekStartsOn:h})},endOfWeek:function(w){return i.ISOWeek?n1(w):jx(w,{locale:x,weekStartsOn:h})}},v=g[s](t,a==="after"?1:-1);a==="before"&&f?v=SM([f,v]):a==="after"&&y&&(v=kM([y,v]));var j=!0;if(l){var N=eg(v,l);j=!N.disabled&&!N.hidden}return j?v:u.count>oL?u.lastFocused:fk(v,{moveBy:s,direction:a,context:i,modifiers:l,retry:nt(nt({},u),{count:u.count+1})})}var pk=m.createContext(void 0);function iL(t){var r=yc(),s=hk(),a=m.useState(),i=a[0],l=a[1],d=m.useState(),u=d[0],h=d[1],f=aL(r.displayMonths,s),y=i??(u&&r.isDateDisplayed(u))?u:f,x=function(){h(i),l(void 0)},g=function(w){l(w)},v=Vt(),j=function(w,P){if(i){var _=fk(i,{moveBy:w,direction:P,context:v,modifiers:s});ts(i,_)||(r.goToDate(_,i),g(_))}},N={focusedDay:i,focusTarget:y,blur:x,focus:g,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return e.jsx(pk.Provider,{value:N,children:t.children})}function tg(){var t=m.useContext(pk);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function lL(t,r){var s=hk(),a=eg(t,s,r);return a}var rg=m.createContext(void 0);function cL(t){if(!cm(t.initialProps)){var r={selected:void 0};return e.jsx(rg.Provider,{value:r,children:t.children})}return e.jsx(dL,{initialProps:t.initialProps,children:t.children})}function dL(t){var r=t.initialProps,s=t.children,a=function(l,d,u){var h,f,y;if((h=r.onDayClick)===null||h===void 0||h.call(r,l,d,u),d.selected&&!r.required){(f=r.onSelect)===null||f===void 0||f.call(r,void 0,l,d,u);return}(y=r.onSelect)===null||y===void 0||y.call(r,l,l,d,u)},i={selected:r.selected,onDayClick:a};return e.jsx(rg.Provider,{value:i,children:s})}function xk(){var t=m.useContext(rg);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function uL(t,r){var s=Vt(),a=xk(),i=Xx(),l=Zx(),d=tg(),u=d.focusDayAfter,h=d.focusDayBefore,f=d.focusWeekAfter,y=d.focusWeekBefore,x=d.blur,g=d.focus,v=d.focusMonthBefore,j=d.focusMonthAfter,N=d.focusYearBefore,w=d.focusYearAfter,P=d.focusStartOfWeek,_=d.focusEndOfWeek,C=function(O){var I,D,W,B;cm(s)?(I=a.onDayClick)===null||I===void 0||I.call(a,t,r,O):gc(s)?(D=i.onDayClick)===null||D===void 0||D.call(i,t,r,O):vc(s)?(W=l.onDayClick)===null||W===void 0||W.call(l,t,r,O):(B=s.onDayClick)===null||B===void 0||B.call(s,t,r,O)},L=function(O){var I;g(t),(I=s.onDayFocus)===null||I===void 0||I.call(s,t,r,O)},q=function(O){var I;x(),(I=s.onDayBlur)===null||I===void 0||I.call(s,t,r,O)},A=function(O){var I;(I=s.onDayMouseEnter)===null||I===void 0||I.call(s,t,r,O)},M=function(O){var I;(I=s.onDayMouseLeave)===null||I===void 0||I.call(s,t,r,O)},V=function(O){var I;(I=s.onDayPointerEnter)===null||I===void 0||I.call(s,t,r,O)},k=function(O){var I;(I=s.onDayPointerLeave)===null||I===void 0||I.call(s,t,r,O)},T=function(O){var I;(I=s.onDayTouchCancel)===null||I===void 0||I.call(s,t,r,O)},z=function(O){var I;(I=s.onDayTouchEnd)===null||I===void 0||I.call(s,t,r,O)},E=function(O){var I;(I=s.onDayTouchMove)===null||I===void 0||I.call(s,t,r,O)},$=function(O){var I;(I=s.onDayTouchStart)===null||I===void 0||I.call(s,t,r,O)},R=function(O){var I;(I=s.onDayKeyUp)===null||I===void 0||I.call(s,t,r,O)},X=function(O){var I;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),s.dir==="rtl"?u():h();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),s.dir==="rtl"?h():u();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),f();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),y();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?N():v();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?w():j();break;case"Home":O.preventDefault(),O.stopPropagation(),P();break;case"End":O.preventDefault(),O.stopPropagation(),_();break}(I=s.onDayKeyDown)===null||I===void 0||I.call(s,t,r,O)},Y={onClick:C,onFocus:L,onBlur:q,onKeyDown:X,onKeyUp:R,onMouseEnter:A,onMouseLeave:M,onPointerEnter:V,onPointerLeave:k,onTouchCancel:T,onTouchEnd:z,onTouchMove:E,onTouchStart:$};return Y}function mL(){var t=Vt(),r=xk(),s=Xx(),a=Zx(),i=cm(t)?r.selected:gc(t)?s.selected:vc(t)?a.selected:void 0;return i}function hL(t){return Object.values(Zs).includes(t)}function fL(t,r){var s=[t.classNames.day];return Object.keys(r).forEach(function(a){var i=t.modifiersClassNames[a];if(i)s.push(i);else if(hL(a)){var l=t.classNames["day_".concat(a)];l&&s.push(l)}}),s}function pL(t,r){var s=nt({},t.styles.day);return Object.keys(r).forEach(function(a){var i;s=nt(nt({},s),(i=t.modifiersStyles)===null||i===void 0?void 0:i[a])}),s}function xL(t,r,s){var a,i,l,d=Vt(),u=tg(),h=lL(t,r),f=uL(t,h),y=mL(),x=!!(d.onDayClick||d.mode!=="default");m.useEffect(function(){var A;h.outside||u.focusedDay&&x&&ts(u.focusedDay,t)&&((A=s.current)===null||A===void 0||A.focus())},[u.focusedDay,t,s,x,h.outside]);var g=fL(d,h).join(" "),v=pL(d,h),j=!!(h.outside&&!d.showOutsideDays||h.hidden),N=(l=(i=d.components)===null||i===void 0?void 0:i.DayContent)!==null&&l!==void 0?l:F8,w=e.jsx(N,{date:t,displayMonth:r,activeModifiers:h}),P={style:v,className:g,children:w,role:"gridcell"},_=u.focusTarget&&ts(u.focusTarget,t)&&!h.outside,C=u.focusedDay&&ts(u.focusedDay,t),L=nt(nt(nt({},P),(a={disabled:h.disabled,role:"gridcell"},a["aria-selected"]=h.selected,a.tabIndex=C||_?0:-1,a)),f),q={isButton:x,isHidden:j,activeModifiers:h,selectedDays:y,buttonProps:L,divProps:P};return q}function gL(t){var r=m.useRef(null),s=xL(t.date,t.displayMonth,r);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(vu,nt({name:"day",ref:r},s.buttonProps)):e.jsx("div",nt({},s.divProps))}function vL(t){var r=t.number,s=t.dates,a=Vt(),i=a.onWeekNumberClick,l=a.styles,d=a.classNames,u=a.locale,h=a.labels.labelWeekNumber,f=a.formatters.formatWeekNumber,y=f(Number(r),{locale:u});if(!i)return e.jsx("span",{className:d.weeknumber,style:l.weeknumber,children:y});var x=h(Number(r),{locale:u}),g=function(v){i(r,s,v)};return e.jsx(vu,{name:"week-number","aria-label":x,className:d.weeknumber,style:l.weeknumber,onClick:g,children:y})}function yL(t){var r,s,a=Vt(),i=a.styles,l=a.classNames,d=a.showWeekNumber,u=a.components,h=(r=u==null?void 0:u.Day)!==null&&r!==void 0?r:gL,f=(s=u==null?void 0:u.WeekNumber)!==null&&s!==void 0?s:vL,y;return d&&(y=e.jsx("td",{className:l.cell,style:i.cell,children:e.jsx(f,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:l.row,style:i.row,children:[y,t.dates.map(function(x){return e.jsx("td",{className:l.cell,style:i.cell,role:"presentation",children:e.jsx(h,{displayMonth:t.displayMonth,date:x})},A6(x))})]})}function db(t,r,s){for(var a=s!=null&&s.ISOWeek?n1(r):jx(r,s),i=s!=null&&s.ISOWeek?jo(t):jn(t,s),l=pn(a,i),d=[],u=0;u<=l;u++)d.push($r(i,u));var h=d.reduce(function(f,y){var x=s!=null&&s.ISOWeek?a1(y):i1(y,s),g=f.find(function(v){return v.weekNumber===x});return g?(g.dates.push(y),f):(f.push({weekNumber:x,dates:[y]}),f)},[]);return h}function bL(t,r){var s=db(rs(t),Hu(t),r);if(r!=null&&r.useFixedWeeks){var a=I6(t,r);if(a<6){var i=s[s.length-1],l=i.dates[i.dates.length-1],d=gp(l,6-a),u=db(gp(l,1),d,r);s.push.apply(s,u)}}return s}function jL(t){var r,s,a,i=Vt(),l=i.locale,d=i.classNames,u=i.styles,h=i.hideHead,f=i.fixedWeeks,y=i.components,x=i.weekStartsOn,g=i.firstWeekContainsDate,v=i.ISOWeek,j=bL(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:v,locale:l,weekStartsOn:x,firstWeekContainsDate:g}),N=(r=y==null?void 0:y.Head)!==null&&r!==void 0?r:O8,w=(s=y==null?void 0:y.Row)!==null&&s!==void 0?s:yL,P=(a=y==null?void 0:y.Footer)!==null&&a!==void 0?a:A8;return e.jsxs("table",{id:t.id,className:d.table,style:u.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!h&&e.jsx(N,{}),e.jsx("tbody",{className:d.tbody,style:u.tbody,children:j.map(function(_){return e.jsx(w,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),e.jsx(P,{displayMonth:t.displayMonth})]})}function wL(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var NL=wL()?m.useLayoutEffect:m.useEffect,Ff=!1,SL=0;function ub(){return"react-day-picker-".concat(++SL)}function kL(t){var r,s=t??(Ff?ub():null),a=m.useState(s),i=a[0],l=a[1];return NL(function(){i===null&&l(ub())},[]),m.useEffect(function(){Ff===!1&&(Ff=!0)},[]),(r=t??i)!==null&&r!==void 0?r:void 0}function CL(t){var r,s,a=Vt(),i=a.dir,l=a.classNames,d=a.styles,u=a.components,h=yc().displayMonths,f=kL(a.id?"".concat(a.id,"-").concat(t.displayIndex):void 0),y=a.id?"".concat(a.id,"-grid-").concat(t.displayIndex):void 0,x=[l.month],g=d.month,v=t.displayIndex===0,j=t.displayIndex===h.length-1,N=!v&&!j;i==="rtl"&&(r=[v,j],j=r[0],v=r[1]),v&&(x.push(l.caption_start),g=nt(nt({},g),d.caption_start)),j&&(x.push(l.caption_end),g=nt(nt({},g),d.caption_end)),N&&(x.push(l.caption_between),g=nt(nt({},g),d.caption_between));var w=(s=u==null?void 0:u.Caption)!==null&&s!==void 0?s:D8;return e.jsxs("div",{className:x.join(" "),style:g,children:[e.jsx(w,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(jL,{id:y,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function PL(t){var r=Vt(),s=r.classNames,a=r.styles;return e.jsx("div",{className:s.months,style:a.months,children:t.children})}function _L(t){var r,s,a=t.initialProps,i=Vt(),l=tg(),d=yc(),u=m.useState(!1),h=u[0],f=u[1];m.useEffect(function(){i.initialFocus&&l.focusTarget&&(h||(l.focus(l.focusTarget),f(!0)))},[i.initialFocus,h,l.focus,l.focusTarget,l]);var y=[i.classNames.root,i.className];i.numberOfMonths>1&&y.push(i.classNames.multiple_months),i.showWeekNumber&&y.push(i.classNames.with_weeknumber);var x=nt(nt({},i.styles.root),i.style),g=Object.keys(a).filter(function(j){return j.startsWith("data-")}).reduce(function(j,N){var w;return nt(nt({},j),(w={},w[N]=a[N],w))},{}),v=(s=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&s!==void 0?s:PL;return e.jsx("div",nt({className:y.join(" "),style:x,dir:i.dir,id:i.id,nonce:a.nonce,title:a.title,lang:a.lang},g,{children:e.jsx(v,{children:d.displayMonths.map(function(j,N){return e.jsx(CL,{displayIndex:N,displayMonth:j},N)})})}))}function EL(t){var r=t.children,s=ZF(t,["children"]);return e.jsx(v8,{initialProps:s,children:e.jsx(_8,{children:e.jsx(cL,{initialProps:s,children:e.jsx(L8,{initialProps:s,children:e.jsx(B8,{initialProps:s,children:e.jsx(G8,{children:e.jsx(iL,{children:r})})})})})})})}function RL(t){return e.jsx(EL,nt({},t,{children:e.jsx(_L,{initialProps:t})}))}function gk({className:t,classNames:r,showOutsideDays:s=!0,...a}){return e.jsx(RL,{showOutsideDays:s,className:Re("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Re(Jl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Re(Jl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...i})=>e.jsx(yj,{className:"h-4 w-4"}),IconRight:({...i})=>e.jsx(Bp,{className:"h-4 w-4"})},...a})}gk.displayName="Calendar";const TL=["Apartment","Villa","Row House","Bungalow","Duplex","Penthouse","Studio","Independent House"],DL=["Indoor Game Room","Swimming Pool","Garden Area","Gym","Playground","Parking","Security","Club House","Power Backup","Water Supply","Elevator","CCTV","Maintenance Staff","Visitor Parking","Intercom","Fire Safety"],AL=[{value:"excellent",label:"Excellent"},{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"poor",label:"Poor"},{value:"critical",label:"Critical"}],Lf=({onSuccess:t,society:r,isEditing:s=!1})=>{var or,Bt,er,ae,Le;const{user:a}=It(),[i,l]=m.useState((r==null?void 0:r.name)||""),[d,u]=m.useState((r==null?void 0:r.society_type)||""),[h,f]=m.useState(((or=r==null?void 0:r.number_of_blocks)==null?void 0:or.toString())||""),[y,x]=m.useState(((Bt=r==null?void 0:r.total_area)==null?void 0:Bt.toString())||""),[g,v]=m.useState(r!=null&&r.registration_date?new Date(r.registration_date):void 0),[j,N]=m.useState((r==null?void 0:r.address)||""),[w,P]=m.useState((r==null?void 0:r.city)||""),[_,C]=m.useState((r==null?void 0:r.state)||""),[L,q]=m.useState((r==null?void 0:r.pincode)||""),[A,M]=m.useState(((er=r==null?void 0:r.total_flats)==null?void 0:er.toString())||""),[V,k]=m.useState(((ae=r==null?void 0:r.year_built)==null?void 0:ae.toString())||""),[T,z]=m.useState(r!=null&&r.condition_status?[r.condition_status]:[]),[E,$]=m.useState((r==null?void 0:r.amenities)||[]),[R,X]=m.useState([{id:"1",name:"",area:"",bathrooms:"",documents:[]}]),[Y,O]=m.useState(((Le=r==null?void 0:r.fsi)==null?void 0:Le.toString())||""),[I,D]=m.useState((r==null?void 0:r.road_facing)||""),[W,B]=m.useState((r==null?void 0:r.contact_person_name)||""),[U,J]=m.useState((r==null?void 0:r.contact_phone)||""),[se,ue]=m.useState((r==null?void 0:r.contact_email)||""),[ge,oe]=m.useState(!1),[de,le]=m.useState(!1),{toast:he}=ot();m.useEffect(()=>{var ie,_e,Ae,Ie,Ze;s&&r&&(console.log("Loading society data for editing:",r),console.log("Society data fields:",{name:r.name,society_type:r.society_type,total_area:r.total_area,total_flats:r.total_flats,year_built:r.year_built,contact_person_name:r.contact_person_name,contact_phone:r.contact_phone,contact_email:r.contact_email,address:r.address,city:r.city,state:r.state}),l(r.name||""),u(r.society_type||""),f(((ie=r.number_of_blocks)==null?void 0:ie.toString())||""),x(((_e=r.total_area)==null?void 0:_e.toString())||""),v(r.registration_date?new Date(r.registration_date):void 0),N(r.address||""),P(r.city||""),C(r.state||""),q(r.pincode||""),M(((Ae=r.total_flats)==null?void 0:Ae.toString())||""),k(((Ie=r.year_built)==null?void 0:Ie.toString())||""),z(r.condition_status?[r.condition_status]:[]),$(r.amenities||[]),O(((Ze=r.fsi)==null?void 0:Ze.toString())||""),D(r.road_facing||""),B(r.contact_person_name||""),J(r.contact_phone||""),ue(r.contact_email||""),console.log("Form state updated with society data:",{name:r.name,society_type:r.society_type,total_area:r.total_area,contact_person_name:r.contact_person_name,contact_phone:r.contact_phone,contact_email:r.contact_email,road_facing:r.road_facing,condition_status:r.condition_status}),r.flat_variants&&Array.isArray(r.flat_variants)&&X(r.flat_variants.map((ht,wt)=>{var qe,gt;return{id:(wt+1).toString(),name:ht.name||"",area:((qe=ht.area)==null?void 0:qe.toString())||"",bathrooms:((gt=ht.bathrooms)==null?void 0:gt.toString())||"",documents:[]}})))},[s,r]),m.useEffect(()=>{s&&r&&console.log("Form state values after update:",{contactPersonName:W,contactPhone:U,contactEmail:se,roadFacing:I,conditionStatus:T})},[W,U,se,I,T,s,r]),m.useEffect(()=>{s&&r&&(console.log("Society changed, resetting form with data:",r),setTimeout(()=>{var ie,_e,Ae,Ie,Ze;l(r.name||""),u(r.society_type||""),f(((ie=r.number_of_blocks)==null?void 0:ie.toString())||""),x(((_e=r.total_area)==null?void 0:_e.toString())||""),v(r.registration_date?new Date(r.registration_date):void 0),N(r.address||""),P(r.city||""),C(r.state||""),q(r.pincode||""),M(((Ae=r.total_flats)==null?void 0:Ae.toString())||""),k(((Ie=r.year_built)==null?void 0:Ie.toString())||""),z(r.condition_status?[r.condition_status]:[]),$(r.amenities||[]),O(((Ze=r.fsi)==null?void 0:Ze.toString())||""),D(r.road_facing||""),B(r.contact_person_name||""),J(r.contact_phone||""),ue(r.contact_email||"")},100))},[r==null?void 0:r._id,r==null?void 0:r.id,s]);const fe=(ie,_e)=>{setTimeout(()=>{z(_e?[ie]:[])},0)},we=(ie,_e)=>{setTimeout(()=>{$(_e?[...E,ie]:E.filter(Ae=>Ae!==ie))},0)},Oe=()=>{const ie=(R.length+1).toString();X([...R,{id:ie,name:"",area:"",bathrooms:"",documents:[]}])},Te=ie=>{X(R.filter(_e=>_e.id!==ie))},pt=(ie,_e,Ae)=>{X(R.map(Ie=>Ie.id===ie?{...Ie,[_e]:Ae}:Ie))},Ot=()=>{const ie=[];if(i.trim()||ie.push("Society name is required"),d||ie.push("Society type is required"),(!A||parseInt(A)<1)&&ie.push("Total flats must be a positive number"),j.trim()||ie.push("Address is required"),w.trim()||ie.push("City is required"),_.trim()||ie.push("State is required"),h&&parseInt(h)<1&&ie.push("Number of blocks must be a positive number"),y&&parseFloat(y)<0&&ie.push("Total area must be a positive number"),V){const Ae=parseInt(V),Ie=new Date().getFullYear();(Ae<1900||Ae>Ie)&&ie.push(`Year built must be between 1900 and ${Ie}`)}Y&&parseFloat(Y)<0&&ie.push("FSI must be a positive number");const _e=R.filter(Ae=>Ae.name.trim());return _e.length>0&&_e.forEach((Ae,Ie)=>{Ae.area&&parseFloat(Ae.area)<0&&ie.push(`Flat variant ${Ie+1}: Area must be a positive number`),Ae.bathrooms&&parseInt(Ae.bathrooms)<0&&ie.push(`Flat variant ${Ie+1}: Bathrooms must be a non-negative number`)}),se&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se)&&ie.push("Please enter a valid email address"),ie},Yt=async ie=>{var Ae,Ie,Ze,ht,wt,qe,gt;ie.preventDefault();const _e=Ot();if(_e.length>0){_e.forEach(We=>{he({title:"Validation Error",description:We,variant:"destructive"})});return}if(!ge){he({title:"Declaration Required",description:"Please accept the declaration to proceed",variant:"destructive"});return}le(!0);try{const We=R.map(Ut=>({name:Ut.name,area:Ut.area?parseFloat(Ut.area):null,bathrooms:Ut.bathrooms?parseInt(Ut.bathrooms):null})).filter(Ut=>Ut.name),jt={name:i,society_type:d,number_of_blocks:h?parseInt(h):null,total_area:y?parseFloat(y):null,registration_date:g?Qn(g,"yyyy-MM-dd"):null,address:j,city:w,state:_,pincode:L||null,total_flats:parseInt(A),year_built:V?parseInt(V):null,condition_status:T.length>0?T[0]:null,amenities:E.length>0?E:null,flat_variants:We.length>0?We:null,fsi:Y?parseFloat(Y):null,road_facing:I||null,contact_person_name:W||null,contact_phone:U||null,contact_email:se||null};delete jt._id,delete jt.id,console.log("Submitting society data:",jt);let Dt;if(s&&r){const Ut=r.id||r._id;console.log("Updating society:",Ut),Dt=await re.updateSociety(Ut,jt)}else console.log("Creating new society"),Dt=await re.createSociety(jt);if(console.log("Society API response:",Dt),Dt.error){if(console.error("Society API error:",Dt.error),Dt.errors&&Array.isArray(Dt.errors)){Dt.errors.forEach(Ut=>{he({title:"Validation Error",description:`${Ut.field}: ${Ut.message}`,variant:"destructive"})});return}throw new Error(Dt.error)}he({title:s?"Society Updated":"Society Created",description:s?"Society profile has been updated successfully.":"Society profile has been created successfully."}),t==null||t()}catch(We){console.error("Error saving society:",We);let jt="Something went wrong. Please try again.";if((Ie=(Ae=We==null?void 0:We.response)==null?void 0:Ae.data)!=null&&Ie.errors){We.response.data.errors.forEach(Dt=>{he({title:"Validation Error",description:`${Dt.field}: ${Dt.message}`,variant:"destructive"})});return}else(ht=(Ze=We==null?void 0:We.response)==null?void 0:Ze.data)!=null&&ht.message?jt=We.response.data.message:We!=null&&We.message&&(jt=We.message);(wt=We==null?void 0:We.message)!=null&&wt.includes("Failed to fetch")||(qe=We==null?void 0:We.message)!=null&&qe.includes("NetworkError")?jt="Cannot connect to server. Please check if the backend server is running on http://localhost:5000":(gt=We==null?void 0:We.message)!=null&&gt.includes("timeout")&&(jt="Request timed out. Please try again."),he({title:"Error",description:jt,variant:"destructive"})}finally{le(!1)}};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(yt,{className:"h-5 w-5 text-primary"})}),s?"Edit Society Profile":"Society Registration"]}),e.jsx(Qe,{children:s?"Update your society information and documents":"Register your society to enable member management and redevelopment features"})]}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:Yt,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(yt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Essential details about your society"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"name",className:"text-sm font-medium",children:"Society Name *"}),e.jsx(Se,{id:"name",value:i,onChange:ie=>l(ie.target.value),placeholder:"Enter society name",className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"societyType",className:"text-sm font-medium",children:"Society Type *"}),e.jsxs(Xe,{value:d,onValueChange:u,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Select society type"})}),e.jsx(Ke,{children:TL.map(ie=>e.jsx(te,{value:ie,children:ie},ie))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"totalFlats",className:"text-sm font-medium",children:"Total Number of Flats *"}),e.jsx(Se,{id:"totalFlats",type:"number",value:A,onChange:ie=>M(ie.target.value),placeholder:"Total flats",className:"h-11",min:"1",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"numberOfBlocks",className:"text-sm font-medium",children:"Number of Blocks"}),e.jsx(Se,{id:"numberOfBlocks",type:"number",value:h,onChange:ie=>f(ie.target.value),placeholder:"Number of blocks",className:"h-11",min:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"totalArea",className:"text-sm font-medium",children:"Total Area (sq ft)"}),e.jsx(Se,{id:"totalArea",type:"number",value:y,onChange:ie=>x(ie.target.value),placeholder:"Total area in square feet",className:"h-11",step:"0.01"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Registration Date"}),e.jsxs(L2,{children:[e.jsx($2,{asChild:!0,children:e.jsxs(H,{variant:"outline",className:Re("w-full justify-start text-left font-normal h-11",!g&&"text-muted-foreground"),children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"}),g?Qn(g,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(Ix,{className:"w-auto p-0",children:e.jsx(gk,{mode:"single",selected:g,onSelect:v,initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"address",className:"text-sm font-medium",children:"Complete Address *"}),e.jsx(Zt,{id:"address",value:j,onChange:ie=>N(ie.target.value),placeholder:"Enter complete society address with landmark",className:"min-h-[100px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"city",className:"text-sm font-medium",children:"City *"}),e.jsx(Se,{id:"city",value:w,onChange:ie=>P(ie.target.value),placeholder:"City",className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"state",className:"text-sm font-medium",children:"State *"}),e.jsx(Se,{id:"state",value:_,onChange:ie=>C(ie.target.value),placeholder:"State",className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"pincode",className:"text-sm font-medium",children:"Pincode"}),e.jsx(Se,{id:"pincode",value:L,onChange:ie=>q(ie.target.value),placeholder:"Pincode",className:"h-11"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"yearBuilt",className:"text-sm font-medium",children:"Year Built"}),e.jsx(Se,{id:"yearBuilt",type:"number",value:V,onChange:ie=>k(ie.target.value),placeholder:"Construction year",className:"h-11"})]})]})]}),e.jsx(Hs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ni,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Property Condition"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Assess your building's current state"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Building Condition Status"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:AL.map(ie=>e.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md ${T.includes(ie.value)?"border-primary bg-primary/5 shadow-sm":"border-border bg-background hover:border-primary/30"}`,children:[e.jsx(Ia,{id:`condition-${ie.value}`,checked:T.includes(ie.value),onCheckedChange:_e=>fe(ie.value,_e),className:"absolute top-3 right-3"}),e.jsxs("div",{className:"pr-8",children:[e.jsx(ne,{htmlFor:`condition-${ie.value}`,className:"text-sm font-medium cursor-pointer block",children:ie.label}),T.includes(ie.value)&&e.jsx(Ws,{className:"h-4 w-4 text-primary mt-1"})]})]},ie.value))})]})]}),e.jsx(Hs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx($n,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Amenities & Facilities"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select available amenities in your society"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Available Amenities"}),e.jsxs(xe,{variant:"secondary",className:"text-xs",children:[E.length," selected"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-64 overflow-y-auto p-1",children:DL.map(ie=>e.jsxs("div",{className:`relative p-3 rounded-lg border-2 transition-all cursor-pointer hover:shadow-sm ${E.includes(ie)?"border-primary bg-primary/5 shadow-sm":"border-border bg-background hover:border-primary/30"}`,children:[e.jsx(Ia,{id:`amenity-${ie}`,checked:E.includes(ie),onCheckedChange:_e=>we(ie,_e),className:"absolute top-2 right-2"}),e.jsx("div",{className:"pr-6",children:e.jsx(ne,{htmlFor:`amenity-${ie}`,className:"text-sm font-medium cursor-pointer block leading-tight",children:ie})})]},ie))})]})]}),e.jsx(Hs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ct,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Flat Details"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define different types of flats in your society"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Flat Variants"}),e.jsxs(H,{type:"button",onClick:Oe,size:"sm",className:"h-8",children:[e.jsx(us,{className:"h-4 w-4 mr-1"}),"Add Variant"]})]}),e.jsx("div",{className:"space-y-4",children:R.map(ie=>e.jsxs(G,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Flat Variant ",ie.id]}),R.length>1&&e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>Te(ie.id),children:e.jsx($E,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-xs font-medium",children:"Flat Type Name"}),e.jsx(Se,{value:ie.name,onChange:_e=>pt(ie.id,"name",_e.target.value),placeholder:"e.g., 2BHK, 3BHK",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-xs font-medium",children:"Area (sq ft)"}),e.jsx(Se,{type:"number",value:ie.area,onChange:_e=>pt(ie.id,"area",_e.target.value),placeholder:"Area",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{className:"text-xs font-medium",children:"Bathrooms"}),e.jsx(Se,{type:"number",value:ie.bathrooms,onChange:_e=>pt(ie.id,"bathrooms",_e.target.value),placeholder:"Count",className:"h-9",min:"1"})]})]})]},ie.id))})]})]}),e.jsx(Hs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ni,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Redevelopment Parameters"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Additional technical details for redevelopment"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"fsi",className:"text-sm font-medium",children:"FSI (Floor Space Index)"}),e.jsx(Se,{id:"fsi",type:"number",step:"0.01",value:Y,onChange:ie=>O(ie.target.value),placeholder:"e.g., 1.33",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"roadFacing",className:"text-sm font-medium",children:"Road Facing"}),e.jsxs(Xe,{value:I,onValueChange:D,children:[e.jsx(Ye,{className:"h-11",children:e.jsx(Je,{placeholder:"Select road facing"})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"main",children:"Main Road"}),e.jsx(te,{value:"arterial",children:"Arterial Road"}),e.jsx(te,{value:"collector",children:"Collector Road"}),e.jsx(te,{value:"local",children:"Local Road"}),e.jsx(te,{value:"corner",children:"Corner Plot"})]})]})]})]})]}),e.jsx(Hs,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Mt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Primary contact details for the society"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactPersonName",className:"text-sm font-medium",children:"Contact Person Name"}),e.jsx(Se,{id:"contactPersonName",value:W,onChange:ie=>B(ie.target.value),placeholder:"Full name",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactEmail",className:"text-sm font-medium",children:"Contact Email"}),e.jsx(Se,{id:"contactEmail",type:"email",value:se,onChange:ie=>ue(ie.target.value),placeholder:"email@example.com",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"contactPhone",className:"text-sm font-medium",children:"Contact Phone"}),e.jsx(Se,{id:"contactPhone",type:"tel",value:U,onChange:ie=>J(ie.target.value),placeholder:"+91 98765 43210",className:"h-11"})]})]})]}),e.jsx(Hs,{className:"my-8"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-muted/50 rounded-lg",children:[e.jsx(Ia,{id:"declaration",checked:ge,onCheckedChange:ie=>oe(ie)}),e.jsx(ne,{htmlFor:"declaration",className:"text-sm leading-relaxed cursor-pointer",children:"I hereby declare that all the information provided above is true and accurate to the best of my knowledge. I understand that any false information may lead to rejection of this application."})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{type:"submit",size:"lg",className:"min-w-32",disabled:de||!ge,children:de?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),s?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-4 w-4 mr-2"}),s?"Update Society":"Create Society"]})})})]},(r==null?void 0:r._id)||(r==null?void 0:r.id)||"new")})]})})},ML=({societyId:t})=>{const[r,s]=m.useState([]),[a,i]=m.useState([]),[l,d]=m.useState(""),[u,h]=m.useState(""),[f,y]=m.useState(""),[x,g]=m.useState(""),[v,j]=m.useState(!1),[N,w]=m.useState(!1),{toast:P}=ot();m.useEffect(()=>{t&&(_(),C())},[t]),m.useEffect(()=>{if(t){const M=setInterval(()=>{_(),C()},3e4);return()=>clearInterval(M)}},[t]);const _=async()=>{if(!t){console.log("No societyId provided, skipping members fetch");return}try{console.log("Fetching members for societyId:",t);const{data:M,error:V}=await re.getSocietyMembers(t);if(V)throw V;M&&M.members?s(M.members):s([])}catch(M){P({title:"Error fetching members",description:M.message,variant:"destructive"})}},C=async()=>{if(!t){console.log("No societyId provided, skipping invitations fetch");return}try{console.log("Fetching invitations for societyId:",t);const{data:M,error:V}=await re.getSentInvitations(`?society_id=${t}`);if(V)throw V;M&&M.invitations?i(M.invitations):i([])}catch(M){P({title:"Error fetching invitations",description:M.message,variant:"destructive"})}},L=async()=>{if(!l||!f||!u){P({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}j(!0);try{const M={society_id:t,invitedPhone:f,invitedName:l,invitedEmail:u,invitationType:"society_member",message:"Welcome to our society! We're excited to have you join our community."},{data:V,error:k}=await re.sendInvitation(M);if(k){if(k.includes("already been invited")||k.includes("ALREADY_INVITED"))P({title:"Already Invited",description:"This user has already been invited to the society",variant:"destructive"});else if(k.includes("already a member")||k.includes("ALREADY_MEMBER"))P({title:"Already a Member",description:"This user is already a member of the society",variant:"destructive"});else if(k.includes("previously invited")||k.includes("PREVIOUSLY_INVITED"))P({title:"Previously Invited",description:"This user has already been invited to this society before",variant:"destructive"});else if(k.includes("society owner")||k.includes("IS_OWNER"))P({title:"Cannot Invite Owner",description:"Cannot invite the society owner",variant:"destructive"});else throw k;return}P({title:"Success",description:"Invitation sent successfully"}),d(""),h(""),y(""),g(""),w(!1),C()}catch(M){P({title:"Error",description:M.message,variant:"destructive"})}finally{j(!1)}},q=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Member Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage society members and send invitations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",onClick:()=>{_(),C()},className:"flex items-center gap-2",children:[e.jsx(La,{className:"h-4 w-4"}),"Refresh"]}),e.jsxs(Oa,{open:N,onOpenChange:w,children:[e.jsx(Bl,{asChild:!0,children:e.jsxs(H,{className:"gap-2",children:[e.jsx(Vl,{className:"h-4 w-4"}),"Invite Member"]})}),e.jsxs(zn,{children:[e.jsxs(qn,{children:[e.jsx(Wn,{children:"Invite New Member"}),e.jsx(Ul,{children:"Send an invitation to join your society"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"name",children:"Full Name"}),e.jsx(Se,{id:"name",value:l,onChange:M=>d(M.target.value),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),e.jsx(Se,{id:"phone",value:f,onChange:M=>y(M.target.value),placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"email",children:"Email Address"}),e.jsx(Se,{id:"email",type:"email",value:u,onChange:M=>h(M.target.value),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(ne,{htmlFor:"flatNumber",children:"Flat Number (Optional)"}),e.jsx(Se,{id:"flatNumber",value:x,onChange:M=>g(M.target.value),placeholder:"Enter flat number"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(H,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsx(H,{onClick:L,disabled:v,children:v?"Sending...":"Send Invitation"})]})]})]})]})]})]}),e.jsxs(hs,{defaultValue:"members",className:"space-y-4",children:[e.jsxs(ss,{children:[e.jsxs(Ge,{value:"members",children:["Members (",r.length,")"]}),e.jsxs(Ge,{value:"invitations",children:["Invitations (",a.length,")"]})]}),e.jsx(st,{value:"members",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Society Members"}),e.jsx(Qe,{children:"Current members of your society"})]}),e.jsx(Q,{children:r.length===0?e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg",children:[e.jsx(Vl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Members Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by inviting members to your society"}),e.jsxs(H,{onClick:()=>w(!0),className:"gap-2",children:[e.jsx(Vl,{className:"h-4 w-4"}),"Invite First Member"]})]}):e.jsx("div",{className:"space-y-3",children:r.map(M=>{var V;return e.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-all duration-200 hover:border-primary/50",children:e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg ${M.isOwner?"bg-gradient-to-br from-yellow-400 to-orange-500":"bg-gradient-to-br from-blue-400 to-blue-600"}`,children:((V=M.phone)==null?void 0:V.charAt(0))||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("p",{className:"font-semibold text-base truncate",children:M.fullName||M.phone}),M.isOwner&&e.jsxs(xe,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 gap-1",children:[e.jsx(Jf,{className:"h-3 w-3"}),"Owner"]}),e.jsx(xe,{variant:"outline",className:"text-xs",children:M.role.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pr,{className:"h-3 w-3"}),e.jsx("span",{children:M.phone})]}),M.email&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mr,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[200px]",children:M.email})]})]})]}),e.jsxs("div",{className:"hidden md:flex flex-col items-end gap-2",children:[e.jsx(xe,{className:`${q(M.status)}`,children:M.status.toUpperCase()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",A(M.joinedAt)]})]})]})},M.id)})})})]})}),e.jsx(st,{value:"invitations",className:"space-y-4",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Sent Invitations"}),e.jsx(Qe,{children:"Track the status of your invitations (showing pending invitations only)"})]}),e.jsx(Q,{children:a.filter(M=>M.status==="pending"||M.status==="sent").length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(mr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Invitations"}),e.jsx("p",{className:"text-muted-foreground",children:"All invitations have been responded to or send new invitations to grow your society"})]}):e.jsx("div",{className:"space-y-4",children:a.filter(M=>M.status==="pending"||M.status==="sent").map(M=>e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:M.invitedName||M.invitedPhone}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[M.invitedEmail&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mr,{className:"h-3 w-3"}),M.invitedEmail]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pr,{className:"h-3 w-3"}),M.invitedPhone]})]}),M.message&&e.jsxs("div",{className:"text-sm italic text-muted-foreground",children:['"',M.message,'"']})]}),e.jsxs("div",{className:"text-right space-y-2",children:[e.jsx(xe,{variant:"outline",children:M.invitationType.replace("_"," ").toUpperCase()}),e.jsxs("div",{className:"flex items-center gap-1",children:[M.status==="accepted"&&e.jsx(bt,{className:"h-4 w-4 text-green-600"}),M.status==="declined"&&e.jsx(Ks,{className:"h-4 w-4 text-red-600"}),M.status==="pending"&&e.jsx(Ht,{className:"h-4 w-4 text-yellow-600"}),M.status==="sent"&&e.jsx(Ht,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:M.status.toUpperCase()})]})]})]})},M._id))})})]})})]})]})},IL=({societyId:t,onClose:r,onSuccess:s,editingProject:a})=>{const{user:i}=It(),[l,d]=m.useState(!1),[u,h]=m.useState([]),[f,y]=m.useState({title:"",description:"",society_id:t||"",expectedAmenities:[],estimatedBudget:"",minimumApprovalPercentage:"75",timeline:{startDate:"",expectedCompletionDate:""}}),[x,g]=m.useState(""),[v,j]=m.useState([]),[N,w]=m.useState(!1);m.useEffect(()=>{var T,z,E,$,R;t||P(),a&&y({title:a.title||"",description:a.description||"",society_id:((T=a.society)==null?void 0:T._id)||"",expectedAmenities:a.expectedAmenities||[],estimatedBudget:((z=a.estimatedBudget)==null?void 0:z.toString())||"",minimumApprovalPercentage:((E=a.minimumApprovalPercentage)==null?void 0:E.toString())||"75",timeline:{startDate:(($=a.timeline)==null?void 0:$.startDate)||"",expectedCompletionDate:((R=a.timeline)==null?void 0:R.expectedCompletionDate)||""}})},[t,a]);const P=async()=>{try{const T=await re.getMySocieties();if(T.error){Be({title:"Error",description:"Failed to fetch societies",variant:"destructive"});return}h(T.data.societies||[])}catch(T){console.error("Error fetching societies:",T)}},_=(T,z)=>{y(E=>({...E,[T]:z}))},C=(T,z)=>{y(E=>({...E,timeline:{...E.timeline,[T]:z}}))},L=()=>{x.trim()&&!f.expectedAmenities.includes(x.trim())&&(y(T=>({...T,expectedAmenities:[...T.expectedAmenities,x.trim()]})),g(""))},q=T=>{y(z=>({...z,expectedAmenities:z.expectedAmenities.filter((E,$)=>$!==T)}))},A=async T=>{const z=T.target.files;if(!(!z||!i)){w(!0);try{const E=[];for(const $ of Array.from(z)){if($.type!=="application/pdf"){Be({title:"Invalid File Type",description:`${$.name} is not a PDF file. Please upload only PDF files.`,variant:"destructive"});continue}if($.size>10*1024*1024){Be({title:"File Too Large",description:`${$.name} is larger than 10MB. Please choose a smaller file.`,variant:"destructive"});continue}try{const R=await re.uploadSingleFile($,"redevelopment_document");if(R.error){console.error(`Error uploading ${$.name}:`,R.error),Be({title:"Upload Warning",description:`Failed to upload ${$.name}. Please try again.`,variant:"destructive"});continue}const X={name:$.name,type:"other",url:R.data.media.url,uploadedBy:i.id,uploadedAt:new Date,isPublic:!1};E.push(X)}catch(R){console.error(`Error uploading ${$.name}:`,R),Be({title:"Upload Warning",description:`Failed to upload ${$.name}. Please try again.`,variant:"destructive"})}}E.length>0&&(j($=>[...$,...E]),Be({title:"Success!",description:`${E.length} document(s) uploaded successfully.`}))}catch(E){console.error("Error uploading documents:",E),Be({title:"Error",description:"Failed to upload documents. Please try again.",variant:"destructive"})}finally{w(!1)}}},M=T=>{j(z=>z.filter((E,$)=>$!==T))},V=()=>{const T=[];return f.title.trim()||T.push("Project title is required"),f.title.trim().length<5&&T.push("Project title must be at least 5 characters"),f.description.trim()||T.push("Project description is required"),f.description.trim().length<10&&T.push("Project description must be at least 10 characters"),f.society_id||T.push("Please select a society"),f.estimatedBudget&&parseFloat(f.estimatedBudget)<0&&T.push("Estimated budget must be a positive number"),f.minimumApprovalPercentage&&(parseInt(f.minimumApprovalPercentage)<50||parseInt(f.minimumApprovalPercentage)>100)&&T.push("Minimum approval percentage must be between 50 and 100"),T},k=async T=>{T.preventDefault();const z=V();if(z.length>0){z.forEach(E=>{Be({title:"Validation Error",description:E,variant:"destructive"})});return}if(!t||t.trim()===""){Be({title:"Error",description:"Society ID is required to create a redevelopment project.",variant:"destructive"});return}d(!0);try{const E={...f,society:t,estimatedBudget:f.estimatedBudget?parseFloat(f.estimatedBudget):void 0,minimumApprovalPercentage:parseInt(f.minimumApprovalPercentage),timeline:{startDate:f.timeline.startDate?new Date(f.timeline.startDate).toISOString():void 0,expectedCompletionDate:f.timeline.expectedCompletionDate?new Date(f.timeline.expectedCompletionDate).toISOString():void 0},documents:v};console.log("Submitting redevelopment project data:",E);let $;if(a?$=await re.updateRedevelopmentProject(a._id,E):$=await re.createRedevelopmentProject(E),console.log("API response:",$),$.error){Be({title:"Error",description:$.error,variant:"destructive"});return}s($.data.project)}catch(E){console.error("Error saving project:",E),Be({title:"Error",description:E.message||"Failed to save project",variant:"destructive"})}finally{d(!1)}};return e.jsx(Oa,{open:!0,onOpenChange:r,children:e.jsxs(zn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(qn,{children:e.jsxs(Wn,{className:"flex items-center gap-2",children:[e.jsx(yt,{className:"h-5 w-5"}),a?"Edit Redevelopment Project":"Create New Redevelopment Project"]})}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{className:"text-lg",children:"Basic Information"})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"title",children:"Project Title *"}),e.jsx(Se,{id:"title",value:f.title,onChange:T=>_("title",T.target.value),placeholder:"Enter project title",required:!0})]}),!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"society",children:"Society *"}),e.jsxs(Xe,{value:f.society_id,onValueChange:T=>_("society_id",T),children:[e.jsx(Ye,{children:e.jsx(Je,{placeholder:"Select society"})}),e.jsx(Ke,{children:u.map(T=>e.jsx(te,{value:T._id,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:T.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[T.city,", ",T.state]})]})},T._id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"description",children:"Project Description *"}),e.jsx(Zt,{id:"description",value:f.description,onChange:T=>_("description",T.target.value),placeholder:"Describe the redevelopment project, objectives, and expected outcomes",rows:4,required:!0})]})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"text-lg flex items-center gap-2",children:[e.jsx(Fl,{className:"h-4 w-4"}),"Financial Information"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"estimatedBudget",children:"Estimated Budget ( Cr)"}),e.jsx(Se,{id:"estimatedBudget",type:"number",step:"0.1",min:"0",value:f.estimatedBudget,onChange:T=>_("estimatedBudget",T.target.value),placeholder:"Enter estimated budget"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"minimumApprovalPercentage",children:"Minimum Approval %"}),e.jsx(Se,{id:"minimumApprovalPercentage",type:"number",min:"50",max:"100",value:f.minimumApprovalPercentage,onChange:T=>_("minimumApprovalPercentage",T.target.value),placeholder:"75"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum percentage of votes required for approval"})]})]})})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"text-lg flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Project Timeline"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"startDate",children:"Expected Start Date"}),e.jsx(Se,{id:"startDate",type:"date",value:f.timeline.startDate,onChange:T=>C("startDate",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"completionDate",children:"Expected Completion Date"}),e.jsx(Se,{id:"completionDate",type:"date",value:f.timeline.expectedCompletionDate,onChange:T=>C("expectedCompletionDate",T.target.value)})]})]})})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"text-lg flex items-center gap-2",children:[e.jsx(Cj,{className:"h-4 w-4"}),"Expected Amenities"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{value:x,onChange:T=>g(T.target.value),placeholder:"Add expected amenity",onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),L())}),e.jsx(H,{type:"button",onClick:L,variant:"outline",size:"icon",children:e.jsx(us,{className:"h-4 w-4"})})]}),f.expectedAmenities.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:f.expectedAmenities.map((T,z)=>e.jsxs(xe,{variant:"secondary",className:"flex items-center gap-1",children:[T,e.jsx("button",{type:"button",onClick:()=>q(z),className:"ml-1 hover:text-destructive",children:e.jsx(Et,{className:"h-3 w-3"})})]},z))})]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"text-lg flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Project Documents"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Si,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload PDF documents (max 10MB each)"}),e.jsx("input",{type:"file",accept:".pdf",multiple:!0,onChange:A,disabled:N,className:"hidden",id:"document-upload"}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>{var T;return(T=document.getElementById("document-upload"))==null?void 0:T.click()},disabled:N,className:"gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Si,{className:"h-4 w-4"}),"Choose PDF Files"]})})]}),v.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Uploaded Documents:"}),v.map((T,z)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium",children:T.name}),e.jsx(xe,{variant:"secondary",className:"text-xs",children:T.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>window.open(T.url,"_blank"),children:"View"}),e.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(z),className:"text-red-500 hover:text-red-700",children:e.jsx(Gs,{className:"h-4 w-4"})})]})]},z))]})]})]}),e.jsx(Hs,{}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(H,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),e.jsx(H,{type:"submit",disabled:l,className:"gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"h-4 w-4"}),a?"Update Project":"Create Project"]})})]})]})]})})},$f=({project:t,onQueryResponse:r,onQuerySubmit:s,canRespond:a=!1,canSubmit:i=!0})=>{const[l,d]=m.useState(!1),[u,h]=m.useState(null),[f,y]=m.useState(""),[x,g]=m.useState("all"),[v,j]=m.useState({title:"",description:""}),[N,w]=m.useState(""),[P,_]=m.useState(!1),C=z=>({open:"bg-red-100 text-red-800",in_review:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"})[z]||"bg-gray-100 text-gray-800",L=z=>({open:e.jsx(Gt,{className:"h-4 w-4"}),in_review:e.jsx(Ht,{className:"h-4 w-4"}),resolved:e.jsx(bt,{className:"h-4 w-4"}),closed:e.jsx(bt,{className:"h-4 w-4"})})[z]||e.jsx(Ht,{className:"h-4 w-4"}),q=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=t.queries.filter(z=>{const E=z.title.toLowerCase().includes(f.toLowerCase())||z.description.toLowerCase().includes(f.toLowerCase()),$=x==="all"||z.status===x;return E&&$}),M=async z=>{if(z.preventDefault(),!v.title.trim()||!v.description.trim()){Be({title:"Validation Error",description:"Please fill in all fields",variant:"destructive"});return}_(!0);try{s==null||s(v),Be({title:"Success",description:"Query submitted successfully"}),j({title:"",description:""}),d(!1)}catch{Be({title:"Error",description:"Failed to submit query",variant:"destructive"})}finally{_(!1)}},V=async z=>{if(!N.trim()){Be({title:"Validation Error",description:"Please enter a response",variant:"destructive"});return}_(!0);try{r==null||r(z,N),Be({title:"Success",description:"Response submitted successfully"}),w(""),h(null)}catch{Be({title:"Error",description:"Failed to submit response",variant:"destructive"})}finally{_(!1)}},T={all:t.queries.length,open:t.queries.filter(E=>E.status==="open").length,in_review:t.queries.filter(E=>E.status==="in_review").length,resolved:t.queries.filter(E=>E.status==="resolved").length,closed:t.queries.filter(E=>E.status==="closed").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Member Queries & Complaints"}),e.jsx("p",{className:"text-muted-foreground",children:"Address member concerns and questions about the project"})]}),i&&e.jsxs(H,{onClick:()=>d(!0),className:"gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Raise Query"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(G,{children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:T.all}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:T.open}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:T.in_review}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"In Review"})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:T.resolved}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})}),e.jsx(G,{children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:T.closed}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Closed"})]})})]}),e.jsx(G,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Se,{placeholder:"Search queries...",value:f,onChange:z=>y(z.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex gap-2",children:Object.entries({all:"All",open:"Open",in_review:"In Review",resolved:"Resolved",closed:"Closed"}).map(([z,E])=>e.jsx(H,{variant:x===z?"default":"outline",size:"sm",onClick:()=>g(z),children:E},z))})]})})}),A.length===0?e.jsx(G,{children:e.jsxs(Q,{className:"text-center py-12",children:[e.jsx($t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Queries Found"}),e.jsx("p",{className:"text-muted-foreground",children:t.queries.length===0?"No queries or complaints have been raised yet.":"No queries match your search criteria."}),i&&t.queries.length===0&&e.jsxs(H,{onClick:()=>d(!0),className:"mt-4 gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Raise First Query"]})]})}):e.jsx("div",{className:"space-y-4",children:A.map(z=>e.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-lg font-semibold",children:z.title}),e.jsx(xe,{className:C(z.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[L(z.status),z.status.replace("_"," ").toUpperCase()]})})]}),e.jsx("p",{className:"text-muted-foreground",children:z.description})]}),a&&z.status!=="closed"&&e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>h(z._id),className:"gap-2",children:[e.jsx($l,{className:"h-4 w-4"}),"Respond"]})]})}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsxs("span",{children:["Raised by ",z.raisedBy]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:q(z.raisedAt)})]})]}),z.response&&e.jsxs("div",{className:"border-l-4 border-primary pl-4 bg-muted/50 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($l,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:"Official Response"})]}),e.jsx("p",{className:"text-muted-foreground",children:z.response}),z.respondedBy&&z.respondedAt&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsxs("span",{children:["By ",z.respondedBy]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:q(z.respondedAt)})]})]})]})]})})]},z._id))}),l&&e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Raise New Query"})}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"queryTitle",children:"Query Title"}),e.jsx(Se,{id:"queryTitle",value:v.title,onChange:z=>j(E=>({...E,title:z.target.value})),placeholder:"Enter a brief title for your query",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"queryDescription",children:"Description"}),e.jsx(Zt,{id:"queryDescription",value:v.description,onChange:z=>j(E=>({...E,description:z.target.value})),placeholder:"Describe your query or concern in detail",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{type:"submit",disabled:P,className:"gap-2",children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Un,{className:"h-4 w-4"}),"Submit Query"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"})]})]})})]}),u&&e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Respond to Query"})}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:z=>{z.preventDefault(),V(u)},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"responseText",children:"Response"}),e.jsx(Zt,{id:"responseText",value:N,onChange:z=>w(z.target.value),placeholder:"Enter your response to the query",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{type:"submit",disabled:P,className:"gap-2",children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Responding..."]}):e.jsxs(e.Fragment,{children:[e.jsx($l,{className:"h-4 w-4"}),"Submit Response"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>{h(null),w("")},children:"Cancel"})]})]})})]})]})};var sg="Progress",ng=100,[OL]=vr(sg),[FL,LL]=OL(sg),vk=m.forwardRef((t,r)=>{const{__scopeProgress:s,value:a=null,max:i,getValueLabel:l=$L,...d}=t;(i||i===0)&&!mb(i)&&console.error(VL(`${i}`,"Progress"));const u=mb(i)?i:ng;a!==null&&!hb(a,u)&&console.error(BL(`${a}`,"Progress"));const h=hb(a,u)?a:null,f=yu(h)?l(h,u):void 0;return e.jsx(FL,{scope:s,value:h,max:u,children:e.jsx(Me.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":yu(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":jk(h,u),"data-value":h??void 0,"data-max":u,...d,ref:r})})});vk.displayName=sg;var yk="ProgressIndicator",bk=m.forwardRef((t,r)=>{const{__scopeProgress:s,...a}=t,i=LL(yk,s);return e.jsx(Me.div,{"data-state":jk(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:r})});bk.displayName=yk;function $L(t,r){return`${Math.round(t/r*100)}%`}function jk(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function yu(t){return typeof t=="number"}function mb(t){return yu(t)&&!isNaN(t)&&t>0}function hb(t,r){return yu(t)&&!isNaN(t)&&t<=r&&t>=0}function VL(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ng}\`.`}function BL(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ng} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wk=vk,UL=bk;const bu=m.forwardRef(({className:t,value:r,...s},a)=>e.jsx(wk,{ref:a,className:Re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:e.jsx(UL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));bu.displayName=wk.displayName;const zL=ac("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zr=m.forwardRef(({className:t,variant:r,...s},a)=>e.jsx("div",{ref:a,role:"alert",className:Re(zL({variant:r}),t),...s}));Zr.displayName="Alert";const qL=m.forwardRef(({className:t,...r},s)=>e.jsx("h5",{ref:s,className:Re("mb-1 font-medium leading-none tracking-tight",t),...r}));qL.displayName="AlertTitle";const es=m.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Re("text-sm [&_p]:leading-relaxed",t),...r}));es.displayName="AlertDescription";function Vf({projectId:t,userRole:r,onCloseVoting:s,showCloseButton:a=!1,onDeveloperSelected:i}){var M,V;const[l,d]=m.useState(null),[u,h]=m.useState(!0),[f,y]=m.useState(!1),[x,g]=m.useState(!1),[v,j]=m.useState(""),{toast:N}=ot();m.useEffect(()=>{w()},[t]);const w=async()=>{try{h(!0);const k=await re.getFinalVotingResults(t);if(k.error)throw new Error(k.error);d(k.data)}catch(k){console.error("Error fetching voting results:",k),N({title:"Error",description:k.message||"Failed to fetch voting results",variant:"destructive"})}finally{h(!1)}},P=async()=>{if(l)try{y(!0);const k=await re.closeVoting(t);if(k.error)throw new Error(k.error);N({title:"Success",description:"Voting has been closed. Please select a developer manually."}),await w(),s==null||s()}catch(k){console.error("Error closing voting:",k),N({title:"Error",description:k.message||"Failed to close voting",variant:"destructive"})}finally{y(!1)}},_=async()=>{if(!v||!l)return;const k=l.proposalResults.find(T=>T.proposal._id===v);if(k)try{g(!0);const T=await re.selectDeveloper(t,k.proposal.developer._id,v);if(T.error)throw new Error(T.error);N({title:"Success",description:"Developer selected successfully"}),await w(),i==null||i()}catch(T){console.error("Error selecting developer:",T),N({title:"Error",description:T.message||"Failed to select developer",variant:"destructive"})}finally{g(!1)}};if(u)return e.jsx(G,{children:e.jsx(Q,{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading voting results..."})]})})});if(!l)return e.jsx(G,{children:e.jsx(Q,{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No voting results available"})]})})});const{project:C,finalResults:L,proposalResults:q,winningProposal:A}=l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(UE,{className:"h-5 w-5 text-yellow-500"}),"Voting Results - ",C.title]}),e.jsx(Qe,{children:"Final results after voting closure"})]}),a&&r==="society_owner"&&C.votingStatus==="open"&&e.jsx(H,{onClick:P,disabled:f,className:"bg-red-600 hover:bg-red-700",children:f?"Closing...":"Close Voting"})]})}),e.jsxs(Q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:L.totalVotes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Votes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:L.yesVotes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:L.noVotes}),e.jsx("div",{className:"text-sm text-gray-600",children:"No Votes"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall Approval Rate"}),e.jsxs("span",{className:"text-sm font-bold",children:[L.approvalPercentage,"%"]})]}),e.jsx(bu,{value:L.approvalPercentage,className:"h-2"})]}),C.votingClosedAt&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ht,{className:"h-4 w-4"}),"Voting closed on ",new Date(C.votingClosedAt).toLocaleDateString()]})]})]}),A&&e.jsxs(G,{className:"border-green-200 bg-green-50",children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(Jf,{className:"h-5 w-5"}),"Winner Selected!"]}),e.jsx(Qe,{className:"text-green-700",children:"The society has selected a developer for this project"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:A.proposal.title}),e.jsxs(xe,{variant:"secondary",className:"bg-green-100 text-green-800",children:[A.approvalPercentage,"% Approval"]})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:A.proposal.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Corpus Amount"}),e.jsxs("div",{className:"font-semibold",children:["",(M=A.proposal.corpusAmount)==null?void 0:M.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Rent Amount"}),e.jsxs("div",{className:"font-semibold",children:["",(V=A.proposal.rentAmount)==null?void 0:V.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"FSI"}),e.jsx("div",{className:"font-semibold",children:A.proposal.fsi})]})]}),A.proposal.developerInfo&&e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Developer Information"}),e.jsx("div",{className:"font-semibold",children:A.proposal.developerInfo.companyName}),e.jsxs("div",{className:"text-sm text-gray-600",children:[A.proposal.developerInfo.experience," years experience  ",A.proposal.developerInfo.completedProjects," projects completed"]})]})]})})]}),C.status==="voting_closed"&&r==="society_owner"&&!A&&e.jsxs(G,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Ct,{className:"h-5 w-5"}),"Manual Developer Selection Required"]}),e.jsx(Qe,{className:"text-blue-700",children:"Voting has been closed. Please select a developer to assign this project."})]}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Select Developer:"}),e.jsx("div",{className:"space-y-3",children:q.map(k=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${v===k.proposal._id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>j(k.proposal._id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:k.proposal.title}),k.proposal.developerInfo&&e.jsx("p",{className:"text-sm text-gray-600",children:k.proposal.developerInfo.companyName})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[k.approvalPercentage,"% Approval"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[k.votes.yesVotes," yes, ",k.votes.noVotes," no"]})]})]})},k.proposal._id))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(H,{onClick:_,disabled:!v||x,className:"bg-blue-600 hover:bg-blue-700",children:x?"Selecting...":"Select Developer"}),e.jsx(H,{variant:"outline",onClick:()=>j(""),disabled:x,children:"Clear Selection"})]})]})})]}),e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-5 w-5"}),"All Proposals Results"]}),e.jsx(Qe,{children:"Detailed voting results for each developer proposal"})]}),e.jsx(Q,{children:e.jsx("div",{className:"space-y-4",children:q.map((k,T)=>{var z,E;return e.jsxs("div",{className:`p-4 rounded-lg border ${k.isWinner?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${k.isWinner?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:T+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:k.proposal.title}),k.proposal.developerInfo&&e.jsx("p",{className:"text-sm text-gray-600",children:k.proposal.developerInfo.companyName})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[k.isWinner&&e.jsxs(xe,{className:"bg-green-100 text-green-800",children:[e.jsx(Jf,{className:"h-3 w-3 mr-1"}),"Winner"]}),e.jsxs(xe,{variant:"secondary",children:[k.approvalPercentage,"% Approval"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:k.votes.yesVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:k.votes.noVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"No Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-600",children:k.votes.abstainVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"Abstain"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:k.totalVotes}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Approval Rate"}),e.jsxs("span",{className:"text-sm font-semibold",children:[k.approvalPercentage,"%"]})]}),e.jsx(bu,{value:k.approvalPercentage,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Corpus:"}),e.jsxs("span",{className:"ml-1 font-medium",children:["",(z=k.proposal.corpusAmount)==null?void 0:z.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Rent:"}),e.jsxs("span",{className:"ml-1 font-medium",children:["",(E=k.proposal.rentAmount)==null?void 0:E.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"FSI:"}),e.jsx("span",{className:"ml-1 font-medium",children:k.proposal.fsi})]})]})]},k.proposal._id)})})})]}),!A&&C.votingStatus==="closed"&&C.status!=="voting_closed"&&e.jsxs(Zr,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsxs(es,{children:["No developer received the minimum required approval percentage (",L.approvalPercentage,"% achieved, minimum required not met). The society may need to restart the voting process or adjust the requirements."]})]}),C.status==="voting_closed"&&r==="society_member"&&e.jsxs(Zr,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(es,{children:"Voting has been closed. The society secretary will manually select a developer based on the voting results. Please wait for the final decision."})]})]})}function WL({project:t,onVotingUpdate:r,userRole:s}){const[a,i]=m.useState(!1),[l,d]=m.useState(""),[u,h]=m.useState(null),{toast:f}=ot();m.useEffect(()=>{t.status==="voting"&&y()},[t._id,t.status]);const y=async()=>{var _;try{console.log(" Fetching voting stats for project:",t._id,"session: proposal_selection");const C=await re.getVotingStatistics(t._id,"proposal_selection");console.log(" Voting stats response:",C),(_=C.data)!=null&&_.statistics?(console.log(" Setting voting stats:",C.data.statistics),h(C.data.statistics)):console.log(" No statistics found in response")}catch(C){console.error("Error fetching voting stats:",C)}},x=async()=>{if(!l){f({title:"Validation Error",description:"Please set a voting deadline",variant:"destructive"});return}i(!0);try{const _=await re.startVoting(t._id,l);if(_.error)throw new Error(_.error);f({title:"Success",description:"Voting has been started successfully"}),r()}catch(_){console.error("Error starting voting:",_),f({title:"Error",description:_.message||"Failed to start voting",variant:"destructive"})}finally{i(!1)}},g=async()=>{i(!0);try{const _=await re.closeVoting(t._id);if(_.error)throw new Error(_.error);f({title:"Success",description:"Voting has been closed and results finalized"}),r()}catch(_){console.error("Error closing voting:",_),f({title:"Error",description:_.message||"Failed to close voting",variant:"destructive"})}finally{i(!1)}},v=()=>t.status==="voting"&&t.votingStatus!=="closed",j=()=>t.status==="proposals_received"&&s==="society_owner",N=()=>v()&&s==="society_owner",w=_=>new Date(_).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=_=>{const C=new Date(_),L=new Date,q=C.getTime()-L.getTime();return Math.ceil(q/(1e3*60*60*24))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Current Voting Status"]}),e.jsx(Qe,{children:"Manage voting process for this redevelopment project"})]}),e.jsxs(Q,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(xe,{variant:v()?"default":t.status==="proposals_received"?"secondary":"outline",children:v()?"Voting Open":t.status==="proposals_received"?"Ready for Voting":t.status}),t.minimumApprovalPercentage&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Min. ",t.minimumApprovalPercentage,"% approval required"]})]})]})}),t.votingDeadline&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx("span",{children:v()?`Voting closes in ${P(t.votingDeadline)} days (${w(t.votingDeadline)})`:`Voting deadline: ${w(t.votingDeadline)}`})]}),u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Voting Statistics"}),e.jsx(H,{variant:"outline",size:"sm",onClick:y,disabled:a,children:a?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):"Refresh"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[u.approvalPercentage||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Approval"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:u.totalVotes||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Votes Cast"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.yesVotes||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.noVotes||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"No Votes"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:u.totalMembers||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-purple-600",children:[u.participationRate||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Participation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-orange-600",children:[u.minimumApprovalRequired||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Required"})]})]}),u.totalVotes===0&&e.jsxs(Zr,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(es,{children:"No votes have been cast yet. Members can vote once the voting period begins."})]})]}):e.jsxs(Zr,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(es,{children:"Voting statistics are not available. Make sure voting has been started and members are eligible to vote."})]})]})]}),s==="society_owner"&&e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-5 w-5"}),"Voting Controls"]}),e.jsx(Qe,{children:"Start or close voting for this project"})]}),e.jsxs(Q,{className:"space-y-4",children:[j()&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Zr,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(es,{children:"Proposals have been received. You can now start the voting process for society members."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"votingDeadline",children:"Voting Deadline"}),e.jsx(Se,{id:"votingDeadline",type:"datetime-local",value:l,onChange:_=>d(_.target.value),min:new Date().toISOString().slice(0,16)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set when voting should close for this project"})]}),e.jsxs(H,{onClick:x,disabled:a,className:"w-full",children:[e.jsx(Nj,{className:"h-4 w-4 mr-2"}),a?"Starting Voting...":"Start Voting"]})]}),N()&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Zr,{children:[e.jsx(bt,{className:"h-4 w-4"}),e.jsx(es,{children:"Voting is currently open. You can close it to finalize results and select the winning proposal."})]}),e.jsxs(H,{onClick:g,disabled:a,variant:"destructive",className:"w-full",children:[e.jsx(LE,{className:"h-4 w-4 mr-2"}),a?"Closing Voting...":"Close Voting"]})]}),!j()&&!N()&&e.jsxs(Zr,{children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx(es,{children:t.status==="planning"||t.status==="tender_open"?"Waiting for proposals to be submitted before voting can begin.":t.status==="developer_selected"||t.status==="construction"?"Voting has been completed and a developer has been selected.":"No voting actions available at this time."})]})]})]}),s==="society_member"&&e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-5 w-5"}),"Voting Information"]})}),e.jsx(Q,{children:v()?e.jsxs(Zr,{children:[e.jsx(Ys,{className:"h-4 w-4"}),e.jsxs(es,{children:["Voting is currently open! You can cast your vote in the Overview tab. Make sure to vote before the deadline: ",t.votingDeadline?w(t.votingDeadline):"TBD"]})]}):e.jsxs(Zr,{children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx(es,{children:t.status==="proposals_received"?"Proposals have been received. Waiting for voting to begin.":t.status==="developer_selected"?"Voting has been completed and a developer has been selected.":"Voting is not currently open."})]})})]})]})}function HL({projectId:t,proposals:r,userRole:s,votingDeadline:a,isVotingOpen:i=!0}){const[l,d]=m.useState({}),[u,h]=m.useState({}),[f,y]=m.useState(!0),{toast:x}=ot();m.useEffect(()=>{g()},[t]);const g=async()=>{try{y(!0);const C=await re.getMyVotingHistory(t);if(console.log(" Fetching user votes response:",C),C.data&&C.data.votes){const L={};console.log(" Raw votes data:",C.data.votes),C.data.votes.forEach(q=>{if(console.log(" Processing vote:",q),q.votingSession==="proposal_selection"&&q.proposalId){const A=q.proposalId.toString(),M=q.vote===!0?"yes":q.vote===!1?"no":"abstain";console.log(" Vote details:",{proposalId:A,vote:q.vote,voteString:M}),M!=="abstain"&&(L[A]=M)}}),console.log(" Final parsed user votes:",L),d(L)}}catch(C){console.error("Error fetching user votes:",C)}finally{y(!1)}},v=async(C,L)=>{if(!i){x({title:"Voting Closed",description:"Voting is not currently open.",variant:"destructive"});return}const q=j();if(q!=null&&q.expired){x({title:"Voting Closed",description:"Voting deadline has passed.",variant:"destructive"});return}console.log(" Submitting vote:",{proposalId:C,vote:L,projectId:t}),h(A=>({...A,[C]:!0}));try{const A={redevelopmentProject:t,proposal:C,vote:L,votingSession:"proposal_selection"};console.log(" Vote data being sent:",A);const M=await re.submitMemberVote(A);if(console.log(" Vote submission response:",M),M.error)throw new Error(M.error);d(V=>({...V,[C]:L})),await g(),x({title:"Vote Recorded",description:`Your ${L==="yes"?"Yes":"No"} vote has been recorded for this proposal.`})}catch(A){console.error("Error submitting vote:",A),x({title:"Error",description:A.message||"Failed to submit vote. Please try again.",variant:"destructive"})}finally{h(A=>({...A,[C]:!1}))}},j=()=>{if(!a)return null;const C=new Date,q=new Date(a).getTime()-C.getTime();if(q<=0)return{expired:!0,text:"Voting Closed",variant:"destructive"};const A=Math.floor(q/(1e3*60*60)),M=Math.floor(A/24);return M>0?{expired:!1,text:`${M} days left`,variant:"default"}:A>0?{expired:!1,text:`${A} hours left`,variant:"secondary"}:{expired:!1,text:`${Math.floor(q/6e4)} minutes left`,variant:"destructive"}},N=j(),w=r.length,P=Object.keys(l).length,_=P===w&&w>0;return f?e.jsx(G,{children:e.jsx(Q,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):i?_?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Zr,{className:"border-green-200 bg-green-50",children:[e.jsx(Ws,{className:"h-4 w-4 text-green-600"}),e.jsxs(es,{className:"text-green-800",children:[e.jsx("strong",{children:"Voting Complete!"})," You have successfully voted on all ",w," proposals. Thank you for participating in the voting process."]})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5 text-green-600"}),"Your Voting Summary"]})}),e.jsx(Q,{children:e.jsx("div",{className:"space-y-3",children:r.map(C=>{var A,M,V;const L=l[C._id],q=((A=C.developerInfo)==null?void 0:A.companyName)||((M=C.developer)==null?void 0:M.companyName)||((V=C.developerProfile)==null?void 0:V.company_name)||"Developer";return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:C.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",q]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(xe,{variant:L==="yes"?"default":"secondary",className:"flex items-center gap-1",children:[L==="yes"?e.jsx(Ws,{className:"h-3 w-3"}):e.jsx(Ks,{className:"h-3 w-3"}),L==="yes"?"Yes":"No"]})})]},C._id)})})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Vote on Proposals"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vote Yes or No for each proposal (",P,"/",w," completed)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{variant:"outline",size:"sm",onClick:g,disabled:f,className:"text-xs",children:f?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}):"Refresh"}),N&&e.jsxs(xe,{variant:N.variant,className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-3 w-3"}),N.text]})]})]}),w>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[P,"/",w," proposals voted"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${P/w*100}%`}})})]}),e.jsx("div",{className:"space-y-4",children:r.map(C=>{var M,V,k;const L=l[C._id],q=u[C._id],A=((M=C.developerInfo)==null?void 0:M.companyName)||((V=C.developer)==null?void 0:V.companyName)||((k=C.developerProfile)==null?void 0:k.company_name)||"Developer";return e.jsxs(G,{className:`${L?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50"}`,children:[e.jsx(ve,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ye,{className:"text-base",children:C.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",A]})]}),L?e.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(Ws,{className:"h-3 w-3 mr-1"}),"Voted"]}):e.jsxs(xe,{variant:"outline",className:"border-blue-300 text-blue-700",children:[e.jsx(Ys,{className:"h-3 w-3 mr-1"}),"Pending"]})]})}),e.jsx(Q,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[C.corpusAmount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Corpus:"}),e.jsxs("div",{className:"font-medium",children:["",C.corpusAmount.toLocaleString()]})]}),C.rentAmount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Rent:"}),e.jsxs("div",{className:"font-medium",children:["",C.rentAmount.toLocaleString()]})]}),C.fsi&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"FSI:"}),e.jsx("div",{className:"font-medium",children:C.fsi})]}),C.timeline&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:C.timeline})]})]}),L?e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Your Submitted Vote:"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l[C._id]==="yes"?e.jsx(Ws,{className:"h-5 w-5 text-green-600"}):e.jsx(Ks,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-green-800",children:["You voted: ",e.jsx("strong",{children:l[C._id]==="yes"?"Yes":"No"})]}),e.jsx("div",{className:"text-xs text-green-600",children:l[C._id]==="yes"?"You approved this proposal":"You rejected this proposal"})]}),e.jsx(xe,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200",children:"Voted"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{className:"text-sm font-medium",children:"Your Vote:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(C._id,"yes"),disabled:q||(N==null?void 0:N.expired),className:"flex items-center gap-2 hover:bg-green-50 hover:border-green-300",children:[q&&l[C._id]==="yes"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):e.jsx(Ws,{className:"h-4 w-4"}),"Yes"]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(C._id,"no"),disabled:q||(N==null?void 0:N.expired),className:"flex items-center gap-2 hover:bg-red-50 hover:border-red-300",children:[q&&l[C._id]==="no"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(Ks,{className:"h-4 w-4"}),"No"]})]})]})]})})]},C._id)})}),r.length===0&&e.jsxs(Zr,{children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx(es,{children:"No proposals available for voting."})]})]}):e.jsxs(Zr,{children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx(es,{children:"Voting is not currently open for this project."})]})}const Nk=({societyId:t,isOwner:r=!1})=>{var or,Bt,er;const{user:s}=It(),{joinProject:a,leaveProject:i,connected:l}=t1(),[d,u]=m.useState([]),[h,f]=m.useState([]),[y,x]=m.useState(!0),[g,v]=m.useState(!1),[j,N]=m.useState(null),[w,P]=m.useState("overview"),[_,C]=m.useState(null),[L,q]=m.useState(null),[A,M]=m.useState(!1),[V,k]=m.useState({}),[T,z]=m.useState(!1),[E,$]=m.useState(null),[R,X]=m.useState([]),[Y,O]=m.useState([]),[I,D]=m.useState(!1),[W,B]=m.useState({}),[U,J]=m.useState(!1);m.useEffect(()=>{N(null),f([]),O([]),z(!1),k({}),P("overview"),se()},[t]),m.useEffect(()=>{if(j&&l)return a(j._id),console.log(` Joined project room: ${j._id}`),()=>{i(j._id),console.log(` Left project room: ${j._id}`)}},[j,l,a,i]),m.useEffect(()=>{(async()=>{if(j&&h.length>0&&s){console.log(" Checking existing votes for project:",j._id,"user:",s.id);try{const Le=await re.getMyVotingHistory(j._id);if(console.log(" Vote check response:",Le),Le.data&&Le.data.length>0){console.log(" My vote documents:",Le.data);const ie=Le.data.find(_e=>_e.redevelopmentProject._id===j._id);if(ie&&ie.votes.length>0){console.log(" User votes found for project:",ie.votes);const _e={},Ae=[];ie.votes.forEach(Ie=>{if(Ie.proposalId){const Ze=h.find(ht=>ht._id===Ie.proposalId._id);Ze&&(_e[Ie.proposalId._id]={vote:Ie.vote},Ae.push({proposal:Ze,vote:Ie.vote,votedAt:Ie.votedAt}))}}),k(_e),z(!0),X(Ae),console.log("Loaded existing votes:",_e),console.log("User submitted votes:",Ae)}}}catch(Le){console.error("Error checking existing votes:",Le)}}})()},[j,h,s]),m.useEffect(()=>{j&&(s==null?void 0:s.currentRole)==="society_member"&&he(j._id)},[j,s==null?void 0:s.currentRole]),m.useEffect(()=>{w==="voting"&&j&&ge(j._id)},[w,j]),m.useEffect(()=>{console.log(" Voting results state changed:",{votingResults:E,votingResultsData:Y,selectedProject:j==null?void 0:j._id})},[E,Y,j]);const se=async()=>{try{x(!0);const ae=t?`?society_id=${t}`:"",Le=await re.getRedevelopmentProjects(ae);if(Le.error){Be({title:"Error",description:"Failed to fetch redevelopment projects",variant:"destructive"});return}u(Le.data.projects||[])}catch(ae){console.error("Error fetching projects:",ae),Be({title:"Error",description:"Failed to fetch redevelopment projects",variant:"destructive"})}finally{x(!1)}},ue=async ae=>{var Le;try{console.log(" Fetching proposals for project:",ae);const ie=await re.getDeveloperProposals(`?project_id=${ae}`);if(console.log(" API Response:",ie),ie.error){console.error(" API Error:",ie.error),Be({title:"Error",description:"Failed to fetch developer proposals",variant:"destructive"});return}const _e=((Le=ie.data)==null?void 0:Le.proposals)||[];console.log(" Proposals data for project",ae,":",_e),console.log(" Number of proposals found:",_e.length),f(_e)}catch(ie){console.error(" Error fetching proposals:",ie),Be({title:"Error",description:"Failed to fetch developer proposals",variant:"destructive"})}},ge=async ae=>{var Le,ie;try{console.log(" Fetching voting results for project:",ae);let _e,Ae="proposal_selection";try{_e=await re.getVotingStatistics(ae,"proposal_selection"),console.log(" Voting statistics response for proposal_selection:",_e)}catch(qe){console.log(" Failed to get stats for proposal_selection, trying without session:",qe);try{_e=await re.getVotingStatistics(ae),Ae="no_session",console.log(" Voting statistics response without session:",_e)}catch(gt){throw console.log(" Failed to get stats without session:",gt),gt}}const Ie=(Le=_e.data)==null?void 0:Le.statistics;if(!Ie){console.log(" No voting statistics found"),O([]);return}console.log(" Voting stats:",{totalVotes:Ie.totalVotes,yesVotes:Ie.yesVotes,noVotes:Ie.noVotes,approvalPercentage:Ie.approvalPercentage});let Ze=[];try{const qe=await re.getProjectVotes(ae,Ae==="proposal_selection"?"proposal_selection":void 0,!0);console.log(" Detailed votes response for session:",Ae,qe),(ie=qe.data)!=null&&ie.votes&&Array.isArray(qe.data.votes)&&(Ze=qe.data.votes)}catch(qe){console.log(" Could not fetch detailed votes (might not be owner):",qe)}const ht={};Ze.length>0?Ze.forEach(qe=>{var We,jt,Dt,Ut,_r,_s;const gt=((We=qe.proposalId)==null?void 0:We._id)||qe.proposalId;gt&&(ht[gt]||(ht[gt]={proposalId:gt,proposalTitle:((jt=qe.proposalId)==null?void 0:jt.title)||"Unknown Proposal",developerName:((Ut=(Dt=qe.proposalId)==null?void 0:Dt.developerInfo)==null?void 0:Ut.companyName)||((_s=(_r=qe.proposalId)==null?void 0:_r.developer)==null?void 0:_s.name)||"Developer",yesVotes:[],noVotes:[],totalVotes:0}),qe.vote===!0||qe.vote==="yes"?ht[gt].yesVotes.push({votedAt:qe.votedAt||new Date().toISOString()}):(qe.vote===!1||qe.vote==="no")&&ht[gt].noVotes.push({votedAt:qe.votedAt||new Date().toISOString()}),ht[gt].totalVotes++)}):h.forEach(qe=>{var gt,We,jt;ht[qe._id]={proposalId:qe._id,proposalTitle:qe.title,developerName:((gt=qe.developerInfo)==null?void 0:gt.companyName)||((We=qe.developer)==null?void 0:We.companyName)||((jt=qe.developerProfile)==null?void 0:jt.company_name)||"Developer",yesVotes:[],noVotes:[],totalVotes:0}});const wt=Object.values(ht).map(qe=>({...qe,yesCount:qe.yesVotes.length,noCount:qe.noVotes.length,approvalRate:qe.totalVotes>0?Math.round(qe.yesVotes.length/qe.totalVotes*100):0}));console.log(" Processed voting results:",wt),console.log(" Setting voting results data:",{votingResultsData:wt,overallStats:Ie}),O(wt),$({totalVotes:Ie.totalVotes,results:wt}),console.log(" Final voting results state set:",{totalVotes:Ie.totalVotes,resultsCount:wt.length})}catch(_e){console.error("Error fetching voting results:",_e),Be({title:"Error",description:"Failed to fetch voting results from database",variant:"destructive"})}},oe=ae=>{console.log("View proposal clicked:",ae),q(ae),M(!0)},de=async ae=>{var ie,_e;if(confirm(`Are you sure you want to select "${((ie=ae.developerInfo)==null?void 0:ie.companyName)||"Developer"}" for this project? This action cannot be undone and will notify the developer.`))try{const Ae=await re.selectProposal(ae._id);if(Ae.error){Be({title:"Error",description:Ae.error,variant:"destructive"});return}Be({title:"Developer Selected!",description:`${((_e=ae.developerInfo)==null?void 0:_e.companyName)||"Developer"} has been selected for the project. All developers have been notified via email.`}),j&&(ue(j._id),se())}catch(Ae){console.error("Error selecting developer:",Ae),Be({title:"Error",description:Ae.message||"Failed to select developer",variant:"destructive"})}},le=async()=>{if(!r){Be({title:"Unauthorized",description:"Only society owners can start voting.",variant:"destructive"});return}if(!j){Be({title:"Error",description:"No project selected.",variant:"destructive"});return}try{const ae=await re.put(`/redevelopment-projects/${j._id}`,{status:"voting"});if(ae.error){Be({title:"Error",description:ae.error||"Failed to start voting",variant:"destructive"});return}Be({title:"Voting Started",description:"Voting is now open for members to vote on proposals."}),await se()}catch(ae){console.error("Error starting voting:",ae),Be({title:"Error",description:ae.message||"Failed to start voting. Please try again.",variant:"destructive"})}},he=async ae=>{var Le;if(!(!(s!=null&&s.id)||s.currentRole!=="society_member"))try{const ie=await re.get(`/member-votes/my-votes?project=${ae}`);if((Le=ie.data)!=null&&Le.votes&&ie.data.votes.length>0){const _e={};ie.data.votes.forEach(Ae=>{if(Ae.proposal||Ae.proposalId){const Ie=Ae.proposal||Ae.proposalId;_e[Ie]={vote:Ae.vote===!0||Ae.vote==="yes"?"yes":"no"}}}),B(_e),J(!0)}}catch(ie){console.log("No existing votes found or error checking votes:",ie)}},fe=async(ae,Le)=>{if(!(!j||!(s!=null&&s.id)))try{if(W[ae]){Be({title:"Already Voted",description:"You have already voted on this proposal.",variant:"destructive"});return}const ie=await re.post("/member-votes",{redevelopmentProject:j._id,proposal:ae,vote:Le,votingSession:"proposal_selection"});if(ie.error)throw new Error(ie.error);B(Ae=>({...Ae,[ae]:{vote:Le}})),Be({title:"Vote Recorded",description:`Your ${Le} vote has been recorded successfully.`}),h.every(Ae=>W[Ae._id]||Ae._id===ae)&&(J(!0),Be({title:"All Votes Submitted",description:"You have voted on all proposals. Thank you for participating!"}))}catch(ie){console.error("Error submitting vote:",ie),Be({title:"Error",description:ie.message||"Failed to submit vote. Please try again.",variant:"destructive"})}},we=async()=>{var ae,Le;if(!r){Be({title:"Unauthorized",description:"Only society owners can close voting.",variant:"destructive"});return}try{const ie=await re.getVotingStatistics(j==null?void 0:j._id,"proposal_selection");if(ie.error)throw new Error(ie.message||"Failed to get voting results");const _e=await Promise.all(h.map(async Ze=>{var ht,wt,qe,gt,We;try{const jt=await re.getProjectVotes(j==null?void 0:j._id,"proposal_selection");if(jt.error)return{proposalId:Ze._id,proposalTitle:Ze.title,developerName:((ht=Ze.developerInfo)==null?void 0:ht.companyName)||"Developer",yesVotes:0,noVotes:0,approvalRate:0};const Dt=((qe=(wt=jt.data)==null?void 0:wt.votes)==null?void 0:qe.filter(ps=>{var kn;return((kn=ps.proposal)==null?void 0:kn._id)===Ze._id}))||[],Ut=Dt.filter(ps=>ps.vote==="yes").length,_r=Dt.filter(ps=>ps.vote==="no").length,_s=Ut+_r,Ga=_s>0?Math.round(Ut/_s*100):0;return{proposalId:Ze._id,proposalTitle:Ze.title,developerName:((gt=Ze.developerInfo)==null?void 0:gt.companyName)||"Developer",yesVotes:Ut,noVotes:_r,approvalRate:Ga}}catch(jt){return console.error(`Error getting votes for proposal ${Ze._id}:`,jt),{proposalId:Ze._id,proposalTitle:Ze.title,developerName:((We=Ze.developerInfo)==null?void 0:We.companyName)||"Developer",yesVotes:0,noVotes:0,approvalRate:0}}})),Ae={totalVotes:((Le=(ae=ie.data)==null?void 0:ae.statistics)==null?void 0:Le.totalVotes)||0,results:_e};if($(Ae),(await re.updateRedevelopmentProjectStatus(j==null?void 0:j._id,"developer_selected")).error)throw new Error("Failed to update project status");N(Ze=>Ze?{...Ze,status:"developer_selected"}:null),Be({title:"Voting Closed",description:"Voting has been closed and results are now available."}),await ge(j._id)}catch(ie){console.error("Error closing voting:",ie),Be({title:"Error",description:"Failed to close voting. Please try again.",variant:"destructive"})}},Oe=async ae=>{N(ae),P("overview"),D(!0),f([]),O([]),z(!1),k({}),await ue(ae._id),(ae.status==="proposals_received"||ae.status==="voting"||ae.status==="developer_selected")&&await ge(ae._id),D(!1)},Te=async(ae,Le)=>{Le.stopPropagation();const ie=_!==ae;if(C(ie?ae:null),ie){D(!0),f([]),O([]);const _e=d.find(Ae=>Ae._id===ae);_e&&(await ue(ae),(_e.status==="proposals_received"||_e.status==="voting"||_e.status==="developer_selected")&&await ge(ae)),D(!1)}},pt=async ae=>{if(confirm("Are you sure you want to delete this redevelopment project? This action cannot be undone and will permanently remove all project data, proposals, and voting records."))try{const ie=await re.deleteRedevelopmentProject(ae);if(ie.error){Be({title:"Error",description:ie.error,variant:"destructive"});return}u(_e=>_e.filter(Ae=>Ae._id!==ae)),(j==null?void 0:j._id)===ae&&(N(null),P("overview")),Be({title:"Project Deleted",description:"The redevelopment project has been successfully deleted."})}catch(ie){console.error("Error deleting project:",ie),Be({title:"Error",description:"Failed to delete project. Please try again.",variant:"destructive"})}},Ot=ae=>({planning:"bg-blue-100 text-blue-800",tender_open:"bg-yellow-100 text-yellow-800",proposals_received:"bg-purple-100 text-purple-800",voting:"bg-orange-100 text-orange-800",developer_selected:"bg-green-100 text-green-800",construction:"bg-indigo-100 text-indigo-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"})[ae]||"bg-gray-100 text-gray-800",Yt=ae=>({planning:e.jsx(Cj,{className:"h-4 w-4"}),tender_open:e.jsx(Jt,{className:"h-4 w-4"}),proposals_received:e.jsx(xt,{className:"h-4 w-4"}),voting:e.jsx(Ys,{className:"h-4 w-4"}),developer_selected:e.jsx(bt,{className:"h-4 w-4"}),construction:e.jsx(yt,{className:"h-4 w-4"}),completed:e.jsx(yo,{className:"h-4 w-4"}),cancelled:e.jsx(Gt,{className:"h-4 w-4"})})[ae]||e.jsx(Ht,{className:"h-4 w-4"});return y?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-3xl font-bold",children:"Redevelopment Projects"})}),e.jsx("div",{className:"grid gap-6",children:[1,2,3].map(ae=>e.jsxs(G,{className:"animate-pulse",children:[e.jsxs(ve,{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},ae))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Redevelopment Projects"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your society's redevelopment initiatives"})]}),r&&e.jsxs(H,{onClick:()=>v(!0),className:"gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Create Project"]})]}),d.length===0?e.jsx(G,{children:e.jsxs(Q,{className:"text-center py-12",children:[e.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:r?"Start by creating your first redevelopment project.":"No redevelopment projects available at the moment."}),r&&e.jsxs(H,{onClick:()=>v(!0),className:"gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Create Project"]})]})}):e.jsx("div",{className:"grid gap-6",children:d.map(ae=>{var Le,ie;return e.jsxs("div",{children:[e.jsxs(G,{className:`cursor-pointer transition-all hover:shadow-lg ${(j==null?void 0:j._id)===ae._id?"ring-2 ring-primary":""}`,onClick:()=>Oe(ae),children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ye,{className:"text-xl",children:ae.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"h-4 w-4"}),ae.society.name,", ",ae.society.city]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:Ot(ae.status),children:e.jsxs("span",{className:"flex items-center gap-1",children:[Yt(ae.status),ae.status.replace("_"," ").toUpperCase()]})}),r&&e.jsx(H,{variant:"ghost",size:"sm",onClick:_e=>{_e.stopPropagation(),pt(ae._id)},className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(Gs,{className:"h-4 w-4"})})]})]})}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:ae.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(xe,{variant:"outline",className:"text-xs",children:ae.status})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timeline"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:(Le=ae.timeline)!=null&&Le.expectedCompletionDate?new Date(ae.timeline.expectedCompletionDate).toLocaleDateString("en-IN"):"TBD"})]}),((ie=ae.timeline)==null?void 0:ie.startDate)&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(ae.timeline.startDate).toLocaleDateString("en-IN")]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Updates"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:ae.updates.length})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Queries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:ae.queries.length})]})]}),ae.documents&&ae.documents.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Documents"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:ae.documents.length})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(H,{variant:"outline",size:"sm",onClick:_e=>Te(ae._id,_e),className:"flex items-center gap-2",children:_===ae._id?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4"}),"View Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(Br,{className:"h-4 w-4"}),"View More"]})})})]})})]}),_===ae._id&&e.jsxs(G,{className:"mt-4 border-l-4 border-l-primary",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(yt,{className:"h-5 w-5"}),"Project Details"]})}),e.jsx(Q,{children:r?e.jsxs(hs,{value:w,onValueChange:P,className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full grid-cols-4",children:[e.jsx(Ge,{value:"overview",children:"Overview"}),e.jsx(Ge,{value:"voting",children:"Voting Management"}),e.jsx(Ge,{value:"results",children:"Voting Results"}),e.jsx(Ge,{value:"queries",children:"Queries"})]}),e.jsx(st,{value:"overview",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading project data..."})]})}):e.jsx(Bf,{project:ae,proposals:h,onViewProposal:oe,userRole:s==null?void 0:s.currentRole,votingResultsData:Y,onVote:fe,myVotes:W,hasVoted:U,votingOpen:(ae==null?void 0:ae.status)==="voting",onRefreshProposals:()=>ue(ae._id)})}),e.jsx(st,{value:"voting",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting data..."})]})}):e.jsx(WL,{project:{_id:ae._id,title:ae.title,status:ae.status,votingDeadline:ae.votingDeadline,votingStatus:ae.votingStatus,minimumApprovalPercentage:ae.minimumApprovalPercentage||75},onVotingUpdate:async()=>{await ge(ae._id),se()},userRole:"society_owner"})}),e.jsx(st,{value:"results",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting results..."})]})}):e.jsx(Vf,{projectId:ae._id,userRole:"society_owner",showCloseButton:!0,onCloseVoting:()=>{se()}})}),e.jsx(st,{value:"queries",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading queries data..."})]})}):e.jsx($f,{project:{_id:ae._id,title:ae.title,queries:ae.queries.map(_e=>({..._e,status:_e.status}))}})})]}):e.jsxs(hs,{value:w,onValueChange:P,className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full grid-cols-3",children:[e.jsx(Ge,{value:"overview",children:"Overview"}),e.jsx(Ge,{value:"results",children:"Voting Results"}),e.jsx(Ge,{value:"queries",children:"Queries"})]}),e.jsx(st,{value:"overview",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading project data..."})]})}):e.jsx(Bf,{project:ae,proposals:h,onViewProposal:oe,userRole:s==null?void 0:s.currentRole,votingResultsData:Y,onVote:fe,myVotes:W,hasVoted:U,votingOpen:(ae==null?void 0:ae.status)==="voting",onRefreshProposals:()=>ue(ae._id)})}),e.jsx(st,{value:"results",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting results..."})]})}):e.jsx(Vf,{projectId:ae._id,userRole:"society_member",showCloseButton:!1,onCloseVoting:()=>{se()}})}),e.jsx(st,{value:"queries",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading queries data..."})]})}):e.jsx($f,{project:{_id:ae._id,title:ae.title,queries:ae.queries.map(_e=>({..._e,status:_e.status}))}})})]})})]})]},ae._id)})}),j&&r&&e.jsx("div",{className:"mt-8",children:e.jsxs(hs,{value:w,onValueChange:P,className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full grid-cols-4",children:[e.jsx(Ge,{value:"overview",children:"Overview"}),e.jsx(Ge,{value:"voting",children:"Voting Management"}),e.jsx(Ge,{value:"results",children:"Voting Results"}),e.jsx(Ge,{value:"queries",children:"Queries"})]}),e.jsx(st,{value:"overview",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading project data..."})]})}):e.jsx(Bf,{project:j,proposals:h,onViewProposal:oe,userRole:s==null?void 0:s.currentRole,votingResultsData:Y,onVote:fe,myVotes:W,hasVoted:U,votingOpen:(j==null?void 0:j.status)==="voting",onRefreshProposals:()=>ue(j._id)})}),r&&e.jsx(st,{value:"voting",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting data..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Voting Management"]}),e.jsx(Qe,{children:"Manage voting sessions and view voting results for this project."})]}),e.jsxs(Q,{children:[j.status==="voting"?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Voting is Currently Open"}),e.jsx("p",{className:"text-blue-600 text-sm mb-4",children:"Members can now vote on the submitted proposals. You can stop voting and select a developer when ready."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:we,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Stop Voting"]}),e.jsxs(H,{onClick:()=>{Be({title:"Select Developer",description:"Developer selection functionality will be implemented soon."})},className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(nr,{className:"h-4 w-4 mr-2"}),"Select Developer"]})]})]})}):j.status==="developer_selected"?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Voting Completed"}),e.jsx("p",{className:"text-green-600 text-sm",children:"Voting has been completed and a developer has been selected for this project."})]}):j.status==="proposals_received"?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Proposals Received - Ready to Start Voting"}),e.jsx("p",{className:"text-yellow-600 text-sm mb-4",children:"Proposals have been received and are ready for member voting. You can start the voting process now."}),e.jsxs(H,{onClick:le,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Start Voting"]})]})}):e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Voting Not Available"}),e.jsx("p",{className:"text-gray-600 text-sm",children:j.status==="planning"?"Voting will be available once the project moves to the proposal phase.":j.status==="tender_open"?"Voting will be available once proposals are received.":"Voting is not available for this project status."})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Anonymous Voting Results"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Voting results organized by developer proposals. Member identities are kept anonymous."}),Y.length>0?e.jsx("div",{className:"space-y-6",children:Y.map((ae,Le)=>e.jsxs(G,{className:"border-l-4 border-l-blue-500",children:[e.jsxs(ve,{children:[e.jsx(ye,{className:"text-lg",children:ae.developerName}),e.jsx(Qe,{children:ae.proposalTitle})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-3 flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4"}),"Yes Votes (",ae.yesCount,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ae.yesVotes.length>0?ae.yesVotes.map((ie,_e)=>e.jsxs("div",{className:"bg-green-50 p-3 rounded border-l-2 border-green-200",children:[e.jsxs("p",{className:"text-sm text-green-800",children:["Vote #",_e+1]}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Vote #",_e+1]})]},_e)):e.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No yes votes yet"})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-red-700 mb-3 flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),"No Votes (",ae.noCount,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ae.noVotes.length>0?ae.noVotes.map((ie,_e)=>e.jsxs("div",{className:"bg-red-50 p-3 rounded border-l-2 border-red-200",children:[e.jsxs("p",{className:"text-sm text-red-800",children:["Vote #",_e+1]}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Vote #",_e+1]})]},_e)):e.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No no votes yet"})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:ae.totalVotes}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Votes"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[ae.approvalRate,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Approval Rate"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-600",children:ae.totalVotes}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Members Voted"})]})]})})]})]},ae.proposalId||Le))}):e.jsx(G,{children:e.jsxs(Q,{className:"text-center py-8",children:[e.jsx(Ys,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Voting Data Available"}),e.jsx("p",{className:"text-muted-foreground",children:h.length>0?"No votes have been cast for any proposals yet.":"No proposals available to show voting results."})]})}),e.jsx("div",{className:"mt-4 flex justify-center gap-4",children:e.jsxs(H,{onClick:()=>{j&&(ge(j._id),Be({title:"Results Refreshed",description:"Voting results have been updated."}))},variant:"outline",className:"gap-2",children:[e.jsx(wi,{className:"h-4 w-4"}),"Refresh Results"]})}),h.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:h.some(ae=>ae.status==="selected")?"Selected Developer":"Select Developer"}),h.some(ae=>ae.status==="selected")?e.jsx("p",{className:"text-sm text-green-600 mb-4",children:" A developer has been selected for this project. The selection process is complete."}):e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose a developer from the available proposals based on voting results and your assessment."}),e.jsx("div",{className:"space-y-4",children:h.map(ae=>{var wt,qe,gt;const Le=Y.find(We=>We.proposalId===ae._id),ie=(Le==null?void 0:Le.approvalRate)||0,_e=(Le==null?void 0:Le.yesCount)||0,Ae=(Le==null?void 0:Le.noCount)||0,Ie=ae.status==="selected",Ze=ae.status==="rejected",ht=Ie?"border-l-green-500":Ze?"border-l-red-500":"border-l-blue-500";return e.jsx(G,{className:`border-l-4 ${ht} ${Ie?"bg-green-50":Ze?"bg-red-50":""}`,children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-lg",children:ae.title}),e.jsx(xe,{className:Ot(ae.status),children:ae.status.replace("_"," ").toUpperCase()}),Ie&&e.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"SELECTED"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["by ",((wt=ae.developerInfo)==null?void 0:wt.companyName)||"Developer"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Corpus Amount"}),e.jsxs("div",{className:"font-medium",children:["",((qe=ae.corpusAmount)==null?void 0:qe.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Rent Amount"}),e.jsxs("div",{className:"font-medium",children:["",((gt=ae.rentAmount)==null?void 0:gt.toLocaleString())||"N/A"]})]})]}),Le&&e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:_e}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Yes Votes"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:Ae}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"No Votes"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[ie,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Approval Rate"})]})]})})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>oe(ae),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Details"]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>oe(ae),className:"text-green-600 border-green-200 hover:bg-green-50",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Proposal"]})]}),!h.some(We=>We.status==="selected")&&ae.status!=="selected"&&ae.status!=="rejected"&&e.jsxs(H,{onClick:()=>de(ae),className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(bt,{className:"h-4 w-4 mr-1"}),"Select Developer"]}),ae.status==="selected"&&e.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"Selected"]}),ae.status==="rejected"&&e.jsxs(xe,{className:"bg-red-100 text-red-800 border-red-200",children:[e.jsx(Et,{className:"h-3 w-3 mr-1"}),"Rejected"]})]})]})})},ae._id)})})]})]})]})]})})}),e.jsx(st,{value:"results",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading voting results..."})]})}):e.jsx(Vf,{projectId:j._id,userRole:r?"society_owner":"society_member",showCloseButton:r&&j.status==="voting",onCloseVoting:()=>{se(),P("overview")}})}),e.jsx(st,{value:"queries",className:"space-y-6",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading queries data..."})]})}):e.jsx($f,{project:{_id:j._id,title:j.title,queries:j.queries.map(ae=>({...ae,status:ae.status}))}})})]})}),e.jsx(Oa,{open:A,onOpenChange:M,children:e.jsxs(zn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(qn,{children:e.jsx(Wn,{children:"Proposal Details"})}),L&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:L.title}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["by ",((or=L.developerInfo)==null?void 0:or.companyName)||"Developer"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-muted-foreground",children:L.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Corpus Amount"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",((Bt=L.corpusAmount)==null?void 0:Bt.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Rent Amount"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",((er=L.rentAmount)==null?void 0:er.toLocaleString())||"N/A","/month"]})]})]}),L.developerInfo&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Developer Information"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Company:"})," ",L.developerInfo.companyName||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Experience:"})," ",L.developerInfo.experience||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Completed Projects:"})," ",L.developerInfo.completedProjects||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",L.developerInfo.contactPerson||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Phone:"})," ",L.developerInfo.contactPhone||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Email:"})," ",L.developerInfo.contactEmail||"N/A"]}),L.developerInfo.website&&e.jsxs("div",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:L.developerInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:L.developerInfo.website})]})]})]}),L.documents&&L.documents.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Developer Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:L.documents.map((ae,Le)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:ae.name}),e.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[ae.type.replace("_"," ")," Document"]})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{const ie=window.document.createElement("a");ie.href=ae.url,ie.download=ae.name,ie.target="_blank",window.document.body.appendChild(ie),ie.click(),window.document.body.removeChild(ie)},className:"text-blue-600 hover:text-blue-700",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Download PDF"]})]},Le))})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(H,{variant:"outline",onClick:()=>M(!1),children:"Close"})})]})]})}),g&&e.jsx(IL,{societyId:t,onClose:()=>v(!1),onSuccess:ae=>{v(!1),u(Le=>[...Le,ae]),Be({title:"Success",description:"Redevelopment project has been created successfully."})}})]})},Bf=({project:t,proposals:r,onViewProposal:s,userRole:a,votingResultsData:i=[],onVote:l,myVotes:d={},hasVoted:u=!1,votingOpen:h=!1,onRefreshProposals:f})=>{var y,x;return console.log(" ProjectOverview - Project:",t._id,"Status:",t.status),console.log(" ProjectOverview - Proposals received:",r.length,r),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(ve,{children:e.jsx(ye,{children:"Project Details"})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-muted-foreground",children:t.description})]}),t.expectedAmenities.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Expected Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.expectedAmenities.map((g,v)=>e.jsx(xe,{variant:"secondary",children:g},v))})]}),t.documents&&t.documents.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Project Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.documents.map((g,v)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(xt,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:g.name}),e.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[g.type.replace("_"," ")," Document"]})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{const j=window.document.createElement("a");j.href=g.url,j.download=g.name,j.target="_blank",window.document.body.appendChild(j),j.click(),window.document.body.removeChild(j)},className:"text-blue-600 hover:text-blue-700",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Download PDF"]})]},v))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Status"}),e.jsx(xe,{variant:"outline",className:"text-sm",children:t.status})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Timeline"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-muted-foreground",children:(y=t.timeline)!=null&&y.expectedCompletionDate?`Expected completion: ${new Date(t.timeline.expectedCompletionDate).toLocaleDateString("en-IN")}`:"TBD"}),((x=t.timeline)==null?void 0:x.startDate)&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.timeline.startDate).toLocaleDateString("en-IN")]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Created"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(t.createdAt).toLocaleDateString("en-IN")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(t.updatedAt).toLocaleDateString("en-IN")})]})]})]})]}),r.some(g=>g.status==="selected")&&e.jsxs(G,{className:"border-green-200 bg-green-50",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(bt,{className:"h-5 w-5"}),"Selected Developer"]})}),e.jsx(Q,{children:(()=>{var v,j,N;const g=r.find(w=>w.status==="selected");return g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-green-800",children:g.title}),e.jsxs("p",{className:"text-green-700 mb-2",children:["by ",((v=g.developerInfo)==null?void 0:v.companyName)||"Developer"]}),e.jsx("p",{className:"text-sm text-green-600",children:g.description})]}),e.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"SELECTED"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-green-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-700",children:"Corpus Amount"}),e.jsxs("div",{className:"text-lg font-semibold text-green-800",children:["",((j=g.corpusAmount)==null?void 0:j.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-700",children:"Rent Amount"}),e.jsxs("div",{className:"text-lg font-semibold text-green-800",children:["",((N=g.rentAmount)==null?void 0:N.toLocaleString())||"N/A"]})]})]}),g.developerInfo&&e.jsxs("div",{className:"pt-4 border-t border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"Developer Information"}),e.jsxs("div",{className:"text-sm text-green-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Company:"})," ",g.developerInfo.companyName||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Experience:"})," ",g.developerInfo.experience||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Completed Projects:"})," ",g.developerInfo.completedProjects||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact Person:"})," ",g.developerInfo.contactPerson||"N/A"]})]})]})]}):null})()})]}),e.jsxs(G,{children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{children:["All Proposals (",r.length,")"]}),e.jsx(Qe,{children:"View all submitted proposals for this project"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>{console.log(" Manual refresh proposals for project:",t._id),f&&f()},children:"Refresh"})]})}),e.jsx(Q,{children:r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(g=>{var v,j,N,w,P;return e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:g.title}),e.jsxs("p",{className:"text-muted-foreground mb-2",children:["by ",((v=g.developerInfo)==null?void 0:v.companyName)||((j=g.developer)==null?void 0:j.companyName)||((N=g.developerProfile)==null?void 0:N.company_name)||"Developer"]}),e.jsx("p",{className:"text-sm",children:g.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Corpus:"}),e.jsxs("div",{className:"font-medium",children:["",((w=g.corpusAmount)==null?void 0:w.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Rent:"}),e.jsxs("div",{className:"font-medium",children:["",((P=g.rentAmount)==null?void 0:P.toLocaleString())||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"FSI:"}),e.jsx("div",{className:"font-medium",children:g.fsi||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:g.timeline||"N/A"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(xe,{variant:g.status==="selected"?"default":"outline",children:g.status}),e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>s(g),className:"text-green-600 border-green-200 hover:bg-green-50",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"View Proposal"]})]})]})},g._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Proposals Yet"}),e.jsx("p",{className:"text-gray-600",children:t.status==="planning"?"This project is still in planning phase. Proposals will appear here once the tender is opened.":t.status==="tender_open"?"No proposals have been submitted yet. Check back later.":"No proposals available for this project."})]})})]}),a==="society_member"&&h&&r.length>0&&e.jsxs(G,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Cast Your Vote"]}),e.jsx(Qe,{className:"text-blue-700",children:"Vote on the developer proposals for this redevelopment project"})]}),e.jsx(Q,{children:e.jsx(HL,{projectId:t._id,proposals:r,userRole:"society_member",votingDeadline:t.votingDeadline,isVotingOpen:h})})]}),a==="society_member"&&!h&&e.jsxs(G,{className:"border-gray-200",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5"}),"Voting Status"]})}),e.jsx(Q,{children:e.jsx("div",{className:"text-center py-4",children:t.status==="proposals_received"?e.jsxs("div",{className:"text-amber-700",children:[e.jsx(Gt,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Proposals received. Waiting for voting to begin."}),e.jsx("p",{className:"text-sm text-amber-600",children:"The society owner will start the voting process soon."})]}):t.status==="developer_selected"?e.jsxs("div",{className:"text-green-700",children:[e.jsx(bt,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Voting completed and developer selected."}),e.jsx("p",{className:"text-sm text-green-600",children:"Check the results below to see the final outcome."})]}):e.jsxs("div",{className:"text-gray-700",children:[e.jsx(Ht,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Voting is not currently open."}),e.jsx("p",{className:"text-sm text-gray-600",children:"Check back later for voting updates."})]})})})]}),!h&&i.length>0&&e.jsxs(G,{children:[e.jsxs(ve,{children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-5 w-5"}),"Voting Results"]}),e.jsx(Qe,{children:"Final voting results for all proposals"})]}),e.jsx(Q,{children:e.jsx("div",{className:"space-y-4",children:i.map((g,v)=>e.jsx(G,{className:"border-l-4 border-l-purple-500",children:e.jsxs(Q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:g.title||"Proposal"}),e.jsxs("p",{className:"text-muted-foreground",children:["by ",g.developerName||"Developer"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[g.approvalRate,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Approval Rate"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:Array.isArray(g.yesVotes)?g.yesVotes.length:g.yesVotes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:Array.isArray(g.noVotes)?g.noVotes.length:g.noVotes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"No Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:g.totalVotes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Votes"})]})]})]})},g.proposalId||v))})})]})]})},YL=({societyId:t,refreshTrigger:r})=>{var z;const[s,a]=m.useState([]),[i,l]=m.useState(!0),[d,u]=m.useState(null),[h,f]=m.useState(null),[y,x]=m.useState(""),[g,v]=m.useState(!1),[j,N]=m.useState({status:"all",category:"all",priority:"all"}),{toast:w}=ot(),P=async()=>{var E;try{l(!0),u(null);const $={};j.status!=="all"&&($.status=j.status),j.category!=="all"&&($.category=j.category),j.priority!=="all"&&($.priority=j.priority);const R=await re.getSocietyQueries(t,$);R.error?u(R.error):a(((E=R.data)==null?void 0:E.queries)||[])}catch($){console.error("Error fetching queries:",$),u("Failed to fetch queries")}finally{l(!1)}};m.useEffect(()=>{P()},[t,r,j]);const _=async()=>{if(!h||!y.trim()){w({title:"Error",description:"Please enter a response",variant:"destructive"});return}v(!0);try{const E=await re.respondToQuery(h._id,y.trim());E.error?w({title:"Error",description:E.error,variant:"destructive"}):(w({title:"Success",description:"Response sent successfully"}),x(""),f(null),P())}catch(E){console.error("Error responding to query:",E),w({title:"Error",description:"Failed to send response. Please try again.",variant:"destructive"})}finally{v(!1)}},C=async(E,$)=>{try{const R=await re.updateQueryStatus(E,$);R.error?w({title:"Error",description:R.error,variant:"destructive"}):(w({title:"Success",description:"Query status updated successfully"}),P())}catch(R){console.error("Error updating query status:",R),w({title:"Error",description:"Failed to update status. Please try again.",variant:"destructive"})}},L=E=>{switch(E){case"open":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"in_progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},q=E=>{switch(E){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},A=E=>{switch(E){case"maintenance":return"";case"amenities":return"";case"security":return"";case"billing":return"";case"complaint":return"";case"suggestion":return"";default:return""}},M=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=s.filter(E=>E.status==="open").length,k=s.filter(E=>E.status==="in_progress").length,T=s.filter(E=>E.status==="resolved").length;return i?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(E=>e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-4 relative",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-2/3"})]})})]},E))}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading member queries..."})]})})})]})]}):d?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-950 dark:to-pink-950",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 to-pink-500/10 dark:from-red-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gt,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:"Error Loading Queries"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:d})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-blue-200 dark:border-blue-800 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Open Queries"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:V})]}),e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx($t,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-yellow-200 dark:border-yellow-800 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950 dark:to-yellow-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 dark:from-yellow-900/20 dark:to-orange-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:k})]}),e.jsx("div",{className:"p-2 rounded-full bg-yellow-500/20 dark:bg-yellow-700/30 backdrop-blur-sm",children:e.jsx(Ht,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:T})]}),e.jsx("div",{className:"p-2 rounded-full bg-green-500/20 dark:bg-green-700/30 backdrop-blur-sm",children:e.jsx(bt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pu,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"})]}),e.jsxs(Xe,{value:j.status,onValueChange:E=>N($=>({...$,status:E})),children:[e.jsx(Ye,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Status"}),e.jsx(te,{value:"open",children:"Open"}),e.jsx(te,{value:"in_progress",children:"In Progress"}),e.jsx(te,{value:"resolved",children:"Resolved"}),e.jsx(te,{value:"closed",children:"Closed"})]})]}),e.jsxs(Xe,{value:j.priority,onValueChange:E=>N($=>({...$,priority:E})),children:[e.jsx(Ye,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"all",children:"All Priority"}),e.jsx(te,{value:"urgent",children:"Urgent"}),e.jsx(te,{value:"high",children:"High"}),e.jsx(te,{value:"medium",children:"Medium"}),e.jsx(te,{value:"low",children:"Low"})]})]})]})})]}),s.length===0?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx($t,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No Queries Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No member queries match your current filters."})]})]}):e.jsx("div",{className:"space-y-4",children:s.map(E=>{var $;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:A(E.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 capitalize",children:E.category.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["By ",(($=E.memberProfile)==null?void 0:$.fullName)||E.member.name||E.member.phone]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:`px-3 py-1 rounded-full text-xs font-medium ${L(E.status)}`,children:E.status.replace("_"," ")}),e.jsx(xe,{className:`px-3 py-1 rounded-full text-xs font-medium ${q(E.priority)}`,children:E.priority})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:E.queryText})}),E.response&&e.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bt,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Your Response"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:E.response.text}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[e.jsx(Jt,{className:"h-3 w-3"}),e.jsx("span",{children:M(E.response.respondedAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsxs("span",{children:["Submitted ",M(E.createdAt)]})]}),E.upvotes.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pj,{className:"h-4 w-4"}),e.jsxs("span",{children:[E.upvotes.length," upvotes"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[E.status!=="resolved"&&E.status!=="closed"&&e.jsxs(Xe,{value:E.status,onValueChange:R=>C(E._id,R),children:[e.jsx(Ye,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(Ke,{children:[e.jsx(te,{value:"open",children:"Open"}),e.jsx(te,{value:"in_progress",children:"In Progress"}),e.jsx(te,{value:"resolved",children:"Resolved"}),e.jsx(te,{value:"closed",children:"Closed"})]})]}),!E.response&&e.jsxs(H,{onClick:()=>f(E),size:"sm",className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white",children:[e.jsx(Un,{className:"h-4 w-4 mr-1"}),"Respond"]})]})]})]})]},E._id)})}),h&&e.jsx(G,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"relative",children:[e.jsxs(ye,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(Un,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Respond to Query"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Respond to ",((z=h.memberProfile)==null?void 0:z.fullName)||h.member.name||h.member.phone,"'s query"]})]}),e.jsxs(Q,{className:"relative space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 mb-2",children:"Original Query:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.queryText})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"responseText",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Response *"}),e.jsx(Zt,{id:"responseText",value:y,onChange:E=>x(E.target.value),placeholder:"Enter your response to the member's query...",className:"min-h-[120px] resize-none border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx(H,{onClick:_,disabled:g||!y.trim(),className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Un,{className:"h-4 w-4 mr-2"}),"Send Response"]})}),e.jsx(H,{onClick:()=>{f(null),x("")},variant:"outline",children:"Cancel"})]})]})]})})]})};var Sk="AlertDialog",[KL]=vr(Sk,[U2]),Jn=U2(),kk=t=>{const{__scopeAlertDialog:r,...s}=t,a=Jn(r);return e.jsx($x,{...a,...s,modal:!0})};kk.displayName=Sk;var GL="AlertDialogTrigger",Ck=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,i=Jn(s);return e.jsx(nS,{...i,...a,ref:r})});Ck.displayName=GL;var QL="AlertDialogPortal",Pk=t=>{const{__scopeAlertDialog:r,...s}=t,a=Jn(r);return e.jsx(Vx,{...a,...s})};Pk.displayName=QL;var XL="AlertDialogOverlay",_k=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,i=Jn(s);return e.jsx(sm,{...i,...a,ref:r})});_k.displayName=XL;var mi="AlertDialogContent",[JL,ZL]=KL(mi),e$=Hb("AlertDialogContent"),Ek=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,children:a,...i}=t,l=Jn(s),d=m.useRef(null),u=rt(r,d),h=m.useRef(null);return e.jsx($O,{contentName:mi,titleName:Rk,docsSlug:"alert-dialog",children:e.jsx(JL,{scope:s,cancelRef:h,children:e.jsxs(nm,{role:"alertdialog",...l,...i,ref:u,onOpenAutoFocus:Ce(i.onOpenAutoFocus,f=>{var y;f.preventDefault(),(y=h.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[e.jsx(e$,{children:a}),e.jsx(r$,{contentRef:d})]})})})});Ek.displayName=mi;var Rk="AlertDialogTitle",Tk=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,i=Jn(s);return e.jsx(Bx,{...i,...a,ref:r})});Tk.displayName=Rk;var Dk="AlertDialogDescription",Ak=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,i=Jn(s);return e.jsx(Ux,{...i,...a,ref:r})});Ak.displayName=Dk;var t$="AlertDialogAction",Mk=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,i=Jn(s);return e.jsx(zx,{...i,...a,ref:r})});Mk.displayName=t$;var Ik="AlertDialogCancel",Ok=m.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,{cancelRef:i}=ZL(Ik,s),l=Jn(s),d=rt(r,i);return e.jsx(zx,{...l,...a,ref:d})});Ok.displayName=Ik;var r$=({contentRef:t})=>{const r=`\`${mi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mi}\` by passing a \`${Dk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},s$=kk,n$=Ck,a$=Pk,Fk=_k,Lk=Ek,$k=Mk,Vk=Ok,Bk=Tk,Uk=Ak;const o$=s$,i$=n$,l$=a$,zk=m.forwardRef(({className:t,...r},s)=>e.jsx(Fk,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));zk.displayName=Fk.displayName;const qk=m.forwardRef(({className:t,...r},s)=>e.jsxs(l$,{children:[e.jsx(zk,{}),e.jsx(Lk,{ref:s,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));qk.displayName=Lk.displayName;const Wk=({className:t,...r})=>e.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",t),...r});Wk.displayName="AlertDialogHeader";const Hk=({className:t,...r})=>e.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Hk.displayName="AlertDialogFooter";const Yk=m.forwardRef(({className:t,...r},s)=>e.jsx(Bk,{ref:s,className:Re("text-lg font-semibold",t),...r}));Yk.displayName=Bk.displayName;const Kk=m.forwardRef(({className:t,...r},s)=>e.jsx(Uk,{ref:s,className:Re("text-sm text-muted-foreground",t),...r}));Kk.displayName=Uk.displayName;const Gk=m.forwardRef(({className:t,...r},s)=>e.jsx($k,{ref:s,className:Re(Jl(),t),...r}));Gk.displayName=$k.displayName;const Qk=m.forwardRef(({className:t,...r},s)=>e.jsx(Vk,{ref:s,className:Re(Jl({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));Qk.displayName=Vk.displayName;const c$=({title:t,description:r,bucketName:s,folderPath:a,documents:i,onDocumentsChange:l,acceptedTypes:d=".pdf,.jpg,.jpeg,.png,.doc,.docx",maxSizeMessage:u="PDF, DOC, DOCX, JPG, PNG files up to 10MB each",className:h="",uploadButtonColor:f="primary",onUploadStart:y,onUploadComplete:x})=>{const{toast:g}=ot(),v=m.useRef(null),[j,N]=m.useState(null),[w,P]=m.useState(""),C={primary:{border:"border-primary/25 hover:border-primary/40",bg:"from-primary/5",iconBg:"bg-primary/10",iconColor:"text-primary",textColor:"text-primary hover:text-primary/80"},orange:{border:"border-orange-200 hover:border-orange-300",bg:"from-orange-50",iconBg:"bg-orange-100",iconColor:"text-orange-600",textColor:"text-orange-700 hover:text-orange-600"},blue:{border:"border-blue-200 hover:border-blue-300",bg:"from-blue-50",iconBg:"bg-blue-100",iconColor:"text-blue-600",textColor:"text-blue-700 hover:text-blue-600"}}[f],L=$=>{const R=Array.from($.target.files||[]),X=10*1024*1024,Y=["image/","video/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],O=[],I=[];if(R.forEach(W=>{if(W.size>X){I.push(`${W.name}: File size exceeds 10MB limit`);return}if(!Y.some(U=>W.type.startsWith(U))){I.push(`${W.name}: Invalid file type. Only images, videos, and documents are allowed`);return}O.push(W)}),I.length>0&&I.forEach(W=>{g({title:"Invalid File",description:W,variant:"destructive"})}),O.length===0){v.current&&(v.current.value="");return}const D=O.map(W=>({file:W,name:W.name,size:W.size,status:"pending",uploadProgress:0}));l([...i,...D]),D.forEach((W,B)=>{W.file&&q(W,i.length+B)}),v.current&&(v.current.value="")},q=async($,R)=>{var X,Y,O,I,D;if($.file){A(R,"uploading",0),y==null||y();try{console.log("Uploading file:",$.name,"Size:",$.size);const W=a.includes("registration")?"registration":a.includes("floor")?"floor_plan":"general",{data:B,error:U}=await re.uploadSingleFile($.file,W);if(U)throw console.error("Upload error:",U),new Error(U);console.log("Upload successful:",B);const J=[...i];J[R]={...$,url:B.media.url,mediaId:B.media.id,status:"completed",uploadProgress:100},l(J),g({title:"Upload Successful",description:`${$.name} has been uploaded successfully.`}),x==null||x()}catch(W){console.error("Upload error:",W);let B="Upload failed. Please try again.";(X=W==null?void 0:W.message)!=null&&X.includes("File too large")?B="File size exceeds 10MB limit. Please choose a smaller file.":(Y=W==null?void 0:W.message)!=null&&Y.includes("Invalid file type")?B="Invalid file type. Please upload images, videos, or documents only.":(O=W==null?void 0:W.message)!=null&&O.includes("Network error")||(I=W==null?void 0:W.message)!=null&&I.includes("Failed to fetch")?B="Network error. Please check your connection and try again.":(D=W==null?void 0:W.message)!=null&&D.includes("Upload service unavailable")?B="Upload service is temporarily unavailable. Please try again later.":W!=null&&W.message&&(B=W.message),A(R,"error",0,B),g({title:"Upload Failed",description:`Failed to upload ${$.name}: ${B}`,variant:"destructive"})}}},A=($,R,X,Y)=>{const O=[...i];O[$]={...O[$],status:R,uploadProgress:X,errorMessage:Y},l(O)},M=$=>{const R=i.filter((X,Y)=>Y!==$);l(R)},V=async $=>{const R=i[$];if(R.url)try{if(R.mediaId){const{error:X}=await re.deleteMedia(R.mediaId);if(X)throw X}M($),g({title:"Document Deleted",description:`${R.name} has been deleted successfully.`})}catch(X){console.error("Delete error:",X),g({title:"Delete Failed",description:`Failed to delete ${R.name}. Please try again.`,variant:"destructive"})}},k=$=>{$.url&&window.open($.url,"_blank")},T=$=>{var X;if(!$.url)return;((X=$.name)==null?void 0:X.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/))?(N($.url),P($.name)):window.open($.url,"_blank")},z=$=>{switch($){case"uploading":return e.jsx(Cr,{className:"h-4 w-4 animate-spin text-blue-600"});case"completed":return e.jsx(Ws,{className:"h-4 w-4 text-green-600"});case"error":return e.jsx(Gt,{className:"h-4 w-4 text-red-600"});default:return e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})}},E=$=>{switch($){case"uploading":return"bg-blue-50 border-blue-200";case"completed":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-background border-border"}};return e.jsxs("div",{className:`space-y-4 ${h}`,children:[e.jsxs("div",{children:[e.jsx(ne,{className:"text-sm font-medium",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r})]}),e.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 bg-gradient-to-br to-background transition-all ${C.border} ${C.bg}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-3 ${C.iconBg}`,children:e.jsx(Si,{className:`h-6 w-6 ${C.iconColor}`})}),e.jsxs("div",{children:[e.jsxs(ne,{htmlFor:`upload-${a}`,className:"cursor-pointer",children:[e.jsx("span",{className:`text-sm font-semibold transition-colors ${C.textColor}`,children:t}),e.jsx(Se,{ref:v,id:`upload-${a}`,type:"file",multiple:!0,accept:d,onChange:L,className:"sr-only"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u})]})]})}),i.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ne,{className:"text-sm font-medium",children:["Documents (",i.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:i.map(($,R)=>{var I;const Y=((I=$.name)==null?void 0:I.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/))&&($.url||$.file),O=$.url||($.file?URL.createObjectURL($.file):"");return e.jsxs("div",{className:`relative group border rounded-lg overflow-hidden ${E($.status)}`,children:[e.jsxs("div",{className:"aspect-square",children:[Y?e.jsx("img",{src:O,alt:$.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full bg-muted",children:e.jsx(xt,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex gap-1",children:[$.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(H,{type:"button",variant:"secondary",size:"sm",onClick:()=>T($),className:"w-8 h-8 p-0",children:e.jsx(Br,{className:"h-3 w-3"})}),e.jsx(H,{type:"button",variant:"secondary",size:"sm",onClick:()=>k($),className:"w-8 h-8 p-0",children:e.jsx(Ll,{className:"h-3 w-3"})})]}),$.status==="completed"?e.jsxs(o$,{children:[e.jsx(i$,{asChild:!0,children:e.jsx(H,{type:"button",variant:"destructive",size:"sm",className:"w-8 h-8 p-0",children:e.jsx(Gs,{className:"h-3 w-3"})})}),e.jsxs(qk,{children:[e.jsxs(Wk,{children:[e.jsx(Yk,{children:"Delete Document"}),e.jsxs(Kk,{children:['Are you sure you want to delete "',$.name,'"? This action cannot be undone.']})]}),e.jsxs(Hk,{children:[e.jsx(Qk,{children:"Cancel"}),e.jsx(Gk,{onClick:()=>V(R),children:"Delete"})]})]})]}):e.jsx(H,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(R),className:"w-8 h-8 p-0",children:e.jsx(Et,{className:"h-3 w-3"})})]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[z($.status),e.jsx("p",{className:"text-xs font-medium truncate flex-1",children:$.name})]}),$.size&&e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[($.size/1024/1024).toFixed(1)," MB"]}),$.status==="uploading"&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(bu,{value:$.uploadProgress||0,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uploading... ",$.uploadProgress||0,"%"]})]}),$.status==="error"&&e.jsx("p",{className:"text-xs text-red-600",children:$.errorMessage||"Upload failed"}),$.status==="completed"&&e.jsxs(xe,{variant:"outline",className:"border-green-300 text-green-700",children:[e.jsx(Ws,{className:"h-3 w-3 mr-1"}),"Uploaded"]})]})]},R)})})]}),e.jsx(Oa,{open:!!j,onOpenChange:()=>N(null),children:e.jsxs(zn,{className:"max-w-4xl max-h-[90vh] p-0",children:[e.jsx(qn,{className:"px-6 py-4",children:e.jsx(Wn,{children:w})}),e.jsx("div",{className:"px-6 pb-6",children:j&&e.jsx("img",{src:j,alt:w,className:"w-full h-auto max-h-[70vh] object-contain rounded-lg"})})]})})]})},d$=()=>{const{user:t,profile:r}=It(),[s,a]=m.useState(null),[i,l]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState(!1),[y,x]=m.useState(!0),[g,v]=m.useState([]),[j,N]=m.useState([]),[w,P]=m.useState(!1),[_,C]=m.useState(!1),L=k=>(k==null?void 0:k.id)||(k==null?void 0:k._id),q=async()=>{var k,T;if(!t){console.log("No user found, cannot fetch society data");return}try{console.log("Fetching society data for user:",t.id,"role:",t.currentRole);const{data:z,error:E}=await re.getMySocieties();console.log("Societies response data:",z);const $=(z==null?void 0:z.societies)||z||[];console.log("Societies array:",$);const R=$==null?void 0:$[0];if(E){console.error("Society fetch error:",E),co("Error",{description:"Failed to fetch society data. Please try again."});return}if(R){console.log("Setting society data:",R),console.log("Society data fields:",{name:R.name,society_type:R.society_type,total_area:R.total_area,total_flats:R.total_flats,year_built:R.year_built,contact_person_name:R.contact_person_name,contact_phone:R.contact_phone,contact_email:R.contact_email}),a(R);const X=L(R);if(console.log("Society ID for members fetch:",X),X){const{data:I,error:D}=await re.getSocietyMembers(X);D?(console.error("Members fetch error:",D),co("Warning",{description:"Failed to fetch member data. Please refresh the page."}),l([])):I&&I.members?(console.log("Members data received:",I.members),l(I.members)):(console.log("No members data found"),l([]))}else console.log("No society ID available for members fetch"),l([]);const Y=L(R);if(Y)try{const{data:I,error:D}=await re.getSocietyQueries(Y);if(D)console.error("Queries fetch error:",D),u([]);else{const W=Array.isArray(I)?I:I!=null&&I.data&&Array.isArray(I.data)?I.data:I!=null&&I.queries&&Array.isArray(I.queries)?I.queries:[];console.log("Queries data structure:",{queriesData:I,queriesArray:W}),u(W)}}catch(I){console.error("Queries fetch error:",I),u([])}const O=L(R);if(O)try{const I=Date.now(),{data:D,error:W}=await re.getSocietyDocuments(O,I);if(W){console.error("Documents fetch error:",W);const B=[];R.registration_documents&&R.registration_documents.length>0&&R.registration_documents.forEach((U,J)=>{const se=typeof U=="string"?U:U.url,ue=typeof U=="string"?U.split("/").pop()||`Society Document ${J+1}`:U.name||U.url.split("/").pop()||`Society Document ${J+1}`,ge=typeof U=="object"?U.mediaId:null,oe=typeof U=="object"?U.size:null;B.push({id:`doc_${J}`,name:ue,type:"society_document",url:se,mediaId:ge,uploadedAt:R.createdAt||new Date,size:oe})}),R.flat_plan_documents&&R.flat_plan_documents.length>0&&R.flat_plan_documents.forEach((U,J)=>{const se=typeof U=="string"?U:U.url,ue=typeof U=="string"?U.split("/").pop()||`Society Document ${B.length+J+1}`:U.name||U.url.split("/").pop()||`Society Document ${B.length+J+1}`,ge=typeof U=="object"?U.mediaId:null,oe=typeof U=="object"?U.size:null;B.push({id:`doc_${B.length+J}`,name:ue,type:"society_document",url:se,mediaId:ge,uploadedAt:R.createdAt||new Date,size:oe})}),v(B)}else{const B=Array.isArray(D)?D:D!=null&&D.data&&Array.isArray(D.data)?D.data:D!=null&&D.documents&&Array.isArray(D.documents)?D.documents:[];if(console.log("=== DOCUMENTS FETCH DEBUG ==="),console.log("Documents data from API:",D),console.log("Documents array:",B),console.log("Society registration_documents:",R.registration_documents),console.log("Society flat_plan_documents:",R.flat_plan_documents),B.length===0&&(((k=R.registration_documents)==null?void 0:k.length)>0||((T=R.flat_plan_documents)==null?void 0:T.length)>0)){const U=[];R.registration_documents&&R.registration_documents.length>0&&(console.log("Creating fallback docs from registration_documents"),R.registration_documents.forEach((J,se)=>{const ue=typeof J=="string"?J:J.url,ge=typeof J=="string"?J.split("/").pop()||`Society Document ${se+1}`:J.name||J.url.split("/").pop()||`Society Document ${se+1}`,oe=typeof J=="object"?J.mediaId:null,de=typeof J=="object"?J.size:null;console.log(`Registration doc ${se+1} URL:`,ue),U.push({id:`doc_${se}`,name:ge,type:"society_document",url:ue,mediaId:oe,uploadedAt:R.createdAt||new Date,size:de})})),R.flat_plan_documents&&R.flat_plan_documents.length>0&&R.flat_plan_documents.forEach((J,se)=>{const ue=typeof J=="string"?J:J.url,ge=typeof J=="string"?J.split("/").pop()||`Society Document ${U.length+se+1}`:J.name||J.url.split("/").pop()||`Society Document ${U.length+se+1}`,oe=typeof J=="object"?J.mediaId:null,de=typeof J=="object"?J.size:null;U.push({id:`doc_${U.length+se}`,name:ge,type:"society_document",url:ue,mediaId:oe,uploadedAt:R.createdAt||new Date,size:de})}),v(U)}else v(B)}}catch(I){console.error("Documents fetch error:",I);const D=[];R.registration_documents&&R.registration_documents.length>0&&R.registration_documents.forEach((W,B)=>{D.push({id:`doc_${B}`,name:W.split("/").pop()||`Society Document ${B+1}`,type:"society_document",url:W,uploadedAt:R.createdAt||new Date,size:null})}),R.flat_plan_documents&&R.flat_plan_documents.length>0&&R.flat_plan_documents.forEach((W,B)=>{D.push({id:`doc_${D.length+B}`,name:W.split("/").pop()||`Society Document ${D.length+B+1}`,type:"society_document",url:W,uploadedAt:R.createdAt||new Date,size:null})}),v(D)}else v([])}}catch(z){console.error("Fetch error:",z),co("Error",{description:"Failed to load dashboard data. Please refresh the page."})}finally{x(!1)}};m.useEffect(()=>{q()},[t]),m.useEffect(()=>{j.length>0&&M()},[j]);const A=async()=>{},M=async()=>{if(s&&j.length>0){const k=j.filter(z=>z.status==="completed"&&z.url),T=j.filter(z=>z.status==="uploading"||z.status==="pending");if(console.log("=== UPLOAD STATUS CHECK ==="),console.log("Total documents:",j.length),console.log("Completed uploads:",k.length),console.log("Pending uploads:",T.length),k.length>0&&T.length===0){console.log("All uploads completed, processing...");const z=k.map(E=>({url:E.url,mediaId:E.mediaId,name:E.name,size:E.size}));try{const E=L(s);if(E){const $=s.registration_documents||[],R=s.flat_plan_documents||[],Y=[...[...$,...R],...z];console.log("=== DOCUMENT UPLOAD DEBUG ==="),console.log("Society ID:",E),console.log("Current registration docs:",$),console.log("Current floor plan docs:",R),console.log("Uploaded documents:",z),console.log("Updated docs array:",Y),console.log("Society object before update:",s),z.forEach((D,W)=>{console.log(`Uploaded document ${W+1}:`,D),console.log("Document type:",typeof D),console.log("Document URL:",D.url),console.log("Document mediaId:",D.mediaId)});const O={registration_documents:Y,flat_plan_documents:[]};console.log("Sending update data:",O);const I=await re.updateSociety(E,O);if(console.log("Update result:",I),I.error)throw console.error("Update failed:",I.error),new Error(I.error);console.log("Society updated successfully"),P(!1),C(!1),N([]),await q(),co("Success",{description:"Documents uploaded successfully!"})}}catch(E){console.error("Error updating society documents:",E),co("Error",{description:"Failed to save documents. Please try again."})}}}},V=()=>{P(!0)};return y?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"}),e.jsx(Da,{className:"h-6 w-6 text-blue-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-6 text-lg font-medium",children:"Loading your society dashboard..."})]})})})]}):(console.log("Dashboard render - society:",s,"showSocietyForm:",h,"loading:",y),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-950 dark:to-indigo-950 text-gray-900 dark:text-gray-100",children:[e.jsx(Cs,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight lg:text-5xl bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 flex items-center gap-3",children:[e.jsx(Da,{className:"h-10 w-10 text-blue-500 animate-pulse"}),"Society Management Dashboard"]}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-4 animate-fade-in",children:["Welcome back, ",e.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.fullName)||(t==null?void 0:t.phone)}),"! Manage your society with confidence."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:q,disabled:y,className:"px-4 py-2 rounded-full bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm shadow-lg hover:bg-white/70 dark:hover:bg-gray-700/70 transition-all duration-300 group",children:[e.jsx(La,{className:`h-4 w-4 mr-2 group-hover:rotate-180 transition-transform duration-500 ${y?"animate-spin":""}`}),"Refresh"]}),!s&&e.jsxs(Oa,{open:h,onOpenChange:f,children:[e.jsx(Bl,{asChild:!0,children:e.jsxs(H,{onClick:()=>{console.log("Opening society form dialog"),f(!0)},className:"px-6 py-3 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group",children:[e.jsx(us,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform"}),"Create Society Profile",e.jsx(Bn,{className:"h-4 w-4 ml-2 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})}),e.jsxs(zn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(qn,{children:[e.jsx(Wn,{children:"Create Society Profile"}),e.jsx(Ul,{children:"Fill out the form below to create your society profile with all the necessary details."})]}),e.jsx(Lf,{onSuccess:()=>{f(!1),q()}})]})]})]})]}),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-blue-500/40",children:[e.jsx("div",{className:"absolute -top-8 -right-8 h-24 w-24 rounded-full bg-blue-400/20 dark:bg-blue-600/20 blur-xl animate-pulse-slow"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Total Flats"}),e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx(yt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-blue-900 dark:text-blue-100 leading-none",children:s.total_flats}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:"Residential units"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-purple-500/40",children:[e.jsx("div",{className:"absolute -top-8 -left-8 h-24 w-24 rounded-full bg-purple-400/20 dark:bg-purple-600/20 blur-xl animate-pulse-slow delay-200"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Total Blocks"}),e.jsx("div",{className:"p-2 rounded-full bg-purple-500/20 dark:bg-purple-700/30 backdrop-blur-sm",children:e.jsx(Wd,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-purple-900 dark:text-purple-100 leading-none",children:s.number_of_blocks||"N/A"}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:"Building blocks"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-green-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -left-8 h-24 w-24 rounded-full bg-green-400/20 dark:bg-green-600/20 blur-xl animate-pulse-slow delay-100"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Active Members"}),e.jsx("div",{className:"p-2 rounded-full bg-green-500/20 dark:bg-green-700/30 backdrop-blur-sm",children:e.jsx(Ct,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-green-900 dark:text-green-100 leading-none",children:i.length}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-2",children:"Society residents"})]})]}),e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 transform transition-all duration-300 hover:scale-[1.03] hover:shadow-orange-500/40",children:[e.jsx("div",{className:"absolute -bottom-8 -right-8 h-24 w-24 rounded-full bg-orange-400/20 dark:bg-orange-600/20 blur-xl animate-pulse-slow delay-300"}),e.jsxs(Q,{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Member Queries"}),e.jsx("div",{className:"p-2 rounded-full bg-orange-500/20 dark:bg-orange-700/30 backdrop-blur-sm",children:e.jsx(xt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]}),e.jsx("p",{className:"text-5xl font-extrabold text-orange-900 dark:text-orange-100 leading-none",children:d&&Array.isArray(d)?d.length:0}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-2",children:d&&Array.isArray(d)?`${d.filter(k=>k.status==="open").length} pending`:"No queries"})]})]})]}),e.jsxs(hs,{defaultValue:"society",className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-5 h-auto p-1 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 dark:from-gray-700/20 dark:to-gray-800/20 rounded-xl shadow-inner border border-gray-200 dark:border-gray-700",children:[e.jsxs(Ge,{value:"society",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-indigo-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-blue-400 dark:data-[state=active]:border-blue-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-300",children:[e.jsx(yt,{className:"h-4 w-4 mr-2"})," Society Details"]}),e.jsxs(Ge,{value:"members",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-green-400 dark:data-[state=active]:border-green-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-300",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"})," Members (",i&&Array.isArray(i)?i.length:0,")"]}),e.jsxs(Ge,{value:"documents",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-purple-400 dark:data-[state=active]:border-purple-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-300",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Documents (",g&&Array.isArray(g)?g.length:0,")"]}),e.jsxs(Ge,{value:"redevelopment",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-emerald-400 dark:data-[state=active]:border-emerald-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-300",children:[e.jsx($a,{className:"h-4 w-4 mr-2"})," Redevelopment"]}),e.jsxs(Ge,{value:"queries",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:scale-[1.02] data-[state=active]:border-orange-400 dark:data-[state=active]:border-orange-700 rounded-lg py-2 px-4 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-orange-600 dark:hover:text-orange-300",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Queries"]})]}),e.jsx(st,{value:"society",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"flex flex-col md:flex-row items-start md:items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"flex items-center gap-3 text-2xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(yt,{className:"h-7 w-7 text-blue-600 dark:text-blue-400"}),s.name]}),e.jsxs(Qe,{className:"flex items-center gap-2 mt-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Mt,{className:"h-4 w-4"}),s.address,", ",s.city,", ",s.state]})]}),e.jsxs(Oa,{children:[e.jsx(Bl,{asChild:!0,children:e.jsxs(H,{variant:"outline",className:"mt-4 md:mt-0 px-6 py-2 rounded-full text-blue-600 dark:text-blue-300 border-blue-400 dark:border-blue-600 bg-blue-50/50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-800/50 shadow-lg transition-all duration-300 group",children:[e.jsx(Ni,{className:"h-4 w-4 mr-2 group-hover:rotate-90 transition-transform"}),"Edit Society",e.jsx(Bn,{className:"h-4 w-4 ml-2 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})}),e.jsxs(zn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(qn,{children:[e.jsx(Wn,{children:"Edit Society Profile"}),e.jsx(Ul,{children:"Update your society profile information below."})]}),e.jsx(Lf,{society:s,isEditing:!0,onSuccess:q})]})]},(s==null?void 0:s._id)||(s==null?void 0:s.id)||"edit")]}),e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-4 w-4 text-blue-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Society Type"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.society_type})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wd,{className:"h-4 w-4 text-purple-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Blocks"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.number_of_blocks})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-4 w-4 text-green-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Area"})]}),e.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[s.total_area," sq ft"]})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-orange-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Year Built"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.year_built})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4 text-indigo-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Registration Date"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:new Date(s.registration_date).toLocaleDateString()})]}),e.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($a,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"FSI"})]}),e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.fsi})]})]})})]}),s.amenities&&s.amenities.length>0&&e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-green-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs(ye,{className:"flex items-center gap-3 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(_t,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),"Amenities"]})}),e.jsx(Q,{className:"p-6",children:e.jsx("div",{className:"flex flex-wrap gap-3",children:s.amenities.map((k,T)=>e.jsx(xe,{className:"px-4 py-2 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:k},T))})})]}),s.flat_variants&&s.flat_variants.length>0&&e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 dark:from-purple-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs(ye,{className:"flex items-center gap-3 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx(Wd,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),"Flat Variants"]})}),e.jsx(Q,{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.flat_variants.map((k,T)=>e.jsxs("div",{className:"p-6 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",children:[e.jsx("h4",{className:"font-semibold text-lg text-gray-800 dark:text-gray-100 mb-3",children:k.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-4 w-4 text-purple-500"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Area: ",e.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:[k.area," sq ft"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4 text-purple-500"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Bathrooms: ",e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:k.bathrooms})]})]})]})]},T))})})]})]})}),e.jsx(st,{value:"members",children:e.jsx(ML,{societyId:L(s)||""})}),e.jsx(st,{value:"documents",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(xt,{className:"h-8 w-8 text-purple-500"}),"Uploaded Documents"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and view all society documents including registration papers and floor plans"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{onClick:()=>q(),variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:w,children:[e.jsx(La,{className:`h-4 w-4 ${w?"animate-spin":""}`}),"Refresh"]}),w&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Uploading..."})]})]})]}),g&&g.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((k,T)=>e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx(ve,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(xt,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 line-clamp-2",children:k.name}),e.jsx(xe,{variant:"default",className:"mt-1 text-xs",children:"Society Document"})]})]})})}),e.jsx(Q,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Uploaded: ",new Date(k.uploadedAt).toLocaleDateString()]})]}),k.size&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Size: ",(k.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{console.log("Document URL:",k.url),console.log("Document name:",k.name),window.open(k.url,"_blank")},className:"flex-1 text-purple-600 hover:text-purple-700 border-purple-200 hover:border-purple-300",children:[e.jsx(Br,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{const z=document.createElement("a");z.href=k.url,z.download=k.name,z.click()},className:"flex-1 text-green-600 hover:text-green-700 border-green-200 hover:border-green-300",children:[e.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsx(H,{size:"sm",variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this document?"))try{const z=L(s);if(z){if(console.log("Deleting document:",k.url),k.mediaId)try{console.log("Deleting media from Cloudinary:",k.mediaId),await re.deleteMedia(k.mediaId),console.log("Media deleted from Cloudinary successfully")}catch(Y){console.warn("Failed to delete from Cloudinary, continuing with local deletion:",Y)}else k.url&&k.url.includes("localhost:5000/uploads/")&&console.log("Local file detected, will be removed from society documents only");const E=s.registration_documents||[],$=s.flat_plan_documents||[],X=[...E,...$].filter(Y=>(typeof Y=="string"?Y:Y.url)!==k.url);await re.updateSociety(z,{registration_documents:X,flat_plan_documents:[]}),await q(),co("Success",{description:"Document deleted successfully!"})}}catch(z){console.error("Error deleting document:",z),co("Error",{description:"Failed to delete document. Please try again."})}},className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:e.jsx(Gs,{className:"h-4 w-4"})})]})]})})]},k.id||T))}):e.jsx(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900",children:e.jsx(Q,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(xt,{className:"h-12 w-12 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Upload society documents to get started"})]})]})})}),_?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx(ve,{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ye,{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[e.jsx(xt,{className:"h-6 w-6 text-blue-500"}),"Upload Society Documents"]}),e.jsx(Qe,{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Upload all society-related documents including registration papers, approvals, and floor plans"})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Et,{className:"h-4 w-4"})})]})}),e.jsx(Q,{className:"p-6",children:e.jsx(c$,{title:"Society Documents",description:"Upload all society-related documents including registration certificates, building approvals, NOC documents, floor plans, and other relevant papers",bucketName:"society-documents",folderPath:`${L(s)||"unknown"}/documents`,documents:j,onDocumentsChange:N,acceptedTypes:".pdf,.jpg,.jpeg,.png,.doc,.docx,.txt,.dwg,.dxf",maxSizeMessage:"PDF, DOC, DOCX, JPG, PNG, TXT, DWG, DXF files up to 10MB each",uploadButtonColor:"primary",onUploadStart:V,onUploadComplete:A})})]}):e.jsx(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:e.jsx(Q,{className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(xt,{className:"h-12 w-12 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Upload Society Documents"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md",children:"Upload all society-related documents including registration papers, approvals, floor plans, and other relevant documents"}),e.jsxs(H,{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:[e.jsx(Si,{className:"h-4 w-4 mr-2"}),"Upload Documents"]})]})]})})})]})}),e.jsx(st,{value:"redevelopment",children:e.jsx(Nk,{societyId:L(s)||"",isOwner:!0})}),e.jsx(st,{value:"queries",children:e.jsx(YL,{societyId:L(s)||""})})]})]}):e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"text-center p-12",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(yt,{className:"h-20 w-20 text-blue-500 mx-auto animate-bounce-slow"}),e.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Da,{className:"h-3 w-3 text-yellow-800 animate-pulse"})})]}),e.jsx(ye,{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-3",children:"No Society Profile Found"}),e.jsx(Qe,{className:"text-lg text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Create your society profile to start managing members and redevelopment requirements with our comprehensive tools."})]}),e.jsx(Q,{className:"text-center p-8",children:e.jsxs(Oa,{open:h,onOpenChange:f,children:[e.jsx(Bl,{asChild:!0,children:e.jsxs(H,{size:"lg",onClick:()=>{console.log("Opening society form dialog from main content"),f(!0)},className:"px-8 py-4 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group text-lg font-semibold",children:[e.jsx(us,{className:"h-5 w-5 mr-3 group-hover:scale-110 transition-transform"}),"Create Society Profile",e.jsx(Bn,{className:"h-5 w-5 ml-3 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300"})]})}),e.jsxs(zn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(qn,{children:[e.jsx(Wn,{children:"Create Society Profile"}),e.jsx(Ul,{children:"Fill out the form below to create your society profile with all the necessary details."})]}),e.jsx(Lf,{onSuccess:()=>{f(!1),q()}})]})]})})]})]})})]}))};function fb({onInvitationAccepted:t}){const[r,s]=m.useState([]),[a,i]=m.useState(!0),[l,d]=m.useState(null),u=async()=>{i(!0);try{const{data:x,error:g}=await re.getMyInvitations();if(g){console.error("Error fetching invitations:",g),Be({title:"Error",description:"Failed to load invitations",variant:"destructive"});return}s((x==null?void 0:x.invitations)||[])}catch(x){console.error("Error fetching invitations:",x),Be({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{i(!1)}};m.useEffect(()=>{u()},[]);const h=async(x,g)=>{d(x);try{const{data:v,error:j}=await re.respondToInvitation(x,g);if(j){console.error(`Error ${g}ing invitation:`,j),j.includes("already been")?Be({title:"Already Responded",description:"You have already responded to this invitation",variant:"destructive"}):j.includes("expired")?Be({title:"Expired",description:"This invitation has expired",variant:"destructive"}):Be({title:"Error",description:j||`Failed to ${g} invitation`,variant:"destructive"});return}Be({title:g==="accept"?"Invitation Accepted":"Invitation Declined",description:(v==null?void 0:v.message)||`You have successfully ${g==="accept"?"joined the society":"declined the invitation"}`}),await u(),g==="accept"&&t&&t()}catch(v){console.error(`Error ${g}ing invitation:`,v),Be({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{d(null)}},f=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=x=>x?new Date(x)<new Date:!1;return a?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(Cr,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?e.jsx(G,{children:e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx(mr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No Pending Invitations"}),e.jsx("p",{className:"text-muted-foreground",children:"You don't have any pending society invitations at the moment"})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Society Invitations"}),e.jsxs("p",{className:"text-muted-foreground",children:["You have ",r.length," pending ",r.length===1?"invitation":"invitations"]})]}),e.jsxs(H,{variant:"outline",size:"sm",onClick:u,disabled:a,children:[e.jsx(La,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),e.jsx(hx,{className:"h-[600px]",children:e.jsx("div",{className:"space-y-4",children:r.map(x=>{var j,N,w,P;const g=y(x.expiresAt),v=((N=(j=x.society.images)==null?void 0:j.find(_=>_.isPrimary))==null?void 0:N.url)||((P=(w=x.society.images)==null?void 0:w[0])==null?void 0:P.url);return e.jsxs(G,{className:g?"opacity-60":"",children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsxs(ye,{className:"text-xl flex items-center gap-2",children:[e.jsx(yt,{className:"h-5 w-5 text-primary"}),x.society.name]}),e.jsxs(Qe,{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"h-4 w-4"}),x.society.address,", ",x.society.city,", ",x.society.state]})]}),e.jsx(xe,{variant:g?"secondary":"default",children:g?"Expired":"Pending"})]})}),v&&e.jsx("div",{className:"px-6",children:e.jsx("img",{src:v,alt:x.society.name,className:"w-full h-48 object-cover rounded-lg"})}),e.jsxs(Q,{className:"space-y-4 pt-4",children:[x.message&&e.jsxs(Zr,{children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx(es,{children:x.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Total Flats:"}),e.jsx("span",{className:"font-medium",children:x.society.totalFlats})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Invited:"}),e.jsx("span",{className:"font-medium",children:f(x.createdAt)})]})]}),x.society.amenities&&x.society.amenities.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Amenities:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.society.amenities.slice(0,5).map((_,C)=>e.jsx(xe,{variant:"outline",className:"text-xs",children:_},C)),x.society.amenities.length>5&&e.jsxs(xe,{variant:"outline",className:"text-xs",children:["+",x.society.amenities.length-5," more"]})]})]}),e.jsx(Hs,{}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Invited by: ",x.invitedBy.fullName||x.invitedBy.phone]}),e.jsxs("p",{children:["Role: ",e.jsx("span",{className:"font-medium capitalize",children:x.invitationType.replace("_"," ")})]})]}),x.expiresAt&&!g&&e.jsxs("p",{className:"text-sm text-amber-600",children:["Expires on ",f(x.expiresAt)]})]}),e.jsxs(pw,{className:"flex gap-2",children:[e.jsx(H,{className:"flex-1",onClick:()=>h(x._id,"accept"),disabled:g||l===x._id,children:l===x._id?e.jsxs(e.Fragment,{children:[e.jsx(Cr,{className:"h-4 w-4 mr-2 animate-spin"}),"Accepting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Accept"]})}),e.jsxs(H,{variant:"outline",className:"flex-1",onClick:()=>h(x._id,"reject"),disabled:g||l===x._id,children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Decline"]})]})]},x._id)})})})]})}const u$=({societyId:t,onQuerySubmitted:r})=>{const[s,a]=m.useState(""),[i,l]=m.useState("other"),[d,u]=m.useState("medium"),[h,f]=m.useState(!1),{toast:y}=ot(),x=[{value:"maintenance",label:"Maintenance"},{value:"amenities",label:"Amenities"},{value:"security",label:"Security"},{value:"billing",label:"Billing"},{value:"complaint",label:"Complaint"},{value:"suggestion",label:"Suggestion"},{value:"other",label:"Other"}],g=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],v=async j=>{if(j.preventDefault(),!s.trim()){y({title:"Error",description:"Please enter your query text",variant:"destructive"});return}if(s.trim().length>1e3){y({title:"Error",description:"Query text must be less than 1000 characters",variant:"destructive"});return}f(!0);try{const N=await re.submitQuery({societyId:t,queryText:s.trim(),category:i,priority:d});N.error?y({title:"Error",description:N.error,variant:"destructive"}):(y({title:"Success",description:"Your query has been submitted successfully"}),a(""),l("other"),u("medium"),r&&r())}catch(N){console.error("Error submitting query:",N),y({title:"Error",description:"Failed to submit query. Please try again.",variant:"destructive"})}finally{f(!1)}};return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"relative",children:[e.jsxs(ye,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx($t,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Submit a Query"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Share your concerns, suggestions, or questions with the society management"})]}),e.jsx(Q,{className:"relative",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"queryText",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Query *"}),e.jsx(Zt,{id:"queryText",value:s,onChange:j=>a(j.target.value),placeholder:"Describe your query, concern, or suggestion...",className:"min-h-[120px] resize-none border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400",maxLength:1e3}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:"Be specific and clear in your description"}),e.jsxs("span",{children:[s.length,"/1000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),e.jsxs(Xe,{value:i,onValueChange:l,children:[e.jsx(Ye,{className:"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400",children:e.jsx(Je,{placeholder:"Select category"})}),e.jsx(Ke,{children:x.map(j=>e.jsx(te,{value:j.value,children:j.label},j.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{htmlFor:"priority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Priority"}),e.jsxs(Xe,{value:d,onValueChange:u,children:[e.jsx(Ye,{className:"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400",children:e.jsx(Je,{placeholder:"Select priority"})}),e.jsx(Ke,{children:g.map(j=>e.jsx(te,{value:j.value,children:j.label},j.value))})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx(Gt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"Important:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" Your query will be visible to society management"}),e.jsx("li",{children:" You'll receive a notification when there's a response"}),e.jsx("li",{children:" Urgent queries will be prioritized for faster response"})]})]})]}),e.jsx(H,{type:"submit",disabled:h||!s.trim(),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-lg hover:shadow-blue-500/30 transition-all duration-300 group py-3",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Submitting Query..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Un,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform"}),"Submit Query"]})})]})})]})},m$=({societyId:t,refreshTrigger:r})=>{const[s,a]=m.useState([]),[i,l]=m.useState(!0),[d,u]=m.useState(null);ot();const h=async()=>{var v;try{l(!0),u(null);const j={};t&&(j.societyId=t);const N=await re.getMyQueries(j);N.error?u(N.error):a(((v=N.data)==null?void 0:v.queries)||[])}catch(j){console.error("Error fetching queries:",j),u("Failed to fetch queries")}finally{l(!1)}};m.useEffect(()=>{h()},[t,r]);const f=v=>{switch(v){case"open":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"in_progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},y=v=>{switch(v){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},x=v=>{switch(v){case"maintenance":return"";case"amenities":return"";case"security":return"";case"billing":return"";case"complaint":return"";case"suggestion":return"";default:return""}},g=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(ve,{className:"relative",children:e.jsxs(ye,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx($t,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"My Queries"]})}),e.jsx(Q,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your queries..."})]})})})]}):d?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-red-200 dark:border-red-800 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-950 dark:to-pink-950",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 to-pink-500/10 dark:from-red-900/20 dark:to-pink-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gt,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:"Error Loading Queries"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:d})]})]})})]}):s.length===0?e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-8 text-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm w-fit mx-auto mb-4",children:e.jsx($t,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"No Queries Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You haven't submitted any queries yet. Submit your first query to get started!"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 dark:from-blue-900/20 dark:to-indigo-900/20 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(ve,{className:"relative",children:[e.jsxs(ye,{className:"flex items-center gap-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500/20 dark:bg-blue-700/30 backdrop-blur-sm",children:e.jsx($t,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"My Queries (",s.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track the status of your submitted queries and responses"})]})]}),e.jsx("div",{className:"space-y-4",children:s.map(v=>{var j,N;return e.jsxs(G,{className:"relative overflow-hidden rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/5 to-blue-500/5 dark:from-gray-900/10 dark:to-blue-900/10 opacity-70 blur-3xl pointer-events-none"}),e.jsxs(Q,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:x(v.category)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 capitalize",children:v.category.replace("_"," ")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((j=v.society)==null?void 0:j.name)||"Unknown Society"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:`px-3 py-1 rounded-full text-xs font-medium ${f(v.status)}`,children:v.status.replace("_"," ")}),e.jsx(xe,{className:`px-3 py-1 rounded-full text-xs font-medium ${y(v.priority)}`,children:v.priority})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:v.queryText})}),v.response&&e.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bt,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Response"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:v.response.text}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[e.jsx(nr,{className:"h-3 w-3"}),e.jsxs("span",{children:["By ",((N=v.response.respondedBy)==null?void 0:N.name)||"Society Admin"]}),e.jsx(Jt,{className:"h-3 w-3 ml-2"}),e.jsx("span",{children:v.response.respondedAt?g(v.response.respondedAt):"Unknown"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsxs("span",{children:["Submitted ",v.createdAt?g(v.createdAt):"Unknown"]})]}),v.upvotes&&v.upvotes.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pj,{className:"h-4 w-4"}),e.jsxs("span",{children:[v.upvotes.length," upvotes"]})]})]}),v.status==="resolved"&&e.jsxs(xe,{className:"px-3 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"Resolved"]})]})]})]},v._id)})})]})},h$=()=>{const{user:t,profile:r}=It();dr();const[s,a]=m.useState(!0),[i,l]=m.useState([]),[d,u]=m.useState(null),[h,f]=m.useState([]),[y,x]=m.useState([]),[g,v]=m.useState({activeProjects:0,pendingVotes:0,totalUpdates:0,openQueries:0,approvalRate:0,participationRate:0}),[j,N]=m.useState("overview"),[w,P]=m.useState(0);m.useEffect(()=>{C(),q()},[]),m.useEffect(()=>{d&&L()},[d]),m.useEffect(()=>{_()},[h]);const _=()=>{const V=h.filter(Y=>Y.status!=="completed"&&Y.status!=="cancelled").length,k=h.filter(Y=>Y.status==="voting").length,T=h.reduce((Y,O)=>{var I;return Y+(((I=O.updates)==null?void 0:I.length)||0)},0),z=h.reduce((Y,O)=>{var I;return Y+(((I=O.queries)==null?void 0:I.filter(D=>D.status==="open").length)||0)},0),E=h.filter(Y=>{var O;return(O=Y.votingResults)==null?void 0:O.isApproved}).length,$=h.length>0?Math.round(E/h.length*100):0,R=h.filter(Y=>Y.votingResults&&Y.votingResults.votesCast>0).length,X=h.length>0?Math.round(R/h.length*100):0;v({activeProjects:V,pendingVotes:k,totalUpdates:T,openQueries:z,approvalRate:$,participationRate:X})},C=async()=>{try{a(!0),console.log("Fetching societies for user...");const V=await re.getMySocieties();if(console.log("Societies API response:",V),V.error){console.error("Error fetching societies:",V.error),Be({title:"Error",description:"Failed to fetch societies",variant:"destructive"});return}const k=V.data.societies||[];console.log("Setting societies:",k),l(k),k.length>0&&(console.log("Setting selected society:",k[0]),u(k[0]))}catch(V){console.error("Error fetching societies:",V),Be({title:"Error",description:"Failed to fetch societies",variant:"destructive"})}finally{a(!1)}},L=async()=>{if(d)try{const V=await re.getRedevelopmentProjects(`?society_id=${d._id}`);if(V.error){console.error("Error fetching projects:",V.error);return}f(V.data.projects||[])}catch(V){console.error("Error fetching projects:",V)}},q=async()=>{try{const V=await re.get("/notifications");if(V.error){console.error("Error fetching notifications:",V.error);return}x(V.data.notifications||[])}catch(V){console.error("Error fetching notifications:",V)}},A=async V=>{try{await re.post(`/notifications/${V}/read`,{}),q(),Be({title:"Success",description:"Notification marked as read"})}catch(k){console.error("Error marking notification as read:",k)}},M=V=>new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 rounded-xl w-1/3 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(V=>e.jsx(G,{className:"animate-pulse border-0 shadow-lg",children:e.jsx(Q,{className:"p-6",children:e.jsx("div",{className:"h-20 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg"})})},V))})]})})]}):i.length===0?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Society Member Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2 text-lg",children:["Welcome, ",(r==null?void 0:r.fullName)||(t==null?void 0:t.phone)]})]}),e.jsxs(hs,{defaultValue:"invitations",className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full max-w-md mx-auto grid-cols-2 h-12 bg-white shadow-md rounded-xl",children:[e.jsxs(Ge,{value:"invitations",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white",children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"Invitations"]}),e.jsxs(Ge,{value:"overview",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Overview"]})]}),e.jsx(st,{value:"invitations",children:e.jsx(fb,{})}),e.jsx(st,{value:"overview",children:e.jsx(G,{className:"border-0 shadow-2xl bg-gradient-to-br from-white to-gray-50",children:e.jsxs(Q,{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex p-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-6",children:e.jsx(yt,{className:"h-16 w-16 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"No Society Memberships"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto text-lg",children:"You are not a member of any society yet. Check your invitations to join a society and unlock amazing features!"}),e.jsxs(H,{onClick:()=>N("invitations"),className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 px-8 py-3 rounded-xl",size:"lg",children:[e.jsx(mr,{className:"h-5 w-5 mr-2"}),"Check Invitations",e.jsx(Bn,{className:"h-5 w-5 ml-2"})]})]})})})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(Cs,{}),e.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-6 sm:py-8",children:e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent flex items-center gap-2 sm:gap-3",children:[e.jsx(Da,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600"}),e.jsx("span",{className:"hidden sm:inline",children:"Member Dashboard"}),e.jsx("span",{className:"sm:hidden",children:"Dashboard"})]}),e.jsxs("p",{className:"text-gray-600 mt-3 sm:mt-4 text-base sm:text-lg",children:["Welcome back, ",e.jsx("span",{className:"font-semibold text-indigo-600",children:(r==null?void 0:r.fullName)||(t==null?void 0:t.phone)})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:i.length>1&&e.jsx("select",{value:(d==null?void 0:d._id)||"",onChange:V=>{const k=i.find(T=>T._id===V.target.value);u(k||null)},className:"px-4 py-3 border-2 border-indigo-200 rounded-xl bg-white shadow-md hover:border-indigo-400 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 font-medium",children:i.map(V=>e.jsx("option",{value:V._id,children:V.name},V._id))})})]}),d&&e.jsxs(G,{className:"border-0 shadow-2xl bg-gradient-to-br from-white to-gray-50 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl"}),e.jsx(ve,{className:"relative pb-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-500 shadow-lg",children:e.jsx(yt,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:d.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.isMember&&!d.isOwner&&e.jsxs(xe,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-md",children:[e.jsx(Vn,{className:"h-3 w-3 mr-1"}),"Active Member"]}),d.isOwner&&e.jsxs(xe,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-0 shadow-md",children:[e.jsx(yo,{className:"h-3 w-3 mr-1"}),"Society Owner"]}),d.society_type&&e.jsx(xe,{variant:"outline",className:"border-indigo-300 text-indigo-700",children:d.society_type})]})]})]})})}),e.jsx(Q,{className:"relative",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Mt,{className:"h-5 w-5 text-indigo-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Address"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-lg",children:d.address})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Mt,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Location"})]}),e.jsxs("p",{className:"font-bold text-gray-800 text-lg",children:[d.city,", ",d.state]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_t,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Flats"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-3xl",children:d.totalFlats})]})]})})]}),e.jsxs(hs,{value:j,onValueChange:N,className:"space-y-6 sm:space-y-8",children:[e.jsxs(ss,{className:"grid w-full grid-cols-3 sm:grid-cols-5 h-12 sm:h-14 bg-white shadow-lg rounded-xl sm:rounded-2xl p-1 sm:p-2",children:[e.jsxs(Ge,{value:"overview",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(PE,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Overview"})]}),e.jsxs(Ge,{value:"invitations",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(mr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Invitations"}),e.jsx("span",{className:"sm:hidden",children:"Invites"})]}),e.jsxs(Ge,{value:"redevelopment",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx(yt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Projects"}),e.jsx("span",{className:"sm:hidden",children:"Projects"})]}),e.jsxs(Ge,{value:"notifications",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 relative text-xs sm:text-sm",children:[e.jsx(Ra,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Alerts"}),e.jsx("span",{className:"sm:hidden",children:"Alerts"}),y.filter(V=>!V.isRead).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",children:y.filter(V=>!V.isRead).length})]}),e.jsxs(Ge,{value:"queries",className:"rounded-lg sm:rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs sm:text-sm",children:[e.jsx($t,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Queries"}),e.jsx("span",{className:"sm:hidden",children:"Queries"})]})]}),e.jsx(st,{value:"overview",className:"space-y-6 sm:space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(Q,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-2",children:"Active Projects"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:g.activeProjects}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Currently running"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(yt,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-orange-500 to-red-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(Q,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm font-semibold mb-2",children:"Pending Votes"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:g.pendingVotes}),e.jsx("p",{className:"text-orange-200 text-sm",children:"Action required"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Ys,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-500 to-pink-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(Q,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-2",children:"Recent Updates"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:g.totalUpdates}),e.jsx("p",{className:"text-purple-200 text-sm",children:"New announcements"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Ra,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-green-500 to-emerald-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(Q,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-semibold mb-2",children:"Approval Rate"}),e.jsxs("p",{className:"text-5xl font-bold mb-1",children:[g.approvalRate,"%"]}),e.jsx("p",{className:"text-green-200 text-sm",children:"Project success"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx($a,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-yellow-500 to-orange-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(Q,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm font-semibold mb-2",children:"Open Queries"}),e.jsx("p",{className:"text-5xl font-bold mb-1",children:g.openQueries}),e.jsx("p",{className:"text-yellow-200 text-sm",children:"Need attention"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx($t,{className:"h-10 w-10"})})]})})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white overflow-hidden relative group hover:shadow-2xl transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"}),e.jsx(Q,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-100 text-sm font-semibold mb-2",children:"Participation"}),e.jsxs("p",{className:"text-5xl font-bold mb-1",children:[g.participationRate,"%"]}),e.jsx("p",{className:"text-indigo-200 text-sm",children:"Member engagement"})]}),e.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:e.jsx(Ct,{className:"h-10 w-10"})})]})})]})]})}),e.jsx(st,{value:"invitations",children:e.jsx(fb,{})}),e.jsx(st,{value:"redevelopment",children:e.jsx(Nk,{societyId:d==null?void 0:d._id,isOwner:!1})}),e.jsx(st,{value:"notifications",className:"space-y-6",children:y.length===0?e.jsx(G,{className:"border-0 shadow-2xl bg-gradient-to-br from-white to-gray-50",children:e.jsxs(Q,{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex p-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-6",children:e.jsx(Ra,{className:"h-16 w-16 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"No Notifications"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto text-lg",children:"You're all caught up! No new notifications at the moment."})]})}):e.jsx("div",{className:"space-y-4",children:y.map(V=>e.jsx(G,{className:`border-2 ${V.isRead?"border-gray-200":"border-indigo-400 bg-gradient-to-r from-indigo-50 to-purple-50"} hover:shadow-lg transition-all duration-300 overflow-hidden group`,children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${V.isRead?"bg-gray-200":"bg-gradient-to-r from-indigo-500 to-purple-500"} group-hover:scale-110 transition-transform duration-300`,children:V.type.includes("vote")||V.type.includes("voting")?e.jsx(Ys,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):V.type.includes("update")||V.type.includes("project")?e.jsx($a,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):V.type.includes("query")||V.type.includes("message")?e.jsx($t,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):V.type.includes("invitation")?e.jsx(mr,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`}):e.jsx(Ra,{className:`h-6 w-6 ${V.isRead?"text-gray-600":"text-white"}`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-800",children:V.title}),!V.isRead&&e.jsx(xe,{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white border-0 shadow-md animate-pulse",children:"New"}),V.priority==="urgent"&&e.jsxs(xe,{className:"bg-gradient-to-r from-red-500 to-red-600 text-white border-0 shadow-md",children:[e.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Urgent"]})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:V.message}),e.jsx("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-4 w-4"}),M(V.createdAt)]})})]})})}),!V.isRead&&e.jsxs(H,{onClick:()=>A(V._id),variant:"outline",size:"sm",className:"border-2 border-indigo-200 hover:border-indigo-400 hover:bg-indigo-50 rounded-xl",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Mark Read"]})]})})},V._id))})}),e.jsx(st,{value:"queries",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(u$,{societyId:(d==null?void 0:d._id)||"",onQuerySubmitted:()=>{P(V=>V+1)}}),e.jsx(m$,{societyId:d==null?void 0:d._id,refreshTrigger:w})]})})]})]})})]})},f$=()=>{var P,_,C,L,q,A,M,V;const{id:t}=Hl(),r=dr(),[s,a]=m.useState(null),[i,l]=m.useState([]),[d,u]=m.useState(!0),[h,f]=m.useState(!1),[y,x]=m.useState("overview");m.useEffect(()=>{t&&(g(),v())},[t]);const g=async()=>{u(!0);try{console.log("Fetching society details for ID:",t);const k=await re.getSociety(t);if(console.log("Society API response:",k),k.error){console.error("Society API error:",k.error),Be({title:"Error",description:k.error,variant:"destructive"});return}console.log("Setting society data:",k.data);const T=k.data.society||k.data;if(!T){console.error("No society data found in response"),Be({title:"Error",description:"Society not found or no data available.",variant:"destructive"});return}a(T)}catch(k){console.error("Error fetching society:",k),Be({title:"Error",description:"Failed to load society details.",variant:"destructive"})}finally{u(!1)}},v=async()=>{if(t){f(!0);try{console.log("Fetching society members for ID:",t);const k=await re.getSocietyMembers(t);if(console.log("Society members API response:",k),k.error){console.error("Society members API error:",k.error);return}const T=k.data.members||k.data||[];console.log("Setting members data:",T),l(T)}catch(k){console.error("Error fetching society members:",k)}finally{f(!1)}}};if(d)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ks,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}),e.jsx(vn,{})]});if(!s)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ks,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(G,{children:e.jsxs(Q,{className:"text-center py-12",children:[e.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Society Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The society you're looking for doesn't exist or has been removed."}),e.jsxs(H,{onClick:()=>r("/"),children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})}),e.jsx(vn,{})]});const j=((_=(P=s.images)==null?void 0:P.find(k=>k.isPrimary))==null?void 0:_.url)||((L=(C=s.images)==null?void 0:C[0])==null?void 0:L.url),N=i.filter(k=>k.status==="active"),w=i.filter(k=>k.status==="pending");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(ks,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(H,{variant:"outline",onClick:()=>r(-1),className:"bg-white/80 backdrop-blur-sm border-2 border-indigo-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-300 rounded-xl px-6",children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),e.jsx("div",{className:"relative mb-16",children:j&&e.jsxs("div",{className:"relative h-[400px] md:h-[500px] rounded-2xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:j,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8 text-white",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsxs(xe,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-0 shadow-lg",children:[e.jsx(Vn,{className:"h-3 w-3 mr-1"}),s.society_type]}),e.jsxs(xe,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[e.jsx(Ct,{className:"h-3 w-3 mr-1"}),N.length," Members"]})]}),e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-lg md:text-xl mb-4",children:[e.jsx(Mt,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-200"}),e.jsxs("span",{className:"text-blue-100",children:[s.city,", ",s.state]})]}),e.jsx("p",{className:"text-blue-100 text-base md:text-lg max-w-2xl",children:s.description||"A well-maintained society with modern amenities and excellent community living."})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(_t,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.totalFlats}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Flats"})]})}),e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Ct,{className:"h-6 w-6 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:N.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"})]})}),e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx($n,{className:"h-6 w-6 text-yellow-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:((q=s.amenities)==null?void 0:q.length)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Amenities"})]})}),e.jsx(G,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:e.jsxs(Q,{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Jt,{className:"h-6 w-6 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:new Date(s.createdAt).getFullYear()}),e.jsx("p",{className:"text-sm text-gray-600",children:"Established"})]})})]})}),e.jsx("div",{className:"pt-8",children:e.jsxs(hs,{value:y,onValueChange:x,className:"space-y-6",children:[e.jsxs(ss,{className:"grid w-full grid-cols-3 h-12 md:h-14 bg-white shadow-lg rounded-2xl p-1 md:p-2",children:[e.jsxs(Ge,{value:"overview",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-indigo-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs md:text-sm",children:[e.jsx(yt,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Info"})]}),e.jsxs(Ge,{value:"members",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs md:text-sm",children:[e.jsx(Ct,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),e.jsxs("span",{className:"hidden sm:inline",children:["Members (",N.length,")"]}),e.jsxs("span",{className:"sm:hidden",children:["(",N.length,")"]})]}),e.jsxs(Ge,{value:"amenities",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-yellow-500 data-[state=active]:to-orange-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 text-xs md:text-sm",children:[e.jsx($n,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Amenities"}),e.jsx("span",{className:"sm:hidden",children:"Features"})]})]}),e.jsx(st,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-xl",children:[e.jsx(yt,{className:"h-6 w-6 text-indigo-600"}),"Society Information"]})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Mt,{className:"h-5 w-5 text-indigo-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Complete Address"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-lg",children:s.address}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.city,", ",s.state," - ",s.pincode]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_t,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Flats"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-2xl",children:s.totalFlats})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(yt,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Society Type"})]}),e.jsx(xe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:s.society_type})]})]})]}),s.description&&e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Jt,{className:"h-5 w-5 text-yellow-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Registration Date"})]}),e.jsx("p",{className:"font-bold text-gray-800",children:new Date(s.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Pr,{className:"h-6 w-6 text-green-600"}),"Contact Information"]})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(yo,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Society Owner"})]}),e.jsx("p",{className:"font-bold text-gray-800 text-lg",children:((A=s.owner)==null?void 0:A.fullName)||"Not specified"}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[e.jsx(Pr,{className:"h-4 w-4"}),(M=s.owner)==null?void 0:M.phone]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(mr,{className:"h-5 w-5 text-blue-600"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Contact Methods"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Society Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Contact the owner for inquiries and support"})]})]})]})]})]})}),e.jsx(st,{value:"members",className:"space-y-6",children:e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Ct,{className:"h-6 w-6 text-green-600"}),"Society Members (",N.length," Active)"]})}),e.jsx(Q,{children:h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ct,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-gray-500",children:"No members have been added to this society yet."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.filter(k=>k.role==="society_owner"||k.role==="secretary"||k.role==="treasurer").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Committee"})]})]}),e.jsxs("div",{className:"space-y-4",children:[N.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5 text-green-600"}),"Active Members (",N.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(k=>{var T;return e.jsx(G,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-green-50 to-emerald-50",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold text-lg",children:((T=k.fullName)==null?void 0:T.charAt(0))||k.phone.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.fullName||"Member"}),e.jsx("p",{className:"text-sm text-gray-600",children:k.flatNumber?`Flat ${k.flatNumber}`:"No flat assigned"}),k.blockNumber&&e.jsx("p",{className:"text-xs text-gray-500",children:k.blockNumber}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(xe,{className:`text-xs ${k.role==="society_owner"?"bg-gradient-to-r from-purple-500 to-pink-500":k.role==="secretary"?"bg-gradient-to-r from-blue-500 to-indigo-500":k.role==="treasurer"?"bg-gradient-to-r from-yellow-500 to-orange-500":k.role==="committee_member"?"bg-gradient-to-r from-indigo-500 to-purple-500":"bg-gradient-to-r from-green-500 to-emerald-500"} text-white border-0`,children:k.role==="society_owner"?"Owner":k.role==="committee_member"?"Committee":k.role.charAt(0).toUpperCase()+k.role.slice(1)}),k.ownershipType&&e.jsx(xe,{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white border-0 text-xs",children:k.ownershipType.charAt(0).toUpperCase()+k.ownershipType.slice(1)})]})]})]})})},k.id)})})]}),w.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5 text-yellow-600"}),"Pending Members (",w.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(k=>{var T;return e.jsx(G,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-yellow-50 to-orange-50",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center text-white font-bold text-lg",children:((T=k.fullName)==null?void 0:T.charAt(0))||k.phone.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:k.fullName||"Member"}),e.jsx("p",{className:"text-sm text-gray-600",children:k.flatNumber?`Flat ${k.flatNumber}`:"No flat assigned"}),k.blockNumber&&e.jsx("p",{className:"text-xs text-gray-500",children:k.blockNumber}),e.jsxs(xe,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 text-xs mt-1",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Pending"]})]})]})})},k.id)})})]})]})]})})]})}),e.jsx(st,{value:"amenities",className:"space-y-6",children:e.jsxs(G,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-gray-50",children:[e.jsx(ve,{children:e.jsxs(ye,{className:"flex items-center gap-2 text-xl",children:[e.jsx($n,{className:"h-6 w-6 text-yellow-600"}),"Society Amenities (",((V=s.amenities)==null?void 0:V.length)||0,")"]})}),e.jsx(Q,{children:s.amenities&&s.amenities.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.amenities.map((k,T)=>e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center",children:e.jsx($n,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"font-semibold text-gray-800",children:k})]})},T))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx($n,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Amenities Listed"}),e.jsx("p",{className:"text-gray-500",children:"Amenities information will be updated soon."})]})})]})})]})})]})}),e.jsx(vn,{})]})},p$=m.lazy(()=>s4(()=>import("./Careers-DLwZdCDB.js"),[])),x$=new __,g$=()=>e.jsx(R_,{client:x$,children:e.jsxs(U5,{children:[e.jsx(CR,{}),e.jsx(nT,{}),e.jsx(r_,{children:e.jsx(m.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:e.jsxs(K4,{children:[e.jsx(At,{path:"/",element:e.jsx(vI,{})}),e.jsx(At,{path:"/about",element:e.jsx(yI,{})}),e.jsx(At,{path:"/contact",element:e.jsx(cO,{})}),e.jsx(At,{path:"/profile",element:e.jsx(dO,{})}),e.jsx(At,{path:"/faq",element:e.jsx(MF,{})}),e.jsx(At,{path:"/properties",element:e.jsx(XI,{})}),e.jsx(At,{path:"/property/:id",element:e.jsx(tO,{})}),e.jsx(At,{path:"/projects",element:e.jsx(rO,{})}),e.jsx(At,{path:"/project/:id",element:e.jsx(nO,{})}),e.jsx(At,{path:"/societies/:id",element:e.jsx(f$,{})}),e.jsx(At,{path:"/rent",element:e.jsx(lF,{})}),e.jsx(At,{path:"/brokers",element:e.jsx(gF,{})}),e.jsx(At,{path:"/blog",element:e.jsx(aO,{})}),e.jsx(At,{path:"/post-property",element:e.jsx(oO,{})}),e.jsx(At,{path:"/edit-property/:id",element:e.jsx(iO,{})}),e.jsx(At,{path:"/submit-requirement",element:e.jsx(lO,{})}),e.jsx(At,{path:"/auth",element:e.jsx(iF,{})}),e.jsx(At,{path:"/member-registration",element:e.jsx(OF,{})}),e.jsx(At,{path:"/role-selection",element:e.jsx(K5,{})}),e.jsx(At,{path:"/careers",element:e.jsx(p$,{})}),e.jsx(At,{path:"/admin/dashboard",element:e.jsx(Jo,{requiredRole:"admin",children:e.jsx($F,{})})}),e.jsx(At,{path:"/buyer-seller/dashboard",element:e.jsx(Jo,{requiredRole:"buyer_seller",children:e.jsx(zF,{})})}),e.jsx(At,{path:"/broker/dashboard",element:e.jsx(Jo,{requiredRole:"broker",children:e.jsx(qF,{})})}),e.jsx(At,{path:"/developer/dashboard",element:e.jsx(Jo,{requiredRole:"developer",children:e.jsx(JF,{})})}),e.jsx(At,{path:"/society-owner/dashboard",element:e.jsx(Jo,{requiredRole:"society_owner",children:e.jsx(d$,{})})}),e.jsx(At,{path:"/society-member/dashboard",element:e.jsx(Jo,{requiredRole:"society_member",children:e.jsx(h$,{})})}),e.jsx(At,{path:"*",element:e.jsx(IF,{})})]})})})]})});e4.createRoot(document.getElementById("root")).render(e.jsx(W5,{children:e.jsx(g$,{})}));export{xr as B,Ht as C,Fl as D,Ad as G,Se as I,ne as L,Mt as M,Xe as S,Zt as T,Ct as U,G as a,Q as b,De as c,ve as d,ye as e,xe as f,Ol as g,H as h,Ye as i,e as j,Je as k,Ke as l,te as m,m as r,ot as u};
